;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3fdae959-6610-754f-ab9e-c19b0b8fccff")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,284508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return o}});let o=e=>{}},522016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={default:function(){return y},useLinkStatus:function(){return w}};for(var n in o)Object.defineProperty(r,n,{enumerable:!0,get:o[n]});let a=e.r(190809),l=e.r(843476),i=a._(e.r(271645)),u=e.r(195057),s=e.r(8372),c=e.r(818581),d=e.r(718967),f=e.r(405550);e.r(233525);let p=e.r(91949),g=e.r(573668),h=e.r(509396);function m(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}function y(t){var r;let o,n,a,[u,y]=(0,i.useOptimistic)(p.IDLE_LINK_STATUS),w=(0,i.useRef)(null),{href:v,as:b,children:_,prefetch:S=null,passHref:A,replace:P,shallow:E,scroll:j,onClick:F,onMouseEnter:C,onTouchStart:k,legacyBehavior:T=!1,onNavigate:O,ref:N,unstable_dynamicOnHover:K,...R}=t;o=_,T&&("string"==typeof o||"number"==typeof o)&&(o=(0,l.jsx)("a",{children:o}));let M=i.default.useContext(s.AppRouterContext),I=!1!==S,$=!1!==S?null===(r=S)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:D,as:B}=i.default.useMemo(()=>{let e=m(v);return{href:e,as:b?m(b):e}},[v,b]);if(T){if(o?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});n=i.default.Children.only(o)}let U=T?n&&"object"==typeof n&&n.ref:N,W=i.default.useCallback(e=>(null!==M&&(w.current=(0,p.mountLinkInstance)(e,D,M,$,I,y)),()=>{w.current&&((0,p.unmountLinkForCurrentNavigation)(w.current),w.current=null),(0,p.unmountPrefetchableInstance)(e)}),[I,D,M,$,y]),L={ref:(0,c.useMergedRef)(W,U),onClick(t){T||"function"!=typeof F||F(t),T&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(t),!M||t.defaultPrevented||function(t,r,o,n,a,l,u){if("undefined"!=typeof window){let s,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((s=t.currentTarget.getAttribute("target"))&&"_self"!==s||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,g.isLocalURL)(r)){a&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),u){let e=!1;if(u({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(699781);i.default.startTransition(()=>{d(o||r,a?"replace":"push",l??!0,n.current)})}}(t,D,B,w,P,j,O)},onMouseEnter(e){T||"function"!=typeof C||C(e),T&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),M&&I&&(0,p.onNavigationIntent)(e.currentTarget,!0===K)},onTouchStart:function(e){T||"function"!=typeof k||k(e),T&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),M&&I&&(0,p.onNavigationIntent)(e.currentTarget,!0===K)}};return(0,d.isAbsoluteUrl)(B)?L.href=B:T&&!A&&("a"!==n.type||"href"in n.props)||(L.href=(0,f.addBasePath)(B)),a=T?i.default.cloneElement(n,L):(0,l.jsx)("a",{...R,...L,children:o}),(0,l.jsx)(x.Provider,{value:u,children:a})}e.r(284508);let x=(0,i.createContext)(p.IDLE_LINK_STATUS),w=()=>(0,i.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},667585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let o=e.r(132061);function n({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new o.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},652157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return u}});let o=e.r(843476),n=e.r(174080),a=e.r(563599),l=e.r(309885),i=e.r(543369);function u({moduleIds:e}){if("undefined"!=typeof window)return null;let t=a.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let o=t.reactLoadableManifest;for(let t of e){if(!o[t])continue;let e=o[t].files;r.push(...e)}}if(0===r.length)return null;let u=(0,i.getDeploymentIdQueryOrEmptyString)();return(0,o.jsx)(o.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,l.encodeURIPath)(e)}${u}`;return e.endsWith(".css")?(0,o.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,n.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},869093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let o=e.r(843476),n=e.r(271645),a=e.r(667585),l=e.r(652157);function i(e){return{default:e&&"default"in e?e.default:e}}let u={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},s=function(e){let t={...u,...e},r=(0,n.lazy)(()=>t.loader().then(i)),s=t.loading;function c(e){let i=s?(0,o.jsx)(s,{isLoading:!0,pastDelay:!0,error:null}):null,u=!t.ssr||!!t.loading,c=u?n.Suspense:n.Fragment,d=t.ssr?(0,o.jsxs)(o.Fragment,{children:["undefined"==typeof window?(0,o.jsx)(l.PreloadChunks,{moduleIds:t.modules}):null,(0,o.jsx)(r,{...e})]}):(0,o.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,o.jsx)(r,{...e})});return(0,o.jsx)(c,{...u?{fallback:i}:{},children:d})}return c.displayName="LoadableComponent",c}},770703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n}});let o=e.r(555682)._(e.r(869093));function n(e,t){let r={};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,o.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},560985,e=>{"use strict";var t=e.i(843476),r=e.i(657688),o=e.i(271645);e.s(["TextInput",0,({placeholder:e,label:n,value:a,onChange:l,className:i="",rightIcon:u,rightIconFallback:s,rightText:c,rightTextOnClick:d,flat:f=!1,readOnly:p=!1,primaryStroke:g=!1,disabled:h=!1,height:m=32,rounded:y=4,onKeyDown:x,autoFocus:w=!1,showCancelButton:v=!1,onCancel:b,onBlur:_,min:S,max:A,step:P,pattern:E,disablePaste:j=!1,textAlign:F="left",type:C="text",isNumeric:k=!1,allowDecimals:T=!1})=>{let[O,N]=(0,o.useState)(a||""),K=(0,o.useRef)(a);return(0,o.useEffect)(()=>{if(a===K.current||k){if(k&&a!==K.current){let e=parseFloat(O),t=a?parseFloat(a):null;""===a||null==a?(N(""),K.current=a):(isNaN(e)||isNaN(t)||Math.abs(e-t)>1e-4)&&(N(a),K.current=a)}}else N(a||""),K.current=a},[a,k,O]),(0,t.jsxs)("div",{className:`flex flex-col w-full gap-[4px] justify-start items-start ${i}`,children:[n&&(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:n}),(0,t.jsxs)("div",{className:"relative flex w-full",children:[(0,t.jsx)("input",{type:C,value:k?O:a||"",onChange:e=>{let t=e.target.value;if(k){if(""===t||"-"===t){N(t),l?.(t);return}if(T){if(!/^-?\d*\.?\d*$/.test(t)||(t.match(/\./g)||[]).length>1)return;N(t),l?.(t)}else{if(!/^-?\d*$/.test(t))return;N(t),l?.(t)}}else N(t),l?.(t)},placeholder:e,className:`
            text-textPrimary placeholder:text-textTertiary text-[12px] leading-[16px] font-normal 
            flex flex-row w-full h-[${m}px] px-[8px] pr-[${v||u||c?"32px":"8px"}] gap-[4px] justify-start items-center ${4!==y?`rounded-[${y}px]`:"rounded-[8px] sm:rounded-[4px]"} 
            outline-none transition-colors duration-150 ease-in-out
            ${f?"bg-primaryStroke/70 hover:bg-primaryStroke/90 focus:bg-primaryStroke/100":`bg-transparent border ${g?"border-primaryStroke hover:border-primaryStroke/90 focus:border-primaryStroke/100":"border-secondaryStroke hover:border-textPrimary/10 focus:border-textPrimary/10"} hover:bg-secondaryStroke/10 focus:bg-secondaryStroke/10`}
            ${p?"cursor-not-allowed":""}
            ${h?"cursor-not-allowed":""}
            ${"center"===F?"text-center":"right"===F?"text-right":"text-left"}
          `,readOnly:p,disabled:h,onKeyDown:e=>{"Enter"===e.key&&x?.(e)},autoFocus:w,min:S,max:A,step:P,pattern:E,onBlur:()=>{if(k&&""!==O){let e=T?parseFloat(O):parseInt(O,10);if(!isNaN(e)){let t=e.toString();N(t),t!==O&&l?.(t)}}_?.()},onPaste:e=>{j&&e.preventDefault()}}),(0,t.jsxs)("div",{className:"absolute right-[2px] top-1/2 -translate-y-1/2 flex items-center",children:[v&&(k?O:a)&&(0,t.jsx)("button",{onClick:()=>{N(""),l?.(""),b?.()},className:"group flex flex-row p-[4px] w-[20px] h-[20px] pr-[6px] justify-center items-center hover:bg-primaryStroke/60 cursor-pointer rounded-[8px] sm:rounded-[4px] rounded-r-full transition-colors duration-[125ms]",children:(0,t.jsx)("i",{className:"ri-close-line text-[16px] text-textSecondary group-hover:text-textPrimary transition-colors duration-[125ms] ease-in-out"})}),(u||c)&&(0,t.jsx)("div",{className:"flex items-center justify-center pr-2",onClick:e=>{e.preventDefault(),e.stopPropagation(),d?.()},children:c?(0,t.jsx)("span",{className:`text-[12px] leading-[16px] ${d?"cursor-pointer":""}`,children:c}):u?"string"==typeof u?u.endsWith(".svg")||u.endsWith(".png")||u.endsWith(".jpg")?(0,t.jsx)(r.default,{src:u,alt:"",width:16,height:16,onError:e=>{s&&(e.currentTarget.src=s)}}):(0,t.jsx)("i",{className:u}):u:null})]})]})]})}])},750385,e=>{"use strict";var t=e.i(639372),r=e.i(265172),o=e.i(758219);let n=(0,r.atomWithStorage)("portfolioTab","spot",(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,r.atomWithStorage)("portfolioView","graph",(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0});let a=(0,r.atomWithStorage)("portfolioTimePeriod","Max",(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0}),l=(0,r.atomWithStorage)("scannerTableTab","activity",(0,o.safeSSRNoSyncStorage)()),i=(0,r.atomWithStorage)("isSolCalendar",!1,(0,o.safeSSRNoSyncStorage)(),{getOnInit:!0}),u=(0,t.atom)(new Date),s=(0,t.atom)("wallet"),c=(0,r.atomWithStorage)("balanceStateInNative",!1,(0,o.safeSSRNoSyncStorage)());e.s(["balanceStateInNativeAtom",0,c,"currentDateAtom",0,u,"isSolCalendarAtom",0,i,"portfolioLastActionAtom",0,s,"portfolioTabAtom",0,n,"portfolioTimePeriodAtom",0,a,"scannerTableTabAtom",0,l])},651422,e=>{"use strict";var t=e.i(843476),r=e.i(271645),o=e.i(657688);let n=/^https?:\/\/.+/,a=(0,r.memo)(({tokenTicker:e,src:a,alt:l,width:i,height:u,className:s,loading:c="lazy"})=>{let[d,f]=(0,r.useState)(!1),p=(0,r.useMemo)(()=>!d&&a&&(n.test(a)||a.startsWith("/images/")||a.startsWith("data:image/webp;base64,"))?["file://","C:\\"].some(e=>a.startsWith(e))?"/pfps/Question_pfp.webp":a:e&&/^[a-zA-Z]$/.test(e[0])?`/pfps/${e[0].toUpperCase()}_pfp.webp`:"/pfps/Question_pfp.webp",[d,a,e]);return(0,t.jsx)(o.default,{src:p,alt:l??"",width:i,height:u,style:{objectFit:"cover"},onError:()=>f(!0),className:s,loading:c,unoptimized:!0,priority:!1})});e.s(["default",0,a])},834938,252436,e=>{"use strict";var t=e.i(467034);let r=new Uint8Array([217,3,161,123,53,200,206,36,143,2,220,252,240,109,204,23,217,174,79,158,18,76,149,117,73,40,207,77,34,194,196,163]),o=async e=>{let o=new TextEncoder().encode(e),n=await window.crypto.subtle.importKey("raw",o,"PBKDF2",!1,["deriveBits"]),a=await window.crypto.subtle.deriveBits({name:"PBKDF2",salt:r,iterations:6e5,hash:"SHA-256"},n,256);return t.Buffer.from(a).toString("base64")};e.s(["hashPassword",0,o],834938),e.i(284795);var n=e.i(356026),a=e.i(659341);let l=new a.default("ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632550",16);async function i(e,r){for(;;){let o=r?Uint8Array.from(atob(r),e=>e.charCodeAt(0)):crypto.getRandomValues(new Uint8Array(32)),i=await window.crypto.subtle.importKey("raw",new TextEncoder().encode(e),"PBKDF2",!1,["deriveBits"]),u=await window.crypto.subtle.deriveBits({name:"PBKDF2",salt:o,iterations:6e5,hash:"SHA-256"},i,256),s=t.Buffer.from(u).toString("hex");if(new a.default(s,16).lt(l)){let e=t.Buffer.from((0,n.getPublicKey)(s)).toString("hex");return{privateKey:s,publicKey:e,clientSecret:t.Buffer.from(o).toString("base64")}}if(r)throw Error("Failed to generate API key")}}e.s(["generateApiKey",()=>i],252436)},32374,57895,e=>{"use strict";e.i(247167);var t,r,o=e.i(843476),n=e.i(271645);let a=(0,n.createContext)(null);function l({clientId:e,nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o,children:l}){let i=function(e={}){let{nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o}=e,[a,l]=(0,n.useState)(!1),i=(0,n.useRef)(r);i.current=r;let u=(0,n.useRef)(o);return u.current=o,(0,n.useEffect)(()=>{let e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;l(!0),null==(e=i.current)||e.call(i)},e.onerror=()=>{var e;l(!1),null==(e=u.current)||e.call(u)},document.body.appendChild(e),()=>{document.body.removeChild(e)}},[t]),a}({nonce:t,onScriptLoadSuccess:r,onScriptLoadError:o}),u=(0,n.useMemo)(()=>({clientId:e,scriptLoadedSuccessfully:i}),[e,i]);return n.default.createElement(a.Provider,{value:u},l)}let i={large:40,medium:32,small:20};function u({onSuccess:e,onError:t,useOneTap:r,promptMomentNotification:o,type:l="standard",theme:u="outline",size:s="large",text:c,shape:d,logo_alignment:f,width:p,locale:g,click_listener:h,containerProps:m,...y}){let x=(0,n.useRef)(null),{clientId:w,scriptLoadedSuccessfully:v}=function(){let e=(0,n.useContext)(a);if(!e)throw Error("Google OAuth components must be used within GoogleOAuthProvider");return e}(),b=(0,n.useRef)(e);b.current=e;let _=(0,n.useRef)(t);_.current=t;let S=(0,n.useRef)(o);return S.current=o,(0,n.useEffect)(()=>{var e,t,o,n,a,i,m,A,P;if(v)return null==(o=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)||o.initialize({client_id:w,callback:e=>{var t,r;if(!(null==e?void 0:e.credential))return null==(t=_.current)?void 0:t.call(_);let{credential:o,select_by:n}=e;b.current({credential:o,clientId:null!=(r=null==e?void 0:e.clientId)?r:null==e?void 0:e.client_id,select_by:n})},...y}),null==(i=null==(a=null==(n=null==window?void 0:window.google)?void 0:n.accounts)?void 0:a.id)||i.renderButton(x.current,{type:l,theme:u,size:s,text:c,shape:d,logo_alignment:f,width:p,locale:g,click_listener:h}),r&&(null==(P=null==(A=null==(m=null==window?void 0:window.google)?void 0:m.accounts)?void 0:A.id)||P.prompt(S.current)),()=>{var e,t,o;r&&(null==(o=null==(t=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:t.id)||o.cancel())}},[w,v,r,l,u,s,c,d,f,p,g]),n.default.createElement("div",{...m,ref:x,style:{height:i[s],...null==m?void 0:m.style}})}var s=e.i(862243),c=e.i(672464),d=e.i(542119),f=e.i(247317),p=e.i(268804),g=e.i(815062),h=e.i(458768);e.i(284795);var m=e.i(356026),y=e.i(657688),x=e.i(750214),w=e.i(363071),v=e.i(863568);e.s(["default",0,({onSuccess:e,loadingMessage:t="Authenticating...",successMessage:r="Authenticated",text:a="continue_with",allowRegistration:i=!0,isVerify:b=!1,forAddCredential:_=!1,allowLinking:S=!1})=>{let A="311699522805-ule1kgj57j4dq2qo8qr6ih7d0ejb6mv6.apps.googleusercontent.com",[P,E]=(0,n.useState)(null),[j,F]=(0,n.useState)(!1),C=(0,c.useSetAtom)(d.mobileAuthKeysAtom),k=(0,c.useAtomValue)(d.isAuthedAtom),T=(0,c.useAtomValue)(d.referrerAtom),O=(0,x.useAtomCallback)((0,n.useCallback)(e=>e(d.userIdAtom),[])),{isLocked:N,lock:K,unlock:R}=(0,w.default)(),M=(0,c.useSetAtom)(d.isJustSignedUpAtom),I=(0,c.useSetAtom)(d.isPhraseModalOpenAtom),$=(0,v.useTurnkeyClient)();(0,n.useEffect)(()=>{let e=(0,m.generateP256KeyPair)();E({publicKey:e.publicKeyUncompressed,privateKey:e.privateKey})},[]),(0,n.useEffect)(()=>{let e;F((e=window.navigator.userAgent.toLowerCase(),/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)))},[]);let D=P?(0,s.sha256)(P.publicKey).replace(/^0x/,""):null,B=(0,g.useOnAuth)(),U=async o=>{if(N())return h.default.error("Please wait for authentication to complete");K();try{if(k&&!b)return h.default.error("You are already signed in");if(S){if(!$)return h.default.error("Turnkey client not found");return await (0,v.isTurnkeySessionExpired)($),h.default.error("Turnkey session expired, please log out and in again")}let n=h.default.loading(t,{duration:1/0});if(!P)return void h.default.error("Failed Google OAuth: No auth keys",{toastId:n});try{if(o.credential){let{credentialBundle:t,orgId:a,userId:l,isNewUser:u}=await p.axiomApiV2.post("/google-oauth",{credential:o.credential,sessionPublicKey:P.publicKey,referrer:T,allowRegistration:i,isVerify:b,forAddCredential:_,allowLinking:S});if(S){if(!$)throw Error("Turnkey client still not found");let{userId:t}=await $.getWhoami();await $.createOauthProviders({oauthProviders:[{providerName:"Google",oidcToken:o.credential}],userId:t}),h.default.success(r,{toastId:n}),e?.();return}if(b){if(l!==O())throw Error("User ID mismatch");e?.()}else await B({type:"bundle",turnkeyCredentialBundle:t,authPrivateKey:P.privateKey},a,l,"google",e),u&&(M(!0),I(!0));h.default.success(r,{toastId:n})}else h.default.error("Failed Google OAuth: No credential provided",{toastId:n})}catch(e){h.default.error("Failed Google OAuth: "+(0,f.getErrorMessage)(e),{toastId:n})}}finally{R()}};return D?(0,o.jsx)(l,{clientId:A,nonce:D,children:(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsxs)("button",{onClick:j?()=>{if(N())return h.default.error("Please wait for google to redirect");K();try{if(!D||!P)throw Error("Failed to initialize Google login");C({publicKey:P.publicKey,privateKey:P.privateKey,allowRegistration:i,referrer:T??void 0});let e=new URLSearchParams({client_id:A,redirect_uri:`${window.location.origin}/google-oauth`,response_type:"code",scope:"email profile",nonce:D,prompt:"consent"});window.location.href=`https://accounts.google.com/o/oauth2/v2/auth?${e.toString()}`}catch(e){h.default.error("Failed Google OAuth: "+(0,f.getErrorMessage)(e))}finally{R()}}:()=>{let e=document.querySelector('.google-login [role="button"]');e&&e.click()},className:"bg-secondaryStroke hover:bg-secondaryStroke/80 flex flex-row w-full h-[32px] px-[16px] gap-[8px] justify-center items-center rounded-full transition-all duration-125",children:[(0,o.jsx)(y.default,{src:"/images/google-logo.svg",alt:"Google logo",width:16,height:16}),(0,o.jsx)("span",{className:"text-[14px] font-medium text-textPrimary",children:"Continue with Google"})]}),(0,o.jsx)("div",{className:"hidden google-login",children:(0,o.jsx)(u,{nonce:D,theme:"filled_black",shape:"pill",size:"large",text:a,useOneTap:!1,auto_select:!1,onSuccess:U})})]})}):null}],32374);var b=e.i(467034);let _=async()=>{if("phantom"in window){let e=window,t=e.phantom?.solana;if(t?.isPhantom)try{return await t.connect(),t}catch(e){h.default.error("Failed to connect to Phantom: "+(0,f.getErrorMessage)(e))}else h.default.error("Phantom is not installed")}return null};var S=e.i(651422);e.i(490156);var A=e.i(103476);class P extends Error{constructor(e,t=null){super(`${e}${t?` - error: ${t.message}`:""}`),this.originalError=t,this.name="WalletStamperError"}}(t=r||(r={})).Ethereum="ethereum",t.Solana="solana";var E=A;let j=E;for(;j&&!(j.encode&&j.decode&&j.decodeUnsafe)&&j.default;)j=j.default;var F=e.i(392576);let C=F;for(;C&&!(C.encode&&C.decode&&C.decodeUnsafe)&&C.default;)C=C.default;class k{constructor(e){this.wallet=e}async stamp(t){let o,n;try{o=await this.wallet.signMessage(t)}catch(e){throw new P("Failed to sign the message",e)}let a=this.wallet.type===r.Solana?"SIGNATURE_SCHEME_TK_API_ED25519":"SIGNATURE_SCHEME_TK_API_SECP256K1_EIP191";try{if(this.wallet.type===r.Ethereum){let{recoverPublicKey:r,hashMessage:a}=await e.A(933619),{compressRawPublicKey:l,toDerSignature:i}=await e.A(481096);n=(await r({hash:a(t),signature:o})).replace("0x","");let u=Uint8Array.from(b.Buffer.from(n,"hex"));n=b.Buffer.from(l(u)).toString("hex"),o=i(o.replace("0x",""))}else n=await this.wallet.getPublicKey()}catch(e){throw new P("Failed to recover public key",e)}return{stampHeaderName:"X-Stamp",stampHeaderValue:(function(e){let t;if(0==arguments.length)throw TypeError("1 argument required, but only 0 present.");for(t=0,e=`${e}`;t<e.length;t++)if(e.charCodeAt(t)>255)throw Error(`InvalidCharacterError: found code point greater than 255:${e.charCodeAt(t)} at position ${t}`);let r="";for(t=0;t<e.length;t+=3){let o=[void 0,void 0,void 0,void 0];o[0]=e.charCodeAt(t)>>2,o[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(o[1]|=e.charCodeAt(t+1)>>4,o[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(o[2]|=e.charCodeAt(t+2)>>6,o[3]=63&e.charCodeAt(t+2));for(let e=0;e<o.length;e++)void 0===o[e]?r+="=":r+=function(e){if(e>=0&&e<64)return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e]}(o[e])}return r})(JSON.stringify({publicKey:n,scheme:a,signature:o})).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}}}e.i(781974),e.i(658765),e.i(94007);var T=e.i(850430);e.i(258291);var O=e.i(29036);e.s(["default",0,({onSuccess:e,allowRegistration:t=!0,successMessage:a="Authenticated",isVerify:l=!1,forAddCredential:i=!1,allowLinking:u=!1})=>{let s=(0,c.useAtomValue)(d.referrerAtom),y=(0,g.useOnAuth)(),P=(0,c.useAtomValue)(d.isAuthedAtom),E=(0,c.useSetAtom)(d.isJustSignedUpAtom),j=(0,c.useSetAtom)(d.isPhraseModalOpenAtom),{isLocked:F,lock:C,unlock:N}=(0,w.default)(),K=(0,x.useAtomCallback)((0,n.useCallback)(e=>e(d.userIdAtom),[])),R=(0,v.useTurnkeyClient)(),M=async()=>{if(F())return h.default.error("Please wait for the verification to complete");C();try{if(P&&!l)return h.default.error("You are already signed in");if(u){if(!R)return h.default.error("Turnkey client not found");return await (0,v.isTurnkeySessionExpired)(R),h.default.error("Turnkey session expired, please log out and in again")}let o=h.default.loading("Continue in Phantom...",{duration:1/0}),n=await _();if(n)try{let c=n.publicKey;if(!c)throw Error("Failed to get Phantom public key");let d=c.toBase58();h.default.loading("Fetching nonce...",{toastId:o,duration:1/0});let f=await p.axiomApiV2.post("/wallet-nonce",{walletAddress:d});h.default.loading("Sign message in Phantom...",{toastId:o,duration:1/0});let g=`By signing, you agree to Axiom's Terms of Use & Privacy Policy (axiom-backend-production.up.railway.app/legal).

Nonce: ${f}`,x=new TextEncoder().encode(g),w=await n.signMessage(x,"utf8"),v=A.default.encode(w.signature);h.default.loading("Verifying signature...",{toastId:o,duration:1/0});let{orgId:_,userId:S,turnkeyUserId:P,isNewUser:F}=await p.axiomApiV2.post("/verify-wallet-v2",{walletAddress:d,signature:v,nonce:f,referrer:s,allowRegistration:t,isVerify:l,forAddCredential:i,allowLinking:u});if(u){if(!R)throw Error("Turnkey client still not found");await R.createApiKeys({apiKeys:[{apiKeyName:"Solana Wallet",publicKey:b.Buffer.from(A.default.decode(d)).toString("hex"),curveType:"API_KEY_CURVE_ED25519"}],userId:P}),h.default.success(a,{toastId:o}),e?.();return}if(l){if(S!==K())throw Error("User ID mismatch");h.default.success(a,{toastId:o}),e?.();return}let C=new k({type:r.Solana,getPublicKey:async()=>b.Buffer.from(A.default.decode(c.toBase58())).toString("hex"),signMessage:async e=>{let t=new TextEncoder().encode(e),r=await n.signMessage(t,"utf8");return b.Buffer.from(r.signature).toString("hex")}}),N=new T.TurnkeyClient({baseUrl:"https://api.turnkey.com"},C),M=(0,m.generateP256KeyPair)();h.default.loading("Sign message in Phantom...",{toastId:o,duration:1/0});let I=(0,O.createActivityPoller)({client:N,requestFn:N.createReadWriteSession,refreshIntervalMs:2e3}),$=await I({type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2",timestampMs:Date.now().toString(),organizationId:_,parameters:{apiKeyName:`Axiom Nonce: ${f}`,targetPublicKey:M.publicKeyUncompressed,userId:P,expirationSeconds:"2592000"}}),D=$.result.createReadWriteSessionResultV2?.credentialBundle;if(!D)throw Error("Failed to create read/write session");await y({type:"bundle",turnkeyCredentialBundle:D,authPrivateKey:M.privateKey},_,S,"phantom",e),F&&(E(!0),j(!0)),h.default.success(a,{toastId:o})}catch(e){h.default.error("Failed to connect: "+(0,f.getErrorMessage)(e),{toastId:o})}else{let e;e=window.navigator.userAgent.toLowerCase(),/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(e)&&h.default.warn("You must use the Phantom browser to sign in on mobile with Phantom"),h.default.error("Failed to connect to Phantom",{toastId:o})}}finally{N()}};return(0,o.jsxs)("button",{onClick:M,className:"bg-secondaryStroke flex flex-row w-full h-[32px] px-[12px] gap-[8px] justify-center items-center rounded-full hover:bg-secondaryStroke/80 transition-all duration-125 cursor-pointer",children:[(0,o.jsx)(S.default,{src:"/images/phantom-purple.svg",alt:"Phantom logo",width:16,height:16}),(0,o.jsx)("span",{className:"text-[14px] text-textPrimary",children:"Connect with Phantom"})]})}],57895)},832223,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(null==e)throw TypeError("Expected a string but received a ".concat(e));if("String"!==e.constructor.name)throw TypeError("Expected a string but received a ".concat(e.constructor.name))},t.exports=r.default,t.exports.default=r.default},951584,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=0;r<t.length;r++){var o=t[r];if(e===o||"[object RegExp]"===Object.prototype.toString.call(o)&&o.test(e))return!0}return!1},t.exports=r.default,t.exports.default=r.default},471789,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){(0,n.default)(e),"object"===a(t)?(r=t.min||0,o=t.max):(r=arguments[1],o=arguments[2]);var r,o,l=encodeURI(e).split(/%..|./).length-1;return l>=r&&(void 0===o||l<=o)};var o,n=(o=e.r(832223))&&o.__esModule?o:{default:o};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=r.default,t.exports.default=r.default},871707,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},t.exports=r.default,t.exports.default=r.default},367642,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){(0,o.default)(e),(t=(0,n.default)(t,l)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),a=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a)))&&!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var o=a(e.r(832223)),n=a(e.r(871707));function a(e){return e&&e.__esModule?e:{default:e}}var l={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};t.exports=r.default,t.exports.default=r.default},635997,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(t);var o=("object"===a(r)?r.version:arguments[1])||"";return o?"4"===o.toString()?u.test(t):"6"===o.toString()&&c.test(t):e(t,{version:4})||e(t,{version:6})};var o,n=(o=e.r(832223))&&o.__esModule?o:{default:o};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(l,"[.]){3}").concat(l),u=new RegExp("^".concat(i,"$")),s="(?:[0-9a-fA-F]{1,4})",c=RegExp("^("+"(?:".concat(s,":){7}(?:").concat(s,"|:)|")+"(?:".concat(s,":){6}(?:").concat(i,"|:").concat(s,"|:)|")+"(?:".concat(s,":){5}(?::").concat(i,"|(:").concat(s,"){1,2}|:)|")+"(?:".concat(s,":){4}(?:(:").concat(s,"){0,1}:").concat(i,"|(:").concat(s,"){1,3}|:)|")+"(?:".concat(s,":){3}(?:(:").concat(s,"){0,2}:").concat(i,"|(:").concat(s,"){1,4}|:)|")+"(?:".concat(s,":){2}(?:(:").concat(s,"){0,3}:").concat(i,"|(:").concat(s,"){1,5}|:)|")+"(?:".concat(s,":){1}(?:(:").concat(s,"){0,4}:").concat(i,"|(:").concat(s,"){1,6}|:)|")+"(?::((?::".concat(s,"){0,5}:").concat(i,"|(?::").concat(s,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");t.exports=r.default,t.exports.default=r.default},217968,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if((0,o.default)(e),(t=(0,u.default)(t,c)).require_display_name||t.allow_display_name){var r=e.match(d);if(r){var s,y,x=r[1];if(e=e.replace(x,"").replace(/(^<|>$)/g,""),x.endsWith(" ")&&(x=x.slice(0,-1)),!(!(!(y=(s=x).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(y)&&(y===s||y.split('"').length!==y.split('\\"').length))&&1))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var w=e.split("@"),v=w.pop(),b=v.toLowerCase();if(t.host_blacklist.length>0&&(0,n.default)(b,t.host_blacklist)||t.host_whitelist.length>0&&!(0,n.default)(b,t.host_whitelist))return!1;var _=w.join("@");if(t.domain_specific_validation&&("gmail.com"===b||"googlemail.com"===b)){var S=(_=_.toLowerCase()).split("+")[0];if(!(0,a.default)(S.replace(/\./g,""),{min:6,max:30}))return!1;for(var A=S.split("."),P=0;P<A.length;P++)if(!p.test(A[P]))return!1}if(!1===t.ignore_max_length&&(!(0,a.default)(_,{max:64})||!(0,a.default)(v,{max:254})))return!1;if(!(0,l.default)(v,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,i.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var E=v.slice(1,-1);if(0===E.length||!(0,i.default)(E))return!1}}if(t.blacklisted_chars&&-1!==_.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;if('"'===_[0]&&'"'===_[_.length-1])return _=_.slice(1,_.length-1),t.allow_utf8_local_part?m.test(_):g.test(_);for(var j=t.allow_utf8_local_part?h:f,F=_.split("."),C=0;C<F.length;C++)if(!j.test(F[C]))return!1;return!0};var o=s(e.r(832223)),n=s(e.r(951584)),a=s(e.r(471789)),l=s(e.r(367642)),i=s(e.r(635997)),u=s(e.r(871707));function s(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},d=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,f=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=r.default,t.exports.default=r.default}]);

//# debugId=3fdae959-6610-754f-ab9e-c19b0b8fccff
//# sourceMappingURL=536c74db0634535e.js.map