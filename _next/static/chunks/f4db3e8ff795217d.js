;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="36ca5611-99f3-0430-5ec1-a58869e1f114")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,320502,(e,t,r)=>{var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||e.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();(function(t){var r=void 0!==n&&n||"undefined"!=typeof self&&self||e.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,i,n,a=d(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),n=(i=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?i[1]:"utf-8",t.readAsText(e,n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,t){if(!(this instanceof b))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,a=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),g.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function x(e,t){if(!(this instanceof x))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var A=[301,302,303,307,308];x.redirect=function(e,t){if(-1===A.indexOf(t))throw RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,n){return new Promise(function(a,o){var l=new b(e,n);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();try{t.append(i,n)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var i="response"in d?d.response:d.responseText;setTimeout(function(){a(new x(i,r))},0)},d.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(i.blob?d.responseType="blob":i.arrayBuffer&&(d.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof c||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){p.push(s(e)),d.setRequestHeader(e,u(n.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&d.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){d.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",f),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",f)}),d.send(void 0===l._bodyInit?null:l._bodyInit)})}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=c,r.Request=b,r.Response=x),t.Headers=c,t.Request=b,t.Response=x,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=i.fetch?i:n;(r=a.fetch).default=a.fetch,r.fetch=a.fetch,r.Headers=a.Headers,r.Request=a.Request,r.Response=a.Response,t.exports=r},95187,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var i={callServer:function(){return a.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return o.findSourceMapURL}};for(var n in i)Object.defineProperty(r,n,{enumerable:!0,get:i[n]});let a=e.r(132120),o=e.r(92245),s=e.r(235326)},258291,285942,850430,29036,94007,874107,e=>{"use strict";var t,r,i=e.i(247167),n=e.i(110831);e.i(981902);let a="undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof crypto&&void 0!==crypto.subtle,o=void 0!==i.default&&null!=i.default.versions&&null!=i.default.versions.node,s=async t=>a?(await e.A(664017).then(e=>e.signWithApiKey))(t):o?(await e.A(830932).then(e=>e.signWithApiKey))(t):(await e.A(311485).then(e=>e.signWithApiKey))(t);class u{constructor(e){this.apiPublicKey=e.apiPublicKey,this.apiPrivateKey=e.apiPrivateKey}async stamp(e){let t=await s({publicKey:this.apiPublicKey,privateKey:this.apiPrivateKey,content:e}),r={publicKey:this.apiPublicKey,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:t};return{stampHeaderName:"X-Stamp",stampHeaderValue:(0,n.stringToBase64urlString)(JSON.stringify(r))}}}var l=e.i(320502);let c=l.fetch;function d(){return{apiPublicKey:f(null,"apiPublicKey"),apiPrivateKey:f(null,"apiPrivateKey"),baseUrl:f(null,"baseUrl")}}function f(e,t){if("string"!=typeof e||!e)throw Error(`"${t}" must be a non-empty string`);return e}var p=e.i(467034);function h(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let m="copy",g="convert";function b(e,t){return{required:!0,schema:e,derive:t}}function y(e){return{required:!0,schema:e}}function x(e){return{required:!1,schema:e}}let A={appid:x(m),appidExclude:x(m),credProps:x(m)};y(m),y(m),y(g),x(m),y({clientDataJSON:y(g),attestationObject:y(g),transports:b(m,e=>e.getTransports?.()||[])}),b(A,e=>e.getClientExtensionResults());let w={type:y(m),id:y(m),rawId:y(g),authenticatorAttachment:x(m),response:y({clientDataJSON:y(g),authenticatorData:y(g),signature:y(g),userHandle:y(g)}),clientExtensionResults:b(A,e=>e.getClientExtensionResults())};async function v(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,i){if(r===m)return i;if(r===g)return t(i);if(r instanceof Array)return i.map(i=>e(t,r[0],i));if(r instanceof Object){let n={};for(let[a,o]of Object.entries(r)){if(o.derive){let e=o.derive(i);void 0!==e&&(i[a]=e)}if(!(a in i)){if(o.required)throw Error(`Missing key: ${a}`);continue}if(null==i[a]){n[a]=null;continue}n[a]=e(t,o.schema,i[a])}return n}})(h,w,t),t}let S={publicKey:{timeout:3e5,userVerification:"preferred"}};async function k(e,t=S){let r=await T(e);return{...t,publicKey:{...S.publicKey,...t.publicKey,challenge:r}}}async function T(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t),i=p.Buffer.from(r).toString("hex");return new Uint8Array(p.Buffer.from(i,"utf8"))}async function E(e,t){if(!window.PublicKeyCredential)throw Error("webauthn is not supported by this browser");let r=await k(e,t),i=(await v(r)).toJSON();return JSON.stringify({authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature})}let P={},I={redirect:"follow"};async function _(e){let{uri:t,query:r={},substitution:i={},body:n={}}=e,a=R({uri:t,query:r,substitution:i}),o=JSON.stringify(n),s=await E(o,e.options);return{url:a.toString(),body:o,stamp:s}}async function N(e){let{uri:t,method:r,headers:i={},query:n={},substitution:a={},body:o={}}=e,s=R({uri:t,query:n,substitution:a}),{sealedBody:u,xStamp:l}=await C({body:o}),d=await c(s.toString(),{...I,method:r,headers:{...P,...i,"X-Stamp":l},body:u});if(!d.ok){let e;try{e=await d.json()}catch(e){throw Error(`${d.status} ${d.statusText}`)}throw new D(e)}return await d.json()}function R(e){let{uri:t,query:r,substitution:i}=e,n=function(){try{let{baseUrl:e}=d();return e}catch(t){let{baseUrl:e}={baseUrl:f(null,"baseUrl")};return e}}(),a=new URL(function(e,t){let r=e;for(let i of Object.keys(t)){let n=r.replaceAll(`{${i}}`,t[i]);O(n!==r,`Substitution error: cannot find "${i}" in URI "${e}". \`substitutionMap\`: ${JSON.stringify(t)}`),r=n}return O(!/\{.*\}/.test(r),`Substitution error: found unsubstituted components in "${r}"`),r}(t,i),n);for(let e in r){let t=r[e];if(Array.isArray(t))for(let r of t)a.searchParams.append(e,r);else a.searchParams.append(e,t??"")}return a}function O(e,t){if(!e)throw Error(t)}function B(e){return JSON.stringify(e)}async function C(e){let{body:t}=e,{apiPublicKey:r,apiPrivateKey:i}=e;r||(r=d().apiPublicKey),i||(i=d().apiPrivateKey);let a=B(t),o=await s({content:a,privateKey:i,publicKey:r}),u=B({publicKey:r,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:o});return{sealedBody:a,xStamp:(0,n.stringToBase64urlString)(u)}}class D extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}e.s(["TurnkeyRequestError",()=>D,"request",()=>N,"signedRequest",()=>_],285942);let F=e=>N({uri:"/public/v1/query/get_activity",method:"POST",body:e.body}),U=(e,t)=>_({uri:"/public/v1/query/get_activity",body:e.body,options:t}),M=e=>N({uri:"/public/v1/query/get_api_key",method:"POST",body:e.body}),L=(e,t)=>_({uri:"/public/v1/query/get_api_key",body:e.body,options:t}),q=e=>N({uri:"/public/v1/query/get_api_keys",method:"POST",body:e.body}),K=(e,t)=>_({uri:"/public/v1/query/get_api_keys",body:e.body,options:t}),W=e=>N({uri:"/public/v1/query/get_attestation",method:"POST",body:e.body}),V=(e,t)=>_({uri:"/public/v1/query/get_attestation",body:e.body,options:t}),G=e=>N({uri:"/public/v1/query/get_authenticator",method:"POST",body:e.body}),j=(e,t)=>_({uri:"/public/v1/query/get_authenticator",body:e.body,options:t}),z=e=>N({uri:"/public/v1/query/get_authenticators",method:"POST",body:e.body}),H=(e,t)=>_({uri:"/public/v1/query/get_authenticators",body:e.body,options:t}),X=e=>N({uri:"/public/v1/query/get_oauth_providers",method:"POST",body:e.body}),Q=(e,t)=>_({uri:"/public/v1/query/get_oauth_providers",body:e.body,options:t}),J=e=>N({uri:"/public/v1/query/get_organization",method:"POST",body:e.body}),Y=(e,t)=>_({uri:"/public/v1/query/get_organization",body:e.body,options:t}),Z=e=>N({uri:"/public/v1/query/get_organization_configs",method:"POST",body:e.body}),$=(e,t)=>_({uri:"/public/v1/query/get_organization_configs",body:e.body,options:t}),ee=e=>N({uri:"/public/v1/query/get_policy",method:"POST",body:e.body}),et=(e,t)=>_({uri:"/public/v1/query/get_policy",body:e.body,options:t}),er=e=>N({uri:"/public/v1/query/get_private_key",method:"POST",body:e.body}),ei=(e,t)=>_({uri:"/public/v1/query/get_private_key",body:e.body,options:t}),en=e=>N({uri:"/public/v1/query/get_user",method:"POST",body:e.body}),ea=(e,t)=>_({uri:"/public/v1/query/get_user",body:e.body,options:t}),eo=e=>N({uri:"/public/v1/query/get_wallet",method:"POST",body:e.body}),es=(e,t)=>_({uri:"/public/v1/query/get_wallet",body:e.body,options:t}),eu=e=>N({uri:"/public/v1/query/list_activities",method:"POST",body:e.body}),el=(e,t)=>_({uri:"/public/v1/query/list_activities",body:e.body,options:t}),ec=e=>N({uri:"/public/v1/query/list_policies",method:"POST",body:e.body}),ed=(e,t)=>_({uri:"/public/v1/query/list_policies",body:e.body,options:t}),ef=e=>N({uri:"/public/v1/query/list_private_key_tags",method:"POST",body:e.body}),ep=(e,t)=>_({uri:"/public/v1/query/list_private_key_tags",body:e.body,options:t}),eh=e=>N({uri:"/public/v1/query/list_private_keys",method:"POST",body:e.body}),em=(e,t)=>_({uri:"/public/v1/query/list_private_keys",body:e.body,options:t}),eg=e=>N({uri:"/public/v1/query/list_suborgs",method:"POST",body:e.body}),eb=(e,t)=>_({uri:"/public/v1/query/list_suborgs",body:e.body,options:t}),ey=e=>N({uri:"/public/v1/query/list_user_tags",method:"POST",body:e.body}),ex=(e,t)=>_({uri:"/public/v1/query/list_user_tags",body:e.body,options:t}),eA=e=>N({uri:"/public/v1/query/list_users",method:"POST",body:e.body}),ew=(e,t)=>_({uri:"/public/v1/query/list_users",body:e.body,options:t}),ev=e=>N({uri:"/public/v1/query/list_verified_suborgs",method:"POST",body:e.body}),eS=(e,t)=>_({uri:"/public/v1/query/list_verified_suborgs",body:e.body,options:t}),ek=e=>N({uri:"/public/v1/query/list_wallet_accounts",method:"POST",body:e.body}),eT=(e,t)=>_({uri:"/public/v1/query/list_wallet_accounts",body:e.body,options:t}),eE=e=>N({uri:"/public/v1/query/list_wallets",method:"POST",body:e.body}),eP=(e,t)=>_({uri:"/public/v1/query/list_wallets",body:e.body,options:t}),eI=e=>N({uri:"/public/v1/query/whoami",method:"POST",body:e.body}),e_=(e,t)=>_({uri:"/public/v1/query/whoami",body:e.body,options:t}),eN=e=>N({uri:"/public/v1/submit/approve_activity",method:"POST",body:e.body}),eR=(e,t)=>_({uri:"/public/v1/submit/approve_activity",body:e.body,options:t}),eO=e=>N({uri:"/public/v1/submit/create_api_keys",method:"POST",body:e.body}),eB=(e,t)=>_({uri:"/public/v1/submit/create_api_keys",body:e.body,options:t}),eC=e=>N({uri:"/public/v1/submit/create_api_only_users",method:"POST",body:e.body}),eD=(e,t)=>_({uri:"/public/v1/submit/create_api_only_users",body:e.body,options:t}),eF=e=>N({uri:"/public/v1/submit/create_authenticators",method:"POST",body:e.body}),eU=(e,t)=>_({uri:"/public/v1/submit/create_authenticators",body:e.body,options:t}),eM=e=>N({uri:"/public/v1/submit/create_invitations",method:"POST",body:e.body}),eL=(e,t)=>_({uri:"/public/v1/submit/create_invitations",body:e.body,options:t}),eq=e=>N({uri:"/public/v1/submit/create_oauth_providers",method:"POST",body:e.body}),eK=(e,t)=>_({uri:"/public/v1/submit/create_oauth_providers",body:e.body,options:t}),eW=e=>N({uri:"/public/v1/submit/create_policies",method:"POST",body:e.body}),eV=(e,t)=>_({uri:"/public/v1/submit/create_policies",body:e.body,options:t}),eG=e=>N({uri:"/public/v1/submit/create_policy",method:"POST",body:e.body}),ej=(e,t)=>_({uri:"/public/v1/submit/create_policy",body:e.body,options:t}),ez=e=>N({uri:"/public/v1/submit/create_private_key_tag",method:"POST",body:e.body}),eH=(e,t)=>_({uri:"/public/v1/submit/create_private_key_tag",body:e.body,options:t}),eX=e=>N({uri:"/public/v1/submit/create_private_keys",method:"POST",body:e.body}),eQ=(e,t)=>_({uri:"/public/v1/submit/create_private_keys",body:e.body,options:t}),eJ=e=>N({uri:"/public/v1/submit/create_read_only_session",method:"POST",body:e.body}),eY=(e,t)=>_({uri:"/public/v1/submit/create_read_only_session",body:e.body,options:t}),eZ=e=>N({uri:"/public/v1/submit/create_read_write_session",method:"POST",body:e.body}),e$=(e,t)=>_({uri:"/public/v1/submit/create_read_write_session",body:e.body,options:t}),e0=e=>N({uri:"/public/v1/submit/create_sub_organization",method:"POST",body:e.body}),e1=(e,t)=>_({uri:"/public/v1/submit/create_sub_organization",body:e.body,options:t}),e2=e=>N({uri:"/public/v1/submit/create_user_tag",method:"POST",body:e.body}),e4=(e,t)=>_({uri:"/public/v1/submit/create_user_tag",body:e.body,options:t}),e6=e=>N({uri:"/public/v1/submit/create_users",method:"POST",body:e.body}),e3=(e,t)=>_({uri:"/public/v1/submit/create_users",body:e.body,options:t}),e5=e=>N({uri:"/public/v1/submit/create_wallet",method:"POST",body:e.body}),e8=(e,t)=>_({uri:"/public/v1/submit/create_wallet",body:e.body,options:t}),e7=e=>N({uri:"/public/v1/submit/create_wallet_accounts",method:"POST",body:e.body}),e9=(e,t)=>_({uri:"/public/v1/submit/create_wallet_accounts",body:e.body,options:t}),te=e=>N({uri:"/public/v1/submit/delete_api_keys",method:"POST",body:e.body}),tt=(e,t)=>_({uri:"/public/v1/submit/delete_api_keys",body:e.body,options:t}),tr=e=>N({uri:"/public/v1/submit/delete_authenticators",method:"POST",body:e.body}),ti=(e,t)=>_({uri:"/public/v1/submit/delete_authenticators",body:e.body,options:t}),tn=e=>N({uri:"/public/v1/submit/delete_invitation",method:"POST",body:e.body}),ta=(e,t)=>_({uri:"/public/v1/submit/delete_invitation",body:e.body,options:t}),to=e=>N({uri:"/public/v1/submit/delete_oauth_providers",method:"POST",body:e.body}),ts=(e,t)=>_({uri:"/public/v1/submit/delete_oauth_providers",body:e.body,options:t}),tu=e=>N({uri:"/public/v1/submit/delete_policy",method:"POST",body:e.body}),tl=(e,t)=>_({uri:"/public/v1/submit/delete_policy",body:e.body,options:t}),tc=e=>N({uri:"/public/v1/submit/delete_private_key_tags",method:"POST",body:e.body}),td=(e,t)=>_({uri:"/public/v1/submit/delete_private_key_tags",body:e.body,options:t}),tf=e=>N({uri:"/public/v1/submit/delete_private_keys",method:"POST",body:e.body}),tp=(e,t)=>_({uri:"/public/v1/submit/delete_private_keys",body:e.body,options:t}),th=e=>N({uri:"/public/v1/submit/delete_sub_organization",method:"POST",body:e.body}),tm=(e,t)=>_({uri:"/public/v1/submit/delete_sub_organization",body:e.body,options:t}),tg=e=>N({uri:"/public/v1/submit/delete_user_tags",method:"POST",body:e.body}),tb=(e,t)=>_({uri:"/public/v1/submit/delete_user_tags",body:e.body,options:t}),ty=e=>N({uri:"/public/v1/submit/delete_users",method:"POST",body:e.body}),tx=(e,t)=>_({uri:"/public/v1/submit/delete_users",body:e.body,options:t}),tA=e=>N({uri:"/public/v1/submit/delete_wallets",method:"POST",body:e.body}),tw=(e,t)=>_({uri:"/public/v1/submit/delete_wallets",body:e.body,options:t}),tv=e=>N({uri:"/public/v1/submit/email_auth",method:"POST",body:e.body}),tS=(e,t)=>_({uri:"/public/v1/submit/email_auth",body:e.body,options:t}),tk=e=>N({uri:"/public/v1/submit/export_private_key",method:"POST",body:e.body}),tT=(e,t)=>_({uri:"/public/v1/submit/export_private_key",body:e.body,options:t}),tE=e=>N({uri:"/public/v1/submit/export_wallet",method:"POST",body:e.body}),tP=(e,t)=>_({uri:"/public/v1/submit/export_wallet",body:e.body,options:t}),tI=e=>N({uri:"/public/v1/submit/export_wallet_account",method:"POST",body:e.body}),t_=(e,t)=>_({uri:"/public/v1/submit/export_wallet_account",body:e.body,options:t}),tN=e=>N({uri:"/public/v1/submit/import_private_key",method:"POST",body:e.body}),tR=(e,t)=>_({uri:"/public/v1/submit/import_private_key",body:e.body,options:t}),tO=e=>N({uri:"/public/v1/submit/import_wallet",method:"POST",body:e.body}),tB=(e,t)=>_({uri:"/public/v1/submit/import_wallet",body:e.body,options:t}),tC=e=>N({uri:"/public/v1/submit/init_import_private_key",method:"POST",body:e.body}),tD=(e,t)=>_({uri:"/public/v1/submit/init_import_private_key",body:e.body,options:t}),tF=e=>N({uri:"/public/v1/submit/init_import_wallet",method:"POST",body:e.body}),tU=(e,t)=>_({uri:"/public/v1/submit/init_import_wallet",body:e.body,options:t}),tM=e=>N({uri:"/public/v1/submit/init_otp_auth",method:"POST",body:e.body}),tL=(e,t)=>_({uri:"/public/v1/submit/init_otp_auth",body:e.body,options:t}),tq=e=>N({uri:"/public/v1/submit/init_user_email_recovery",method:"POST",body:e.body}),tK=(e,t)=>_({uri:"/public/v1/submit/init_user_email_recovery",body:e.body,options:t}),tW=e=>N({uri:"/public/v1/submit/oauth",method:"POST",body:e.body}),tV=(e,t)=>_({uri:"/public/v1/submit/oauth",body:e.body,options:t}),tG=e=>N({uri:"/public/v1/submit/otp_auth",method:"POST",body:e.body}),tj=(e,t)=>_({uri:"/public/v1/submit/otp_auth",body:e.body,options:t}),tz=e=>N({uri:"/public/v1/submit/recover_user",method:"POST",body:e.body}),tH=(e,t)=>_({uri:"/public/v1/submit/recover_user",body:e.body,options:t}),tX=e=>N({uri:"/public/v1/submit/reject_activity",method:"POST",body:e.body}),tQ=(e,t)=>_({uri:"/public/v1/submit/reject_activity",body:e.body,options:t}),tJ=e=>N({uri:"/public/v1/submit/remove_organization_feature",method:"POST",body:e.body}),tY=(e,t)=>_({uri:"/public/v1/submit/remove_organization_feature",body:e.body,options:t}),tZ=e=>N({uri:"/public/v1/submit/set_organization_feature",method:"POST",body:e.body}),t$=(e,t)=>_({uri:"/public/v1/submit/set_organization_feature",body:e.body,options:t}),t0=e=>N({uri:"/public/v1/submit/sign_raw_payload",method:"POST",body:e.body}),t1=(e,t)=>_({uri:"/public/v1/submit/sign_raw_payload",body:e.body,options:t}),t2=e=>N({uri:"/public/v1/submit/sign_raw_payloads",method:"POST",body:e.body}),t4=(e,t)=>_({uri:"/public/v1/submit/sign_raw_payloads",body:e.body,options:t}),t6=e=>N({uri:"/public/v1/submit/sign_transaction",method:"POST",body:e.body}),t3=(e,t)=>_({uri:"/public/v1/submit/sign_transaction",body:e.body,options:t}),t5=e=>N({uri:"/public/v1/submit/update_policy",method:"POST",body:e.body}),t8=(e,t)=>_({uri:"/public/v1/submit/update_policy",body:e.body,options:t}),t7=e=>N({uri:"/public/v1/submit/update_private_key_tag",method:"POST",body:e.body}),t9=(e,t)=>_({uri:"/public/v1/submit/update_private_key_tag",body:e.body,options:t}),re=e=>N({uri:"/public/v1/submit/update_root_quorum",method:"POST",body:e.body}),rt=(e,t)=>_({uri:"/public/v1/submit/update_root_quorum",body:e.body,options:t}),rr=e=>N({uri:"/public/v1/submit/update_user",method:"POST",body:e.body}),ri=(e,t)=>_({uri:"/public/v1/submit/update_user",body:e.body,options:t}),rn=e=>N({uri:"/public/v1/submit/update_user_tag",method:"POST",body:e.body}),ra=(e,t)=>_({uri:"/public/v1/submit/update_user_tag",body:e.body,options:t}),ro=()=>N({uri:"/tkhq/api/v1/noop-codegen-anchor",method:"POST"}),rs=()=>_({uri:"/tkhq/api/v1/noop-codegen-anchor"});e.s(["approveActivity",()=>eN,"createApiKeys",()=>eO,"createApiOnlyUsers",()=>eC,"createAuthenticators",()=>eF,"createInvitations",()=>eM,"createOauthProviders",()=>eq,"createPolicies",()=>eW,"createPolicy",()=>eG,"createPrivateKeyTag",()=>ez,"createPrivateKeys",()=>eX,"createReadOnlySession",()=>eJ,"createReadWriteSession",()=>eZ,"createSubOrganization",()=>e0,"createUserTag",()=>e2,"createUsers",()=>e6,"createWallet",()=>e5,"createWalletAccounts",()=>e7,"deleteApiKeys",()=>te,"deleteAuthenticators",()=>tr,"deleteInvitation",()=>tn,"deleteOauthProviders",()=>to,"deletePolicy",()=>tu,"deletePrivateKeyTags",()=>tc,"deletePrivateKeys",()=>tf,"deleteSubOrganization",()=>th,"deleteUserTags",()=>tg,"deleteUsers",()=>ty,"deleteWallets",()=>tA,"emailAuth",()=>tv,"exportPrivateKey",()=>tk,"exportWallet",()=>tE,"exportWalletAccount",()=>tI,"getActivities",()=>eu,"getActivity",()=>F,"getApiKey",()=>M,"getApiKeys",()=>q,"getAttestationDocument",()=>W,"getAuthenticator",()=>G,"getAuthenticators",()=>z,"getOauthProviders",()=>X,"getOrganization",()=>J,"getOrganizationConfigs",()=>Z,"getPolicies",()=>ec,"getPolicy",()=>ee,"getPrivateKey",()=>er,"getPrivateKeys",()=>eh,"getSubOrgIds",()=>eg,"getUser",()=>en,"getUsers",()=>eA,"getVerifiedSubOrgIds",()=>ev,"getWallet",()=>eo,"getWalletAccounts",()=>ek,"getWallets",()=>eE,"getWhoami",()=>eI,"importPrivateKey",()=>tN,"importWallet",()=>tO,"initImportPrivateKey",()=>tC,"initImportWallet",()=>tF,"initOtpAuth",()=>tM,"initUserEmailRecovery",()=>tq,"listPrivateKeyTags",()=>ef,"listUserTags",()=>ey,"nOOPCodegenAnchor",()=>ro,"oauth",()=>tW,"otpAuth",()=>tG,"recoverUser",()=>tz,"rejectActivity",()=>tX,"removeOrganizationFeature",()=>tJ,"setOrganizationFeature",()=>tZ,"signApproveActivity",()=>eR,"signCreateApiKeys",()=>eB,"signCreateApiOnlyUsers",()=>eD,"signCreateAuthenticators",()=>eU,"signCreateInvitations",()=>eL,"signCreateOauthProviders",()=>eK,"signCreatePolicies",()=>eV,"signCreatePolicy",()=>ej,"signCreatePrivateKeyTag",()=>eH,"signCreatePrivateKeys",()=>eQ,"signCreateReadOnlySession",()=>eY,"signCreateReadWriteSession",()=>e$,"signCreateSubOrganization",()=>e1,"signCreateUserTag",()=>e4,"signCreateUsers",()=>e3,"signCreateWallet",()=>e8,"signCreateWalletAccounts",()=>e9,"signDeleteApiKeys",()=>tt,"signDeleteAuthenticators",()=>ti,"signDeleteInvitation",()=>ta,"signDeleteOauthProviders",()=>ts,"signDeletePolicy",()=>tl,"signDeletePrivateKeyTags",()=>td,"signDeletePrivateKeys",()=>tp,"signDeleteSubOrganization",()=>tm,"signDeleteUserTags",()=>tb,"signDeleteUsers",()=>tx,"signDeleteWallets",()=>tw,"signEmailAuth",()=>tS,"signExportPrivateKey",()=>tT,"signExportWallet",()=>tP,"signExportWalletAccount",()=>t_,"signGetActivities",()=>el,"signGetActivity",()=>U,"signGetApiKey",()=>L,"signGetApiKeys",()=>K,"signGetAttestationDocument",()=>V,"signGetAuthenticator",()=>j,"signGetAuthenticators",()=>H,"signGetOauthProviders",()=>Q,"signGetOrganization",()=>Y,"signGetOrganizationConfigs",()=>$,"signGetPolicies",()=>ed,"signGetPolicy",()=>et,"signGetPrivateKey",()=>ei,"signGetPrivateKeys",()=>em,"signGetSubOrgIds",()=>eb,"signGetUser",()=>ea,"signGetUsers",()=>ew,"signGetVerifiedSubOrgIds",()=>eS,"signGetWallet",()=>es,"signGetWalletAccounts",()=>eT,"signGetWallets",()=>eP,"signGetWhoami",()=>e_,"signImportPrivateKey",()=>tR,"signImportWallet",()=>tB,"signInitImportPrivateKey",()=>tD,"signInitImportWallet",()=>tU,"signInitOtpAuth",()=>tL,"signInitUserEmailRecovery",()=>tK,"signListPrivateKeyTags",()=>ep,"signListUserTags",()=>ex,"signNOOPCodegenAnchor",()=>rs,"signOauth",()=>tV,"signOtpAuth",()=>tj,"signRawPayload",()=>t0,"signRawPayloads",()=>t2,"signRecoverUser",()=>tH,"signRejectActivity",()=>tQ,"signRemoveOrganizationFeature",()=>tY,"signSetOrganizationFeature",()=>t$,"signSignRawPayload",()=>t1,"signSignRawPayloads",()=>t4,"signSignTransaction",()=>t3,"signTransaction",()=>t6,"signUpdatePolicy",()=>t8,"signUpdatePrivateKeyTag",()=>t9,"signUpdateRootQuorum",()=>rt,"signUpdateUser",()=>ri,"signUpdateUserTag",()=>ra,"updatePolicy",()=>t5,"updatePrivateKeyTag",()=>t7,"updateRootQuorum",()=>re,"updateUser",()=>rr,"updateUserTag",()=>rn],537897),e.i(537897);class ru{constructor(e,t){if(this.getActivity=async e=>this.request("/public/v1/query/get_activity",e),this.stampGetActivity=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",e),this.stampGetApiKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKeys=async e=>this.request("/public/v1/query/get_api_keys",e),this.stampGetApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",e),this.stampGetAttestationDocument=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",e),this.stampGetAuthenticator=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",e),this.stampGetAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",e),this.stampGetOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganization=async e=>this.request("/public/v1/query/get_organization",e),this.stampGetOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",e),this.stampGetOrganizationConfigs=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",e),this.stampGetPolicy=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",e),this.stampGetPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",e),this.stampGetUser=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",e),this.stampGetWallet=async e=>{let t=this.config.baseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getActivities=async e=>this.request("/public/v1/query/list_activities",e),this.stampGetActivities=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicies=async e=>this.request("/public/v1/query/list_policies",e),this.stampGetPolicies=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",e),this.stampListPrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKeys=async e=>this.request("/public/v1/query/list_private_keys",e),this.stampGetPrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getSubOrgIds=async e=>this.request("/public/v1/query/list_suborgs",e),this.stampGetSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listUserTags=async e=>this.request("/public/v1/query/list_user_tags",e),this.stampListUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUsers=async e=>this.request("/public/v1/query/list_users",e),this.stampGetUsers=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",e),this.stampGetVerifiedSubOrgIds=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",e),this.stampGetWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallets=async e=>this.request("/public/v1/query/list_wallets",e),this.stampGetWallets=async e=>{let t=this.config.baseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWhoami=async e=>this.request("/public/v1/query/whoami",e),this.stampGetWhoami=async e=>{let t=this.config.baseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.approveActivity=async e=>this.request("/public/v1/submit/approve_activity",e),this.stampApproveActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiKeys=async e=>this.request("/public/v1/submit/create_api_keys",e),this.stampCreateApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiOnlyUsers=async e=>this.request("/public/v1/submit/create_api_only_users",e),this.stampCreateApiOnlyUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createAuthenticators=async e=>this.request("/public/v1/submit/create_authenticators",e),this.stampCreateAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createInvitations=async e=>this.request("/public/v1/submit/create_invitations",e),this.stampCreateInvitations=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createOauthProviders=async e=>this.request("/public/v1/submit/create_oauth_providers",e),this.stampCreateOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicies=async e=>this.request("/public/v1/submit/create_policies",e),this.stampCreatePolicies=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicy=async e=>this.request("/public/v1/submit/create_policy",e),this.stampCreatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeyTag=async e=>this.request("/public/v1/submit/create_private_key_tag",e),this.stampCreatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeys=async e=>this.request("/public/v1/submit/create_private_keys",e),this.stampCreatePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadOnlySession=async e=>this.request("/public/v1/submit/create_read_only_session",e),this.stampCreateReadOnlySession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadWriteSession=async e=>this.request("/public/v1/submit/create_read_write_session",e),this.stampCreateReadWriteSession=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createSubOrganization=async e=>this.request("/public/v1/submit/create_sub_organization",e),this.stampCreateSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUserTag=async e=>this.request("/public/v1/submit/create_user_tag",e),this.stampCreateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUsers=async e=>this.request("/public/v1/submit/create_users",e),this.stampCreateUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWallet=async e=>this.request("/public/v1/submit/create_wallet",e),this.stampCreateWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWalletAccounts=async e=>this.request("/public/v1/submit/create_wallet_accounts",e),this.stampCreateWalletAccounts=async e=>{let t=this.config.baseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteApiKeys=async e=>this.request("/public/v1/submit/delete_api_keys",e),this.stampDeleteApiKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteAuthenticators=async e=>this.request("/public/v1/submit/delete_authenticators",e),this.stampDeleteAuthenticators=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteInvitation=async e=>this.request("/public/v1/submit/delete_invitation",e),this.stampDeleteInvitation=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteOauthProviders=async e=>this.request("/public/v1/submit/delete_oauth_providers",e),this.stampDeleteOauthProviders=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePolicy=async e=>this.request("/public/v1/submit/delete_policy",e),this.stampDeletePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeyTags=async e=>this.request("/public/v1/submit/delete_private_key_tags",e),this.stampDeletePrivateKeyTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeys=async e=>this.request("/public/v1/submit/delete_private_keys",e),this.stampDeletePrivateKeys=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteSubOrganization=async e=>this.request("/public/v1/submit/delete_sub_organization",e),this.stampDeleteSubOrganization=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUserTags=async e=>this.request("/public/v1/submit/delete_user_tags",e),this.stampDeleteUserTags=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUsers=async e=>this.request("/public/v1/submit/delete_users",e),this.stampDeleteUsers=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteWallets=async e=>this.request("/public/v1/submit/delete_wallets",e),this.stampDeleteWallets=async e=>{let t=this.config.baseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.emailAuth=async e=>this.request("/public/v1/submit/email_auth",e),this.stampEmailAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportPrivateKey=async e=>this.request("/public/v1/submit/export_private_key",e),this.stampExportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWallet=async e=>this.request("/public/v1/submit/export_wallet",e),this.stampExportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWalletAccount=async e=>this.request("/public/v1/submit/export_wallet_account",e),this.stampExportWalletAccount=async e=>{let t=this.config.baseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importPrivateKey=async e=>this.request("/public/v1/submit/import_private_key",e),this.stampImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importWallet=async e=>this.request("/public/v1/submit/import_wallet",e),this.stampImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportPrivateKey=async e=>this.request("/public/v1/submit/init_import_private_key",e),this.stampInitImportPrivateKey=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportWallet=async e=>this.request("/public/v1/submit/init_import_wallet",e),this.stampInitImportWallet=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initOtpAuth=async e=>this.request("/public/v1/submit/init_otp_auth",e),this.stampInitOtpAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initUserEmailRecovery=async e=>this.request("/public/v1/submit/init_user_email_recovery",e),this.stampInitUserEmailRecovery=async e=>{let t=this.config.baseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.oauth=async e=>this.request("/public/v1/submit/oauth",e),this.stampOauth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.otpAuth=async e=>this.request("/public/v1/submit/otp_auth",e),this.stampOtpAuth=async e=>{let t=this.config.baseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.recoverUser=async e=>this.request("/public/v1/submit/recover_user",e),this.stampRecoverUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.rejectActivity=async e=>this.request("/public/v1/submit/reject_activity",e),this.stampRejectActivity=async e=>{let t=this.config.baseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.removeOrganizationFeature=async e=>this.request("/public/v1/submit/remove_organization_feature",e),this.stampRemoveOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.setOrganizationFeature=async e=>this.request("/public/v1/submit/set_organization_feature",e),this.stampSetOrganizationFeature=async e=>{let t=this.config.baseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayload=async e=>this.request("/public/v1/submit/sign_raw_payload",e),this.stampSignRawPayload=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayloads=async e=>this.request("/public/v1/submit/sign_raw_payloads",e),this.stampSignRawPayloads=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signTransaction=async e=>this.request("/public/v1/submit/sign_transaction",e),this.stampSignTransaction=async e=>{let t=this.config.baseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePolicy=async e=>this.request("/public/v1/submit/update_policy",e),this.stampUpdatePolicy=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePrivateKeyTag=async e=>this.request("/public/v1/submit/update_private_key_tag",e),this.stampUpdatePrivateKeyTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateRootQuorum=async e=>this.request("/public/v1/submit/update_root_quorum",e),this.stampUpdateRootQuorum=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUser=async e=>this.request("/public/v1/submit/update_user",e),this.stampUpdateUser=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUserTag=async e=>this.request("/public/v1/submit/update_user_tag",e),this.stampUpdateUserTag=async e=>{let t=this.config.baseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),i=await this.stamper.stamp(r);return{body:r,stamp:i,url:t}},!e.baseUrl)throw Error("Missing base URL. Please verify env vars.");this.config=e,this.stamper=t}async request(e,t){let r=this.config.baseUrl+e,i=JSON.stringify(t),n=await this.stamper.stamp(i),a=await c(r,{method:"POST",headers:{[n.stampHeaderName]:n.stampHeaderValue,"X-Client-Version":"@turnkey/http@2.17.3"},body:i,redirect:"follow"});if(!a.ok){let e;try{e=await a.json()}catch(e){throw Error(`${a.status} ${a.statusText}`)}throw new D(e)}return await a.json()}}e.s(["TurnkeyClient",()=>ru],850430);class rl extends Error{constructor(e){const{message:t,cause:r,activityId:i,activityStatus:n,activityType:a}=e;super(t),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=n??void 0,this.activityType=a??void 0,this.cause=r??void 0}}let rc=["ACTIVITY_STATUS_COMPLETED","ACTIVITY_STATUS_FAILED","ACTIVITY_STATUS_REJECTED"];function rd(e){let{client:t,requestFn:r,refreshIntervalMs:i=500}=e;return async e=>{let n=(await r(e)).activity;for(;;){switch(n.status){case"ACTIVITY_STATUS_COMPLETED":return n;case"ACTIVITY_STATUS_CREATED":case"ACTIVITY_STATUS_PENDING":break;case"ACTIVITY_STATUS_CONSENSUS_NEEDED":throw new rl({message:`Consensus needed for activity ${n.id}`,activityId:n.id,activityStatus:n.status,activityType:n.type});case"ACTIVITY_STATUS_FAILED":throw new rl({message:`Activity ${n.id} failed`,activityId:n.id,activityStatus:n.status,activityType:n.type});case"ACTIVITY_STATUS_REJECTED":throw new rl({message:`Activity ${n.id} was rejected`,activityId:n.id,activityStatus:n.status,activityType:n.type});default:var a=n.status;throw Error(`Unexpected case: ${JSON.stringify(a)}`)}await function(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}(i),n=(await t.getActivity({activityId:n.id,organizationId:n.organizationId})).activity}}}e.s(["createActivityPoller",()=>rd],29036),e.s([],94007),(t=r||(r={}))[t.Get=0]="Get",t[t.List=1]="List",t[t.Command=2]="Command";class rf extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}class rp{constructor(e){this.getActivity=async e=>this.request("/public/v1/query/get_activity",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_activity",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKey=async e=>this.request("/public/v1/query/get_api_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getApiKeys=async(e={})=>this.request("/public/v1/query/get_api_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_api_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAttestationDocument=async e=>this.request("/public/v1/query/get_attestation",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAttestationDocument=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_attestation",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticator=async e=>this.request("/public/v1/query/get_authenticator",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticator=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticator",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getAuthenticators=async e=>this.request("/public/v1/query/get_authenticators",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_authenticators",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOauthProviders=async e=>this.request("/public/v1/query/get_oauth_providers",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_oauth_providers",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganization=async(e={})=>this.request("/public/v1/query/get_organization",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getOrganizationConfigs=async e=>this.request("/public/v1/query/get_organization_configs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetOrganizationConfigs=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_organization_configs",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicy=async e=>this.request("/public/v1/query/get_policy",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKey=async e=>this.request("/public/v1/query/get_private_key",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUser=async e=>this.request("/public/v1/query/get_user",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_user",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallet=async e=>this.request("/public/v1/query/get_wallet",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/get_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getActivities=async(e={})=>this.request("/public/v1/query/list_activities",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetActivities=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_activities",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPolicies=async(e={})=>this.request("/public/v1/query/list_policies",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPolicies=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_policies",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listPrivateKeyTags=async e=>this.request("/public/v1/query/list_private_key_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListPrivateKeyTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_key_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getPrivateKeys=async(e={})=>this.request("/public/v1/query/list_private_keys",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetPrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_private_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getSubOrgIds=async(e={})=>this.request("/public/v1/query/list_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetSubOrgIds=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_suborgs",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.listUserTags=async(e={})=>this.request("/public/v1/query/list_user_tags",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampListUserTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_user_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getUsers=async(e={})=>this.request("/public/v1/query/list_users",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getVerifiedSubOrgIds=async e=>this.request("/public/v1/query/list_verified_suborgs",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetVerifiedSubOrgIds=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_verified_suborgs",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWalletAccounts=async e=>this.request("/public/v1/query/list_wallet_accounts",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWalletAccounts=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallet_accounts",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWallets=async(e={})=>this.request("/public/v1/query/list_wallets",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWallets=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/list_wallets",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.getWhoami=async(e={})=>this.request("/public/v1/query/whoami",{...e,organizationId:e.organizationId??this.config.organizationId}),this.stampGetWhoami=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/query/whoami",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.approveActivity=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.activityDecision("/public/v1/submit/approve_activity",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_APPROVE_ACTIVITY"})},this.stampApproveActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/approve_activity",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_api_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_KEYS_V2"},"createApiKeysResult")},this.stampCreateApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createApiOnlyUsers=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_api_only_users",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_API_ONLY_USERS"},"createApiOnlyUsersResult")},this.stampCreateApiOnlyUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_api_only_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_authenticators",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_AUTHENTICATORS_V2"},"createAuthenticatorsResult")},this.stampCreateAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_authenticators",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createInvitations=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_invitations",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_INVITATIONS"},"createInvitationsResult")},this.stampCreateInvitations=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_invitations",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_oauth_providers",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_OAUTH_PROVIDERS"},"createOauthProvidersResult")},this.stampCreateOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_oauth_providers",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicies=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_policies",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICIES"},"createPoliciesResult")},this.stampCreatePolicies=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policies",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPolicy=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_policy",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_POLICY_V3"},"createPolicyResult")},this.stampCreatePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_private_key_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEY_TAG"},"createPrivateKeyTagResult")},this.stampCreatePrivateKeyTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_key_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createPrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_private_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_PRIVATE_KEYS_V2"},"createPrivateKeysResultV2")},this.stampCreatePrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_private_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadOnlySession=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_read_only_session",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_ONLY_SESSION"},"createReadOnlySessionResult")},this.stampCreateReadOnlySession=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_only_session",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createReadWriteSession=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_read_write_session",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_READ_WRITE_SESSION_V2"},"createReadWriteSessionResultV2")},this.stampCreateReadWriteSession=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_read_write_session",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_sub_organization",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_SUB_ORGANIZATION_V7"},"createSubOrganizationResultV7")},this.stampCreateSubOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_sub_organization",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUserTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_user_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USER_TAG"},"createUserTagResult")},this.stampCreateUserTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_user_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createUsers=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_users",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_USERS_V2"},"createUsersResult")},this.stampCreateUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET"},"createWalletResult")},this.stampCreateWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.createWalletAccounts=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/create_wallet_accounts",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_CREATE_WALLET_ACCOUNTS"},"createWalletAccountsResult")},this.stampCreateWalletAccounts=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/create_wallet_accounts",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteApiKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_api_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_API_KEYS"},"deleteApiKeysResult")},this.stampDeleteApiKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_api_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteAuthenticators=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_authenticators",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_AUTHENTICATORS"},"deleteAuthenticatorsResult")},this.stampDeleteAuthenticators=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_authenticators",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteInvitation=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_invitation",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_INVITATION"},"deleteInvitationResult")},this.stampDeleteInvitation=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_invitation",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteOauthProviders=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_oauth_providers",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_OAUTH_PROVIDERS"},"deleteOauthProvidersResult")},this.stampDeleteOauthProviders=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_oauth_providers",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePolicy=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_policy",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_POLICY"},"deletePolicyResult")},this.stampDeletePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeyTags=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_private_key_tags",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEY_TAGS"},"deletePrivateKeyTagsResult")},this.stampDeletePrivateKeyTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_key_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deletePrivateKeys=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_private_keys",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_PRIVATE_KEYS"},"deletePrivateKeysResult")},this.stampDeletePrivateKeys=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_private_keys",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteSubOrganization=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_sub_organization",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_SUB_ORGANIZATION"},"deleteSubOrganizationResult")},this.stampDeleteSubOrganization=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_sub_organization",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUserTags=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_user_tags",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USER_TAGS"},"deleteUserTagsResult")},this.stampDeleteUserTags=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_user_tags",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteUsers=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_users",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_USERS"},"deleteUsersResult")},this.stampDeleteUsers=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_users",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.deleteWallets=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/delete_wallets",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_DELETE_WALLETS"},"deleteWalletsResult")},this.stampDeleteWallets=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/delete_wallets",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.emailAuth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/email_auth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EMAIL_AUTH_V2"},"emailAuthResult")},this.stampEmailAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/email_auth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/export_private_key",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_PRIVATE_KEY"},"exportPrivateKeyResult")},this.stampExportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/export_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET"},"exportWalletResult")},this.stampExportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.exportWalletAccount=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/export_wallet_account",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_EXPORT_WALLET_ACCOUNT"},"exportWalletAccountResult")},this.stampExportWalletAccount=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/export_wallet_account",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/import_private_key",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_PRIVATE_KEY"},"importPrivateKeyResult")},this.stampImportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.importWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/import_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_IMPORT_WALLET"},"importWalletResult")},this.stampImportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/import_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportPrivateKey=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_import_private_key",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_PRIVATE_KEY"},"initImportPrivateKeyResult")},this.stampInitImportPrivateKey=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_private_key",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initImportWallet=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_import_wallet",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_IMPORT_WALLET"},"initImportWalletResult")},this.stampInitImportWallet=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_import_wallet",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initOtpAuth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_otp_auth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_OTP_AUTH"},"initOtpAuthResult")},this.stampInitOtpAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_otp_auth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.initUserEmailRecovery=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/init_user_email_recovery",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_INIT_USER_EMAIL_RECOVERY"},"initUserEmailRecoveryResult")},this.stampInitUserEmailRecovery=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/init_user_email_recovery",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.oauth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/oauth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OAUTH"},"oauthResult")},this.stampOauth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/oauth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.otpAuth=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/otp_auth",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_OTP_AUTH"},"otpAuthResult")},this.stampOtpAuth=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/otp_auth",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.recoverUser=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/recover_user",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_RECOVER_USER"},"recoverUserResult")},this.stampRecoverUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/recover_user",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.rejectActivity=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.activityDecision("/public/v1/submit/reject_activity",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REJECT_ACTIVITY"})},this.stampRejectActivity=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/reject_activity",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.removeOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/remove_organization_feature",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_REMOVE_ORGANIZATION_FEATURE"},"removeOrganizationFeatureResult")},this.stampRemoveOrganizationFeature=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/remove_organization_feature",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.setOrganizationFeature=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/set_organization_feature",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SET_ORGANIZATION_FEATURE"},"setOrganizationFeatureResult")},this.stampSetOrganizationFeature=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/set_organization_feature",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayload=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/sign_raw_payload",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2"},"signRawPayloadResult")},this.stampSignRawPayload=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payload",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signRawPayloads=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/sign_raw_payloads",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOADS"},"signRawPayloadsResult")},this.stampSignRawPayloads=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_raw_payloads",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.signTransaction=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/sign_transaction",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2"},"signTransactionResult")},this.stampSignTransaction=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/sign_transaction",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePolicy=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_policy",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_POLICY"},"updatePolicyResult")},this.stampUpdatePolicy=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_policy",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updatePrivateKeyTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_private_key_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_PRIVATE_KEY_TAG"},"updatePrivateKeyTagResult")},this.stampUpdatePrivateKeyTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_private_key_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateRootQuorum=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_root_quorum",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_ROOT_QUORUM"},"updateRootQuorumResult")},this.stampUpdateRootQuorum=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_root_quorum",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUser=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_user",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER"},"updateUserResult")},this.stampUpdateUser=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.updateUserTag=async e=>{let{organizationId:t,timestampMs:r,...i}=e;return this.command("/public/v1/submit/update_user_tag",{parameters:i,organizationId:t??this.config.organizationId,timestampMs:r??String(Date.now()),type:"ACTIVITY_TYPE_UPDATE_USER_TAG"},"updateUserTagResult")},this.stampUpdateUserTag=async e=>{if(!this.config.stamper)return;let t=this.config.apiBaseUrl+"/public/v1/submit/update_user_tag",r=JSON.stringify(e),i=await this.config.stamper.stamp(r);return{body:r,stamp:i,url:t}},this.config=e}async request(e,t){let r=this.config.apiBaseUrl+e,i=JSON.stringify(t),n=await this.config.stamper.stamp(i),a=await fetch(r,{method:"POST",headers:{[n.stampHeaderName]:n.stampHeaderValue,"X-Client-Version":"@turnkey/sdk-server@1.7.3"},body:i,redirect:"follow"});if(!a.ok){let e;try{e=await a.json()}catch(e){throw Error(`${a.status} ${a.statusText}`)}throw new rf(e)}return await a.json()}async command(e,t,r){let i=this.config.activityPoller?.intervalMs??1e3,n=this.config.activityPoller?.numRetries??3,a=e=>{let{result:t,status:i}=e.activity;return"ACTIVITY_STATUS_COMPLETED"===i?{...t[`${r}`],...e}:e},o=0,s=async e=>{let t=await this.getActivity({activityId:e});if(o>n)return a(t);if(o+=1,!rc.includes(t.activity.status))return await new Promise(e=>setTimeout(e,i)),s(e);return a(t)},u=await this.request(e,t);return rc.includes(u.activity.status)?a(u):s(u.activity.id)}async activityDecision(e,t){let r=await this.request(e,t);return{...r.activity.result,...r}}}let rh=["oauth","createReadWriteSession","createSubOrganization","emailAuth","initUserEmailRecovery"];class rm{constructor(e){this.apiClient=e=>new rb({stamper:new u({apiPublicKey:e?.apiPublicKey??this.config.apiPublicKey,apiPrivateKey:e?.apiPrivateKey??this.config.apiPrivateKey}),apiBaseUrl:this.config.apiBaseUrl,organizationId:this.config.defaultOrganizationId,activityPoller:this.config.activityPoller}),this.apiProxy=async(e,t)=>{let r=this.apiClient()[e];if("function"==typeof r)return await r(...t);throw Error(`Method: ${e} does not exist on TurnkeySDKClient`)},this.expressProxyHandler=e=>{let t=e.allowedMethods??rh;return async(e,r)=>{let{methodName:i,params:n}=e.body;i&&n||r.status(400).send("methodName and params are required.");try{if(t.includes(i)){let e=await this.apiProxy(i,n);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.nextProxyHandler=e=>{let t=e.allowedMethods??rh;return async(e,r)=>{let{methodName:i,params:n}=e.body;i&&n||r.status(400).send("methodName and params are required.");try{if(t.includes(i)){let e=await this.apiProxy(i,n);r.json(e)}else r.status(401).send("Unauthorized proxy method");return}catch(e){e instanceof Error?r.status(500).send(e.message):r.status(500).send("An unexpected error occurred");return}}},this.config=e}}class rg extends rp{constructor(e){super(e)}}class rb extends rg{constructor(e){super(e)}}l.fetch;var ry=e.i(95187);ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,ry.callServer,ry.findSourceMapURL,e.s([],258291),e.s(["Turnkey",()=>rm],874107)},708351,524265,892537,914218,498138,438853,580840,107339,536275,998146,737003,32843,170987,440394,897567,222194,798530,782045,93323,33725,420440,244010,193826,360738,851047,477808,474112,67881,372418,485685,394944,961018,63637,767397,73023,952871,257092,421227,e=>{"use strict";let t,r;e.s([],708351);let i="6.15.0";async function n(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,i)=>(e[t[i]]=r,e),{})}function a(e,t,r){for(let i in t){let n=t[i],a=r?r[i]:null;a&&function(e,t,r){let i=t.split("|").map(e=>e.trim());for(let r=0;r<i.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let n=Error(`invalid value for type ${t}`);throw n.code="INVALID_ARGUMENT",n.argument=`value.${r}`,n.value=e,n}(n,a,i),Object.defineProperty(e,i,{enumerable:!0,value:n,writable:!1})}}function o(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"==typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>o(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let i=0;i<e.length;i++)r+=t[e[i]>>4],r+=t[15&e[i]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return o(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let r=Object.keys(e);return r.sort(),"{ "+r.map(r=>`${o(r,t)}: ${o(e[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function s(e,t){return e&&e.code===t}function u(e){return s(e,"CALL_EXCEPTION")}function l(e,t,r){let n,s=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${o(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+o(t))}}n.push(`code=${t}`),n.push(`version=${i}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return a(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&a(n,{shortMessage:s}),n}function c(e,t,r,i){if(!e)throw l(t,r,i)}function d(e,t,r,i){c(e,t,"INVALID_ARGUMENT",{argument:r,value:i})}function f(e,t,r){null==r&&(r=""),r&&(r=": "+r),c(e>=t,"missing argument"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),c(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}e.s(["version",0,i],524265),e.s(["defineProperties",()=>a,"resolveProperties",()=>n],892537);let p=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function h(e){c(p.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function m(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),c(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function g(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let i=0;i<t.length;i++)t[i]=parseInt(e.substring(r,r+2),16),r+=2;return t}d(!1,"invalid BytesLike value",t||"value",e)}function b(e,t){return g(e,t,!1)}function y(e,t){return g(e,t,!0)}function x(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function A(e){return x(e,!0)||e instanceof Uint8Array}e.s(["assert",()=>c,"assertArgument",()=>d,"assertArgumentCount",()=>f,"assertNormalize",()=>h,"assertPrivate",()=>m,"isCallException",()=>u,"isError",()=>s,"makeError",()=>l],914218);let w="0123456789abcdef";function v(e){let t=b(e),r="0x";for(let e=0;e<t.length;e++){let i=t[e];r+=w[(240&i)>>4]+w[15&i]}return r}function S(e){return"0x"+e.map(e=>v(e).substring(2)).join("")}function k(e){return x(e,!0)?(e.length-2)/2:b(e).length}function T(e,t,r){let i=b(e);return null!=r&&r>i.length&&c(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:i,length:i.length,offset:r}),v(i.slice(null==t?0:t,null==r?i.length:r))}function E(e){let t=v(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function P(e,t,r){let i=b(e);c(t>=i.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(i),length:t,offset:t+1});let n=new Uint8Array(t);return n.fill(0),r?n.set(i,t-i.length):n.set(i,0),v(n)}function I(e,t){return P(e,t,!0)}function _(e,t){return P(e,t,!1)}function N(e,t,r,i,n){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let i=t+1;i<r.length&&r[i]>>6==2;i++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}e.s(["concat",()=>S,"dataLength",()=>k,"dataSlice",()=>T,"getBytes",()=>b,"getBytesCopy",()=>y,"hexlify",()=>v,"isBytesLike",()=>A,"isHexString",()=>x,"stripZerosLeft",()=>E,"zeroPadBytes",()=>_,"zeroPadValue",()=>I],498138);let R=Object.freeze({error:function(e,t,r,i,n){d(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:N,replace:function(e,t,r,i,n){return"OVERLONG"===e?(d("number"==typeof n,"invalid bad code point for replacement","badCodepoint",n),i.push(n),0):(i.push(65533),N(e,t,r,i,n))}});function O(e,t){null==t&&(t=R.error);let r=b(e,"bytes"),i=[],n=0;for(;n<r.length;){let e=r[n++];if(e>>7==0){i.push(e);continue}let a=null,o=null;if((224&e)==192)a=1,o=127;else if((240&e)==224)a=2,o=2047;else if((248&e)==240)a=3,o=65535;else{(192&e)==128?n+=t("UNEXPECTED_CONTINUE",n-1,r,i):n+=t("BAD_PREFIX",n-1,r,i);continue}if(n-1+a>=r.length){n+=t("OVERRUN",n-1,r,i);continue}let s=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=r[n];if((192&e)!=128){n+=t("MISSING_CONTINUE",n,r,i),s=null;break}s=s<<6|63&e,n++}if(null!==s){if(s>1114111){n+=t("OUT_OF_RANGE",n-1-a,r,i,s);continue}if(s>=55296&&s<=57343){n+=t("UTF16_SURROGATE",n-1-a,r,i,s);continue}if(s<=o){n+=t("OVERLONG",n-1-a,r,i,s);continue}i.push(s)}}return i}function B(e,t){d("string"==typeof e,"invalid string value","str",e),null!=t&&(h(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){t++;let n=e.charCodeAt(t);d(t<e.length&&(64512&n)==56320,"invalid surrogate pair","str",e);let a=65536+((1023&i)<<10)+(1023&n);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return new Uint8Array(r)}function C(e,t){return O(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function D(e,t){return O(B(e,t))}function F(e){let t=B(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return _(t,32)}function U(e){let t=b(e,"bytes");if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return C(t.slice(0,r))}e.s(["Utf8ErrorFuncs",0,R,"toUtf8Bytes",()=>B,"toUtf8CodePoints",()=>D,"toUtf8String",()=>C],438853),e.s(["decodeBytes32String",()=>U,"encodeBytes32String",()=>F],580840);let M=BigInt(0),L=BigInt(1);function q(e,t){let r=G(e,"value"),i=BigInt(H(t,"width"));return(c(r>>i===M,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>i-L)?-((~r&(L<<i)-L)+L):r}function K(e,t){let r=V(e,"value"),i=BigInt(H(t,"width")),n=L<<i-L;return r<M?(c((r=-r)<=n,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(L<<i)-L)+L):(c(r<n,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function W(e,t){return G(e,"value")&(L<<BigInt(H(t,"bits")))-L}function V(e,t){switch(typeof e){case"bigint":return e;case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){d(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}d(!1,"invalid BigNumberish value",t||"value",e)}function G(e,t){let r=V(e,t);return c(r>=M,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let j="0123456789abcdef";function z(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=j[r>>4],t+=j[15&r];return BigInt(t)}return V(e)}function H(e,t){switch(typeof e){case"bigint":return d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),Number(e);case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return H(BigInt(e),t)}catch(r){d(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}d(!1,"invalid numeric value",t||"value",e)}function X(e){return H(z(e))}function Q(e,t){let r=G(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{let i=H(t,"width");for(c(2*i>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*i;)r="0"+r}return"0x"+r}function J(e){let t=G(e,"value");if(t===M)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);let i=new Uint8Array(r.length/2);for(let e=0;e<i.length;e++){let t=2*e;i[e]=parseInt(r.substring(t,t+2),16)}return i}function Y(e){let t=v(A(e)?e:J(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}e.s(["fromTwos",()=>q,"getBigInt",()=>V,"getNumber",()=>H,"getUint",()=>G,"mask",()=>W,"toBeArray",()=>J,"toBeHex",()=>Q,"toBigInt",()=>z,"toNumber",()=>X,"toQuantity",()=>Y,"toTwos",()=>K],107339);let Z=new Uint8Array(32),$=["then"],ee={},et=new WeakMap;function er(e){return et.get(e)}function ei(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class en extends Array{#e;constructor(...e){var t,r;const i=e[0];let n=e[1],a=(e[2]||[]).slice(),o=!0;i!==ee&&(n=e,a=[],o=!1),super(n.length),n.forEach((e,t)=>{this[t]=e});const s=a.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(t=Object.freeze(n.map((e,t)=>{let r=a[t];return null!=r&&1===s.get(r)?r:null})),et.set(this,t),this.#e=[],null==this.#e&&this.#e,!o)return;Object.freeze(this);const u=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=H(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let i=e[r];return i instanceof Error&&ei(`index ${r}`,i),i}if($.indexOf(t)>=0)return Reflect.get(e,t,r);let i=e[t];if(i instanceof Function)return function(...t){return i.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return r=er(this),et.set(u,r),u}toArray(e){let t=[];return this.forEach((r,i)=>{r instanceof Error&&ei(`index ${i}`,r),e&&r instanceof en&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=er(this);return t.reduce((r,i,n)=>(c(null!=i,`value at index ${n} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,i){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof en?e(er(t),t,i):t):t.reduce((t,n,a)=>{let o=r.getValue(n);return n in t||(i&&o instanceof en&&(o=e(er(o),o,i)),t[n]=o),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=er(this),i=[],n=[];for(let a=e;a<t;a++)i.push(this[a]),n.push(r[a]);return new en(ee,i,n)}filter(e,t){let r=er(this),i=[],n=[];for(let a=0;a<this.length;a++){let o=this[a];o instanceof Error&&ei(`index ${a}`,o),e.call(t,o,a,this)&&(i.push(o),n.push(r[a]))}return new en(ee,i,n)}map(e,t){let r=[];for(let i=0;i<this.length;i++){let n=this[i];n instanceof Error&&ei(`index ${i}`,n),r.push(e.call(t,n,i,this))}return r}getValue(e){let t=er(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&ei(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new en(ee,e,t)}}function ea(e){let t=[],r=function(e,i){if(Array.isArray(i))for(let n in i){let a=e.slice();a.push(n);try{r(a,i[n])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}function eo(e){let t=J(e);return c(t.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:32,offset:t.length}),32!==t.length&&(t=y(S([Z.slice(t.length%32),t]))),t}class es{name;type;localName;dynamic;constructor(e,t,r,i){a(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){d(!1,e,this.localName,t)}}class eu{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return S(this.#t)}get length(){return this.#r}#i(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#i(y(e.data))}writeBytes(e){let t=y(e),r=t.length%32;return r&&(t=y(S([t,Z.slice(r)]))),this.#i(t)}writeValue(e){return this.#i(eo(e))}writeUpdatableValue(){let e=this.#t.length;return this.#t.push(Z),this.#r+=32,t=>{this.#t[e]=eo(t)}}}class el{allowLoose;#t;#n;#a;#o;#s;constructor(e,t,r){a(this,{allowLoose:!!t}),this.#t=y(e),this.#a=0,this.#o=null,this.#s=null!=r?r:1024,this.#n=0}get data(){return v(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#n}get bytes(){return new Uint8Array(this.#t)}#u(e){if(this.#o)return this.#o.#u(e);this.#a+=e,c(this.#s<1||this.#a<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:y(this.#t),offset:this.#n,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#l(e,t,r){let i=32*Math.ceil(t/32);return this.#n+i>this.#t.length&&(this.allowLoose&&r&&this.#n+t<=this.#t.length?i=t:c(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:y(this.#t),length:this.#t.length,offset:this.#n+i})),this.#t.slice(this.#n,this.#n+i)}subReader(e){let t=new el(this.#t.slice(this.#n+e),this.allowLoose,this.#s);return t.#o=this,t}readBytes(e,t){let r=this.#l(0,e,!!t);return this.#u(e),this.#n+=r.length,r.slice(0,e)}readValue(){return z(this.readBytes(32))}readIndex(){return X(this.readBytes(32))}}function ec(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function ed(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ef(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");ec(e.outputLen),ec(e.blockLen)}function ep(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function eh(e,t){ed(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}e.s(["Coder",()=>es,"Reader",()=>el,"Result",()=>en,"WordSize",0,32,"Writer",()=>eu,"checkResultErrors",()=>ea],536275);let em=BigInt(0x100000000-1),eg=BigInt(32);function eb(e,t=!1){let r=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let n=0;n<e.length;n++){let{h:a,l:o}=function(e,t=!1){return t?{h:Number(e&em),l:Number(e>>eg&em)}:{h:0|Number(e>>eg&em),l:0|Number(e&em)}}(e[n],t);[r[n],i[n]]=[a,o]}return[r,i]}let ey=(e,t,r)=>e>>>r,ex=(e,t,r)=>e<<32-r|t>>>r,eA=(e,t,r)=>e>>>r|t<<32-r,ew=(e,t,r)=>e<<32-r|t>>>r,ev=(e,t,r)=>e<<64-r|t>>>r-32,eS=(e,t,r)=>e>>>r-32|t<<64-r,ek=function(e,t,r,i){let n=(t>>>0)+(i>>>0);return{h:e+r+(n/0x100000000|0)|0,l:0|n}},eT=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),eE=(e,t,r,i)=>t+r+i+(e/0x100000000|0)|0,eP=(e,t,r,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),eI=(e,t,r,i,n)=>t+r+i+n+(e/0x100000000|0)|0,e_=(e,t,r,i,n,a)=>t+r+i+n+a+(e/0x100000000|0)|0,eN=(e,t,r,i,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0)+(n>>>0),eR="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eO=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),eB=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),eC=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let eD=async()=>{};async function eF(e,t,r){let i=Date.now();for(let n=0;n<e;n++){r(n);let e=Date.now()-i;e>=0&&e<t||(await eD(),i+=e)}}function eU(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!(e instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class eM{clone(){return this._cloneInto()}}let eL={}.toString;function eq(e,t){if(void 0!==t&&"[object Object]"!==eL.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function eK(e){let t=t=>e().update(eU(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function eW(e=32){if(eR&&"function"==typeof eR.getRandomValues)return eR.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let[eV,eG,ej]=[[],[],[]],ez=BigInt(0),eH=BigInt(1),eX=BigInt(2),eQ=BigInt(7),eJ=BigInt(256),eY=BigInt(113);for(let e=0,t=eH,r=1,i=0;e<24;e++){[r,i]=[i,(2*r+3*i)%5],eV.push(2*(5*i+r)),eG.push((e+1)*(e+2)/2%64);let n=ez;for(let e=0;e<7;e++)(t=(t<<eH^(t>>eQ)*eY)%eJ)&eX&&(n^=eH<<(eH<<BigInt(e))-eH);ej.push(n)}let[eZ,e$]=eb(ej,!0),e0=(e,t,r)=>{let i,n,a,o,s;return r>32?(i=e,t<<(n=r)-32|i>>>64-n):(a=e,o=t,a<<(s=r)|o>>>32-s)},e1=(e,t,r)=>{let i,n,a,o,s;return r>32?(i=e,n=t,i<<(a=r)-32|n>>>64-a):(o=e,t<<(s=r)|o>>>32-s)};class e2 extends eM{constructor(e,t,r,i=!1,n=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=n,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ec(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=eO(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let i=24-t;i<24;i++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let i=(t+8)%10,n=(t+2)%10,a=r[n],o=r[n+1],s=e0(a,o,1)^r[i],u=e1(a,o,1)^r[i+1];for(let r=0;r<50;r+=10)e[t+r]^=s,e[t+r+1]^=u}let t=e[2],n=e[3];for(let r=0;r<24;r++){let i=eG[r],a=e0(t,n,i),o=e1(t,n,i),s=eV[r];t=e[s],n=e[s+1],e[s]=a,e[s+1]=o}for(let t=0;t<50;t+=10){for(let i=0;i<10;i++)r[i]=e[t+i];for(let i=0;i<10;i++)e[t+i]^=~r[(i+2)%10]&r[(i+4)%10]}e[0]^=eZ[i],e[1]^=e$[i]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ep(this);let{blockLen:t,state:r}=this,i=(e=eU(e)).length;for(let n=0;n<i;){let a=Math.min(t-this.pos,i-n);for(let t=0;t<a;t++)r[this.pos++]^=e[n++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(128&t)!=0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ep(this,!1),ed(e),this.finish();let t=this.state,{blockLen:r}=this;for(let i=0,n=e.length;i<n;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,n-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ec(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eh(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:i,rounds:n,enableXOF:a}=this;return e||(e=new e2(t,r,i,a,n)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=n,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}let e4=eK(()=>new e2(136,1,32)),e6=!1,e3=function(e){return e4(e)},e5=e3;function e8(e){let t=b(e,"data");return v(e5(t))}e8._=e3,e8.lock=function(){e6=!0},e8.register=function(e){if(e6)throw TypeError("keccak256 is locked");e5=e},Object.freeze(e8),e.s(["keccak256",()=>e8],998146);let e7=BigInt(0),e9=BigInt(36);function te(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let i=b(e8(r));for(let e=0;e<40;e+=2)i[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&i[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let tt={};for(let e=0;e<10;e++)tt[String(e)]=String(e);for(let e=0;e<26;e++)tt[String.fromCharCode(65+e)]=String(10+e);function tr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>tt[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}let ti=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function tn(e){if(d("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=te(e);return d(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){d(e.substring(2,4)===tr(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=e7;for(let r=0;r<e.length;r++)t=t*e9+ti[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return te("0x"+t)}d(!1,"invalid address","address",e)}function ta(e){let t=BigInt(tn(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+tr("XE00"+t)+t}e.s(["getAddress",()=>tn,"getIcapAddress",()=>ta],737003);let to={};function ts(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new tc(to,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function tu(e,t){return new tc(to,`bytes${t||""}`,e,{size:t})}let tl=Symbol.for("_ethers_typed");class tc{type;value;#c;_typedSymbol;constructor(e,t,r,i){null==i&&(i=null),m(to,e,"Typed"),a(this,{_typedSymbol:tl,type:t,value:r}),this.#c=i,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#c}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#c?-1:!1===this.#c?this.value.length:null}static from(e,t){return new tc(to,e,t)}static uint8(e){return ts(e,8)}static uint16(e){return ts(e,16)}static uint24(e){return ts(e,24)}static uint32(e){return ts(e,32)}static uint40(e){return ts(e,40)}static uint48(e){return ts(e,48)}static uint56(e){return ts(e,56)}static uint64(e){return ts(e,64)}static uint72(e){return ts(e,72)}static uint80(e){return ts(e,80)}static uint88(e){return ts(e,88)}static uint96(e){return ts(e,96)}static uint104(e){return ts(e,104)}static uint112(e){return ts(e,112)}static uint120(e){return ts(e,120)}static uint128(e){return ts(e,128)}static uint136(e){return ts(e,136)}static uint144(e){return ts(e,144)}static uint152(e){return ts(e,152)}static uint160(e){return ts(e,160)}static uint168(e){return ts(e,168)}static uint176(e){return ts(e,176)}static uint184(e){return ts(e,184)}static uint192(e){return ts(e,192)}static uint200(e){return ts(e,200)}static uint208(e){return ts(e,208)}static uint216(e){return ts(e,216)}static uint224(e){return ts(e,224)}static uint232(e){return ts(e,232)}static uint240(e){return ts(e,240)}static uint248(e){return ts(e,248)}static uint256(e){return ts(e,256)}static uint(e){return ts(e,256)}static int8(e){return ts(e,-8)}static int16(e){return ts(e,-16)}static int24(e){return ts(e,-24)}static int32(e){return ts(e,-32)}static int40(e){return ts(e,-40)}static int48(e){return ts(e,-48)}static int56(e){return ts(e,-56)}static int64(e){return ts(e,-64)}static int72(e){return ts(e,-72)}static int80(e){return ts(e,-80)}static int88(e){return ts(e,-88)}static int96(e){return ts(e,-96)}static int104(e){return ts(e,-104)}static int112(e){return ts(e,-112)}static int120(e){return ts(e,-120)}static int128(e){return ts(e,-128)}static int136(e){return ts(e,-136)}static int144(e){return ts(e,-144)}static int152(e){return ts(e,-152)}static int160(e){return ts(e,-160)}static int168(e){return ts(e,-168)}static int176(e){return ts(e,-176)}static int184(e){return ts(e,-184)}static int192(e){return ts(e,-192)}static int200(e){return ts(e,-200)}static int208(e){return ts(e,-208)}static int216(e){return ts(e,-216)}static int224(e){return ts(e,-224)}static int232(e){return ts(e,-232)}static int240(e){return ts(e,-240)}static int248(e){return ts(e,-248)}static int256(e){return ts(e,-256)}static int(e){return ts(e,-256)}static bytes1(e){return tu(e,1)}static bytes2(e){return tu(e,2)}static bytes3(e){return tu(e,3)}static bytes4(e){return tu(e,4)}static bytes5(e){return tu(e,5)}static bytes6(e){return tu(e,6)}static bytes7(e){return tu(e,7)}static bytes8(e){return tu(e,8)}static bytes9(e){return tu(e,9)}static bytes10(e){return tu(e,10)}static bytes11(e){return tu(e,11)}static bytes12(e){return tu(e,12)}static bytes13(e){return tu(e,13)}static bytes14(e){return tu(e,14)}static bytes15(e){return tu(e,15)}static bytes16(e){return tu(e,16)}static bytes17(e){return tu(e,17)}static bytes18(e){return tu(e,18)}static bytes19(e){return tu(e,19)}static bytes20(e){return tu(e,20)}static bytes21(e){return tu(e,21)}static bytes22(e){return tu(e,22)}static bytes23(e){return tu(e,23)}static bytes24(e){return tu(e,24)}static bytes25(e){return tu(e,25)}static bytes26(e){return tu(e,26)}static bytes27(e){return tu(e,27)}static bytes28(e){return tu(e,28)}static bytes29(e){return tu(e,29)}static bytes30(e){return tu(e,30)}static bytes31(e){return tu(e,31)}static bytes32(e){return tu(e,32)}static address(e){return new tc(to,"address",e)}static bool(e){return new tc(to,"bool",!!e)}static bytes(e){return new tc(to,"bytes",e)}static string(e){return new tc(to,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new tc(to,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===tl}static dereference(e,t){if(tc.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}e.s(["Typed",()=>tc],32843);class td extends es{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=tc.dereference(t,"string");try{r=tn(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return tn(Q(e.readValue(),20))}}class tf extends es{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function tp(e,t,r){let i=[];if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map(t=>{let i=t.localName;return c(i,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),c(!e[i],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[i]=!0,r[i]})}else d(!1,"invalid tuple value","tuple",r);d(t.length===i.length,"types/value length mismatch","tuple",r);let n=new eu,a=new eu,o=[];t.forEach((e,t)=>{let r=i[t];if(e.dynamic){let t=a.length;e.encode(a,r);let i=n.writeUpdatableValue();o.push(e=>{i(e+t)})}else e.encode(n,r)}),o.forEach(e=>{e(n.length)});let s=e.appendWriter(n);return s+e.appendWriter(a)}function th(e,t){let r=[],i=[],n=e.subReader(0);return t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readIndex(),i=n.subReader(r);try{a=t.decode(i)}catch(e){if(s(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(s(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}if(void 0==a)throw Error("investigate");r.push(a),i.push(t.localName||null)}),en.fromItems(r,i)}class tm extends es{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),a(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=tc.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let i=this.length;-1===i&&(i=r.length,e.writeValue(r.length)),f(r.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<r.length;e++)n.push(this.coder);return tp(e,n,r)}decode(e){let t=this.length;-1===t&&c(32*(t=e.readIndex())<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:32*t,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new tf(this.coder));return th(e,r)}}class tg extends es{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=tc.dereference(t,"bool");return e.writeValue(+!!r)}decode(e){return!!e.readValue()}}class tb extends es{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=y(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class ty extends tb{constructor(e){super("bytes",e)}decode(e){return v(super.decode(e))}}class tx extends es{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),a(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=y(tc.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return v(e.readBytes(this.size))}}let tA=new Uint8Array([]);class tw extends es{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(tA)}decode(e){return e.readBytes(0),null}}let tv=BigInt(0),tS=BigInt(1),tk=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class tT extends es{size;signed;constructor(e,t,r){const i=(t?"int":"uint")+8*e;super(i,i,r,!1),a(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=V(tc.dereference(t,this.type)),i=W(tk,256);if(this.signed){let e=W(i,8*this.size-1);(r>e||r<-(e+tS))&&this._throwError("value out-of-bounds",t),r=K(r,256)}else(r<tv||r>W(i,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=W(e.readValue(),8*this.size);return this.signed&&(t=q(t,8*this.size)),t}}class tE extends tb{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,B(tc.dereference(t,"string")))}decode(e){return C(super.decode(e))}}class tP extends es{coders;constructor(e,t){let r=!1;const i=[];e.forEach(e=>{e.dynamic&&(r=!0),i.push(e.type)}),super("tuple","tuple("+i.join(",")+")",t,r),a(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,i)=>{let n=r.localName;n&&1===t[n]&&("length"===n&&(n="_length"),null==e[n]&&(e[n]=e[i]))}),Object.freeze(e)}encode(e,t){let r=tc.dereference(t,"tuple");return tp(e,this.coders,r)}decode(e){return th(e,this.coders)}}function tI(e){return e8(B(e))}function t_(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}e.s(["id",()=>tI],170987);let tN=t_("external public payable override".split(" ")),tR="constant external internal payable private public pure view override",tO=t_(tR.split(" ")),tB="constructor error event fallback function receive struct",tC=t_(tB.split(" ")),tD="calldata memory storage payable indexed",tF=t_(tD.split(" ")),tU=t_([tB,tD,"tuple returns",tR].join(" ").split(" ")),tM={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tL=RegExp("^(\\s*)"),tq=RegExp("^([0-9]+)"),tK=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tW=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),tV=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class tG{#n;#d;get offset(){return this.#n}get length(){return this.#d.length-this.#n}constructor(e){this.#n=0,this.#d=e.slice()}clone(){return new tG(this.#d)}reset(){this.#n=0}#f(e=0,t=0){return new tG(this.#d.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#f(this.#n+1,e.match+1);return this.#n=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#n<e.match-1;){let e=this.peek().linkNext;t.push(this.#f(this.#n+1,e)),this.#n=e}return this.#n=e.match+1,t}peek(){if(this.#n>=this.#d.length)throw Error("out-of-bounds");return this.#d[this.#n]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#n++,e}toString(){let e=[];for(let t=this.#n;t<this.#d.length;t++){let r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function tj(e){let t=[],r=t=>{let r=a<e.length?JSON.stringify(e[a]):"$EOI";throw Error(`invalid token ${r} at ${a}: ${t}`)},i=[],n=[],a=0;for(;a<e.length;){let o=e.substring(a),s=o.match(tL);s&&(a+=s[1].length,o=e.substring(a));let u={depth:i.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(u);let l=tM[o[0]]||"";if(l){if(u.type=l,u.text=o[0],a++,"OPEN_PAREN"===l)i.push(t.length-1),n.push(t.length-1);else if("CLOSE_PAREN"==l)0===i.length&&r("no matching open bracket"),u.match=i.pop(),t[u.match].match=t.length-1,u.depth--,u.linkBack=n.pop(),t[u.linkBack].linkNext=t.length-1;else if("COMMA"===l)u.linkBack=n.pop(),t[u.linkBack].linkNext=t.length-1,n.push(t.length-1);else if("OPEN_BRACKET"===l)u.type="BRACKET";else if("CLOSE_BRACKET"===l){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=H(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(s=o.match(tK)){if(u.text=s[1],a+=u.text.length,tU.has(u.text)){u.type="KEYWORD";continue}if(u.text.match(tV)){u.type="TYPE";continue}u.type="ID";continue}if(s=o.match(tq)){u.text=s[1],u.type="NUMBER",a+=u.text.length;continue}throw Error(`unexpected token ${JSON.stringify(o[0])} at position ${a}`)}return new tG(t.map(e=>Object.freeze(e)))}function tz(e,t){let r=[];for(let i in t.keys())e.has(i)&&r.push(i);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function tH(e,t){if(t.peekKeyword(tC)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function tX(e,t){let r=new Set;for(;;){let i=e.peekType("KEYWORD");if(null==i||t&&!t.has(i))break;if(e.pop(),r.has(i))throw Error(`duplicate keywords: ${JSON.stringify(i)}`);r.add(i)}return Object.freeze(r)}function tQ(e){let t=tX(e,tO);return(tz(t,t_("constant payable nonpayable".split(" "))),tz(t,t_("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function tJ(e,t){return e.popParams().map(e=>re.from(e,t))}function tY(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return V(e.pop().text);throw Error("invalid gas")}return null}function tZ(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let t$=new RegExp(/^(.*)\[([0-9]*)\]$/);function t0(e){let t=e.match(tV);if(d(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);d(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);d(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let t1={},t2=Symbol.for("_ethers_internal"),t4="_ParamTypeInternal",t6="_ErrorInternal",t3="_EventInternal",t5="_ConstructorInternal",t8="_FallbackInternal",t7="_FunctionInternal",t9="_StructInternal";class re{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,i,n,o,s,u){if(m(e,t1,"ParamType"),Object.defineProperty(this,t2,{value:t4}),o&&(o=Object.freeze(o.slice())),"array"===i){if(null==s||null==u)throw Error("")}else if(null!=s||null!=u)throw Error("");if("tuple"===i){if(null==o)throw Error("")}else if(null!=o)throw Error("");a(this,{name:t,type:r,baseType:i,indexed:n,components:o,arrayLength:s,arrayChildren:u})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,i)=>r.components[i].walk(e,t))}return t(this.type,e)}#p(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let n=this.arrayChildren,a=t.slice();a.forEach((t,i)=>{n.#p(e,t,r,e=>{a[i]=e})}),i(a);return}if(this.isTuple()){let n,a=this.components;if(Array.isArray(t))n=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");n=a.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(n.length!==this.components.length)throw Error("array is wrong length");n.forEach((t,i)=>{a[i].#p(e,t,r,e=>{n[i]=e})}),i(n);return}let n=r(this.type,t);n.then?e.push(async function(){i(await n)}()):i(n)}async walkAsync(e,t){let r=[],i=[e];return this.#p(r,e,t,e=>{i[0]=e}),r.length&&await Promise.all(r),i[0]}static from(e,t){if(re.isParamType(e))return e;if("string"==typeof e)try{return re.from(tj(e),t)}catch(t){d(!1,"invalid param type","obj",e)}else if(e instanceof tG){let r="",i="",n=null;tX(e,t_(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(i="tuple",n=e.popParams().map(e=>re.from(e)),r=`tuple(${n.map(e=>e.format()).join(",")})`):i=r=t0(e.popType("TYPE"));let a=null,o=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();a=new re(t1,"",r,i,null,n,o,a),o=t.value,r+=t.text,i="array",n=null}let s=null;if(tX(e,tF).has("indexed")){if(!t)throw Error("");s=!0}let u=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new re(t1,u,r,i,s,n,o,a)}let r=e.name;d(!r||"string"==typeof r&&r.match(tW),"invalid name","obj.name",r);let i=e.indexed;null!=i&&(d(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let n=e.type,a=n.match(t$);if(a){let t=parseInt(a[2]||"-1"),o=re.from({type:a[1],components:e.components});return new re(t1,r||"",n,"array",i,null,t,o)}if("tuple"===n||n.startsWith("tuple(")||n.startsWith("(")){let t=null!=e.components?e.components.map(e=>re.from(e)):null;return new re(t1,r||"",n,"tuple",i,t,null,null)}return new re(t1,r||"",n=t0(e.type),n,i,null,null,null)}static isParamType(e){return e&&e[t2]===t4}}class rt{type;inputs;constructor(e,t,r){m(e,t1,"Fragment"),a(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{rt.from(JSON.parse(e))}catch(e){}return rt.from(tj(e))}if(e instanceof tG)switch(e.peekKeyword(tC)){case"constructor":return ro.from(e);case"error":return rn.from(e);case"event":return ra.from(e);case"fallback":case"receive":return rs.from(e);case"function":return ru.from(e);case"struct":return rl.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return ro.from(e);case"error":return rn.from(e);case"event":return ra.from(e);case"fallback":case"receive":return rs.from(e);case"function":return ru.from(e);case"struct":return rl.from(e)}c(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ro.isFragment(e)}static isError(e){return rn.isFragment(e)}static isEvent(e){return ra.isFragment(e)}static isFunction(e){return ru.isFragment(e)}static isStruct(e){return rl.isFragment(e)}}class rr extends rt{name;constructor(e,t,r,i){super(e,t,i),d("string"==typeof r&&r.match(tW),"invalid identifier","name",r),i=Object.freeze(i.slice()),a(this,{name:r})}}function ri(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class rn extends rr{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,t2,{value:t6})}get selector(){return tI(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+ri(e,this.inputs)),t.join(" ")}static from(e){if(rn.isFragment(e))return e;if("string"==typeof e)return rn.from(tj(e));if(e instanceof tG){let t=tH("error",e),r=tJ(e);return tZ(e),new rn(t1,t,r)}return new rn(t1,e.name,e.inputs?e.inputs.map(re.from):[])}static isFragment(e){return e&&e[t2]===t6}}class ra extends rr{anonymous;constructor(e,t,r,i){super(e,"event",t,r),Object.defineProperty(this,t2,{value:t3}),a(this,{anonymous:i})}get topicHash(){return tI(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+ri(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new ra(t1,e,t=(t||[]).map(e=>re.from(e)),!1).topicHash}static from(e){if(ra.isFragment(e))return e;if("string"==typeof e)try{return ra.from(tj(e))}catch(t){d(!1,"invalid event fragment","obj",e)}else if(e instanceof tG){let t=tH("event",e),r=tJ(e,!0),i=!!tX(e,t_(["anonymous"])).has("anonymous");return tZ(e),new ra(t1,t,r,i)}return new ra(t1,e.name,e.inputs?e.inputs.map(e=>re.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[t2]===t3}}class ro extends rt{payable;gas;constructor(e,t,r,i,n){super(e,t,r),Object.defineProperty(this,t2,{value:t5}),a(this,{payable:i,gas:n})}format(e){if(c(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${ri(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(ro.isFragment(e))return e;if("string"==typeof e)try{return ro.from(tj(e))}catch(t){d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof tG){tX(e,t_(["constructor"]));let t=tJ(e),r=!!tX(e,tN).has("payable"),i=tY(e);return tZ(e),new ro(t1,"constructor",t,r,i)}return new ro(t1,"constructor",e.inputs?e.inputs.map(re.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[t2]===t5}}class rs extends rt{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,t2,{value:t8}),a(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(rs.isFragment(e))return e;if("string"==typeof e)try{return rs.from(tj(e))}catch(t){d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof tG){let t=e.toString();if(d(e.peekKeyword(t_(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(t_(["fallback","receive"]))){let t=tJ(e);return d(0===t.length,"receive cannot have arguments","obj.inputs",t),tX(e,t_(["payable"])),tZ(e),new rs(t1,[],!0)}let r=tJ(e);r.length?d(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[re.from("bytes")];let i=tQ(e);if(d("nonpayable"===i||"payable"===i,"fallback cannot be constants","obj.stateMutability",i),tX(e,t_(["returns"])).has("returns")){let t=tJ(e);d(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return tZ(e),new rs(t1,r,"payable"===i)}return"receive"===e.type?new rs(t1,[],!0):"fallback"===e.type?new rs(t1,[re.from("bytes")],"payable"===e.stateMutability):void d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[t2]===t8}}class ru extends rr{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,i,n,o){super(e,"function",t,i),Object.defineProperty(this,t2,{value:t7}),a(this,{constant:"view"===r||"pure"===r,gas:o,outputs:n=Object.freeze(n.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return tI(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+ri(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(ri(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new ru(t1,e,"view",t=(t||[]).map(e=>re.from(e)),[],null).selector}static from(e){if(ru.isFragment(e))return e;if("string"==typeof e)try{return ru.from(tj(e))}catch(t){d(!1,"invalid function fragment","obj",e)}else if(e instanceof tG){let t=tH("function",e),r=tJ(e),i=tQ(e),n=[];tX(e,t_(["returns"])).has("returns")&&(n=tJ(e));let a=tY(e);return tZ(e),new ru(t1,t,i,r,n,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",!e.constant&&(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new ru(t1,e.name,t,e.inputs?e.inputs.map(re.from):[],e.outputs?e.outputs.map(re.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[t2]===t7}}class rl extends rr{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,t2,{value:t9})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return rl.from(tj(e))}catch(t){d(!1,"invalid struct fragment","obj",e)}else if(e instanceof tG){let t=tH("struct",e),r=tJ(e);return tZ(e),new rl(t1,t,r)}return new rl(t1,e.name,e.inputs?e.inputs.map(re.from):[])}static isFragment(e){return e&&e[t2]===t9}}e.s(["ConstructorFragment",()=>ro,"ErrorFragment",()=>rn,"EventFragment",()=>ra,"FallbackFragment",()=>rs,"Fragment",()=>rt,"FunctionFragment",()=>ru,"NamedFragment",()=>rr,"ParamType",()=>re,"StructFragment",()=>rl],440394);let rc=new Map;rc.set(0,"GENERIC_PANIC"),rc.set(1,"ASSERT_FALSE"),rc.set(17,"OVERFLOW"),rc.set(18,"DIVIDE_BY_ZERO"),rc.set(33,"ENUM_RANGE_ERROR"),rc.set(34,"BAD_STORAGE_DATA"),rc.set(49,"STACK_UNDERFLOW"),rc.set(50,"ARRAY_RANGE_ERROR"),rc.set(65,"OUT_OF_MEMORY"),rc.set(81,"UNINITIALIZED_FUNCTION_CALL");let rd=new RegExp(/^bytes([0-9]*)$/),rf=new RegExp(/^(u?int)([0-9]*)$/),rp=null,rh=1024;class rm{#h(e){if(e.isArray())return new tm(this.#h(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new tP(e.components.map(e=>this.#h(e)),e.name);switch(e.baseType){case"address":return new td(e.name);case"bool":return new tg(e.name);case"string":return new tE(e.name);case"bytes":return new ty(e.name);case"":return new tw(e.name)}let t=e.type.match(rf);if(t){let r=parseInt(t[2]||"256");return d(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new tT(r/8,"int"===t[1],e.name)}if(t=e.type.match(rd)){let r=parseInt(t[1]);return d(0!==r&&r<=32,"invalid bytes length","param",e),new tx(r,e.name)}d(!1,"invalid type","type",e.type)}getDefaultValue(e){return new tP(e.map(e=>this.#h(re.from(e))),"_").defaultValue()}encode(e,t){f(t.length,e.length,"types/values length mismatch");let r=new tP(e.map(e=>this.#h(re.from(e))),"_"),i=new eu;return r.encode(i,t),i.data}decode(e,t,r){return new tP(e.map(e=>this.#h(re.from(e))),"_").decode(new el(t,r,rh))}static _setDefaultMaxInflation(e){d("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),rh=e}static defaultAbiCoder(){return null==rp&&(rp=new rm),rp}static getBuiltinCallException(e,t,r){return function(e,t,r,i){let n="missing revert data",a=null,o=null;if(r){n="execution reverted";let e=b(r);if(r=v(r),0===e.length)n+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)n+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===v(e.slice(0,4)))try{a=i.decode(["string"],e.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[a]},n+=`: ${JSON.stringify(a)}`}catch(e){n+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===v(e.slice(0,4)))try{let t=Number(i.decode(["uint256"],e.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${rc.get(t)||"UNKNOWN"}(${t})`,n+=`: ${a}`}catch(e){n+=" (could not decode panic code)"}else n+=" (unknown custom error)"}let s={to:t.to?tn(t.to):null,data:t.data||"0x"};return t.from&&(s.from=tn(t.from)),l(n,"CALL_EXCEPTION",{action:e,data:r,reason:a,transaction:s,invocation:null,revert:o})}(e,t,r,rm.defaultAbiCoder())}}e.s(["AbiCoder",()=>rm],897567);class rg{fragment;name;signature;topic;args;constructor(e,t,r){const i=e.name,n=e.format();a(this,{fragment:e,name:i,signature:n,topic:t,args:r})}}class rb{fragment;name;args;signature;selector;value;constructor(e,t,r,i){const n=e.name,o=e.format();a(this,{fragment:e,name:n,args:r,signature:o,selector:t,value:i})}}class ry{fragment;name;args;signature;selector;constructor(e,t,r){const i=e.name,n=e.format();a(this,{fragment:e,name:i,args:r,signature:n,selector:t})}}class rx{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){a(this,{hash:e,_isIndexed:!0})}}let rA={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},rw={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&rA[e.toString()]&&(t=rA[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class rv{fragments;deploy;fallback;receive;#m;#g;#b;#y;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#b=new Map,this.#m=new Map,this.#g=new Map;const r=[];for(const e of t)try{r.push(rt.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}a(this,{fragments:Object.freeze(r)});let i=null,n=!1;this.#y=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy)return void console.log("duplicate definition - constructor");a(this,{deploy:e});return;case"fallback":0===e.inputs.length?n=!0:(d(!i||e.payable!==i.payable,"conflicting fallback fragments",`fragments[${t}]`,e),n=(i=e).payable);return;case"function":r=this.#b;break;case"event":r=this.#g;break;case"error":r=this.#m;break;default:return}let o=e.format();r.has(o)||r.set(o,e)}),this.deploy||a(this,{deploy:ro.from("constructor()")}),a(this,{fallback:i,receive:n})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return rm.defaultAbiCoder()}#x(e,t,r){if(x(e)){let t=e.toLowerCase();for(let e of this.#b.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let i=[];for(let[t,r]of this.#b)t.split("(")[0]===e&&i.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,n=!0;tc.isTyped(e)&&"overrides"===e.type&&(n=!1,r--);for(let e=i.length-1;e>=0;e--){let t=i[e].inputs.length;t===r||n&&t===r-1||i.splice(e,1)}for(let e=i.length-1;e>=0;e--){let r=i[e].inputs;for(let n=0;n<t.length;n++)if(tc.isTyped(t[n])){if(n>=r.length){if("overrides"===t[n].type)continue;i.splice(e,1);break}if(t[n].type!==r[n].baseType){i.splice(e,1);break}}}}if(1===i.length&&t&&t.length!==i[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&i.splice(0,1)}if(0===i.length)return null;if(i.length>1&&r){let t=i.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return i[0]}let i=this.#b.get(ru.from(e).format());return i||null}getFunctionName(e){let t=this.#x(e,null,!1);return d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#x(e,null,!1)}getFunction(e,t){return this.#x(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#b.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let i=t[r];e(this.#b.get(i),r)}}#A(e,t,r){if(x(e)){let t=e.toLowerCase();for(let e of this.#g.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let i=[];for(let[t,r]of this.#g)t.split("(")[0]===e&&i.push(r);if(t){for(let e=i.length-1;e>=0;e--)i[e].inputs.length<t.length&&i.splice(e,1);for(let e=i.length-1;e>=0;e--){let r=i[e].inputs;for(let n=0;n<t.length;n++)if(tc.isTyped(t[n])&&t[n].type!==r[n].baseType){i.splice(e,1);break}}}if(0===i.length)return null;if(i.length>1&&r){let t=i.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return i[0]}let i=this.#g.get(ra.from(e).format());return i||null}getEventName(e){let t=this.#A(e,null,!1);return d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#A(e,null,!1)}getEvent(e,t){return this.#A(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#g.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let i=t[r];e(this.#g.get(i),r)}}getError(e,t){if(x(e)){let t=e.toLowerCase();if(rw[t])return rn.from(rw[t].signature);for(let e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,i]of this.#m)r.split("(")[0]===e&&t.push(i);if(0===t.length)return"Error"===e?rn.from("error Error(string)"):"Panic"===e?rn.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=rn.from(e).format()))return rn.from("error Error(string)");if("Panic(uint256)"===e)return rn.from("error Panic(uint256)");let r=this.#m.get(e);return r||null}forEachError(e){let t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let i=t[r];e(this.#m.get(i),r)}}_decodeParams(e,t){return this.#y.decode(e,t)}_encodeParams(e,t){return this.#y.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return d(T(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,T(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return S([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return d(T(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,T(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return S([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",i=y(t);if(i.length%32==0)try{return this.#y.decode(e.outputs,i)}catch(e){r="could not decode result data"}c(!1,r,"BAD_DATA",{value:v(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=b(e,"data"),i=rm.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){let e=v(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#y.decode(t.inputs,r.slice(4));i.revert={name:t.name,signature:t.format(),args:e},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch(e){i.message="execution reverted (coult not decode custom error)"}}let n=this.parseTransaction(t);return n&&(i.invocation={method:n.name,signature:n.signature,args:n.args}),i}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return v(this.#y.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}c(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let i=(e,t)=>"string"===e.type?tI(t):"bytes"===e.type?e8(v(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=Q(t):e.type.match(/^bytes/)?t=_(t,32):"address"===e.type&&this.#y.encode(["address"],[t]),I(v(t),32));for(t.forEach((t,n)=>{let a=e.inputs[n];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?d(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map(e=>i(a,e))):r.push(i(a,t)):d(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}let r=[],i=[],n=[];return e.anonymous||r.push(e.topicHash),d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,a)=>{let o=t[a];if(e.indexed)if("string"===e.type)r.push(tI(o));else if("bytes"===e.type)r.push(e8(o));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#y.encode([e.type],[o]));else i.push(e),n.push(o)}),{data:this.#y.encode(i,n),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;d(x(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let i=[],n=[],a=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(i.push(re.from({type:"bytes32",name:e.name})),a.push(!0)):(i.push(e),a.push(!1)):(n.push(e),a.push(!1))});let o=null!=r?this.#y.decode(i,S(r)):null,s=this.#y.decode(n,t,!0),u=[],l=[],c=0,f=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed)if(null==o)r=new rx(null);else if(a[t])r=new rx(o[f++]);else try{r=o[f++]}catch(e){r=e}else try{r=s[c++]}catch(e){r=e}u.push(r),l.push(e.name||null)}),en.fromItems(u,l)}parseTransaction(e){let t=b(e.data,"tx.data"),r=V(null!=e.value?e.value:0,"tx.value"),i=this.getFunction(v(t.slice(0,4)));if(!i)return null;let n=this.#y.decode(i.inputs,t.slice(4));return new rb(i,i.selector,n,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new rg(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=v(e),r=this.getError(T(t,0,4));if(!r)return null;let i=this.#y.decode(r.inputs,T(t,4));return new ry(r,r.selector,i)}static from(e){return e instanceof rv?e:new rv("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}function rS(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}e.s(["ErrorDescription",()=>ry,"Indexed",()=>rx,"Interface",()=>rv,"LogDescription",()=>rg,"TransactionDescription",()=>rb],222194);let rk="0123456789abcdef";function rT(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let i=rS(r.length);return i.unshift(247+i.length),i.concat(r)}let r=Array.prototype.slice.call(b(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let i=rS(r.length);return i.unshift(183+i.length),i.concat(r)}(e))t+=rk[r>>4],t+=rk[15&r];return t}function rE(e){let t=tn(e.from),r=V(e.nonce,"tx.nonce").toString(16);return tn(T(e8(rT([t,r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r])),12))}function rP(e,t,r){let i=tn(e),n=b(t,"salt"),a=b(r,"initCodeHash");return d(32===n.length,"salt must be 32 bytes","salt",t),d(32===a.length,"initCodeHash must be 32 bytes","initCodeHash",r),tn(T(e8(S(["0xff",i,n,a])),12))}function rI(e){return e&&"function"==typeof e.getAddress}function r_(e){try{return tn(e),!0}catch(e){}return!1}async function rN(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(c("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),d(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),tn(r)}function rR(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?tn(e):(c(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),rN(e,t.resolveName(e))):rI(e)?rN(e,e.getAddress()):e&&"function"==typeof e.then?rN(e,e):void d(!1,"unsupported addressable value","target",e)}e.s(["encodeRlp",()=>rT],798530),e.s(["getCreate2Address",()=>rP,"getCreateAddress",()=>rE],782045),e.s(["isAddress",()=>r_,"isAddressable",()=>rI,"resolveAddress",()=>rR],93323),e.s(["ZeroAddress",0,"0x0000000000000000000000000000000000000000"],33725);let rO=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rB=BigInt("1000000000000000000"),rC=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rD=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),rF=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.s(["MaxInt256",0,rF,"MaxUint256",0,rC,"MinInt256",0,rD,"N",0,rO,"WeiPerEther",0,rB],420440);let rU="0x0000000000000000000000000000000000000000000000000000000000000000";function rM(e,t){return{address:tn(e),storageKeys:t.map((e,t)=>(d(x(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function rL(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(d(2===t.length,"invalid slot set",`value[${r}]`,t),rM(t[0],t[1])):(d(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),rM(t.address,t.storageKeys)));d(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rM(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}e.s(["ZeroHash",0,rU],244010),e.s(["EtherSymbol",0,"","MessagePrefix",0,"\x19Ethereum Signed Message:\n"],193826),e.s(["accessListify",()=>rL],360738);let rq=BigInt(0);function rK(e){return null==e?null:e}function rW(e){return null==e?null:e.toString()}class rV{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){a(this,{gasPrice:rK(e),maxFeePerGas:rK(t),maxPriorityFeePerGas:rK(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:rW(e),maxFeePerGas:rW(t),maxPriorityFeePerGas:rW(r)}}}function rG(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=v(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=V(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=H(e[r],`request.${r}`));return e.accessList&&(t.accessList=rL(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>A(e)?v(e):Object.assign({},e))),t}class rj{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#w;constructor(e,t){this.#w=e.transactions.map(e=>"string"!=typeof e?new rX(e,t):e),a(this,{provider:t,hash:rK(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:rK(e.prevRandao),extraData:e.extraData,baseFeePerGas:rK(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#w.map(e=>"string"==typeof e?e:e.hash)}get prefetchedTransactions(){let e=this.#w.slice();return 0===e.length?[]:(c("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:i,gasUsed:n,hash:a,miner:o,prevRandao:s,nonce:u,number:l,parentHash:c,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,timestamp:h,transactions:m}=this;return{_type:"Block",baseFeePerGas:rW(e),difficulty:rW(t),extraData:r,gasLimit:rW(i),gasUsed:rW(n),blobGasUsed:rW(this.blobGasUsed),excessBlobGas:rW(this.excessBlobGas),hash:a,miner:o,prevRandao:s,nonce:u,number:l,parentHash:c,timestamp:h,parentBeaconBlockRoot:d,stateRoot:f,receiptsRoot:p,transactions:m}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#w.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#w[e];else{let r=e.toLowerCase();for(let e of this.#w)if("string"==typeof e){if(e!==r)continue;t=e;break}else{if(e.hash!==r)continue;t=e;break}}if(null==t)throw Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if("number"==typeof e)return t[e];for(let r of(e=e.toLowerCase(),t))if(r.hash===e)return r;d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){var e;if(!this.isMined())throw Error("");return e=this,{orphan:"drop-block",hash:e.hash,number:e.number}}}class rz{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());a(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:i,index:n,removed:a,topics:o,transactionHash:s,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:n,removed:a,topics:o,transactionHash:s,transactionIndex:u}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return c(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){var e;return e=this,{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}}class rH{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#v;constructor(e,t){this.#v=Object.freeze(e.logs.map(e=>new rz(e,t)));let r=rq;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),a(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#v}toJSON(){let{to:e,from:t,contractAddress:r,hash:i,index:n,blockHash:a,blockNumber:o,logsBloom:s,logs:u,status:l,root:c}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:rW(this.cumulativeGasUsed),from:t,gasPrice:rW(this.gasPrice),blobGasUsed:rW(this.blobGasUsed),blobGasPrice:rW(this.blobGasPrice),gasUsed:rW(this.gasUsed),hash:i,index:n,logs:u,logsBloom:s,root:c,status:l,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rJ(this)}reorderedEvent(e){return c(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),rQ(this,e)}}class rX{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#S;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,this.#S=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:i,type:n,to:a,from:o,nonce:s,data:u,signature:l,accessList:c,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:rW(this.chainId),data:u,from:o,gasLimit:rW(this.gasLimit),gasPrice:rW(this.gasPrice),hash:i,maxFeePerGas:rW(this.maxFeePerGas),maxPriorityFeePerGas:rW(this.maxPriorityFeePerGas),maxFeePerBlobGas:rW(this.maxFeePerBlobGas),nonce:s,signature:l,to:a,index:r,type:n,value:rW(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await n({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,i=null==t?0:t,a=this.#S,o=-1,u=-1===a,d=async()=>{if(u)return null;let{blockNumber:e,nonce:t}=await n({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){a=e;return}if(u)return null;let i=await this.getTransaction();if(!i||null==i.blockNumber)for(-1===o&&(o=a-3)<this.#S&&(o=this.#S);o<=e;){if(u)return null;let t=await this.provider.getBlock(o,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let i=0;i<t.length;i++){let n=await t.getTransaction(i);if(n.from===this.from&&n.nonce===this.nonce){if(u)return null;let t=await this.provider.getTransactionReceipt(n.hash);if(null==t||e-t.blockNumber+1<r)return;let i="replaced";n.data===this.data&&n.to===this.to&&n.value===this.value?i="repriced":"0x"===n.data&&n.from===n.to&&n.value===rq&&(i="cancelled"),c(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:n.replaceableTransaction(a),hash:n.hash,receipt:t})}}o++}},f=e=>{if(null==e||0!==e.status)return e;c(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},p=await this.provider.getTransactionReceipt(this.hash);if(0===r)return f(p);if(p){if(1===r||await p.confirmations()>=r)return f(p)}else if(await d(),0===r)return null;let h=new Promise((e,t)=>{let n=[],o=()=>{n.forEach(e=>e())};if(n.push(()=>{u=!0}),i>0){let e=setTimeout(()=>{o(),t(l("wait for transaction timeout","TIMEOUT"))},i);n.push(()=>{clearTimeout(e)})}let c=async i=>{if(await i.confirmations()>=r){o();try{e(f(i))}catch(e){t(e)}}};if(n.push(()=>{this.provider.off(this.hash,c)}),this.provider.on(this.hash,c),a>=0){let e=async()=>{try{await d()}catch(e){if(s(e,"TRANSACTION_REPLACED")){o(),t(e);return}}u||this.provider.once("block",e)};n.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await h}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rJ(this)}reorderedEvent(e){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),c(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rQ(this,e)}replaceableTransaction(e){d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new rX(this,this.provider);return t.#S=e,t}}function rQ(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function rJ(e){return{orphan:"drop-transaction",tx:e}}e.s(["Block",()=>rj,"FeeData",()=>rV,"Log",()=>rz,"TransactionReceipt",()=>rH,"TransactionResponse",()=>rX,"copyRequest",()=>rG],851047);class rY{filter;emitter;#k;constructor(e,t,r){this.#k=t,a(this,{emitter:e,filter:r})}async removeListener(){null!=this.#k&&await this.emitter.off(this.filter,this.#k)}}e.s(["EventPayload",()=>rY],477808);class rZ extends rz{interface;fragment;args;constructor(e,t,r){super(e,e.provider),a(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class r$ extends rz{error;constructor(e,t){super(e,e.provider),a(this,{error:t})}}class r0 extends rH{#T;constructor(e,t,r){super(r,t),this.#T=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#T.getEvent(e.topics[0]):null;if(t)try{return new rZ(e,this.#T,t)}catch(t){return new r$(e,t)}return e})}}class r1 extends rX{#T;constructor(e,t,r){super(r,t),this.#T=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new r0(this.#T,this.provider,r)}}class r2 extends rY{log;constructor(e,t,r,i){super(e,t,r),a(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class r4 extends r2{constructor(e,t,r,i,n){super(e,t,r,new rZ(n,e.interface,i)),a(this,{args:e.interface.decodeEventLog(i,this.log.data,this.log.topics),fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}e.s(["ContractEventPayload",()=>r4,"ContractTransactionReceipt",()=>r0,"ContractTransactionResponse",()=>r1,"ContractUnknownEventPayload",()=>r2,"EventLog",()=>rZ,"UndecodedEventLog",()=>r$],474112);let r6=BigInt(0);function r3(e){return e&&"function"==typeof e.call}function r5(e){return e&&"function"==typeof e.estimateGas}function r8(e){return e&&"function"==typeof e.resolveName}function r7(e){return e&&"function"==typeof e.sendTransaction}function r9(e){if(null!=e){if(r8(e))return e;if(e.provider)return e.provider}}class ie{#E;fragment;constructor(e,t,r){if(a(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");const i=it(e.runner,"resolveName"),n=r8(i)?i:null;this.#E=async function(){let i=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>rR(e,n))):rR(t,n):t)));return e.interface.encodeFilterTopics(t,i)}()}getTopicFilter(){return this.#E}}function it(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function ir(e){return null==e?null:e.provider||null}async function ii(e,t){let r=tc.dereference(e,"overrides");d("object"==typeof r,"invalid overrides parameter","overrides",e);let i=rG(r);return d(null==i.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),d(null==i.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),i}async function ia(e,t,r){let i=it(e,"resolveName"),n=r8(i)?i:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=tc.dereference(t,e),"address"===e)?rR(t,n):t)))}let io=Symbol.for("_ethersInternal_contract"),is=new WeakMap;function iu(e){return is.get(e[io])}async function il(e,t){let r,i=null;if(Array.isArray(t)){let i=function(t){if(x(t,32))return t;let r=e.interface.getEvent(t);return d(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(i):i(e))}else if("*"===t)r=[null];else if("string"==typeof t)x(t,32)?r=[t]:(d(i=e.interface.getEvent(t),"unknown fragment","event",t),r=[i.topicHash]);else t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment?r=await t.getTopicFilter():"fragment"in t?r=[(i=t.fragment).topicHash]:d(!1,"unknown event name","event",t);return{fragment:i,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function ic(e,t){let{subs:r}=iu(e);return r.get((await il(e,t)).tag)||null}async function id(e,t,r){let i=ir(e.runner);c(i,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:n,tag:a,topics:o}=await il(e,r),{addr:s,subs:u}=iu(e),l=u.get(a);if(!l){let t={address:s||e,topics:o},c=t=>{let i=n;if(null==i)try{i=e.interface.getEvent(t.topics[0])}catch(e){}if(i){let a=i,o=n?e.interface.decodeEventLog(n,t.data,t.topics):[];im(e,r,o,i=>new r4(e,i,r,a,t))}else im(e,r,[],i=>new r2(e,i,r,t))},d=[];l={tag:a,listeners:[],start:()=>{d.length||d.push(i.on(t,c))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),i.off(t,c)}},u.set(a,l)}return l}let ip=Promise.resolve();async function ih(e,t,r,i){await ip;let n=await ic(e,t);if(!n)return!1;let a=n.listeners.length;return n.listeners=n.listeners.filter(({listener:t,once:n})=>{let a=Array.from(r);i&&a.push(i(n?null:t));try{t.call(e,...a)}catch(e){}return!n}),0===n.listeners.length&&(n.stop(),iu(e).subs.delete(n.tag)),a>0}async function im(e,t,r,i){try{await ip}catch(e){}let n=ih(e,t,r,i);return ip=n,await n}let ig=["then"];class ib{target;interface;runner;filters;[io];fallback;constructor(e,t,r,i){var n;let o;d("string"==typeof e||rI(e),"invalid value for Contract target","target",e),null==r&&(r=null);const f=rv.from(t);a(this,{target:e,runner:r,interface:f}),Object.defineProperty(this,io,{value:{}});let p=null,h=null;if(i){const e=ir(r);h=new r1(this.interface,e,i)}let m=new Map;if("string"==typeof e)if(x(e))p=e,o=Promise.resolve(e);else{const t=it(r,"resolveName");if(!r8(t))throw l("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=t.resolveName(e).then(t=>{if(null==t)throw l("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return iu(this).addr=t,t})}else o=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return iu(this).addr=e,e});return n={addrPromise:o,addr:p,deployTx:h,subs:m},is.set(this[io],n),a(this,{filters:new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||ig.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!s(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>ig.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))})}),a(this,{fallback:f.receive||f.fallback?function(e){let t=async function(t){let r=await ii(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await rR(r.from,r9(e.runner)));let i=e.interface,n=V(r.value||r6,"overrides.value")===r6,a="0x"===(r.data||"0x");return!i.fallback||i.fallback.payable||!i.receive||a||n||d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),d(i.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),d(i.receive||i.fallback&&i.fallback.payable||n,"cannot send value to non-payable fallback","overrides.value",r.value),d(i.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let i=it(e.runner,"call");c(r3(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let n=await t(r);try{return await i.call(n)}catch(t){if(u(t)&&t.data)throw e.interface.makeError(t.data,n);throw t}},i=async function(r){let i=e.runner;c(r7(i),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await i.sendTransaction(await t(r)),a=ir(e.runner);return new r1(e.interface,a,n)},n=async function(r){let i=it(e.runner,"estimateGas");return c(r5(i),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await i.estimateGas(await t(r))},o=async e=>await i(e);return a(o,{_contract:e,estimateGas:n,populateTransaction:t,send:i,staticCall:r}),o}(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||ig.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!s(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||ig.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new ib(this.target,this.interface,e)}attach(e){return new ib(e,this.interface,this.runner)}async getAddress(){return await iu(this).addrPromise}async getDeployedCode(){let e=ir(this.runner);c(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=ir(this.runner);return c(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let i=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",i)}catch(e){r(e)}};i()})}deploymentTransaction(){return iu(this).deployTx}getFunction(e){var t,r;let i,o,s,l,d,f,p;return"string"!=typeof e&&(e=e.format()),t=this,r=e,i=function(...e){let i=t.interface.getFunction(r,e);return c(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),i},o=async function(...e){let r=i(...e),a={};if(r.inputs.length+1===e.length&&(a=await ii(e.pop())).from&&(a.from=await rR(a.from,r9(t.runner))),r.inputs.length!==e.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let o=await ia(t.runner,r.inputs,e);return Object.assign({},a,await n({to:t.getAddress(),data:t.interface.encodeFunctionData(r,o)}))},s=async function(...e){let t=await f(...e);return 1===t.length?t[0]:t},l=async function(...e){let r=t.runner;c(r7(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await r.sendTransaction(await o(...e)),n=ir(t.runner);return new r1(t.interface,n,i)},d=async function(...e){let r=it(t.runner,"estimateGas");return c(r5(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await o(...e))},f=async function(...e){let r=it(t.runner,"call");c(r3(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let n=await o(...e),a="0x";try{a=await r.call(n)}catch(e){if(u(e)&&e.data)throw t.interface.makeError(e.data,n);throw e}let s=i(...e);return t.interface.decodeFunctionResult(s,a)},a(p=async(...e)=>i(...e).constant?await s(...e):await l(...e),{name:t.interface.getFunctionName(r),_contract:t,_key:r,getFragment:i,estimateGas:d,populateTransaction:o,send:l,staticCall:s,staticCallResult:f}),Object.defineProperty(p,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getFunction(r);return c(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),p}getEvent(e){var t,r;let i,n;return"string"!=typeof e&&(e=e.format()),t=this,r=e,i=function(...e){let i=t.interface.getEvent(r,e);return c(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),i},a(n=function(...e){return new ie(t,i(...e),e)},{name:t.interface.getEventName(r),_contract:t,_key:r,getFragment:i}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getEvent(r);return c(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),n}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:i,addrPromise:n}=iu(this),a=i||await n,{fragment:o,topics:s}=await il(this,e),u={address:a,topics:s,fromBlock:t,toBlock:r},l=ir(this.runner);return c(l,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await l.getLogs(u)).map(e=>{let t=o;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new rZ(e,this.interface,t)}catch(t){return new r$(e,t)}return new rz(e,l)})}async on(e,t){let r=await id(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await id(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await im(this,e,t,null)}async listenerCount(e){if(e){let t=await ic(this,e);return t?t.listeners.length:0}let{subs:t}=iu(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await ic(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=iu(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await ic(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),iu(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await ic(this,e);if(!t)return this;t.stop(),iu(this).subs.delete(t.tag)}else{let{subs:e}=iu(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends ib{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function iy(){return ib}class ix extends iy(){}e.s(["BaseContract",()=>ib,"Contract",()=>ix,"copyOverrides",()=>ii,"resolveArgs",()=>ia],67881);class iA{interface;bytecode;runner;constructor(e,t,r){const i=rv.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),a(this,{bytecode:t=v(b(t)),interface:i,runner:r||null})}attach(e){return new ib(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await ii(e.pop())),r.inputs.length!==e.length)throw Error("incorrect number of arguments to constructor");let i=await ia(this.runner,r.inputs,e);return Object.assign({},t,{data:S([this.bytecode,this.interface.encodeDeploy(i)])})}async deploy(...e){let t=await this.getDeployTransaction(...e);c(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(t);return new ib(rE(r),this.interface,this.runner,r)}connect(e){return new iA(this.interface,this.bytecode,e)}static fromSolidity(e,t){d(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}}e.s(["ContractFactory",()=>iA],372418);class iw extends eM{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,ef(e);const r=eU(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,n=new Uint8Array(i);n.set(r.length>i?e.create().update(r).digest():r);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),n.fill(0)}update(e){return ep(this),this.iHash.update(e),this}digestInto(e){ep(this),ed(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:i,destroyed:n,blockLen:a,outputLen:o}=this;return e.finished=i,e.destroyed=n,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let iv=(e,t,r)=>new iw(e,t).update(r).digest();function iS(e,t,r,i){var n;let a,{c:o,dkLen:s,DK:u,PRF:l,PRFSalt:c}=function(e,t,r,i){ef(e);let{c:n,dkLen:a,asyncTick:o}=eq({dkLen:32,asyncTick:10},i);if(ec(n),ec(a),ec(o),n<1)throw Error("PBKDF2: iterations (c) should be >= 1");let s=eU(t),u=eU(r),l=new Uint8Array(a),c=iv.create(e,s),d=c._cloneInto().update(u);return{c:n,dkLen:a,asyncTick:o,DK:l,PRF:c,PRFSalt:d}}(e,t,r,i),d=new Uint8Array(4),f=eB(d),p=new Uint8Array(l.outputLen);for(let e=1,t=0;t<s;e++,t+=l.outputLen){let r=u.subarray(t,t+l.outputLen);f.setInt32(0,e,!1),(a=c._cloneInto(a)).update(d).digestInto(p),r.set(p.subarray(0,r.length));for(let e=1;e<o;e++){l._cloneInto(a).update(p).digestInto(p);for(let e=0;e<r.length;e++)r[e]^=p[e]}}return n=a,l.destroy(),c.destroy(),n&&n.destroy(),p.fill(0),u}iv.create=(e,t)=>new iw(e,t);class ik extends eM{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=eB(this.buffer)}update(e){ep(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=eU(e)).length;for(let a=0;a<n;){let o=Math.min(i-this.pos,n-a);if(o===i){let t=eB(e);for(;i<=n-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ep(this),eh(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),a=BigInt(0xffffffff),o=Number(r>>n&a),s=Number(r&a),u=4*!!i,l=4*!i;e.setUint32(t+u,o,i),e.setUint32(t+l,s,i)}(r,i-8,BigInt(8*this.length),n),this.process(r,0);let o=eB(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)o.setUint32(4*e,l[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=a,i%t&&e.buffer.set(r),e}}let iT=(e,t,r)=>e&t^~e&r,iE=(e,t,r)=>e&t^e&r^t&r,iP=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),iI=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),i_=new Uint32Array(64);class iN extends ik{constructor(){super(64,32,8,!1),this.A=0|iI[0],this.B=0|iI[1],this.C=0|iI[2],this.D=0|iI[3],this.E=0|iI[4],this.F=0|iI[5],this.G=0|iI[6],this.H=0|iI[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:a,G:o,H:s}=this;return[e,t,r,i,n,a,o,s]}set(e,t,r,i,n,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)i_[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=i_[e-15],r=i_[e-2],i=eC(t,7)^eC(t,18)^t>>>3,n=eC(r,17)^eC(r,19)^r>>>10;i_[e]=n+i_[e-7]+i+i_[e-16]|0}let{A:r,B:i,C:n,D:a,E:o,F:s,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(eC(o,6)^eC(o,11)^eC(o,25))+iT(o,s,u)+iP[e]+i_[e]|0,c=(eC(r,2)^eC(r,13)^eC(r,22))+iE(r,i,n)|0;l=u,u=s,s=o,o=a+t|0,a=n,n=i,i=r,r=t+c|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,n,a,o,s,u,l)}roundClean(){i_.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let iR=eK(()=>new iN),[iO,iB]=eb(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iC=new Uint32Array(80),iD=new Uint32Array(80);class iF extends ik{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:i,Ch:n,Cl:a,Dh:o,Dl:s,Eh:u,El:l,Fh:c,Fl:d,Gh:f,Gl:p,Hh:h,Hl:m}=this;return[e,t,r,i,n,a,o,s,u,l,c,d,f,p,h,m]}set(e,t,r,i,n,a,o,s,u,l,c,d,f,p,h,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|i,this.Ch=0|n,this.Cl=0|a,this.Dh=0|o,this.Dl=0|s,this.Eh=0|u,this.El=0|l,this.Fh=0|c,this.Fl=0|d,this.Gh=0|f,this.Gl=0|p,this.Hh=0|h,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)iC[r]=e.getUint32(t),iD[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|iC[e-15],r=0|iD[e-15],i=eA(t,r,1)^eA(t,r,8)^ey(t,r,7),n=ew(t,r,1)^ew(t,r,8)^ex(t,r,7),a=0|iC[e-2],o=0|iD[e-2],s=eA(a,o,19)^ev(a,o,61)^ey(a,o,6),u=eP(n,ew(a,o,19)^eS(a,o,61)^ex(a,o,6),iD[e-7],iD[e-16]),l=eI(u,i,s,iC[e-7],iC[e-16]);iC[e]=0|l,iD[e]=0|u}let{Ah:r,Al:i,Bh:n,Bl:a,Ch:o,Cl:s,Dh:u,Dl:l,Eh:c,El:d,Fh:f,Fl:p,Gh:h,Gl:m,Hh:g,Hl:b}=this;for(let e=0;e<80;e++){let t=eA(c,d,14)^eA(c,d,18)^ev(c,d,41),y=ew(c,d,14)^ew(c,d,18)^eS(c,d,41),x=c&f^~c&h,A=eN(b,y,d&p^~d&m,iB[e],iD[e]),w=e_(A,g,t,x,iO[e],iC[e]),v=0|A,S=eA(r,i,28)^ev(r,i,34)^ev(r,i,39),k=ew(r,i,28)^eS(r,i,34)^eS(r,i,39),T=r&n^r&o^n&o,E=i&a^i&s^a&s;g=0|h,b=0|m,h=0|f,m=0|p,f=0|c,p=0|d,({h:c,l:d}=ek(0|u,0|l,0|w,0|v)),u=0|o,l=0|s,o=0|n,s=0|a,n=0|r,a=0|i;let P=eT(v,k,E);r=eE(P,w,S,T),i=0|P}({h:r,l:i}=ek(0|this.Ah,0|this.Al,0|r,0|i)),({h:n,l:a}=ek(0|this.Bh,0|this.Bl,0|n,0|a)),({h:o,l:s}=ek(0|this.Ch,0|this.Cl,0|o,0|s)),({h:u,l:l}=ek(0|this.Dh,0|this.Dl,0|u,0|l)),({h:c,l:d}=ek(0|this.Eh,0|this.El,0|c,0|d)),({h:f,l:p}=ek(0|this.Fh,0|this.Fl,0|f,0|p)),({h:h,l:m}=ek(0|this.Gh,0|this.Gl,0|h,0|m)),({h:g,l:b}=ek(0|this.Hh,0|this.Hl,0|g,0|b)),this.set(r,i,n,a,o,s,u,l,c,d,f,p,h,m,g,b)}roundClean(){iC.fill(0),iD.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let iU=eK(()=>new iF),iM="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,iL=iM.crypto||iM.msCrypto;function iq(e){switch(e){case"sha256":return iR.create();case"sha512":return iU.create()}d(!1,"invalid hashing algorithm name","algorithm",e)}let iK=!1,iW=function(e,t,r){let i;return(d(null!=(i=({sha256:iR,sha512:iU})[e]),"invalid hmac algorithm","algorithm",e),iv.create(i,t)).update(r).digest()},iV=iW;function iG(e,t,r){let i=b(t,"key"),n=b(r,"data");return v(iV(e,i,n))}iG._=iW,iG.lock=function(){iK=!0},iG.register=function(e){if(iK)throw Error("computeHmac is locked");iV=e},Object.freeze(iG),e.s(["computeHmac",()=>iG],485685);let ij=!1,iz=function(e){let t;return new Uint8Array((c(null!=iL,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),d(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e),t=new Uint8Array(e),iL.getRandomValues(t),t))},iH=iz;function iX(e){return iH(e)}iX._=iz,iX.lock=function(){ij=!0},iX.register=function(e){if(ij)throw Error("randomBytes is locked");iH=e},Object.freeze(iX),e.s(["randomBytes",()=>iX],394944);let iQ=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),iJ=Uint8Array.from({length:16},(e,t)=>t),iY=iJ.map(e=>(9*e+5)%16),iZ=[iJ],i$=[iY];for(let e=0;e<4;e++)for(let t of[iZ,i$])t.push(t[e].map(e=>iQ[e]));let i0=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),i1=iZ.map((e,t)=>e.map(e=>i0[t][e])),i2=i$.map((e,t)=>e.map(e=>i0[t][e])),i4=new Uint32Array([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),i6=new Uint32Array([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),i3=(e,t)=>e<<t|e>>>32-t;function i5(e,t,r,i){return 0===e?t^r^i:1===e?t&r|~t&i:2===e?(t|~r)^i:3===e?t&i|r&~i:t^(r|~i)}let i8=new Uint32Array(16);class i7 extends ik{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){let{h0:e,h1:t,h2:r,h3:i,h4:n}=this;return[e,t,r,i,n]}set(e,t,r,i,n){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|i,this.h4=0|n}process(e,t){for(let r=0;r<16;r++,t+=4)i8[r]=e.getUint32(t,!0);let r=0|this.h0,i=r,n=0|this.h1,a=n,o=0|this.h2,s=o,u=0|this.h3,l=u,c=0|this.h4,d=c;for(let e=0;e<5;e++){let t=4-e,f=i4[e],p=i6[e],h=iZ[e],m=i$[e],g=i1[e],b=i2[e];for(let t=0;t<16;t++){let i=i3(r+i5(e,n,o,u)+i8[h[t]]+f,g[t])+c|0;r=c,c=u,u=0|i3(o,10),o=n,n=i}for(let e=0;e<16;e++){let r=i3(i+i5(t,a,s,l)+i8[m[e]]+p,b[e])+d|0;i=d,d=l,l=0|i3(s,10),s=a,a=r}}this.set(this.h1+o+l|0,this.h2+u+d|0,this.h3+c+i|0,this.h4+r+a|0,this.h0+n+s|0)}roundClean(){i8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let i9=eK(()=>new i7),ne=!1,nt=function(e){return i9(e)},nr=nt;function ni(e){let t=b(e,"data");return v(nr(t))}ni._=nt,ni.lock=function(){ne=!0},ni.register=function(e){if(ne)throw TypeError("ripemd160 is locked");nr=e},Object.freeze(ni),e.s(["ripemd160",()=>ni],961018);let nn=function(e){return iq("sha256").update(e).digest()},na=function(e){return iq("sha512").update(e).digest()},no=nn,ns=na,nu=!1,nl=!1;function nc(e){let t=b(e,"data");return v(no(t))}function nd(e){let t=b(e,"data");return v(ns(t))}nc._=nn,nc.lock=function(){nu=!0},nc.register=function(e){if(nu)throw Error("sha256 is locked");no=e},Object.freeze(nc),nd._=na,nd.lock=function(){nl=!0},nd.register=function(e){if(nl)throw Error("sha512 is locked");ns=e},Object.freeze(nc),e.s(["sha256",()=>nc,"sha512",()=>nd],63637);let nf=!1,np=function(e,t,r,i,n){let a;return d(null!=(a=({sha256:iR,sha512:iU})[n]),"invalid pbkdf2 algorithm","algorithm",n),iS(a,e,t,{c:r,dkLen:i})},nh=np;function nm(e,t,r,i,n){let a=b(e,"password"),o=b(t,"salt");return v(nh(a,o,r,i,n))}nm._=np,nm.lock=function(){nf=!0},nm.register=function(e){if(nf)throw Error("pbkdf2 is locked");nh=e},Object.freeze(nm),e.s(["pbkdf2",()=>nm],767397);let ng=(e,t)=>e<<t|e>>>32-t;function nb(e,t,r,i,n,a){let o=e[t++]^r[i++],s=e[t++]^r[i++],u=e[t++]^r[i++],l=e[t++]^r[i++],c=e[t++]^r[i++],d=e[t++]^r[i++],f=e[t++]^r[i++],p=e[t++]^r[i++],h=e[t++]^r[i++],m=e[t++]^r[i++],g=e[t++]^r[i++],b=e[t++]^r[i++],y=e[t++]^r[i++],x=e[t++]^r[i++],A=e[t++]^r[i++],w=e[t++]^r[i++],v=o,S=s,k=u,T=l,E=c,P=d,I=f,_=p,N=h,R=m,O=g,B=b,C=y,D=x,F=A,U=w;for(let e=0;e<8;e+=2)E^=ng(v+C|0,7),N^=ng(E+v|0,9),C^=ng(N+E|0,13),v^=ng(C+N|0,18),R^=ng(P+S|0,7),D^=ng(R+P|0,9),S^=ng(D+R|0,13),P^=ng(S+D|0,18),F^=ng(O+I|0,7),k^=ng(F+O|0,9),I^=ng(k+F|0,13),O^=ng(I+k|0,18),T^=ng(U+B|0,7),_^=ng(T+U|0,9),B^=ng(_+T|0,13),U^=ng(B+_|0,18),S^=ng(v+T|0,7),k^=ng(S+v|0,9),T^=ng(k+S|0,13),v^=ng(T+k|0,18),I^=ng(P+E|0,7),_^=ng(I+P|0,9),E^=ng(_+I|0,13),P^=ng(E+_|0,18),B^=ng(O+R|0,7),N^=ng(B+O|0,9),R^=ng(N+B|0,13),O^=ng(R+N|0,18),C^=ng(U+F|0,7),D^=ng(C+U|0,9),F^=ng(D+C|0,13),U^=ng(F+D|0,18);n[a++]=o+v|0,n[a++]=s+S|0,n[a++]=u+k|0,n[a++]=l+T|0,n[a++]=c+E|0,n[a++]=d+P|0,n[a++]=f+I|0,n[a++]=p+_|0,n[a++]=h+N|0,n[a++]=m+R|0,n[a++]=g+O|0,n[a++]=b+B|0,n[a++]=y+C|0,n[a++]=x+D|0,n[a++]=A+F|0,n[a++]=w+U|0}function ny(e,t,r,i,n){let a=i+0,o=i+16*n;for(let i=0;i<16;i++)r[o+i]=e[t+(2*n-1)*16+i];for(let i=0;i<n;i++,a+=16,t+=16)nb(r,o,e,t,r,a),i>0&&(o+=16),nb(r,a,e,t+=16,r,o)}function nx(e,t,r){let{N:i,r:n,p:a,dkLen:o,asyncTick:s,maxmem:u,onProgress:l}=eq({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(ec(i),ec(n),ec(a),ec(o),ec(s),ec(u),void 0!==l&&"function"!=typeof l)throw Error("progressCb should be function");let c=128*n,d=c/4;if(i<=1||(i&i-1)!=0||i>=2**(c/8)||i>0x100000000)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(0x100000000-1)*32/c)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(0x100000000-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let f=c*(i+a);if(f>u)throw Error(`Scrypt: parameters too large, ${f} (128 * r * (N + p)) > ${u} (maxmem)`);let p=iS(iR,e,t,{c:1,dkLen:c*a}),h=eO(p),m=eO(new Uint8Array(c*i)),g=eO(new Uint8Array(c)),b=()=>{};if(l){let e=2*i*a,t=Math.max(Math.floor(e/1e4),1),r=0;b=()=>{r++,l&&(!(r%t)||r===e)&&l(r/e)}}return{N:i,r:n,p:a,dkLen:o,blockSize32:d,V:m,B32:h,B:p,tmp:g,blockMixCb:b,asyncTick:s}}function nA(e,t,r,i,n){let a=iS(iR,e,r,{c:1,dkLen:t});return r.fill(0),i.fill(0),n.fill(0),a}async function nw(e,t,r){let{N:i,r:n,p:a,dkLen:o,blockSize32:s,V:u,B32:l,B:c,tmp:d,blockMixCb:f,asyncTick:p}=nx(e,t,r);for(let e=0;e<a;e++){let t=s*e;for(let e=0;e<s;e++)u[e]=l[t+e];let r=0;await eF(i-1,p,()=>{ny(u,r,u,r+=s,n),f()}),ny(u,(i-1)*s,l,t,n),f(),await eF(i,p,()=>{let e=l[t+s-16]%i;for(let r=0;r<s;r++)d[r]=l[t+r]^u[e*s+r];ny(d,0,l,t,n),f()})}return nA(e,o,c,u,d)}let nv=!1,nS=!1,nk=async function(e,t,r,i,n,a,o){return await nw(e,t,{N:r,r:i,p:n,dkLen:a,onProgress:o})},nT=function(e,t,r,i,n,a){return function(e,t,r){let{N:i,r:n,p:a,dkLen:o,blockSize32:s,V:u,B32:l,B:c,tmp:d,blockMixCb:f}=nx(e,t,r);for(let e=0;e<a;e++){let t=s*e;for(let e=0;e<s;e++)u[e]=l[t+e];for(let e=0,t=0;e<i-1;e++)ny(u,t,u,t+=s,n),f();ny(u,(i-1)*s,l,t,n),f();for(let e=0;e<i;e++){let e=l[t+s-16]%i;for(let r=0;r<s;r++)d[r]=l[t+r]^u[e*s+r];ny(d,0,l,t,n),f()}}return nA(e,o,c,u,d)}(e,t,{N:r,r:i,p:n,dkLen:a})},nE=nk,nP=nT;async function nI(e,t,r,i,n,a,o){let s=b(e,"passwd"),u=b(t,"salt");return v(await nE(s,u,r,i,n,a,o))}function n_(e,t,r,i,n,a){let o=b(e,"passwd"),s=b(t,"salt");return v(nP(o,s,r,i,n,a))}function nN(){iG.lock(),e8.lock(),nm.lock(),iX.lock(),ni.lock(),nI.lock(),n_.lock(),nc.lock(),nd.lock(),iX.lock()}nI._=nk,nI.lock=function(){nS=!0},nI.register=function(e){if(nS)throw Error("scrypt is locked");nE=e},Object.freeze(nI),n_._=nT,n_.lock=function(){nv=!0},n_.register=function(e){if(nv)throw Error("scryptSync is locked");nP=e},Object.freeze(n_),e.s(["scrypt",()=>nI,"scryptSync",()=>n_],73023),e.s(["lock",()=>nN],952871);let nR=BigInt(0),nO=BigInt(1),nB=BigInt(2),nC=BigInt(27),nD=BigInt(28),nF=BigInt(35),nU={};class nM{#P;#I;#_;#N;get r(){return this.#P}set r(e){d(32===k(e),"invalid r","value",e),this.#P=v(e)}get s(){return d(8>parseInt(this.#I.substring(0,3)),"non-canonical s; use ._s","s",this.#I),this.#I}set s(e){d(32===k(e),"invalid s","value",e),this.#I=v(e)}get _s(){return this.#I}isValid(){return 8>parseInt(this.#I.substring(0,3))}get v(){return this.#_}set v(e){let t=H(e,"value");d(27===t||28===t,"invalid v","v",e),this.#_=t}get networkV(){return this.#N}get legacyChainId(){let e=this.networkV;return null==e?null:nM.getChainId(e)}get yParity(){return+(27!==this.v)}get yParityAndS(){let e=b(this.s);return this.yParity&&(e[0]|=128),v(e)}get compactSerialized(){return S([this.r,this.yParityAndS])}get serialized(){return S([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,i){m(e,nU,"Signature"),this.#P=t,this.#I=r,this.#_=i,this.#N=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new nM(nU,this.r,this._s,this.v);return this.networkV&&(e.#N=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){let t=V(e,"v");return t==nC||t==nD?nR:(d(t>=nF,"invalid EIP-155 v","v",e),(t-nF)/nB)}static getChainIdV(e,t){return V(e)*nB+BigInt(35+t-27)}static getNormalizedV(e){let t=V(e);return t===nR||t===nC?27:t===nO||t===nD?28:(d(t>=nF,"invalid v","v",e),t&nO?27:28)}static from(e){function t(t,r){d(t,r,"signature",e)}if(null==e)return new nM(nU,rU,rU,27);if("string"==typeof e){let r=b(e,"signature");if(64===r.length){let e=v(r.slice(0,32)),t=r.slice(32,64),i=128&t[0]?28:27;return t[0]&=127,new nM(nU,e,v(t),i)}if(65===r.length){let e=v(r.slice(0,32)),t=v(r.slice(32,64)),i=nM.getNormalizedV(r[64]);return new nM(nU,e,t,i)}t(!1,"invalid raw signature length")}if(e instanceof nM)return e.clone();let r=e.r;t(null!=r,"missing r");let i=I(J(r),32),n=function(e,r){if(null!=e)return I(J(e),32);if(null!=r){t(x(r,32),"invalid yParityAndS");let e=b(r);return e[0]&=127,v(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:o}=function(e,r,i){if(null!=e){let t=V(e);return{networkV:t>=nF?t:void 0,v:nM.getNormalizedV(t)}}if(null!=r)return t(x(r,32),"invalid yParityAndS"),{v:128&b(r)[0]?28:27};if(null!=i){switch(H(i,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),s=new nM(nU,i,n,o);return a&&(s.#N=a),t(null==e.yParity||H(e.yParity,"sig.yParity")===s.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===s.yParityAndS,"yParityAndS mismatch"),s}}e.s(["Signature",()=>nM],257092);let nL=BigInt(0),nq=BigInt(1),nK=BigInt(2),nW=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function nV(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=nW[e[r]];return t}function nG(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function nj(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function nz(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let i=2*t,n=Number.parseInt(e.slice(i,i+2),16);if(Number.isNaN(n)||n<0)throw Error("Invalid byte sequence");r[t]=n}return r}function nH(e){return nj(nV(e))}function nX(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");return nj(nV(Uint8Array.from(e).reverse()))}function nQ(e,t){return nz(e.toString(16).padStart(2*t,"0"))}function nJ(e,t){return nQ(e,t).reverse()}function nY(e){return nz(nG(e))}function nZ(e,t,r){let i;if("string"==typeof t)try{i=nz(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(t instanceof Uint8Array)i=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let n=i.length;if("number"==typeof r&&n!==r)throw Error(`${e} expected ${r} bytes, got ${n}`);return i}function n$(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}function n0(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function n1(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function n2(e){let t;for(t=0;e>nL;e>>=nq,t+=1);return t}function n4(e,t){return e>>BigInt(t)&nq}let n6=e=>(nK<<BigInt(e-1))-nq,n3=e=>new Uint8Array(e);function n5(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let i=n3(e),n=n3(e),a=0,o=()=>{i.fill(1),n.fill(0),a=0},s=(...e)=>r(n,i,...e),u=(e=n3())=>{let t;if(n=s((t=[0],Uint8Array.from(t)),e),i=s(),0!==e.length){let t;n=s((t=[1],Uint8Array.from(t)),e),i=s()}},l=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(i=s()).slice();r.push(t),e+=i.length}return n$(...r)};return(e,t)=>{let r;for(o(),u(e);!(r=t(l()));)u();return o(),r}}let n8={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function n7(e,t,r={}){let i=(t,r,i)=>{let n=n8[r];if("function"!=typeof n)throw Error(`Invalid validator "${r}", expected function`);let a=e[t];if((!i||void 0!==a)&&!n(a,e))throw Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${r}`)};for(let[e,r]of Object.entries(t))i(e,r,!1);for(let[e,t]of Object.entries(r))i(e,t,!0);return e}e.s(["bitGet",()=>n4,"bitLen",()=>n2,"bitMask",0,n6,"bitSet",0,(e,t,r)=>e|(r?nq:nL)<<BigInt(t),"bytesToHex",()=>nV,"bytesToNumberBE",()=>nH,"bytesToNumberLE",()=>nX,"concatBytes",()=>n$,"createHmacDrbg",()=>n5,"ensureBytes",()=>nZ,"equalBytes",()=>n0,"hexToBytes",()=>nz,"hexToNumber",()=>nj,"numberToBytesBE",()=>nQ,"numberToBytesLE",()=>nJ,"numberToHexUnpadded",()=>nG,"numberToVarBytesBE",()=>nY,"utf8ToBytes",()=>n1,"validateObject",()=>n7],88681);let n9=BigInt(0),ae=BigInt(1),at=BigInt(2),ar=BigInt(3),ai=BigInt(4),an=BigInt(5),aa=BigInt(8);function ao(e,t){let r=e%t;return r>=n9?r:t+r}function as(e,t,r){let i=e;for(;t-- >n9;)i*=i,i%=r;return i}function au(e,t){if(e===n9||t<=n9)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ao(e,t),i=t,n=n9,a=ae,o=ae,s=n9;for(;r!==n9;){let e=i/r,t=i%r,u=n-o*e,l=a-s*e;i=r,r=t,n=o,a=s,o=u,s=l}if(i!==ae)throw Error("invert: does not exist");return ao(n,t)}BigInt(9),BigInt(16);let al=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ac(e){return n7(e,al.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function ad(e,t){let r=void 0!==t?t:e.toString(2).length,i=Math.ceil(r/8);return{nBitLength:r,nByteLength:i}}function af(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ap(e){let t=af(e);return t+Math.ceil(t/2)}var ah,am=e.i(88681);let ag=BigInt(0),ab=BigInt(1);function ay(e){return ac(e.Fp),n7(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ad(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}let{bytesToNumberBE:ax,hexToBytes:aA}=am,aw={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=aw;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],i=e.subarray(2,r+2);if(!r||i.length!==r)throw new t("Invalid signature integer: wrong length");if(128&i[0])throw new t("Invalid signature integer: negative");if(0===i[0]&&!(128&i[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:ax(i),l:e.subarray(r+2)}},toSig(e){let{Err:t}=aw,r="string"==typeof e?aA(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let i=r.length;if(i<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==i-2)throw new t("Invalid signature: incorrect length");let{d:n,l:a}=aw._parseInt(r.subarray(2)),{d:o,l:s}=aw._parseInt(a);if(s.length)throw new t("Invalid signature: left bytes after parsing");return{r:n,s:o}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},i=t(r(e.s)),n=t(r(e.r)),a=i.length/2,o=n.length/2,s=r(a),u=r(o);return`30${r(o+a+4)}02${u}${n}02${s}${i}`}},av=BigInt(0),aS=BigInt(1),ak=BigInt(2),aT=BigInt(3),aE=BigInt(4),aP=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),aI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a_=BigInt(1),aN=BigInt(2),aR=(e,t)=>(e+t/aN)/t,aO=function(e,t,r=!1,i={}){if(e<=n9)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:n,nByteLength:a}=ad(e,t);if(a>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(e){if(e%ai===ar){let t=(e+ae)/ai;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}if(e%aa===an){let t=(e-an)/aa;return function(e,r){let i=e.mul(r,at),n=e.pow(i,t),a=e.mul(r,n),o=e.mul(e.mul(a,at),n),s=e.mul(a,e.sub(o,e.ONE));if(!e.eql(e.sqr(s),r))throw Error("Cannot find square root");return s}}return function(e){let t,r,i,n=(e-ae)/at;for(t=e-ae,r=0;t%at===n9;t/=at,r++);for(i=at;i<e&&function(e,t,r){if(r<=n9||t<n9)throw Error("Expected power/modulo > 0");if(r===ae)return n9;let i=ae;for(;t>n9;)t&ae&&(i=i*e%r),e=e*e%r,t>>=ae;return i}(i,n,e)!==e-ae;i++);if(1===r){let t=(e+ae)/ai;return function(e,r){let i=e.pow(r,t);if(!e.eql(e.sqr(i),r))throw Error("Cannot find square root");return i}}let a=(t+ae)/at;return function(e,o){if(e.pow(o,n)===e.neg(e.ONE))throw Error("Cannot find square root");let s=r,u=e.pow(e.mul(e.ONE,i),t),l=e.pow(o,a),c=e.pow(o,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<s&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(u,ae<<BigInt(s-t-1));u=e.sqr(r),l=e.mul(l,r),c=e.mul(c,u),s=t}return l}}(e)}(e),s=Object.freeze({ORDER:e,BITS:n,BYTES:a,MASK:n6(n),ZERO:n9,ONE:ae,create:t=>ao(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return n9<=t&&t<e},is0:e=>e===n9,isOdd:e=>(e&ae)===ae,neg:t=>ao(-t,e),eql:(e,t)=>e===t,sqr:t=>ao(t*t,e),add:(t,r)=>ao(t+r,e),sub:(t,r)=>ao(t-r,e),mul:(t,r)=>ao(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<n9)throw Error("Expected power > 0");if(r===n9)return e.ONE;if(r===ae)return t;let i=e.ONE,n=t;for(;r>n9;)r&ae&&(i=e.mul(i,n)),n=e.sqr(n),r>>=ae;return i})(s,e,t),div:(t,r)=>ao(t*au(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>au(t,e),sqrt:i.sqrt||(e=>o(s,e)),invertBatch:e=>{let t,r,i;return t=Array(e.length),r=e.reduce((e,r,i)=>s.is0(r)?e:(t[i]=e,s.mul(e,r)),s.ONE),i=s.inv(r),e.reduceRight((e,r,i)=>s.is0(r)?e:(t[i]=s.mul(e,t[i]),s.mul(e,r)),i),t},cmov:(e,t,r)=>r?t:e,toBytes:e=>r?nJ(e,a):nQ(e,a),fromBytes:e=>{if(e.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return r?nX(e):nH(e)}});return Object.freeze(s)}(aP,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),i=BigInt(11),n=BigInt(22),a=BigInt(23),o=BigInt(44),s=BigInt(88),u=e*e*e%aP,l=u*u*e%aP,c=as(l,t,aP)*l%aP,d=as(c,t,aP)*l%aP,f=as(d,aN,aP)*u%aP,p=as(f,i,aP)*f%aP,h=as(p,n,aP)*p%aP,m=as(h,o,aP)*h%aP,g=as(m,s,aP)*m%aP,b=as(g,o,aP)*h%aP,y=as(b,t,aP)*l%aP,x=as(y,a,aP)*p%aP,A=as(x,r,aP)*u%aP,w=as(A,aN,aP);if(!aO.eql(aO.sqr(w),e))throw Error("Cannot find square root");return w}}),aB=(ah={a:BigInt(0),b:BigInt(7),Fp:aO,n:aI,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=BigInt("0x100000000000000000000000000000000"),a=aR(t*e,aI),o=aR(-r*e,aI),s=ao(e-a*t-o*i,aI),u=ao(-a*r-o*t,aI),l=s>n,c=u>n;if(l&&(s=aI-s),c&&(u=aI-u),s>n||u>n)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:c,k2:u}}}},Object.freeze({...(t=e=>(function(e){let t,r=(t=ay(e),am.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:i,n:n}=r,a=i.BYTES+1,o=2*i.BYTES+1;function s(e){return ao(e,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:d}=function(e){var t;let r,i,n=function(e){let t=ay(e);am.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:i,a:n}=t;if(r){if(!i.eql(n,i.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:a}=n,o=n.toBytes||((e,t,r)=>{let i=t.toAffine();return am.concatBytes(Uint8Array.from([4]),a.toBytes(i.x),a.toBytes(i.y))}),s=n.fromBytes||(e=>{let t=e.subarray(1);return{x:a.fromBytes(t.subarray(0,a.BYTES)),y:a.fromBytes(t.subarray(a.BYTES,2*a.BYTES))}});function u(e){let{a:t,b:r}=n,i=a.sqr(e),o=a.mul(i,e);return a.add(a.add(o,a.mul(e,t)),r)}if(!a.eql(a.sqr(n.Gy),u(n.Gx)))throw Error("bad generator point: equation left != right");function l(e){return"bigint"==typeof e&&av<e&&e<n.n}function c(e){if(!l(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function d(e){let t,{allowedPrivateKeyLengths:r,nByteLength:i,wrapPrivateKey:a,n:o}=n;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=am.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{t="bigint"==typeof e?e:am.bytesToNumberBE(nZ("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return a&&(t=ao(t,o)),c(t),t}let f=new Map;function p(e){if(!(e instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!a.isValid(e))throw Error("x required");if(null==t||!a.isValid(t))throw Error("y required");if(null==r||!a.isValid(r))throw Error("z required")}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!a.isValid(t)||!a.isValid(r))throw Error("invalid affine point");if(e instanceof h)throw Error("projective point not allowed");let i=e=>a.eql(e,a.ZERO);return i(t)&&i(r)?h.ZERO:new h(t,r,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)}static fromHex(e){let t=h.fromAffine(s(nZ("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return h.BASE.multiply(d(e))}_setWindowSize(e){this._WINDOW_SIZE=e,f.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint&&!a.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:t}=this.toAffine();if(!a.isValid(e)||!a.isValid(t))throw Error("bad point: x or y not FE");let r=a.sqr(t),i=u(e);if(!a.eql(r,i))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(a.isOdd)return!a.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){p(e);let{px:t,py:r,pz:i}=this,{px:n,py:o,pz:s}=e,u=a.eql(a.mul(t,s),a.mul(n,i)),l=a.eql(a.mul(r,s),a.mul(o,i));return u&&l}negate(){return new h(this.px,a.neg(this.py),this.pz)}double(){let{a:e,b:t}=n,r=a.mul(t,aT),{px:i,py:o,pz:s}=this,u=a.ZERO,l=a.ZERO,c=a.ZERO,d=a.mul(i,i),f=a.mul(o,o),p=a.mul(s,s),m=a.mul(i,o);return m=a.add(m,m),c=a.mul(i,s),c=a.add(c,c),u=a.mul(e,c),l=a.mul(r,p),l=a.add(u,l),u=a.sub(f,l),l=a.add(f,l),l=a.mul(u,l),u=a.mul(m,u),c=a.mul(r,c),p=a.mul(e,p),m=a.sub(d,p),m=a.mul(e,m),m=a.add(m,c),c=a.add(d,d),d=a.add(c,d),d=a.add(d,p),d=a.mul(d,m),l=a.add(l,d),p=a.mul(o,s),p=a.add(p,p),d=a.mul(p,m),u=a.sub(u,d),c=a.mul(p,f),c=a.add(c,c),new h(u,l,c=a.add(c,c))}add(e){p(e);let{px:t,py:r,pz:i}=this,{px:o,py:s,pz:u}=e,l=a.ZERO,c=a.ZERO,d=a.ZERO,f=n.a,m=a.mul(n.b,aT),g=a.mul(t,o),b=a.mul(r,s),y=a.mul(i,u),x=a.add(t,r),A=a.add(o,s);x=a.mul(x,A),A=a.add(g,b),x=a.sub(x,A),A=a.add(t,i);let w=a.add(o,u);return A=a.mul(A,w),w=a.add(g,y),A=a.sub(A,w),w=a.add(r,i),l=a.add(s,u),w=a.mul(w,l),l=a.add(b,y),w=a.sub(w,l),d=a.mul(f,A),l=a.mul(m,y),d=a.add(l,d),l=a.sub(b,d),d=a.add(b,d),c=a.mul(l,d),b=a.add(g,g),b=a.add(b,g),y=a.mul(f,y),A=a.mul(m,A),b=a.add(b,y),y=a.sub(g,y),y=a.mul(f,y),A=a.add(A,y),g=a.mul(b,A),c=a.add(c,g),g=a.mul(w,A),l=a.mul(x,l),l=a.sub(l,g),g=a.mul(x,b),d=a.mul(w,d),new h(l,c,d=a.add(d,g))}subtract(e){return this.add(e.negate())}is0(){return this.equals(h.ZERO)}wNAF(e){return g.wNAFCached(this,f,e,e=>{let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(h.fromAffine)})}multiplyUnsafe(e){let t=h.ZERO;if(e===av)return t;if(c(e),e===aS)return this;let{endo:r}=n;if(!r)return g.unsafeLadder(this,e);let{k1neg:i,k1:o,k2neg:s,k2:u}=r.splitScalar(e),l=t,d=t,f=this;for(;o>av||u>av;)o&aS&&(l=l.add(f)),u&aS&&(d=d.add(f)),f=f.double(),o>>=aS,u>>=aS;return i&&(l=l.negate()),s&&(d=d.negate()),d=new h(a.mul(d.px,r.beta),d.py,d.pz),l.add(d)}multiply(e){let t,r;c(e);let{endo:i}=n;if(i){let{k1neg:n,k1:o,k2neg:s,k2:u}=i.splitScalar(e),{p:l,f:c}=this.wNAF(o),{p:d,f:f}=this.wNAF(u);l=g.constTimeNegate(n,l),d=g.constTimeNegate(s,d),d=new h(a.mul(d.px,i.beta),d.py,d.pz),t=l.add(d),r=c.add(f)}else{let{p:i,f:n}=this.wNAF(e);t=i,r=n}return h.normalizeZ([t,r])[0]}multiplyAndAddUnsafe(e,t,r){let i=h.BASE,n=(e,t)=>t!==av&&t!==aS&&e.equals(i)?e.multiply(t):e.multiplyUnsafe(t),a=n(this,t).add(n(e,r));return a.is0()?void 0:a}toAffine(e){let{px:t,py:r,pz:i}=this,n=this.is0();null==e&&(e=n?a.ONE:a.inv(i));let o=a.mul(t,e),s=a.mul(r,e),u=a.mul(i,e);if(n)return{x:a.ZERO,y:a.ZERO};if(!a.eql(u,a.ONE))throw Error("invZ was invalid");return{x:o,y:s}}isTorsionFree(){let{h:e,isTorsionFree:t}=n;if(e===aS)return!0;if(t)return t(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=n;return e===aS?this:t?t(h,this):this.multiplyUnsafe(n.h)}toRawBytes(e=!0){return this.assertValidity(),o(h,this,e)}toHex(e=!0){return am.bytesToHex(this.toRawBytes(e))}}h.BASE=new h(n.Gx,n.Gy,a.ONE),h.ZERO=new h(a.ZERO,a.ONE,a.ZERO);let m=n.nBitLength,g=(t=n.endo?Math.ceil(m/2):m,r=(e,t)=>{let r=t.negate();return e?r:t},i=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}),{constTimeNegate:r,unsafeLadder(e,t){let r=h.ZERO,i=e;for(;t>ag;)t&ab&&(r=r.add(i)),i=i.double(),t>>=ab;return r},precomputeWindow(e,t){let{windows:r,windowSize:n}=i(t),a=[],o=e,s=o;for(let e=0;e<r;e++){s=o,a.push(s);for(let e=1;e<n;e++)s=s.add(o),a.push(s);o=s.double()}return a},wNAF(e,t,n){let{windows:a,windowSize:o}=i(e),s=h.ZERO,u=h.BASE,l=BigInt(2**e-1),c=2**e,d=BigInt(e);for(let e=0;e<a;e++){let i=e*o,a=Number(n&l);n>>=d,a>o&&(a-=c,n+=ab);let f=i+Math.abs(a)-1,p=e%2!=0,h=a<0;0===a?u=u.add(r(p,t[i])):s=s.add(r(h,t[f]))}return{p:s,f:u}},wNAFCached(e,t,r,i){let n=e._WINDOW_SIZE||1,a=t.get(e);return a||(a=this.precomputeWindow(e,n),1!==n&&t.set(e,i(a))),this.wNAF(n,a,r)}});return{CURVE:n,ProjectivePoint:h,normPrivateKeyToScalar:d,weierstrassEquation:u,isWithinCurveOrder:l}}({...r,toBytes(e,t,r){let n=t.toAffine(),a=i.toBytes(n.x),o=am.concatBytes;return r?o(Uint8Array.from([t.hasEvenY()?2:3]),a):o(Uint8Array.from([4]),a,i.toBytes(n.y))},fromBytes(e){let t=e.length,r=e[0],n=e.subarray(1);if(t===a&&(2===r||3===r)){let e=am.bytesToNumberBE(n);if(!(av<e&&e<i.ORDER))throw Error("Point is not on curve");let t=c(e),a=i.sqrt(t);return(1&r)==1!=((a&aS)===aS)&&(a=i.neg(a)),{x:e,y:a}}if(t===o&&4===r)return{x:i.fromBytes(n.subarray(0,i.BYTES)),y:i.fromBytes(n.subarray(i.BYTES,2*i.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${a} compressed bytes or ${o} uncompressed bytes`)}}),f=e=>am.bytesToHex(am.numberToBytesBE(e,r.nByteLength)),p=(e,t,r)=>am.bytesToNumberBE(e.slice(t,r));class h{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let t=r.nByteLength;return new h(p(e=nZ("compactSignature",e,2*t),0,t),p(e,t,2*t))}static fromDER(e){let{r:t,s:r}=aw.toSig(nZ("DER",e));return new h(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new h(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:a,recovery:o}=this,l=b(nZ("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw Error("recovery id invalid");let c=2===o||3===o?t+r.n:t;if(c>=i.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&o)==0?"02":"03",p=u.fromHex(d+f(c)),h=au(c,n),m=s(-l*h),g=s(a*h),y=u.BASE.multiplyAndAddUnsafe(p,m,g);if(!y)throw Error("point at infinify");return y.assertValidity(),y}hasHighS(){return this.s>n>>aS}normalizeS(){return this.hasHighS()?new h(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return am.hexToBytes(this.toDERHex())}toDERHex(){return aw.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return am.hexToBytes(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}function m(e){let t=e instanceof Uint8Array,r="string"==typeof e,i=(t||r)&&e.length;return t?i===a||i===o:r?i===2*a||i===2*o:e instanceof u}let g=r.bits2int||function(e){let t=am.bytesToNumberBE(e),i=8*e.length-r.nBitLength;return i>0?t>>BigInt(i):t},b=r.bits2int_modN||function(e){return s(g(e))},y=am.bitMask(r.nBitLength);function x(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(av<=e&&e<y))throw Error(`bigint expected < 2^${r.nBitLength}`);return am.numberToBytesBE(e,r.nByteLength)}let A={lowS:r.lowS,prehash:!1},w={lowS:r.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(m(e))throw Error("first arg must be private key");if(!m(t))throw Error("second arg must be public key");return u.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,t,a=A){let{seed:o,k2sig:c}=function(e,t,a=A){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:o,randomBytes:c}=r,{lowS:f,prehash:p,extraEntropy:m}=a;null==f&&(f=!0),e=nZ("msgHash",e),p&&(e=nZ("prehashed msgHash",o(e)));let y=b(e),w=l(t),v=[x(w),x(y)];if(null!=m){let e=!0===m?c(i.BYTES):m;v.push(nZ("extraEntropy",e))}return{seed:am.concatBytes(...v),k2sig:function(e){var t;let r=g(e);if(!d(r))return;let i=au(r,n),a=u.BASE.multiply(r).toAffine(),o=s(a.x);if(o===av)return;let l=s(i*s(y+o*w));if(l===av)return;let c=2*(a.x!==o)|Number(a.y&aS),p=l;return f&&l>n>>aS&&(p=(t=l)>n>>aS?s(-t):t,c^=1),new h(o,p,c)}}}(e,t,a);return am.createHmacDrbg(r.hash.outputLen,r.nByteLength,r.hmac)(o,c)},verify:function(e,t,i,a=w){let o,l;if(t=nZ("msgHash",t),i=nZ("publicKey",i),"strict"in a)throw Error("options.strict was renamed to lowS");let{lowS:c,prehash:d}=a;try{if("string"==typeof e||e instanceof Uint8Array)try{l=h.fromDER(e)}catch(t){if(!(t instanceof aw.Err))throw t;l=h.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;l=new h(t,r)}else throw Error("PARSE");o=u.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&l.hasHighS())return!1;d&&(t=r.hash(t));let{r:f,s:p}=l,m=b(t),g=au(p,n),y=s(m*g),x=s(f*g),A=u.BASE.multiplyAndAddUnsafe(o,y,x)?.toAffine();return!!A&&s(A.x)===f},ProjectivePoint:u,Signature:h,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=ap(r.n);return function(e,t,r=!1){let i=e.length,n=af(t),a=ap(t);if(i<16||i<a||i>1024)throw Error(`expected ${a}-1024 bytes of input, got ${i}`);let o=ao(r?nH(e):nX(e),t-ae)+ae;return r?nJ(o,n):nQ(o,n)}(r.randomBytes(e),r.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...ah,hash:e,hmac:(t,...r)=>iv(e,t,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:eW}))(iR),create:t})),aC=BigInt(0);aB.ProjectivePoint;let aD=(r=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[i,n,a,o]=r.map(t=>t.reduce((t,r)=>aO.add(aO.mul(t,e),r)));return e=aO.div(i,n),t=aO.mul(t,aO.div(a,o)),{x:e,y:t}}),aF=function(e,t){if(ac(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,i=av;for(let e=r-aS;e%ak===av;e/=ak)i+=aS;let n=i,a=ak<<n-aS-aS,o=a*ak,s=(r-aS)/o,u=(s-aS)/ak,l=o-aS,c=e.pow(t,s),d=e.pow(t,(s+aS)/ak),f=(t,r)=>{let i=c,o=e.pow(r,l),s=e.sqr(o);s=e.mul(s,r);let f=e.mul(t,s);f=e.pow(f,u),f=e.mul(f,o),o=e.mul(f,r),s=e.mul(f,t);let p=e.mul(s,o);f=e.pow(p,a);let h=e.eql(f,e.ONE);o=e.mul(s,d),f=e.mul(p,i),s=e.cmov(o,s,h),p=e.cmov(f,p,h);for(let t=n;t>aS;t--){let r=t-ak;r=ak<<r-aS;let n=e.pow(p,r),a=e.eql(n,e.ONE);o=e.mul(s,i),i=e.mul(i,i),n=e.mul(p,i),s=e.cmov(o,s,a),p=e.cmov(n,p,a)}return{isValid:h,value:s}};if(e.ORDER%aE===aT){let r=(e.ORDER-aT)/aE,i=e.sqrt(e.neg(t));f=(t,n)=>{let a=e.sqr(n),o=e.mul(t,n);a=e.mul(a,o);let s=e.pow(a,r);s=e.mul(s,o);let u=e.mul(s,i),l=e.mul(e.sqr(s),n),c=e.eql(l,t),d=e.cmov(u,s,c);return{isValid:c,value:d}}}return f}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return i=>{let n,a,o,s,u,l,c,d;n=e.sqr(i),n=e.mul(n,t.Z),a=e.sqr(n),a=e.add(a,n),o=e.add(a,e.ONE),o=e.mul(o,t.B),s=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),s=e.mul(s,t.A),a=e.sqr(o),l=e.sqr(s),u=e.mul(l,t.A),a=e.add(a,u),a=e.mul(a,o),l=e.mul(l,s),u=e.mul(l,t.B),a=e.add(a,u),c=e.mul(n,o);let{isValid:f,value:p}=r(a,l);d=e.mul(n,i),d=e.mul(d,p),c=e.cmov(c,o,f),d=e.cmov(d,p,f);let h=e.isOdd(i)===e.isOdd(d);return d=e.cmov(e.neg(d),d,h),{x:c=e.div(c,s),y:d}}}(aO,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:aO.create(BigInt("-11"))});!function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined")}(aB.ProjectivePoint,e=>{let{x:t,y:r}=aF(aO.create(e[0]));return aD(t,r)},aO.ORDER);class aU{#R;constructor(e){d(32===k(e),"invalid private key","privateKey","[REDACTED]"),this.#R=v(e)}get privateKey(){return this.#R}get publicKey(){return aU.computePublicKey(this.#R)}get compressedPublicKey(){return aU.computePublicKey(this.#R,!0)}sign(e){d(32===k(e),"invalid digest length","digest",e);let t=aB.sign(y(e),y(this.#R),{lowS:!0});return nM.from({r:Q(t.r,32),s:Q(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=aU.computePublicKey(e);return v(aB.getSharedSecret(y(this.#R),b(t),!1))}static computePublicKey(e,t){let r=b(e,"key");if(32===r.length)return v(aB.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return v(aB.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){d(32===k(e),"invalid digest length","digest",e);let r=nM.from(t),i=aB.Signature.fromCompact(y(S([r.r,r.s]))),n=(i=i.addRecoveryBit(r.yParity)).recoverPublicKey(y(e));return d(null!=n,"invalid signature for digest","signature",t),"0x"+n.toHex(!1)}static addPoints(e,t,r){let i=aB.ProjectivePoint.fromHex(aU.computePublicKey(e).substring(2)),n=aB.ProjectivePoint.fromHex(aU.computePublicKey(t).substring(2));return"0x"+i.add(n).toHex(!!r)}}e.s(["SigningKey",()=>aU],421227)},330389,e=>{"use strict";let t,r,i,n,a,o,s,u,l,c,d,f,p,h,m,g=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function b(e){var t;let r;return t=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let e=1;e<i;e++)a.push(n+=r());let o=r(),s=t;t+=o;let u=0,l=0;function c(){return 0==u&&(l=l<<8|e[t++],u=8),l>>--u&1}let d=0x80000000-1,f=0;for(let e=0;e<31;e++)f=f<<1|c();let p=[],h=0,m=0x80000000;for(;;){let e=Math.floor(((f-h+1)*n-1)/m),t=0,r=i;for(;r-t>1;){let i=t+r>>>1;e<a[i]?r=i:t=i}if(0==t)break;p.push(t);let o=h+Math.floor(m*a[t]/n),s=h+Math.floor(m*a[t+1]/n)-1;for(;((o^s)&0x40000000)==0;)f=f<<1&d|c(),o=o<<1&d,s=s<<1&d|1;for(;o&~s&0x20000000;)f=0x40000000&f|f<<1&d>>>1|c(),o=o<<1^0x40000000,s=(0x40000000^s)<<1|0x40000001;h=o,m=1+s-o}let g=i-4;return p.map(t=>{switch(t-g){case 3:return g+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return g+256+(e[s++]<<8|e[s++]);case 1:return g+e[s++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,i=new Uint8Array(6*r>>3);for(let n=0,a=0,o=0,s=0;n<r;n++)s=s<<6|t[e.charCodeAt(n)],(o+=6)>=8&&(i[a++]=s>>(o-=8));return i}(e)),r=0,()=>t[r++]}function y(e,t=0){let r=[];for(;;){let i=e(),n=e();if(!n)break;t+=i;for(let e=0;e<n;e++)r.push(t+e);t+=n+1}return r}function x(e){return w(()=>{let t=y(e);if(t.length)return t})}function A(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),i=t(),n=w(t);return v(n.length,1+e,t).flatMap((e,t)=>{let[a,...o]=e;return Array(n[t]).fill().map((e,t)=>{let n=t*i;return[a+t*r,o.map(e=>e+n)]})})}(r,e))}for(;;){var r,i;let n=e()-1;if(n<0)break;t.push((r=n,v(1+(i=e)(),1+r,i).map(e=>[e[0],e.slice(1)])))}return t.flat()}function w(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function v(e,t,r){let i=Array(e).fill().map(()=>[]);for(let n=0;n<t;n++)(function(e,t){let r=Array(e);for(let n=0,a=0;n<e;n++){var i;r[n]=a+=1&(i=t())?~i>>1:i>>1}return r})(e,r).forEach((e,t)=>i[t].push(e));return i}function S(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function k(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let i=0;i<t;)r.push(String.fromCodePoint(...e.slice(i,i+=4096)));return r.join("")}function T(e,t){let r=e.length,i=r-t.length;for(let n=0;0==i&&n<r;n++)i=e[n]-t[n];return i}let E=55204;function P(e){return e>>24&255}function I(e){return 0xffffff&e}function _(e){return e>=44032&&e<E}function N(e){t||function(){let e=b("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");for(let[a,o]of(t=new Map(x(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),r=new Set(y(e)),i=new Map,n=new Map,A(e))){if(!r.has(a)&&2==o.length){let[e,t]=o,r=n.get(e);r||(r=new Map,n.set(e,r)),r.set(t,a)}i.set(a,o.reverse())}}();let a=[],o=[],s=!1;function u(e){let r=t.get(e);r&&(s=!0,e|=r),a.push(e)}for(let t of e)for(;;){if(t<128)a.push(t);else if(_(t)){let e=t-44032,r=e/588|0,i=e%588/28|0,n=e%28;u(4352+r),u(4449+i),n>0&&u(4519+n)}else{let e=i.get(t);e?o.push(...e):u(t)}if(!o.length)break;t=o.pop()}if(s&&a.length>1){let e=P(a[0]);for(let t=1;t<a.length;t++){let r=P(a[t]);if(0==r||e<=r){e=r;continue}let i=t-1;for(;;){let t=a[i+1];if(a[i+1]=a[i],a[i]=t,!i||(e=P(a[--i]))<=r)break}e=P(a[t])}}return a}function R(e){return function(e){let t=[],r=[],i=-1,a=0;for(let o of e){let e=P(o),s=I(o);if(-1==i)0==e?i=s:t.push(s);else if(a>0&&a>=e)0==e?(t.push(i,...r),r.length=0,i=s):r.push(s),a=e;else{let o=function(e,t){if(e>=4352&&e<4371&&t>=4449&&t<4470)return 44032+(e-4352)*588+(t-4449)*28;{if(_(e)&&t>4519&&t<4547&&(e-44032)%28==0)return e+(t-4519);let r=n.get(e);return r&&(r=r.get(t))?r:-1}}(i,s);o>=0?i=o:0==a&&0==e?(t.push(i),i=s):(r.push(s),a=e)}}return i>=0&&t.push(i,...r),t}(N(e))}let O=e=>Array.from(e);function B(e,t){return e.P.has(t)||e.Q.has(t)}class C extends Array{get is_emoji(){return!0}}function D(){let e,t;if(a)return;let r=b("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI"),i=()=>new Set(y(r)),n=(e,t)=>t.forEach(t=>e.add(t));a=new Map(A(r)),o=i(),s=y(r),u=new Set(y(r).map(e=>s[e])),s=new Set(s),l=i(),i();let g=x(r),v=r(),S=()=>{let e=new Set;return y(r).forEach(t=>n(e,g[t])),n(e,y(r)),e};c=w(e=>{let t=w(r).map(e=>e+96);if(t.length){let i=e>=v;t[0]-=32,t=k(t),i&&(t=`Restricted[${t}]`);let n=S();return{N:t,P:n,Q:S(),M:!r(),R:i}}}),d=i(),f=new Map;let E=y(r).concat(O(d)).sort((e,t)=>e-t);for(let{V:e,M:t}of(E.forEach((e,t)=>{let i=r(),n=E[t]=i?E[t-i]:{V:[],M:new Map};n.V.push(e),d.has(e)||f.set(e,n)}),new Set(f.values()))){let r=[];for(let t of e){let e=c.filter(e=>B(e,t)),i=r.find(({G:t})=>e.some(e=>t.has(e)));i||(i={G:new Set,V:[]},r.push(i)),i.V.push(t),n(i.G,e)}let i=r.flatMap(e=>O(e.G));for(let{G:e,V:n}of r){let r=new Set(i.filter(t=>!e.has(t)));for(let e of n)t.set(e,r)}}p=new Set;let P=new Set,_=e=>p.has(e)?P.add(e):p.add(e);for(let e of c){for(let t of e.P)_(t);for(let t of e.Q)_(t)}for(let e of p)f.has(e)||P.has(e)||f.set(e,1);for(let i of(n(p,N(p).map(I)),h=(e=[],t=y(r),function t({S:r,B:i},n,a){if(!(4&r)||a!==n[n.length-1])for(let o of(2&r&&(a=n[n.length-1]),1&r&&e.push(n),i))for(let e of o.Q)t(o,[...n,e],a)}(function e(i){return{S:r(),B:w(()=>{let i=y(r).map(e=>t[e]);if(i.length)return e(i)}),Q:i}}([]),[]),e).map(e=>C.from(e)).sort(T),m=new Map,h)){let e=[m];for(let t of i){let r=e.map(e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r});65039===t?e.push(...r):e=r}for(let t of e)t.V=i}}function F(e){return(L(e)?"":`${U(M([e]))} `)+S(e)}function U(e){return`"${e}"\u200E`}function M(e,t=1/0,r=S){var i;let n=[];i=e[0],D(),s.has(i)&&n.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let a=0,o=e.length;for(let t=0;t<o;t++){let i=e[t];L(i)&&(n.push(k(e.slice(a,t))),n.push(r(i)),a=t+1)}return n.push(k(e.slice(a,o))),n.join("")}function L(e){return D(),l.has(e)}function q(e){var t;return(t=function(e,t,r){if(!e)return[];D();let i=0;return e.split(".").map(e=>{let n=function(e){let t=[];for(let r=0,i=e.length;r<i;){let i=e.codePointAt(r);r+=i<65536?1:2,t.push(i)}return t}(e),l={input:n,offset:i};i+=n.length+1;try{let e,i=l.tokens=function(e,t,r){let i=[],n=[];for(e=e.slice().reverse();e.length;){let s=function(e,t){let r,i=m,n=e.length;for(;n&&(i=i.get(e[--n]));){let{V:t}=i;t&&(r=t,e.length=n)}return r}(e);if(s)n.length&&(i.push(t(n)),n=[]),i.push(r(s));else{let t=e.pop();if(p.has(t))n.push(t);else{let e=a.get(t);if(e)n.push(...e);else if(!o.has(t))throw K(t)}}}return n.length&&i.push(t(n)),i}(n,t,r),d=i.length;if(!d)throw Error("empty label");let h=l.output=i.flat();for(let e=h.lastIndexOf(95);e>0;)if(95!==h[--e])throw Error("underscore allowed only at start");if(!(l.emoji=d>1||i[0].is_emoji)&&h.every(e=>e<128)){if(h.length>=4&&45==h[2]&&45==h[3])throw Error(`invalid label extension: "${k(h.slice(0,4))}"`);e="ASCII"}else{let t=i.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(s.has(h[0]))throw V("leading combining mark");for(let e=1;e<d;e++){let t=i[e];if(!t.is_emoji&&s.has(t[0]))throw V(`emoji + combining mark: "${k(i[e-1])} + ${M([t[0]])}"`)}!function(e){let t=e[0],r=g.get(t);if(r)throw V(`leading ${r}`);let i=e.length,n=-1;for(let a=1;a<i;a++){t=e[a];let i=g.get(t);if(i){if(n==a)throw V(`${r} + ${i}`);n=a+1,r=i}}if(n==i)throw V(`trailing ${r}`)}(h);let r=O(new Set(t)),[n]=function(e){let t=c;for(let r of e){let e=t.filter(e=>B(e,r));if(!e.length)if(c.some(e=>B(e,r)))throw W(t[0],r);else throw K(r);if(t=e,1==e.length)break}return t}(r);(function(e,t){for(let r of t)if(!B(e,r))throw W(e,r);if(e.M){let e=N(t).map(I);for(let t=1,r=e.length;t<r;t++)if(u.has(e[t])){let i=t+1;for(let n;i<r&&u.has(n=e[i]);i++)for(let r=t;r<i;r++)if(e[r]==n)throw Error(`duplicate non-spacing marks: ${F(n)}`);if(i-t>4)throw Error(`excessive non-spacing marks: ${U(M(e.slice(t-1,i)))} (${i-t}/4)`);t=i}}})(n,t),function(e,t){let r,i=[];for(let e of t){let t=f.get(e);if(1===t)return;if(t){let i=t.M.get(e);if(!(r=r?r.filter(e=>i.has(e)):O(i)).length)return}else i.push(e)}if(r){for(let t of r)if(i.every(e=>B(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}(n,r),e=n.N}else e="Emoji"}l.type=e}catch(e){l.error=e}return l})}(e,R,G)).map(({input:e,error:r,output:i})=>{if(r){let i=r.message;throw Error(1==t.length?i:`Invalid label ${U(M(e,63))}: ${i}`)}return k(i)}).join(".")}function K(e){return Error(`disallowed character: ${F(e)}`)}function W(e,t){let r=F(t),i=c.find(e=>e.P.has(t));return i&&(r=`${i.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function V(e){return Error(`illegal placement: ${e}`)}function G(e){return e.filter(e=>65039!=e)}e.s(["ens_normalize",()=>q])},475228,97286,32548,233501,421836,93615,867025,936002,939086,750584,101468,432526,277171,196003,168762,258408,248855,558238,972072,894282,483280,374920,745533,357224,787101,863475,306260,63738,458752,678874,966339,655092,190741,233967,473587,12227,501058,725941,331415,244308,978851,84552,149105,956342,e=>{"use strict";let t;var r=e.i(998146),i=e.i(498138),n=e.i(914218),a=e.i(438853),o=e.i(330389);let s=new Uint8Array(32);function u(e){return(0,n.assertArgument)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function l(e){let t=(0,a.toUtf8Bytes)(c(e)),r=[];if(0===e.length)return r;let i=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(u(t.slice(i,e))),i=e+1);return(0,n.assertArgument)(i<t.length,"invalid ENS name; empty component","name",e),r.push(u(t.slice(i))),r}function c(e){try{if(0===e.length)throw Error("empty label");return(0,o.ens_normalize)(e)}catch(t){(0,n.assertArgument)(!1,`invalid ENS name (${t.message})`,"name",e)}}function d(e){try{return 0!==l(e).length}catch(e){}return!1}function f(e){(0,n.assertArgument)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,n.assertArgument)(e.length,"invalid ENS name (empty label)","name",e);let t=s,a=l(e);for(;a.length;)t=(0,r.keccak256)((0,i.concat)([t,(0,r.keccak256)(a.pop())]));return(0,i.hexlify)(t)}function p(e,t){let r=null!=t?t:63;return(0,n.assertArgument)(r<=255,"DNS encoded label cannot exceed 255","length",r),(0,i.hexlify)((0,i.concat)(l(e).map(t=>{(0,n.assertArgument)(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);let i=new Uint8Array(t.length+1);return i.set(t,1),i[0]=i.length-1,i})))+"00"}s.fill(0),e.s(["dnsEncode",()=>p,"ensNormalize",()=>c,"isValidName",()=>d,"namehash",()=>f],475228);var h=e.i(737003),m=e.i(421227);function g(e){let t;return t="string"==typeof e?m.SigningKey.computePublicKey(e,!1):e.publicKey,(0,h.getAddress)((0,r.keccak256)("0x"+t.substring(4)).substring(26))}function b(e,t){return g(m.SigningKey.recoverPublicKey(e,t))}e.s(["computeAddress",()=>g,"recoverAddress",()=>b],97286);var y=e.i(798530),x=e.i(107339);function A(e){return(0,n.assertArgument)("string"==typeof e.address,"invalid address for hashAuthorization","auth.address",e),(0,r.keccak256)((0,i.concat)(["0x05",(0,y.encodeRlp)([null!=e.chainId?(0,x.toBeArray)(e.chainId):"0x",(0,h.getAddress)(e.address),null!=e.nonce?(0,x.toBeArray)(e.nonce):"0x"])]))}function w(e,t){return b(A(e),t)}e.s(["hashAuthorization",()=>A,"verifyAuthorization",()=>w],32548);var v=e.i(193826);function S(e){return"string"==typeof e&&(e=(0,a.toUtf8Bytes)(e)),(0,r.keccak256)((0,i.concat)([(0,a.toUtf8Bytes)(v.MessagePrefix),(0,a.toUtf8Bytes)(String(e.length)),e]))}function k(e,t){return b(S(e),t)}e.s(["hashMessage",()=>S,"verifyMessage",()=>k],233501);var T=e.i(63637);let E=RegExp("^bytes([0-9]+)$"),P=RegExp("^(u?int)([0-9]*)$"),I=RegExp("^(.*)\\[([0-9]*)\\]$");function _(e,t){(0,n.assertArgument)(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,o){r.push(function e(t,r,o){switch(t){case"address":if(o)return(0,i.getBytes)((0,i.zeroPadValue)(r,32));return(0,i.getBytes)((0,h.getAddress)(r));case"string":return(0,a.toUtf8Bytes)(r);case"bytes":return(0,i.getBytes)(r);case"bool":if(r=r?"0x01":"0x00",o)return(0,i.getBytes)((0,i.zeroPadValue)(r,32));return(0,i.getBytes)(r)}let s=t.match(P);if(s){let e="int"===s[1],a=parseInt(s[2]||"256");return(0,n.assertArgument)((!s[2]||s[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",t),o&&(a=256),e&&(r=(0,x.toTwos)(r,a)),(0,i.getBytes)((0,i.zeroPadValue)((0,x.toBeArray)(r),a/8))}if(s=t.match(E)){let e=parseInt(s[1]);return((0,n.assertArgument)(String(e)===s[1]&&0!==e&&e<=32,"invalid bytes type","type",t),(0,n.assertArgument)((0,i.dataLength)(r)===e,`invalid value for ${t}`,"value",r),o)?(0,i.getBytes)((0,i.zeroPadBytes)(r,32)):r}if((s=t.match(I))&&Array.isArray(r)){let a=s[1],o=parseInt(s[2]||String(r.length));(0,n.assertArgument)(o===r.length,`invalid array length for ${t}`,"value",r);let u=[];return r.forEach(function(t){u.push(e(a,t,!0))}),(0,i.getBytes)((0,i.concat)(u))}(0,n.assertArgument)(!1,"invalid type","type",t)}(e,t[o]))}),(0,i.hexlify)((0,i.concat)(r))}function N(e,t){return(0,r.keccak256)(_(e,t))}function R(e,t){return(0,T.sha256)(_(e,t))}e.s(["solidityPacked",()=>_,"solidityPackedKeccak256",()=>N,"solidityPackedSha256",()=>R],421836);var O=e.i(892537),B=e.i(170987);let C=new Uint8Array(32);C.fill(0);let D=BigInt(-1),F=BigInt(0),U=BigInt(1),M=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=(0,x.toBeHex)(U,32),q=(0,x.toBeHex)(F,32),K={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},W=["name","version","chainId","verifyingContract","salt"];function V(e){return function(t){return(0,n.assertArgument)("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let G={name:V("name"),version:V("version"),chainId:function(e){let t=(0,x.getBigInt)(e,"domain.chainId");return((0,n.assertArgument)(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):(0,x.toQuantity)(t)},verifyingContract:function(e){try{return(0,h.getAddress)(e).toLowerCase()}catch(e){}(0,n.assertArgument)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=(0,i.getBytes)(e,"domain.salt");return(0,n.assertArgument)(32===t.length,'invalid domain value "salt"',"domain.salt",e),(0,i.hexlify)(t)}};function j(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],i=parseInt(t[2]);(0,n.assertArgument)(i%8==0&&0!==i&&i<=256&&t[2]===String(i),"invalid numeric width","type",e);let a=(0,x.mask)(M,r?i-1:i),o=r?(a+U)*D:F;return function(t){let i=(0,x.getBigInt)(t,"value");return(0,n.assertArgument)(i>=o&&i<=a,`value out-of-bounds for ${e}`,"value",i),(0,x.toBeHex)(r?(0,x.toTwos)(i,256):i,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return(0,n.assertArgument)(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){let a,o,s=(0,i.getBytes)(t);return(0,n.assertArgument)(s.length===r,`invalid length for ${e}`,"value",t),(o=(a=(0,i.getBytes)(t)).length%32)?(0,i.concat)([a,C.slice(o)]):(0,i.hexlify)(a)}}}switch(e){case"address":return function(e){return(0,i.zeroPadValue)((0,h.getAddress)(e),32)};case"bool":return function(e){return e?L:q};case"bytes":return function(e){return(0,r.keccak256)(e)};case"string":return function(e){return(0,B.id)(e)}}return null}function z(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function H(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class X{primaryType;#O;get types(){return JSON.parse(this.#O)}#B;#C;constructor(e){this.#B=new Map,this.#C=new Map;const t=new Map,r=new Map,i=new Map,a={};for(const o in Object.keys(e).forEach(n=>{a[n]=e[n].map(({name:t,type:r})=>{let{base:i,index:n}=H(r);return"int"!==i||e.int||(i="int256"),"uint"!==i||e.uint||(i="uint256"),{name:t,type:i+(n||"")}}),t.set(n,new Set),r.set(n,[]),i.set(n,new Set)}),this.#O=JSON.stringify(a),a){const i=new Set;for(const s of a[o]){(0,n.assertArgument)(!i.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(o)}`,"types",e),i.add(s.name);const a=H(s.type).base;(0,n.assertArgument)(a!==o,`circular type reference to ${JSON.stringify(a)}`,"types",e),j(a)||((0,n.assertArgument)(r.has(a),`unknown type ${JSON.stringify(a)}`,"types",e),r.get(a).push(o),t.get(o).add(a))}}const o=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(const[s,u]of((0,n.assertArgument)(0!==o.length,"missing primary type","types",e),(0,n.assertArgument)(1===o.length,`ambiguous primary types or unused types: ${o.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,O.defineProperties)(this,{primaryType:o[0]}),!function a(o,s){for(let u of((0,n.assertArgument)(!s.has(o),`circular type reference to ${JSON.stringify(o)}`,"types",e),s.add(o),t.get(o)))if(r.has(u))for(let e of(a(u,s),s))i.get(e).add(u);s.delete(o)}(this.primaryType,new Set),i)){const e=Array.from(u);e.sort(),this.#B.set(s,z(s,a[s])+e.map(e=>z(e,a[e])).join(""))}}getEncoder(e){let t=this.#C.get(e);return t||(t=this.#D(e),this.#C.set(e,t)),t}#D(e){{let t=j(e);if(t)return t}let t=H(e).array;if(t){let e=t.prefix,a=this.getEncoder(e);return o=>{(0,n.assertArgument)(-1===t.count||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let s=o.map(a);return this.#B.has(e)&&(s=s.map(r.keccak256)),(0,r.keccak256)((0,i.concat)(s))}}let a=this.types[e];if(a){let t=(0,B.id)(this.#B.get(e));return e=>{let n=a.map(({name:t,type:i})=>{let n=this.getEncoder(i)(e[t]);return this.#B.has(i)?(0,r.keccak256)(n):n});return n.unshift(t),(0,i.concat)(n)}}(0,n.assertArgument)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#B.get(e);return(0,n.assertArgument)(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,r.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(j(e))return r(e,t);let i=H(e).array;if(i)return(0,n.assertArgument)(-1===i.count||i.count===t.length,`array length mismatch; expected length ${i.count}`,"value",t),t.map(e=>this._visit(i.prefix,e,r));let a=this.types[e];if(a)return a.reduce((e,{name:i,type:n})=>(e[i]=this._visit(n,t[i],r),e),{});(0,n.assertArgument)(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new X(e)}static getPrimaryType(e){return X.from(e).primaryType}static hashStruct(e,t,r){return X.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let i=K[r];(0,n.assertArgument)(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((e,t)=>W.indexOf(e.name)-W.indexOf(t.name)),X.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return(0,i.concat)(["0x1901",X.hashDomain(e),X.from(t).hash(r)])}static hash(e,t,i){return(0,r.keccak256)(X.encode(e,t,i))}static async resolveNames(e,t,r,n){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let a={};e.verifyingContract&&!(0,i.isHexString)(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let o=X.from(t);for(let e in o.visit(r,(e,t)=>("address"!==e||(0,i.isHexString)(t,20)||(a[t]="0x"),t)),a)a[e]=await n(e);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),r=o.visit(r,(e,t)=>"address"===e&&a[t]?a[t]:t),{domain:e,value:r}}static getPayload(e,t,r){X.hashDomain(e);let a={},o=[];W.forEach(t=>{let r=e[t];null!=r&&(a[t]=G[t](r),o.push({name:t,type:K[t]}))});let s=X.from(t),u=Object.assign({},t=s.types);return(0,n.assertArgument)(null==u.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),u.EIP712Domain=o,s.encode(r),{types:u,domain:a,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return(0,i.hexlify)((0,i.getBytes)(t));if(e.match(/^u?int/))return(0,x.getBigInt)(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return(0,n.assertArgument)("string"==typeof t,"invalid string","value",t),t}(0,n.assertArgument)(!1,"unsupported type","type",e)})}}}function Q(e,t,r,i){return b(X.hash(e,t,r),i)}function J(e){let t=new Uint8Array((e=atob(e)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return(0,i.getBytes)(t)}function Y(e){let t=(0,i.getBytes)(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function Z(e){return async function(t,r){let i;(0,n.assert)(null==r||!r.cancelled,"request cancelled before sending","CANCELLED");let a=t.url.split(":")[0].toLowerCase();(0,n.assert)("http"===a||"https"===a,`unsupported protocol ${a}`,"UNSUPPORTED_OPERATION",{info:{protocol:a},operation:"request"}),(0,n.assert)("https"===a||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let o=null,s=new AbortController,u=setTimeout(()=>{o=(0,n.makeError)("request timeout","TIMEOUT"),s.abort()},t.timeout);r&&r.addListener(()=>{o=(0,n.makeError)("request cancelled","CANCELLED"),s.abort()});let l=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});try{i=await fetch(t.url,l)}catch(e){if(clearTimeout(u),o)throw o;throw e}clearTimeout(u);let c={};i.headers.forEach((e,t)=>{c[t.toLowerCase()]=e});let d=await i.arrayBuffer(),f=null==d?null:new Uint8Array(d);return{statusCode:i.status,statusMessage:i.statusText,headers:c,body:f}}}e.s(["TypedDataEncoder",()=>X,"verifyTypedData",()=>Q],93615),e.s(["decodeBase64",()=>J,"encodeBase64",()=>Y],867025),Z({});let $=Z(),ee=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),et=RegExp("^ipfs://(ipfs/)?(.*)$","i"),er=!1;async function ei(e,t){try{var r;let t=e.match(ee);if(!t)throw Error("invalid data");return new ec(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?J(t[3]):(r=t[3],(0,a.toUtf8Bytes)(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new ec(599,"BAD REQUEST (invalid data: URI)",{},null,new el(e))}}function en(e){return async function(t,r){try{let r=t.match(et);if(!r)throw Error("invalid link");return new el(`${e}${r[2]}`)}catch(e){return new ec(599,"BAD REQUEST (invalid IPFS URI)",{},null,new el(t))}}}let ea={data:ei,ipfs:en("https://gateway.ipfs.io/ipfs/")},eo=new WeakMap;class es{#F;#U;constructor(e){this.#F=[],this.#U=!1,eo.set(e,()=>{if(!this.#U){for(let e of(this.#U=!0,this.#F))setTimeout(()=>{e()},0);this.#F=[]}})}addListener(e){(0,n.assert)(!this.#U,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#F.push(e)}get cancelled(){return this.#U}checkSignal(){(0,n.assert)(!this.cancelled,"cancelled","CANCELLED",{})}}function eu(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}class el{#M;#L;#q;#K;#W;#V;#G;#j;#z;#H;#X;#Q;#J;#Y;#Z;get url(){return this.#V}set url(e){this.#V=String(e)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}set body(e){if(null==e)this.#G=void 0,this.#j=void 0;else if("string"==typeof e)this.#G=(0,a.toUtf8Bytes)(e),this.#j="text/plain";else if(e instanceof Uint8Array)this.#G=e,this.#j="application/octet-stream";else if("object"==typeof e)this.#G=(0,a.toUtf8Bytes)(JSON.stringify(e)),this.#j="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#G}get method(){return this.#K?this.#K:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#K=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#q);return this.#z&&(e.authorization=`Basic ${Y((0,a.toUtf8Bytes)(this.#z))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#j&&(e["content-type"]=this.#j),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#q[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#q={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#z||null}setCredentials(e,t){(0,n.assertArgument)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#z=`${e}:${t}`}get allowGzip(){return this.#L}set allowGzip(e){this.#L=!!e}get allowInsecureAuthentication(){return!!this.#M}set allowInsecureAuthentication(e){this.#M=!!e}get timeout(){return this.#W}set timeout(e){(0,n.assertArgument)(e>=0,"timeout must be non-zero","timeout",e),this.#W=e}get preflightFunc(){return this.#H||null}set preflightFunc(e){this.#H=e}get processFunc(){return this.#X||null}set processFunc(e){this.#X=e}get retryFunc(){return this.#Q||null}set retryFunc(e){this.#Q=e}get getUrlFunc(){return this.#Z||$}set getUrlFunc(e){this.#Z=e}constructor(e){this.#V=String(e),this.#M=!1,this.#L=!0,this.#q={},this.#K="",this.#W=3e5,this.#Y={slotInterval:250,maxAttempts:12},this.#Z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#G?(0,i.hexlify)(this.#G):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#Y.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#Y.maxAttempts=e.maxAttempts)}async #$(e,t,r,i,a){var o;if(e>=this.#Y.maxAttempts)return a.makeServerError("exceeded maximum retry limit");(0,n.assert)(ed()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await (o=r,new Promise(e=>setTimeout(e,o)));let s=this.clone(),u=(s.url.split(":")[0]||"").toLowerCase();if(u in ea){let e=await ea[u](s.url,eu(i.#J));if(e instanceof ec){let t=e;if(this.processFunc){eu(i.#J);try{t=await this.processFunc(s,t)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&t.makeServerError("error in post-processing function",e).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));let l=await this.getUrlFunc(s,eu(i.#J)),c=new ec(l.statusCode,l.statusMessage,l.headers,l.body,i);if(301===c.statusCode||302===c.statusCode){try{let r=c.headers.location||"";return s.redirect(r).#$(e+1,t,0,i,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){let r=c.headers["retry-after"],n=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(n=parseInt(r)),s.clone().#$(e+1,t,n,i,c)}if(this.processFunc){eu(i.#J);try{c=await this.processFunc(s,c)}catch(n){(null==n.throttle||"number"!=typeof n.stall)&&c.makeServerError("error in post-processing function",n).assertOk();let r=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return n.stall>=0&&(r=n.stall),s.clone().#$(e+1,t,r,i,c)}}return c}send(){return(0,n.assert)(null==this.#J,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#J=new es(this),this.#$(0,ed()+this.timeout,0,this,new ec(0,"",{},null,this))}cancel(){(0,n.assert)(null!=this.#J,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=eo.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();(0,n.assert)("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let i=new el(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,i.#q=Object.assign({},this.#q),this.#G&&(i.#G=new Uint8Array(this.#G)),i.#j=this.#j,i}clone(){let e=new el(this.url);return e.#K=this.#K,this.#G&&(e.#G=this.#G),e.#j=this.#j,e.#q=Object.assign({},this.#q),e.#z=this.#z,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#H=this.#H,e.#X=this.#X,e.#Q=this.#Q,e.#Y=Object.assign({},this.#Y),e.#Z=this.#Z,e}static lockConfig(){er=!0}static getGateway(e){return ea[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(er)throw Error("gateways locked");ea[e]=t}static registerGetUrl(e){if(er)throw Error("gateways locked");$=e}static createGetUrlFunc(e){return Z(e)}static createDataGateway(){return ei}static createIpfsGatewayFunc(e){return en(e)}}class ec{#ee;#et;#q;#G;#er;#ei;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#G?(0,i.hexlify)(this.#G):"null"}>`}get statusCode(){return this.#ee}get statusMessage(){return this.#et}get headers(){return Object.assign({},this.#q)}get body(){return null==this.#G?null:new Uint8Array(this.#G)}get bodyText(){try{return null==this.#G?"":(0,a.toUtf8String)(this.#G)}catch(e){(0,n.assert)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,n.assert)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,i,n){this.#ee=e,this.#et=t,this.#q=Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=String(r[t]),e),{}),this.#G=null==i?null:new Uint8Array(i),this.#er=n||null,this.#ei={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let i=new ec(599,r,this.headers,this.body,this.#er||void 0);return i.#ei={message:e,error:t},i}throwThrottleError(e,t){null==t?t=-1:(0,n.assertArgument)(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=Error(e||"throttling requests");throw(0,O.defineProperties)(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#G}get request(){return this.#er}ok(){return""===this.#ei.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#ei;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{this.#G&&(i=(0,a.toUtf8String)(this.#G))}catch(e){}(0,n.assert)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function ed(){return new Date().getTime()}e.s(["FetchCancelSignal",()=>es,"FetchRequest",()=>el,"FetchResponse",()=>ec],936002);let ef=new Set;function ep(e){ef.has(e)||(ef.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}e.s(["showThrottleMessage",()=>ep],939086);var eh=e.i(360738);class em{name;constructor(e){(0,O.defineProperties)(this,{name:e})}clone(){return new em(this.name)}}class eg extends em{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function i(e,i){let a=(t||{})[e];null==a&&(a=i),(0,n.assertArgument)("number"==typeof a,`invalud value for ${e}`,"costs",t),r[e]=a}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),(0,O.defineProperties)(this,r)}clone(){return new eg(this.effectiveBlock,this)}}class eb extends em{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),(0,O.defineProperties)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new eb(this.address,this.targetNetwork)}}class ey extends em{#en;get feeDataFunc(){return this.#en}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#en=e}async getFeeData(e){return await this.#en(e)}clone(){return new ey(this.#en)}}class ex extends em{#V;#ea;get url(){return this.#V}get processFunc(){return this.#ea}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#V=e,this.#ea=t}clone(){return this}}e.s(["EnsPlugin",()=>eb,"FeeDataNetworkPlugin",()=>ey,"FetchUrlFeeDataNetworkPlugin",()=>ex,"GasCostPlugin",()=>eg,"NetworkPlugin",()=>em],750584);let eA=new Map;class ew{#eo;#es;#eu;constructor(e,t){this.#eo=e,this.#es=(0,x.getBigInt)(t),this.#eu=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#eo}set name(e){this.#eo=e}get chainId(){return this.#es}set chainId(e){this.#es=(0,x.getBigInt)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,x.getBigInt)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,x.getBigInt)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,x.getBigInt)(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#eu.values())}attachPlugin(e){if(this.#eu.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eu.set(e.name,e.clone()),this}getPlugin(e){return this.#eu.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new ew(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new eg,r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)"00"===e.data.substring(i,i+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let i=(0,eh.accessListify)(e.accessList);for(let e in i)r+=t.txAccessListAddress+t.txAccessListStorageKey*i[e].storageKeys.length}return r}static from(e){if(function(){ek||(ek=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",0xaa36a7,{ensNetwork:0xaa36a7}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[eS("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[eS("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",0xaa37dc,{}),e("xdai",100,{ensNetwork:1}));function e(e,t,r){let i=function(){let i=new ew(e,t);return null!=r.ensNetwork&&i.attachPlugin(new eb(null,r.ensNetwork)),i.attachPlugin(new eg),(r.plugins||[]).forEach(e=>{i.attachPlugin(e)}),i};ew.register(e,i),ew.register(t,i),r.altNames&&r.altNames.forEach(e=>{ew.register(e,i)})}}(),null==e)return ew.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let t=eA.get(e);if(t)return t();if("bigint"==typeof e)return new ew("unknown",e);(0,n.assertArgument)(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){(0,n.assertArgument)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let t=new ew(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new eb(e.ensAddress,e.ensNetwork)),t}(0,n.assertArgument)(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));let r=eA.get(e);r&&(0,n.assertArgument)(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),eA.set(e,t)}}function ev(e,t){let r=String(e);if(!r.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let i=r.split(".");if(1===i.length&&i.push(""),2!==i.length)throw Error(`invalid gwei value: ${e}`);for(;i[1].length<t;)i[1]+="0";if(i[1].length>9){let e=BigInt(i[1].substring(0,9));!i[1].substring(9).match(/^0+$/)&&e++,i[1]=e.toString()}return BigInt(i[0]+i[1])}function eS(e){return new ex(e,async(e,t,r)=>{let i;r.setHeader("User-Agent","ethers");try{let[t,n]=await Promise.all([r.send(),e()]),a=(i=t).bodyJson.standard;return{gasPrice:n.gasPrice,maxFeePerGas:ev(a.maxFee,9),maxPriorityFeePerGas:ev(a.maxPriorityFee,9)}}catch(e){(0,n.assert)(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:e})}})}let ek=!1;e.s(["Network",()=>ew],101468);var eT=e.i(897567),eE=e.i(93323),eP=e.i(257092);function eI(e){return{address:(0,h.getAddress)(e.address),nonce:(0,x.getBigInt)(null!=e.nonce?e.nonce:0),chainId:(0,x.getBigInt)(null!=e.chainId?e.chainId:0),signature:eP.Signature.from(e.signature)}}e.s(["authorizationify",()=>eI],432526);var e_=e.i(33725),eN=e.i(67881);function eR(e,t,r){let i=0;for(let n=0;n<r;n++)i=256*i+e[t+n];return i}function eO(e,t,r,i){let a=[];for(;r<t+1+i;){let o=eB(e,r);a.push(o.result),r+=o.consumed,(0,n.assert)(r<=t+1+i,"child data too short","BUFFER_OVERRUN",{buffer:e,length:i,offset:t})}return{consumed:1+i,result:a}}function eB(e,t){(0,n.assert)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{(0,n.assert)(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let i=e[t]-247;r(t+1+i);let n=eR(e,t+1,i);return r(t+1+i+n),eO(e,t,t+1+i,i+n)}if(e[t]>=192){let i=e[t]-192;return r(t+1+i),eO(e,t,t+1,i)}if(e[t]>=184){let n=e[t]-183;r(t+1+n);let a=eR(e,t+1,n);r(t+1+n+a);let o=(0,i.hexlify)(e.slice(t+1+n,t+1+n+a));return{consumed:1+n+a,result:o}}if(e[t]>=128){let n=e[t]-128;r(t+1+n);let a=(0,i.hexlify)(e.slice(t+1,t+1+n));return{consumed:1+n,result:a}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function eC(e){let t=(0,i.getBytes)(e,"data"),r=eB(t,0);return(0,n.assertArgument)(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}e.s(["decodeRlp",()=>eC],277171);let eD=BigInt(0),eF=BigInt(2),eU=BigInt(27),eM=BigInt(28),eL=BigInt(35),eq=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function eK(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return"0x"+(r+=(0,T.sha256)(t).substring(4))}function eW(e){return"0x"===e?null:(0,h.getAddress)(e)}function eV(e,t){try{return(0,eh.accessListify)(e)}catch(r){(0,n.assertArgument)(!1,r.message,t,e)}}function eG(e,t){return"0x"===e?0:(0,x.getNumber)(e,t)}function ej(e,t){if("0x"===e)return eD;let r=(0,x.getBigInt)(e,t);return(0,n.assertArgument)(r<=eq,"value exceeds uint size",t,r),r}function ez(e,t){let r=(0,x.getBigInt)(e,"value"),i=(0,x.toBeArray)(r);return(0,n.assertArgument)(i.length<=32,"value too large",`tx.${t}`,r),i}function eH(e){return(0,eh.accessListify)(e).map(e=>[e.address,e.storageKeys])}function eX(e,t){let r;try{if(r=eG(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){(0,n.assertArgument)(!1,"invalid yParity","yParity",t[0])}let a=(0,i.zeroPadValue)(t[1],32),o=(0,i.zeroPadValue)(t[2],32);e.signature=eP.Signature.from({r:a,s:o,yParity:r})}class eQ{#el;#ec;#t;#ed;#ef;#ep;#eh;#em;#eg;#es;#eb;#ey;#ex;#eA;#ew;#ev;#eS;get type(){return this.#el}set type(e){switch(e){case null:this.#el=null;break;case 0:case"legacy":this.#el=0;break;case 1:case"berlin":case"eip-2930":this.#el=1;break;case 2:case"london":case"eip-1559":this.#el=2;break;case 3:case"cancun":case"eip-4844":this.#el=3;break;case 4:case"pectra":case"eip-7702":this.#el=4;break;default:(0,n.assertArgument)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#ec;return null==e&&3===this.type?e_.ZeroAddress:e}set to(e){this.#ec=null==e?null:(0,h.getAddress)(e)}get nonce(){return this.#ed}set nonce(e){this.#ed=(0,x.getNumber)(e,"value")}get gasLimit(){return this.#ef}set gasLimit(e){this.#ef=(0,x.getBigInt)(e)}get gasPrice(){let e=this.#ep;return null==e&&(0===this.type||1===this.type)?eD:e}set gasPrice(e){this.#ep=null==e?null:(0,x.getBigInt)(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#eh;return null==e?2===this.type||3===this.type?eD:null:e}set maxPriorityFeePerGas(e){this.#eh=null==e?null:(0,x.getBigInt)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#em;return null==e?2===this.type||3===this.type?eD:null:e}set maxFeePerGas(e){this.#em=null==e?null:(0,x.getBigInt)(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=(0,i.hexlify)(e)}get value(){return this.#eg}set value(e){this.#eg=(0,x.getBigInt)(e,"value")}get chainId(){return this.#es}set chainId(e){this.#es=(0,x.getBigInt)(e)}get signature(){return this.#eb||null}set signature(e){this.#eb=null==e?null:eP.Signature.from(e)}get accessList(){let e=this.#ey||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#ey=null==e?null:(0,eh.accessListify)(e)}get authorizationList(){let e=this.#eS||null;return null==e&&4===this.type?[]:e}set authorizationList(e){this.#eS=null==e?null:e.map(e=>eI(e))}get maxFeePerBlobGas(){let e=this.#ex;return null==e&&3===this.type?eD:e}set maxFeePerBlobGas(e){this.#ex=null==e?null:(0,x.getBigInt)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#eA;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,n.assertArgument)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)(0,n.assertArgument)((0,i.isHexString)(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#eA=e}get blobs(){return null==this.#ev?null:this.#ev.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#ev=null;return}let t=[],r=[];for(let a=0;a<e.length;a++){let o=e[a];if((0,i.isBytesLike)(o)){(0,n.assert)(this.#ew,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,i.getBytes)(o);if((0,n.assertArgument)(e.length<=131072,"blob is too large",`blobs[${a}]`,o),131072!==e.length){let t=new Uint8Array(131072);t.set(e),e=t}let s=this.#ew.blobToKzgCommitment(e),u=(0,i.hexlify)(this.#ew.computeBlobKzgProof(e,s));t.push({data:(0,i.hexlify)(e),commitment:(0,i.hexlify)(s),proof:u}),r.push(eK(1,s))}else{let e=(0,i.hexlify)(o.commitment);t.push({data:(0,i.hexlify)(o.data),commitment:e,proof:(0,i.hexlify)(o.proof)}),r.push(eK(1,e))}}this.#ev=t,this.#eA=r}get kzg(){return this.#ew}set kzg(e){if(null==e)this.#ew=null;else this.#ew={blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return(0,i.getBytes)(e.blobToKzgCommitment((0,i.hexlify)(t)))}else if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return(0,i.getBytes)(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"==typeof e.blobToKZGCommitment)return(0,i.getBytes)(e.blobToKZGCommitment((0,i.hexlify)(t)));(0,n.assertArgument)(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,r)=>"computeBlobProof"in e&&"function"==typeof e.computeBlobProof?(0,i.getBytes)(e.computeBlobProof((0,i.hexlify)(t),(0,i.hexlify)(r))):"computeBlobKzgProof"in e&&"function"==typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,r):"computeBlobKZGProof"in e&&"function"==typeof e.computeBlobKZGProof?(0,i.getBytes)(e.computeBlobKZGProof((0,i.hexlify)(t),(0,i.hexlify)(r))):void(0,n.assertArgument)(!1,"unsupported KZG library","kzg",e)}}constructor(){this.#el=null,this.#ec=null,this.#ed=0,this.#ef=eD,this.#ep=null,this.#eh=null,this.#em=null,this.#t="0x",this.#eg=eD,this.#es=eD,this.#eb=null,this.#ey=null,this.#ex=null,this.#eA=null,this.#ew=null,this.#ev=null,this.#eS=null}get hash(){return null==this.signature?null:(0,r.keccak256)(this.#ek(!0,!1))}get unsignedHash(){return(0,r.keccak256)(this.unsignedSerialized)}get from(){return null==this.signature?null:b(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:m.SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#ek(e,t){(0,n.assert)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){let r=[ez(e.nonce,"nonce"),ez(e.gasPrice||0,"gasPrice"),ez(e.gasLimit,"gasLimit"),e.to||"0x",ez(e.value,"value"),e.data],i=eD;if(e.chainId!=eD)i=(0,x.getBigInt)(e.chainId,"tx.chainId"),(0,n.assertArgument)(!t||null==t.networkV||t.legacyChainId===i,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(i=t)}if(!t)return i!==eD&&(r.push((0,x.toBeArray)(i)),r.push("0x"),r.push("0x")),(0,y.encodeRlp)(r);let a=BigInt(27+t.yParity);return i!==eD?a=eP.Signature.getChainIdV(i,t.v):BigInt(t.v)!==a&&(0,n.assertArgument)(!1,"tx.chainId/sig.v mismatch","sig",t),r.push((0,x.toBeArray)(a)),r.push((0,x.toBeArray)(t.r)),r.push((0,x.toBeArray)(t.s)),(0,y.encodeRlp)(r)}(this,r);case 1:let a;return a=[ez(this.chainId,"chainId"),ez(this.nonce,"nonce"),ez(this.gasPrice||0,"gasPrice"),ez(this.gasLimit,"gasLimit"),this.to||"0x",ez(this.value,"value"),this.data,eH(this.accessList||[])],r&&(a.push(ez(r.yParity,"recoveryParam")),a.push((0,x.toBeArray)(r.r)),a.push((0,x.toBeArray)(r.s))),(0,i.concat)(["0x01",(0,y.encodeRlp)(a)]);case 2:let o;return o=[ez(this.chainId,"chainId"),ez(this.nonce,"nonce"),ez(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ez(this.maxFeePerGas||0,"maxFeePerGas"),ez(this.gasLimit,"gasLimit"),this.to||"0x",ez(this.value,"value"),this.data,eH(this.accessList||[])],r&&(o.push(ez(r.yParity,"yParity")),o.push((0,x.toBeArray)(r.r)),o.push((0,x.toBeArray)(r.s))),(0,i.concat)(["0x02",(0,y.encodeRlp)(o)]);case 3:var s,u,l;let c;return s=this,u=r,l=t?this.blobs:null,c=[ez(s.chainId,"chainId"),ez(s.nonce,"nonce"),ez(s.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ez(s.maxFeePerGas||0,"maxFeePerGas"),ez(s.gasLimit,"gasLimit"),s.to||e_.ZeroAddress,ez(s.value,"value"),s.data,eH(s.accessList||[]),ez(s.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){(0,n.assertArgument)(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)(0,n.assertArgument)((0,i.isHexString)(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(s.blobVersionedHashes||[],"blobVersionedHashes")],u&&(c.push(ez(u.yParity,"yParity")),c.push((0,x.toBeArray)(u.r)),c.push((0,x.toBeArray)(u.s)),l)?(0,i.concat)(["0x03",(0,y.encodeRlp)([c,l.map(e=>e.data),l.map(e=>e.commitment),l.map(e=>e.proof)])]):(0,i.concat)(["0x03",(0,y.encodeRlp)(c)]);case 4:let d=[ez(this.chainId,"chainId"),ez(this.nonce,"nonce"),ez(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ez(this.maxFeePerGas||0,"maxFeePerGas"),ez(this.gasLimit,"gasLimit"),this.to||"0x",ez(this.value,"value"),this.data,eH(this.accessList||[]),(this.authorizationList||[]).map(e=>[ez(e.chainId,"chainId"),e.address,ez(e.nonce,"nonce"),ez(e.signature.yParity,"yParity"),(0,x.toBeArray)(e.signature.r),(0,x.toBeArray)(e.signature.s)])];return r&&(d.push(ez(r.yParity,"yParity")),d.push((0,x.toBeArray)(r.r)),d.push((0,x.toBeArray)(r.s))),(0,i.concat)(["0x04",(0,y.encodeRlp)(d)])}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#ek(!0,!0)}get unsignedSerialized(){return this.#ek(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,i=null!=this.#ex||this.#eA;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,n.assert)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,n.assert)(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,n.assert)(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let a=[];return null!=this.type?a.push(this.type):this.authorizationList&&this.authorizationList.length?a.push(4):t?a.push(2):e?(a.push(1),r||a.push(0)):r?(a.push(1),a.push(2)):(i&&this.to||(a.push(0),a.push(1),a.push(2)),a.push(3)),a.sort(),a}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return eQ.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new eQ;if("string"==typeof e){let t=(0,i.getBytes)(e);if(t[0]>=127)return eQ.from(function(e){let t=eC(e);(0,n.assertArgument)(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:eG(t[0],"nonce"),gasPrice:ej(t[1],"gasPrice"),gasLimit:ej(t[2],"gasLimit"),to:eW(t[3]),value:ej(t[4],"value"),data:(0,i.hexlify)(t[5]),chainId:eD};if(6===t.length)return r;let a=ej(t[6],"v"),o=ej(t[7],"r"),s=ej(t[8],"s");if(o===eD&&s===eD)r.chainId=a;else{let e=(a-eL)/eF;e<eD&&(e=eD),r.chainId=e,(0,n.assertArgument)(e!==eD||a===eU||a===eM,"non-canonical legacy v","v",t[6]),r.signature=eP.Signature.from({r:(0,i.zeroPadValue)(t[7],32),s:(0,i.zeroPadValue)(t[8],32),v:a})}return r}(t));switch(t[0]){case 1:let r,a;return eQ.from((r=eC((0,i.getBytes)(t).slice(1)),(0,n.assertArgument)(Array.isArray(r)&&(8===r.length||11===r.length),"invalid field count for transaction type: 1","data",(0,i.hexlify)(t)),a={type:1,chainId:ej(r[0],"chainId"),nonce:eG(r[1],"nonce"),gasPrice:ej(r[2],"gasPrice"),gasLimit:ej(r[3],"gasLimit"),to:eW(r[4]),value:ej(r[5],"value"),data:(0,i.hexlify)(r[6]),accessList:eV(r[7],"accessList")},8===r.length||eX(a,r.slice(8)),a));case 2:let o,s;return eQ.from((o=eC((0,i.getBytes)(t).slice(1)),(0,n.assertArgument)(Array.isArray(o)&&(9===o.length||12===o.length),"invalid field count for transaction type: 2","data",(0,i.hexlify)(t)),s={type:2,chainId:ej(o[0],"chainId"),nonce:eG(o[1],"nonce"),maxPriorityFeePerGas:ej(o[2],"maxPriorityFeePerGas"),maxFeePerGas:ej(o[3],"maxFeePerGas"),gasPrice:null,gasLimit:ej(o[4],"gasLimit"),to:eW(o[5]),value:ej(o[6],"value"),data:(0,i.hexlify)(o[7]),accessList:eV(o[8],"accessList")},9===o.length||eX(s,o.slice(9)),s));case 3:return eQ.from(function(e){let t=eC((0,i.getBytes)(e).slice(1)),r="3",a=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";let e=t[1],i=t[2],o=t[3];(0,n.assertArgument)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,n.assertArgument)(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),(0,n.assertArgument)(Array.isArray(o),"invalid network format: proofs not an array","fields[3]",o),(0,n.assertArgument)(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),(0,n.assertArgument)(e.length===o.length,"invalid network format: blobs/proofs length mismatch","fields",t),a=[];for(let r=0;r<t[1].length;r++)a.push({data:e[r],commitment:i[r],proof:o[r]});t=t[0]}(0,n.assertArgument)(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",(0,i.hexlify)(e));let o={type:3,chainId:ej(t[0],"chainId"),nonce:eG(t[1],"nonce"),maxPriorityFeePerGas:ej(t[2],"maxPriorityFeePerGas"),maxFeePerGas:ej(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:ej(t[4],"gasLimit"),to:eW(t[5]),value:ej(t[6],"value"),data:(0,i.hexlify)(t[7]),accessList:eV(t[8],"accessList"),maxFeePerBlobGas:ej(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};a&&(o.blobs=a),(0,n.assertArgument)(null!=o.to,`invalid address for transaction type: ${r}`,"data",e),(0,n.assertArgument)(Array.isArray(o.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<o.blobVersionedHashes.length;t++)(0,n.assertArgument)((0,i.isHexString)(o.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||eX(o,t.slice(11)),o}(t));case 4:let u,l;return eQ.from((u=eC((0,i.getBytes)(t).slice(1)),(0,n.assertArgument)(Array.isArray(u)&&(10===u.length||13===u.length),"invalid field count for transaction type: 4","data",(0,i.hexlify)(t)),l={type:4,chainId:ej(u[0],"chainId"),nonce:eG(u[1],"nonce"),maxPriorityFeePerGas:ej(u[2],"maxPriorityFeePerGas"),maxFeePerGas:ej(u[3],"maxFeePerGas"),gasPrice:null,gasLimit:ej(u[4],"gasLimit"),to:eW(u[5]),value:ej(u[6],"value"),data:(0,i.hexlify)(u[7]),accessList:eV(u[8],"accessList"),authorizationList:function(e,t){try{if(!Array.isArray(e))throw Error("authorizationList: invalid array");let t=[];for(let r=0;r<e.length;r++){let n=e[r];if(!Array.isArray(n))throw Error(`authorization[${r}]: invalid array`);if(6!==n.length)throw Error(`authorization[${r}]: wrong length`);if(!n[1])throw Error(`authorization[${r}]: null address`);t.push({address:eW(n[1]),nonce:ej(n[2],"nonce"),chainId:ej(n[0],"chainId"),signature:eP.Signature.from({yParity:eG(n[3],"yParity"),r:(0,i.zeroPadValue)(n[4],32),s:(0,i.zeroPadValue)(n[5],32)})})}return t}catch(r){(0,n.assertArgument)(!1,r.message,t,e)}}(u[9],"authorizationList")},10===u.length||eX(l,u.slice(10)),l))}(0,n.assert)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new eQ;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=eP.Signature.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&((0,n.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,n.assertArgument)(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,n.assertArgument)(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,n.assertArgument)(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}e.s(["Transaction",()=>eQ],196003);var eJ=e.i(477808);let eY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",eZ=null,e$=BigInt(0),e0=BigInt(58);function e1(e){let t=(0,i.getBytes)(e),r=(0,x.toBigInt)(t),n="";for(;r;)n=eY[Number(r%e0)]+n,r/=e0;for(let e=0;e<t.length&&!t[e];e++)n=eY[0]+n;return n}function e2(e){let t=e$;for(let r=0;r<e.length;r++)t*=e0,t+=function(e){if(null==eZ){eZ={};for(let e=0;e<eY.length;e++)eZ[eY[e]]=BigInt(e)}let t=eZ[e];return(0,n.assertArgument)(null!=t,"invalid base58 value","letter",e),t}(e[r]);return t}function e4(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,n.assertArgument)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}e.s(["decodeBase58",()=>e2,"encodeBase58",()=>e1],168762);class e6{name;constructor(e){(0,O.defineProperties)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw Error("unsupported coin")}async decodeAddress(e,t){throw Error("unsupported coin")}}let e3=RegExp("^(ipfs)://(.*)$","i"),e5=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),e3,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class e8{provider;address;name;#eT;#eE;constructor(e,t,r){(0,O.defineProperties)(this,{provider:e,address:t,name:r}),this.#eT=null,this.#eE=new eN.Contract(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#eT&&(this.#eT=(async()=>{try{return await this.#eE.supportsInterface("0x9061b923")}catch(e){if((0,n.isError)(e,"CALL_EXCEPTION"))return!1;throw this.#eT=null,e}})()),await this.#eT}async #eP(e,t){t=(t||[]).slice();let r=this.#eE.interface;t.unshift(f(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),(0,n.assert)(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[p(this.name,255),r.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let n=await this.#eE[e](...t);if(i)return r.decodeFunctionResult(i,n)[0];return n}catch(e){if(!(0,n.isError)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#eP("addr(bytes32)");if(null==e||e===e_.ZeroAddress)return null;return e}catch(e){if((0,n.isError)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<0x80000000){let t=e+0x80000000,r=await this.#eP("addr(bytes32,uint)",[t]);if((0,i.isHexString)(r,20))return(0,h.getAddress)(r)}let t=null;for(let r of this.provider.plugins)if(r instanceof e6&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;let r=await this.#eP("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;let a=await t.decodeAddress(e,r);if(null!=a)return a;(0,n.assert)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#eP("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){let e=await this.#eP("contenthash(bytes32)");if(null==e||"0x"===e)return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${e1("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;(0,n.assert)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<e5.length;r++){let n=t.match(e5[r]);if(null==n)continue;let a=n[1].toLowerCase();switch(a){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let r=e4(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{let r="erc721"===a?"tokenURI(uint256)":"uri(uint256)";e.push({type:a,value:t});let o=await this.getAddress();if(null==o)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let s=(n[2]||"").split("/");if(2!==s.length)return e.push({type:`!${a}caip`,value:n[2]||""}),{url:null,linkage:e};let u=s[1],l=new eN.Contract(s[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===a){let t=await l.ownerOf(u);if(o!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===a){let t=await l.balanceOf(o,u);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await l[r](u);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===a&&(c=c.replace("{id}",(0,x.toBeHex)(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=e4(c)),e.push({type:"metadata-url",value:c});let d={},f=await new el(c).send();f.assertOk();try{d=f.bodyJson}catch(t){try{e.push({type:"!metadata",value:f.bodyText})}catch(r){let t=f.body;t&&e.push({type:"!metadata",value:(0,i.hexlify)(t)})}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let p=d.image;if("string"!=typeof p)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(p.match(/^(https:\/\/|data:)/i));else{let t=p.match(e3);if(null==t)return e.push({type:"!imageUrl-ipfs",value:p}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:p}),p=e4(p)}return e.push({type:"url",value:p}),{linkage:e,url:p}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return(0,n.assert)(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async #eI(e,t){let r=await e8.getEnsAddress(e);try{let i=new eN.Contract(r,["function resolver(bytes32) view returns (address)"],e),n=await i.resolver(f(t),{enableCcipRead:!0});if(n===e_.ZeroAddress)return null;return n}catch(e){throw e}}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r||"eth"!==t&&"eth"===r)return null;let i=await e8.#eI(e,r);if(null!=i){let n=new e8(e,i,t);if(r!==t&&!await n.supportsWildcard())return null;return n}r=r.split(".").slice(1).join(".")}}}e.s(["EnsResolver",()=>e8,"MulticoinProviderPlugin",()=>e6],258408);var e7=e.i(782045);let e9=BigInt(0);function te(e,t){return function(r){return null==r?t:e(r)}}function tt(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw Error("not an array");return r.map(t=>e(t))}}function tr(e,t){return r=>{let i={};for(let a in e){let o=a;if(t&&a in t&&!(o in r)){for(let e of t[a])if(e in r){o=e;break}}try{let t=e[a](r[o]);void 0!==t&&(i[a]=t)}catch(t){let e=t instanceof Error?t.message:"not-an-error";(0,n.assert)(!1,`invalid value for value.${a} (${e})`,"BAD_DATA",{value:r})}}return i}}function ti(e){return(0,n.assertArgument)((0,i.isHexString)(e,!0),"invalid data","value",e),e}function tn(e){return(0,n.assertArgument)((0,i.isHexString)(e,32),"invalid hash","value",e),e}let ta=tr({address:h.getAddress,blockHash:tn,blockNumber:x.getNumber,data:ti,index:x.getNumber,removed:te(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,n.assertArgument)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:tt(tn),transactionHash:tn,transactionIndex:x.getNumber},{index:["logIndex"]}),to=tr({hash:te(tn),parentHash:tn,parentBeaconBlockRoot:te(tn,null),number:x.getNumber,timestamp:x.getNumber,nonce:te(ti),difficulty:x.getBigInt,gasLimit:x.getBigInt,gasUsed:x.getBigInt,stateRoot:te(tn,null),receiptsRoot:te(tn,null),blobGasUsed:te(x.getBigInt,null),excessBlobGas:te(x.getBigInt,null),miner:te(h.getAddress),prevRandao:te(tn,null),extraData:ti,baseFeePerGas:te(x.getBigInt)},{prevRandao:["mixHash"]}),ts=tr({transactionIndex:x.getNumber,blockNumber:x.getNumber,transactionHash:tn,address:h.getAddress,topics:tt(tn),data:ti,index:x.getNumber,blockHash:tn},{index:["logIndex"]}),tu=tr({to:te(h.getAddress,null),from:te(h.getAddress,null),contractAddress:te(h.getAddress,null),index:x.getNumber,root:te(i.hexlify),gasUsed:x.getBigInt,blobGasUsed:te(x.getBigInt,null),logsBloom:te(ti),blockHash:tn,hash:tn,logs:tt(function(e){return ts(e)}),blockNumber:x.getNumber,cumulativeGasUsed:x.getBigInt,effectiveGasPrice:te(x.getBigInt),blobGasPrice:te(x.getBigInt,null),status:te(x.getNumber),type:te(x.getNumber,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function tl(e){e.to&&(0,x.getBigInt)(e.to)===e9&&(e.to="0x0000000000000000000000000000000000000000");let t=tr({hash:tn,index:te(x.getNumber,void 0),type:e=>"0x"===e||null==e?0:(0,x.getNumber)(e),accessList:te(eh.accessListify,null),blobVersionedHashes:te(tt(tn,!0),null),authorizationList:te(tt(e=>{let t;if(e.signature)t=e.signature;else{let r=e.yParity;"0x1b"===r?r=0:"0x1c"===r&&(r=1),t=Object.assign({},e,{yParity:r})}return{address:(0,h.getAddress)(e.address),chainId:(0,x.getBigInt)(e.chainId),nonce:(0,x.getBigInt)(e.nonce),signature:eP.Signature.from(t)}},!1),null),blockHash:te(tn,null),blockNumber:te(x.getNumber,null),transactionIndex:te(x.getNumber,null),from:h.getAddress,gasPrice:te(x.getBigInt),maxPriorityFeePerGas:te(x.getBigInt),maxFeePerGas:te(x.getBigInt),maxFeePerBlobGas:te(x.getBigInt,null),gasLimit:x.getBigInt,to:te(h.getAddress,null),value:x.getBigInt,nonce:x.getNumber,data:ti,creates:te(h.getAddress,null),chainId:te(x.getBigInt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=(0,e7.getCreateAddress)(t)),(1===e.type||2===e.type)&&null==e.accessList&&(t.accessList=[]),e.signature?t.signature=eP.Signature.from(e.signature):t.signature=eP.Signature.from(e),null==t.chainId){let e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&(0,x.getBigInt)(t.blockHash)===e9&&(t.blockHash=null),t}var tc=e.i(851047);function td(e){return JSON.parse(JSON.stringify(e))}class tf{#e_;#eN;#eR;#eO;constructor(e){this.#e_=e,this.#eN=null,this.#eR=4e3,this.#eO=-2}get pollingInterval(){return this.#eR}set pollingInterval(e){this.#eR=e}async #eB(){try{let e=await this.#e_.getBlockNumber();if(-2===this.#eO){this.#eO=e;return}if(e!==this.#eO){for(let t=this.#eO+1;t<=e;t++){if(null==this.#eN)return;await this.#e_.emit("block",t)}this.#eO=e}}catch(e){}null!=this.#eN&&(this.#eN=this.#e_._setTimeout(this.#eB.bind(this),this.#eR))}start(){this.#eN||(this.#eN=this.#e_._setTimeout(this.#eB.bind(this),this.#eR),this.#eB())}stop(){this.#eN&&(this.#e_._clearTimeout(this.#eN),this.#eN=null)}pause(e){this.stop(),e&&(this.#eO=-2)}resume(){this.start()}}class tp{#e_;#eB;#eC;constructor(e){this.#e_=e,this.#eC=!1,this.#eB=e=>{this._poll(e,this.#e_)}}async _poll(e,t){throw Error("sub-classes must override this")}start(){this.#eC||(this.#eC=!0,this.#eB(-2),this.#e_.on("block",this.#eB))}stop(){this.#eC&&(this.#eC=!1,this.#e_.off("block",this.#eB))}pause(e){this.stop()}resume(){this.start()}}class th extends tp{#eD;#eF;constructor(e,t){super(e),this.#eD=t,this.#eF=-2}pause(e){e&&(this.#eF=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#eD);null!=r&&(-2===this.#eF?this.#eF=r.number:r.number>this.#eF&&(t.emit(this.#eD,r.number),this.#eF=r.number))}}class tm extends tp{#E;constructor(e,t){super(e),this.#E=td(t)}async _poll(e,t){throw Error("@TODO")}}class tg extends tp{#eU;constructor(e,t){super(e),this.#eU=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#eU);r&&t.emit(this.#eU,r)}}class tb{#e_;#E;#eN;#eC;#eO;constructor(e,t){this.#e_=e,this.#E=td(t),this.#eN=this.#eB.bind(this),this.#eC=!1,this.#eO=-2}async #eB(e){if(-2===this.#eO)return;let t=td(this.#E);t.fromBlock=this.#eO+1,t.toBlock=e;let r=await this.#e_.getLogs(t);if(0===r.length){this.#eO<e-60&&(this.#eO=e-60);return}for(let e of r)this.#e_.emit(this.#E,e),this.#eO=e.blockNumber}start(){this.#eC||(this.#eC=!0,-2===this.#eO&&this.#e_.getBlockNumber().then(e=>{this.#eO=e}),this.#e_.on("block",this.#eN))}stop(){this.#eC&&(this.#eC=!1,this.#e_.off("block",this.#eN))}pause(e){this.stop(),e&&(this.#eO=-2)}resume(){this.start()}}let ty=BigInt(2);function tx(e){return e&&"function"==typeof e.then}function tA(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){let e=Object.keys(t);return e.sort(),e.reduce((e,r)=>(e[r]=t[r],e),{})}return t})}class tw{name;constructor(e){(0,O.defineProperties)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function tv(e){return(e=Array.from(new Set(e).values())).sort(),e}async function tS(e,t){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,i.isHexString)(e,32)){let t=e.toLowerCase();return{type:"transaction",tag:tA("tx",{hash:t}),hash:t}}if(e.orphan){let t=e;return{type:"orphan",tag:tA("orphan",t),filter:JSON.parse(JSON.stringify(t))}}if(e.address||e.topics){let r=e,n={topics:(r.topics||[]).map(e=>null==e?null:Array.isArray(e)?tv(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(r.address){let e=[],a=[],o=r=>{(0,i.isHexString)(r)?e.push(r):a.push((async()=>{e.push(await (0,eE.resolveAddress)(r,t))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),a.length&&await Promise.all(a),n.address=tv(e.map(e=>e.toLowerCase()))}return{filter:n,tag:tA("event",n),type:"event"}}(0,n.assertArgument)(!1,"unknown ProviderEvent","event",e)}function tk(){return new Date().getTime()}let tT={cacheTimeout:250,pollingInterval:4e3};class tE{#eM;#eu;#eL;#eq;#eK;#eW;#eV;#eG;#ej;#ez;#eH;#c;constructor(e,t){if(this.#c=Object.assign({},tT,t||{}),"any"===e)this.#eW=!0,this.#eK=null;else if(e){const t=ew.from(e);this.#eW=!1,this.#eK=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#eW=!1,this.#eK=null;this.#eG=-1,this.#eV=new Map,this.#eM=new Map,this.#eu=new Map,this.#eL=null,this.#eq=!1,this.#ej=1,this.#ez=new Map,this.#eH=!1}get pollingInterval(){return this.#c.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#eu.values())}attachPlugin(e){if(this.#eu.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eu.set(e.name,e.connect(this)),this}getPlugin(e){return this.#eu.get(e)||null}get disableCcipRead(){return this.#eH}set disableCcipRead(e){this.#eH=!!e}async #eX(e){let t=this.#c.cacheTimeout;if(t<0)return await this._perform(e);let r=tA(e.method,e),i=this.#eV.get(r);return i||(i=this._perform(e),this.#eV.set(r,i),setTimeout(()=>{this.#eV.get(r)===i&&this.#eV.delete(r)},t)),await i}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;let i=e.to.toLowerCase(),a=t.toLowerCase(),o=[];for(let t=0;t<r.length;t++){let s,u=r[t],l=new el(u.replace("{sender}",i).replace("{data}",a));-1===u.indexOf("{data}")&&(l.body={data:a,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let c="unknown error";try{s=await l.send()}catch(e){o.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:e}});continue}try{let e=s.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(c=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}(0,n.assert)(s.statusCode<400||s.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:u,errorMessage:c}}),o.push(c)}(0,n.assert)(!1,`error encountered during CCIP fetch: ${o.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,t){let r;return new tc.Block(((r=to(e)).transactions=e.transactions.map(e=>"string"==typeof e?e:tl(e)),r),this)}_wrapLog(e,t){return new tc.Log(ta(e),this)}_wrapTransactionReceipt(e,t){return new tc.TransactionReceipt(tu(e),this)}_wrapTransactionResponse(e,t){return new tc.TransactionResponse(tl(e),this)}_detectNetwork(){(0,n.assert)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,n.assert)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,x.getNumber)(await this.#eX({method:"getBlockNumber"}),"%response");return this.#eG>=0&&(this.#eG=e),e}_getAddress(e){return(0,eE.resolveAddress)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,i.isHexString)(e)?(0,i.isHexString)(e,32)?e:(0,x.toQuantity)(e):("bigint"==typeof e&&(e=(0,x.getNumber)(e,"blockTag")),"number"==typeof e)?e>=0?(0,x.toQuantity)(e):this.#eG>=0?(0,x.toQuantity)(this.#eG+e):this.getBlockNumber().then(t=>(0,x.toQuantity)(t+e)):void(0,n.assertArgument)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t,r,i=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?tv(e.map(e=>e.toLowerCase())):e.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,a=(e,t,r)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(n&&(null!=t||null!=r))throw Error("invalid filter");let o={};return a&&(o.address=a),i.length&&(o.topics=i),t&&(o.fromBlock=t),r&&(o.toBlock=r),n&&(o.blockHash=n),o},o=[];if(e.address)if(Array.isArray(e.address))for(let t of e.address)o.push(this._getAddress(t));else o.push(this._getAddress(e.address));return"fromBlock"in e&&(t=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(r=this._getBlockTag(e.toBlock)),o.filter(e=>"string"!=typeof e).length||null!=t&&"string"!=typeof t||null!=r&&"string"!=typeof r)?Promise.all([Promise.all(o),t,r]).then(e=>a(e[0],e[1],e[2])):a(o,t,r)}_getTransactionRequest(e){let t=(0,tc.copyRequest)(e),r=[];if(["to","from"].forEach(e=>{if(null==t[e])return;let i=(0,eE.resolveAddress)(t[e],this);tx(i)?r.push(async function(){t[e]=await i}()):t[e]=i}),null!=t.blockTag){let e=this._getBlockTag(t.blockTag);tx(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#eK){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#eK===e&&(this.#eK=null),t}})();return this.#eK=e,(await e).clone()}let e=this.#eK,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#eW?(this.emit("network",r,t),this.#eK===e&&(this.#eK=Promise.resolve(r))):(0,n.assert)(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:t,gasPrice:r,priorityFee:i}=await (0,O.resolveProperties)({_block:this.#eQ("latest",!1),gasPrice:(async()=>{try{let e=await this.#eX({method:"getGasPrice"});return(0,x.getBigInt)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#eX({method:"getPriorityFee"});return(0,x.getBigInt)(e,"%response")}catch(e){}return null})()}),n=null,a=null,o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(a=null!=i?i:BigInt("1000000000"),n=o.baseFeePerGas*ty+a),new tc.FeeData(r,n,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let e=new el(r.url),i=await r.processFunc(t,this,e);return new tc.FeeData(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return tx(t)&&(t=await t),(0,x.getBigInt)(await this.#eX({method:"estimateGas",transaction:t}),"%response")}async #eJ(e,t,r){(0,n.assert)(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let o=(0,tc.copyRequest)(e);try{return(0,i.hexlify)(await this._perform({method:"call",transaction:o,blockTag:t}))}catch(e){if(!this.disableCcipRead&&(0,n.isCallException)(e)&&e.data&&r>=0&&"latest"===t&&null!=o.to&&"0x556f1830"===(0,i.dataSlice)(e.data,0,4)){let s,u=e.data,l=await (0,eE.resolveAddress)(o.to,this);try{s=function(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,n.assert)((0,i.dataLength)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=(0,i.dataSlice)(e,0,32);(0,n.assert)((0,i.dataSlice)(r,0,12)===(0,i.dataSlice)(tN,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=(0,i.dataSlice)(r,12);try{let r=[],n=(0,x.getNumber)((0,i.dataSlice)(e,32,64)),o=(0,x.getNumber)((0,i.dataSlice)(e,n,n+32)),s=(0,i.dataSlice)(e,n+32);for(let e=0;e<o;e++){let t=function(e,t){try{let r=tP(e,t);if(r)return(0,a.toUtf8String)(r)}catch(e){}return null}(s,32*e);if(null==t)throw Error("abort");r.push(t)}t.urls=r}catch(e){(0,n.assert)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=tP(e,64);if(null==r)throw Error("abort");t.calldata=r}catch(e){(0,n.assert)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,n.assert)((0,i.dataSlice)(e,100,128)===(0,i.dataSlice)(tN,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=(0,i.dataSlice)(e,96,100);try{let r=tP(e,128);if(null==r)throw Error("abort");t.extraData=r}catch(e){(0,n.assert)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}((0,i.dataSlice)(e.data,4))}catch(e){(0,n.assert)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:o,info:{data:u}})}(0,n.assert)(s.sender.toLowerCase()===l.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:u,reason:"OffchainLookup",transaction:o,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:s.errorArgs}});let c=await this.ccipReadFetch(o,s.calldata,s.urls);(0,n.assert)(null!=c,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:o,info:{data:e.data,errorArgs:s.errorArgs}});let d={to:l,data:(0,i.concat)([s.selector,function(e){let t=[],r=0;for(let i=0;i<e.length;i++)t.push(t_),r+=32;for(let n=0;n<e.length;n++){let a=(0,i.getBytes)(e[n]);t[n]=tI(r),t.push(tI(a.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(a)),r+=32+32*Math.ceil(a.length/32)}return(0,i.concat)(t)}([c,s.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{let e=await this.#eJ(d,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:e}),e}}throw e}}async #eY(e){let{value:t}=await (0,O.resolveProperties)({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await (0,O.resolveProperties)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#eY(this.#eJ(t,r,e.enableCcipRead?0:-1))}async #eZ(e,t,r){let i=this._getAddress(t),n=this._getBlockTag(r);return("string"!=typeof i||"string"!=typeof n)&&([i,n]=await Promise.all([i,n])),await this.#eY(this.#eX(Object.assign(e,{address:i,blockTag:n})))}async getBalance(e,t){return(0,x.getBigInt)(await this.#eZ({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return(0,x.getNumber)(await this.#eZ({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return(0,i.hexlify)(await this.#eZ({method:"getCode"},e,t))}async getStorage(e,t,r){let n=(0,x.getBigInt)(t,"position");return(0,i.hexlify)(await this.#eZ({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:i}=await (0,O.resolveProperties)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),n=eQ.from(e);if(n.hash!==r)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(n,i).replaceableTransaction(t)}async #eQ(e,t){if((0,i.isHexString)(e,32))return await this.#eX({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#eX({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:i}=await (0,O.resolveProperties)({network:this.getNetwork(),params:this.#eQ(e,!!t)});return null==i?null:this._wrapBlock(i,r)}async getTransaction(e){let{network:t,params:r}=await (0,O.resolveProperties)({network:this.getNetwork(),params:this.#eX({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await (0,O.resolveProperties)({network:this.getNetwork(),params:this.#eX({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){let t=await this.#eX({method:"getTransaction",hash:e});if(null==t)throw Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await (0,O.resolveProperties)({network:this.getNetwork(),result:this.#eX({method:"getTransactionResult",hash:e})});return null==t?null:(0,i.hexlify)(t)}async getLogs(e){let t=this._getFilter(e);tx(t)&&(t=await t);let{network:r,params:i}=await (0,O.resolveProperties)({network:this.getNetwork(),params:this.#eX({method:"getLogs",filter:t})});return i.map(e=>this._wrapLog(e,r))}_getProvider(e){(0,n.assert)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await e8.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){let t=f((e=(0,h.getAddress)(e)).substring(2).toLowerCase()+".addr.reverse");try{let r=await e8.getEnsAddress(this),i=new eN.Contract(r,["function resolver(bytes32) view returns (address)"],this),n=await i.resolver(t);if(null==n||n===e_.ZeroAddress)return null;let a=new eN.Contract(n,["function name(bytes32) view returns (string)"],this),o=await a.name(t);if(await this.resolveName(o)!==e)return null;return o}catch(e){if((0,n.isError)(e,"BAD_DATA")&&"0x"===e.value||(0,n.isError)(e,"CALL_EXCEPTION"))return null;throw e}}async waitForTransaction(e,t,r){let i=null!=t?t:1;return 0===i?this.getTransactionReceipt(e):new Promise(async(t,a)=>{let o=null,s=async r=>{try{let n=await this.getTransactionReceipt(e);if(null!=n&&r-n.blockNumber+1>=i){t(n),o&&(clearTimeout(o),o=null);return}}catch(e){console.log("EEE",e)}this.once("block",s)};null!=r&&(o=setTimeout(()=>{null!=o&&(o=null,this.off("block",s),a((0,n.makeError)("timeout","TIMEOUT",{reason:"timeout"})))},r)),s(await this.getBlockNumber())})}async waitForBlock(e){(0,n.assert)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#ez.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#ez.delete(e))}_setTimeout(e,t){null==t&&(t=0);let r=this.#ej++,i=()=>{this.#ez.delete(r),e()};if(this.paused)this.#ez.set(r,{timer:null,func:i,time:t});else{let e=setTimeout(i,t);this.#ez.set(r,{timer:e,func:i,time:tk()})}return r}_forEachSubscriber(e){for(let t of this.#eM.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new tw(e.type);case"block":{let e=new tf(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new th(this,e.type);case"event":return new tb(this,e.filter);case"transaction":return new tg(this,e.hash);case"orphan":return new tm(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#eM.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#eL&&t.pause(this.#eL);break}}async #e$(e,t){let r=await tS(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await tS({orphan:"drop-log",log:t[0]},this)),this.#eM.get(r.tag)||null}async #e0(e){let t=await tS(e,this),r=t.tag,i=this.#eM.get(r);if(!i){let e=this._getSubscriber(t);i={subscriber:e,tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#eM.set(r,i)}return i}async on(e,t){let r=await this.#e0(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eL&&r.subscriber.pause(this.#eL)),this}async once(e,t){let r=await this.#e0(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eL&&r.subscriber.pause(this.#eL)),this}async emit(e,...t){let r=await this.#e$(e,t);if(!r||0===r.listeners.length)return!1;let i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:r,once:i})=>{let n=new eJ.EventPayload(this,i?null:r,e);try{r.call(this,...t,n)}catch(e){}return!i}),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#eM.delete(r.tag)),i>0}async listenerCount(e){if(e){let t=await this.#e$(e);return t?t.listeners.length:0}let t=0;for(let{listeners:e}of this.#eM.values())t+=e.length;return t}async listeners(e){if(e){let t=await this.#e$(e);return t?t.listeners.map(({listener:e})=>e):[]}let t=[];for(let{listeners:e}of this.#eM.values())t=t.concat(e.map(({listener:e})=>e));return t}async off(e,t){let r=await this.#e$(e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#eM.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:i}=await this.#e0(e);r&&i.stop(),this.#eM.delete(t)}else for(let[e,{started:t,subscriber:r}]of this.#eM)t&&r.stop(),this.#eM.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#eq}destroy(){for(let e of(this.removeAllListeners(),this.#ez.keys()))this._clearTimeout(e);this.#eq=!0}get paused(){return null!=this.#eL}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#eG=-1,null!=this.#eL){if(!!e==this.#eL)return;(0,n.assert)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let t of(this._forEachSubscriber(t=>t.pause(e)),this.#eL=!!e,this.#ez.values()))t.timer&&clearTimeout(t.timer),t.time=tk()-t.time}resume(){if(null!=this.#eL)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#eL=null,this.#ez.values())){let t=e.time;t<0&&(t=0),e.time=tk(),setTimeout(e.func,t)}}}function tP(e,t){if("0x"===e)return null;try{let r=(0,x.getNumber)((0,i.dataSlice)(e,t,t+32)),n=(0,x.getNumber)((0,i.dataSlice)(e,r,r+32));return(0,i.dataSlice)(e,r+32,r+32+n)}catch(e){}return null}function tI(e){let t=(0,x.toBeArray)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}let t_=new Uint8Array([]),tN="0x0000000000000000000000000000000000000000000000000000000000000000";function tR(e,t){if(e.provider)return e.provider;(0,n.assert)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function tO(e,t){let r=(0,tc.copyRequest)(t);if(null!=r.to&&(r.to=(0,eE.resolveAddress)(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),(0,eE.resolveAddress)(t,e)]).then(([e,t])=>((0,n.assertArgument)(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await (0,O.resolveProperties)(r)}e.s(["AbstractProvider",()=>tE,"UnmanagedSubscriber",()=>tw],248855);class tB{provider;constructor(e){(0,O.defineProperties)(this,{provider:e||null})}async getNonce(e){return tR(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await tO(this,e)}async populateTransaction(e){let t=tR(this,"populateTransaction"),r=await tO(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let i=await this.provider.getNetwork();if(null!=r.chainId){let t=(0,x.getBigInt)(r.chainId);(0,n.assertArgument)(t===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;let a=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||a)?(0,n.assertArgument)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&a&&(0,n.assertArgument)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();(0,n.assert)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?((0,n.assert)(!a,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):(0,n.assert)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(2===r.type||3===r.type||4===r.type)&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await (0,O.resolveProperties)(r)}async populateAuthorization(e){let t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await tR(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return tR(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return tR(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=tR(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=tR(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let i=eQ.from(r);return await t.broadcastTransaction(await this.signTransaction(i))}authorize(e){(0,n.assert)(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class tC extends tB{address;constructor(e,t){super(t),(0,O.defineProperties)(this,{address:e})}async getAddress(){return this.address}connect(e){return new tC(this.address,e)}#e1(e,t){(0,n.assert)(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e1("transactions","signTransaction")}async signMessage(e){this.#e1("messages","signMessage")}async signTypedData(e,t,r){this.#e1("typed-data","signTypedData")}}e.s(["AbstractSigner",()=>tB,"VoidSigner",()=>tC],558238);class tD{#e_;#e2;#eN;#eC;#e4;#e6;constructor(e){this.#e_=e,this.#e2=null,this.#eN=this.#eB.bind(this),this.#eC=!1,this.#e4=null,this.#e6=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,t){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #eB(e){try{null==this.#e2&&(this.#e2=this._subscribe(this.#e_));let e=null;try{e=await this.#e2}catch(e){if(!(0,n.isError)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#e2=null,this.#e_._recoverSubscriber(this,this._recover(this.#e_));return}let t=await this.#e_.getNetwork();if(this.#e4||(this.#e4=t),this.#e4.chainId!==t.chainId)throw Error("chaid changed");if(this.#e6)return;let r=await this.#e_.send("eth_getFilterChanges",[e]);await this._emitResults(this.#e_,r)}catch(e){console.log("@TODO",e)}this.#e_.once("block",this.#eN)}#e3(){let e=this.#e2;e&&(this.#e2=null,e.then(e=>{this.#e_.destroyed||this.#e_.send("eth_uninstallFilter",[e])}))}start(){this.#eC||(this.#eC=!0,this.#eB(-2))}stop(){this.#eC&&(this.#eC=!1,this.#e6=!0,this.#e3(),this.#e_.off("block",this.#eN))}pause(e){e&&this.#e3(),this.#e_.off("block",this.#eN)}resume(){this.start()}}class tF extends tD{#e5;constructor(e,t){super(e),this.#e5=JSON.parse(JSON.stringify(t))}_recover(e){return new tb(e,this.#e5)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e5])}async _emitResults(e,t){for(let r of t)e.emit(this.#e5,e._wrapLog(r,e._network))}}class tU extends tD{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}}let tM="bigint,boolean,function,number,string,symbol".split(/,/g);function tL(e){if(null==e||tM.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(tL);if("object"==typeof e)return Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{});throw Error(`should not happen: ${e} (${typeof e})`)}function tq(e){return e?e.toLowerCase():e}function tK(e){return e&&"number"==typeof e.pollingInterval}let tW={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class tV extends tB{address;constructor(e,t){super(e),t=(0,h.getAddress)(t),(0,O.defineProperties)(this,{address:t})}connect(e){(0,n.assert)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=tL(e),r=[];if(t.from){let i=t.from;r.push((async()=>{let r=await (0,eE.resolveAddress)(i,this.provider);(0,n.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){let e=t.to;r.push((async()=>{t.to=await (0,eE.resolveAddress)(e,this.provider)})())}r.length&&await Promise.all(r);let i=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((e,i)=>{let a=[1e3,100],o=0,s=async()=>{try{let i=await this.provider.getTransaction(r);if(null!=i)return void e(i.replaceableTransaction(t))}catch(e){if((0,n.isError)(e,"CANCELLED")||(0,n.isError)(e,"BAD_DATA")||(0,n.isError)(e,"NETWORK_ERROR")||(0,n.isError)(e,"UNSUPPORTED_OPERATION")){null==e.info&&(e.info={}),e.info.sendTransactionHash=r,i(e);return}if((0,n.isError)(e,"INVALID_ARGUMENT")&&(o++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,o>10))return void i(e);this.provider.emit("error",(0,n.makeError)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{s()},a.pop()||4e3)};s()})}async signTransaction(e){let t=tL(e);if(t.from){let r=await (0,eE.resolveAddress)(t.from,this.provider);(0,n.assertArgument)(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t="string"==typeof e?(0,a.toUtf8Bytes)(e):e;return await this.provider.send("personal_sign",[(0,i.hexlify)(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let i=tL(r),a=await X.resolveNames(e,t,i,async e=>{let t=await (0,eE.resolveAddress)(e);return(0,n.assertArgument)(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(X.getPayload(a.domain,t,a.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t="string"==typeof e?(0,a.toUtf8Bytes)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,i.hexlify)(t)])}}class tG extends tE{#c;#e8;#e7;#e9;#te;#e4;#tt;#tr(){if(this.#e9)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#e9=setTimeout(()=>{this.#e9=null;let e=this.#e7;for(this.#e7=[];e.length;){let t=[e.shift()];for(;e.length&&t.length!==this.#c.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map(e=>e.payload)).length>this.#c.batchMaxSize){e.unshift(t.pop());break}(async()=>{let e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let r=await this._send(e);for(let{resolve:e,reject:i,payload:a}of(this.emit("debug",{action:"receiveRpcResult",result:r}),t)){if(this.destroyed){i((0,n.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}));continue}let t=r.filter(e=>e.id===a.id)[0];if(null==t){let e=(0,n.makeError)("missing response for request","BAD_DATA",{value:r,info:{payload:a}});this.emit("error",e),i(e);continue}if("error"in t){i(this.getRpcError(a,t));continue}e(t.result)}}catch(e){for(let{reject:r}of(this.emit("debug",{action:"receiveRpcError",error:e}),t))r(e)}})()}},e)}constructor(e,t){super(e,t),this.#e8=1,this.#c=Object.assign({},tW,t||{}),this.#e7=[],this.#e9=null,this.#e4=null,this.#tt=null;{let e=null;const t=new Promise(t=>{e=t});this.#te={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?((0,n.assertArgument)(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#e4=ew.from(e))):r&&((0,n.assertArgument)(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#e4=r)}_getOption(e){return this.#c[e]}get _network(){return(0,n.assert)(this.#e4,"network is not available yet","NETWORK_ERROR"),this.#e4}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&(0,x.getBigInt)(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){let r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}let t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;else if(this.#e4)return this.#e4}return this.#tt||(this.ready?this.#tt=(async()=>{try{let e=ew.from((0,x.getBigInt)(await this.send("eth_chainId",[])));return this.#tt=null,e}catch(e){throw this.#tt=null,e}})():this.#tt=(async()=>{let e,t={id:this.#e8++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#tt=null}catch(e){throw this.#tt=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return ew.from((0,x.getBigInt)(e.result));throw this.getRpcError(t,e)})()),await this.#tt}_start(){null!=this.#te&&null!=this.#te.resolve&&(this.#te.resolve(),this.#te=null,(async()=>{for(;null==this.#e4&&!this.destroyed;)try{this.#e4=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,n.makeError)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#tr()})())}async _waitUntilReady(){if(null!=this.#te)return await this.#te.promise}_getSubscriber(e){return"pending"===e.type?new tU(this):"event"===e.type?this._getOption("polling")?new tb(this,e.filter):new tF(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new tw("orphan"):super._getSubscriber(e)}get ready(){return null==this.#te}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(null==e[r])return;let i=r;"gasLimit"===r&&(i="gas"),t[i]=(0,x.toQuantity)((0,x.getBigInt)(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{null!=e[r]&&(t[r]=(0,i.hexlify)(e[r]))}),e.accessList&&(t.accessList=(0,eh.accessListify)(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{let t=eI(e);return{address:t.address,nonce:(0,x.toQuantity)(t.nonce),chainId:(0,x.toQuantity)(t.chainId),yParity:(0,x.toQuantity)(t.signature.yParity),r:(0,x.toQuantity)(t.signature.r),s:(0,x.toQuantity)(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[tq(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[tq(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[tq(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[tq(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(tq):e.filter.address=tq(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let r,{method:a}=e,{error:o}=t;if("eth_estimateGas"===a&&o.message){let t=o.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return(0,n.makeError)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:o}});if(t.match(/nonce/i)&&t.match(/too low/i))return(0,n.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:o}})}if("eth_call"===a||"eth_estimateGas"===a){let t=function e(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&(0,i.isHexString)(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(let r in t){let i=e(t[r]);if(i)return i}return null}if("string"==typeof t)try{return e(JSON.parse(t))}catch(e){}return null}(o),r=eT.AbiCoder.getBuiltinCallException("eth_call"===a?"call":"estimateGas",e.params[0],t?t.data:null);return r.info={error:o,payload:e},r}let s=JSON.stringify((!function e(t,r){if(null!=t){if("string"==typeof t.message&&r.push(t.message),"object"==typeof t)for(let i in t)e(t[i],r);if("string"==typeof t)try{return e(JSON.parse(t),r)}catch(e){}}}(o,r=[]),r));if("string"==typeof o.message&&o.message.match(/user denied|ethers-user-denied/i))return(0,n.makeError)("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[a]||"unknown",reason:"rejected",info:{payload:e,error:o}});if("eth_sendRawTransaction"===a||"eth_sendTransaction"===a){let t=e.params[0];if(s.match(/insufficient funds|base fee exceeds gas limit/i))return(0,n.makeError)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:o}});if(s.match(/nonce/i)&&s.match(/too low/i))return(0,n.makeError)("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:o}});if(s.match(/replacement transaction/i)&&s.match(/underpriced/i))return(0,n.makeError)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:o}});if(s.match(/only replay-protected/i))return(0,n.makeError)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:a,info:{transaction:t,info:{error:o}}})}let u=!!s.match(/the method .* does not exist/i);return(!u&&o&&o.details&&o.details.startsWith("Unauthorized method:")&&(u=!0),u)?(0,n.makeError)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:o,payload:e}}):(0,n.makeError)("could not coalesce error","UNKNOWN_ERROR",{error:o,payload:e})}send(e,t){if(this.destroyed)return Promise.reject((0,n.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#e8++,i=new Promise((i,n)=>{this.#e7.push({resolve:i,reject:n,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#tr(),i}async getSigner(e){null==e&&(e=0);let t=this.send("eth_accounts",[]);if("number"==typeof e){let r=await t;if(e>=r.length)throw Error("no such account");return new tV(this,r[e])}let{accounts:r}=await (0,O.resolveProperties)({network:this.getNetwork(),accounts:t});for(let t of(e=(0,h.getAddress)(e),r))if((0,h.getAddress)(t)===e)return new tV(this,e);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new tV(this,e))}destroy(){for(let{payload:e,reject:t}of(this.#e9&&(clearTimeout(this.#e9),this.#e9=null),this.#e7))t((0,n.makeError)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#e7=[],super.destroy()}}class tj extends tG{#ti;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=tW.pollingInterval),this.#ti=r}_getSubscriber(e){let t=super._getSubscriber(e);return tK(t)&&(t.pollingInterval=this.#ti),t}get pollingInterval(){return this.#ti}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#ti=e,this._forEachSubscriber(e=>{tK(e)&&(e.pollingInterval=this.#ti)})}}class tz extends tj{#tn;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),"string"==typeof e?this.#tn=new el(e):this.#tn=e.clone()}_getConnection(){return this.#tn.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let r=await t.send();r.assertOk();let i=r.bodyJson;return Array.isArray(i)||(i=[i]),i}}e.s(["JsonRpcApiPollingProvider",()=>tj,"JsonRpcApiProvider",()=>tG,"JsonRpcProvider",()=>tz,"JsonRpcSigner",()=>tV],972072);let tH="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class tX extends tz{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=tH),super(tX.getRequest(r,t),r,{polling:!0,staticNetwork:r}),(0,O.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new tX(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=tH);let r=new el(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===tH&&(r.retryFunc=async(e,t,r)=>(ep("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===tH}}e.s(["AnkrProvider",()=>tX],894282);let tQ="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class tJ extends tz{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=tQ),super(tJ.getRequest(r,t),r,{staticNetwork:r}),(0,O.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new tJ(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){let t,{trace:r,tx:i}=await (0,O.resolveProperties)({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==r||null==i)return null;let a=!1;try{t=r[0].result.output,a="Reverted"===r[0].error}catch(e){}if(t)return(0,n.assert)(!a,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:t,reason:null,transaction:i,invocation:null,revert:null}),t;(0,n.assert)(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(e)}isCommunityResource(){return this.apiKey===tQ}static getRequest(e,t){null==t&&(t=tQ);let r=new el(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===tQ&&(r.retryFunc=async(e,t,r)=>(ep("alchemy"),!0)),r}}function tY(e){switch(e){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}(0,n.assertArgument)(!1,"unsupported network","network",e)}e.s(["AlchemyProvider",()=>tJ],483280);class tZ extends tz{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=tY(r.name)),super(tZ.getRequest(r,t),r,{staticNetwork:r}),(0,O.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new tZ(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.apiKey===tY(this._network.name)}static getRequest(e,t){null==t&&(t=tY(e.name));let r=new el(`https://${function(e){switch(e){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===tY(e.name)&&(r.retryFunc=async(e,t,r)=>(ep("ChainstackProvider"),!0)),r}}e.s(["ChainstackProvider",()=>tZ],374920);class t$ extends tz{constructor(e){null==e&&(e="mainnet");const t=ew.from(e);(0,n.assertArgument)("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}e.s(["CloudflareProvider",()=>t$],745533);let t0="org.ethers.plugins.provider.Etherscan";class t1 extends em{baseUrl;constructor(e){super(t0),(0,O.defineProperties)(this,{baseUrl:e})}clone(){return new t1(this.baseUrl)}}let t2=["enableCcipRead"],t4=1;class t6 extends tE{network;apiKey;#ta;constructor(e,t){super();const r=ew.from(e);this.#ta=r.getPlugin(t0),(0,O.defineProperties)(this,{apiKey:null!=t?t:null,network:r})}getBaseUrl(){if(this.#ta)return this.#ta.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}(0,n.assertArgument)(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let i=t[r];return null!=i&&(e+=`&${r}=${i}`),e},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,r){let i=t4++,o=r?this.getPostUrl():this.getUrl(e,t),s=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:i,url:o,payload:s});let u=new el(o);u.setThrottleParams({slotInterval:1e3}),u.retryFunc=(e,t,r)=>(this.isCommunityResource()&&ep("Etherscan"),Promise.resolve(!0)),u.processFunc=async(t,r)=>{let n=r.hasBody()?JSON.parse((0,a.toUtf8String)(r.body)):{},o=("string"==typeof n.result?n.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?n&&0==n.status&&"NOTOK"==n.message&&o&&(this.emit("debug",{action:"receiveError",id:i,reason:"proxy-NOTOK",error:n}),r.throwThrottleError(n.result,2e3)):o&&(this.emit("debug",{action:"receiveError",id:i,reason:"null result",error:n.result}),r.throwThrottleError(n.result,2e3)),r},s&&(u.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),u.body=Object.keys(s).map(e=>`${e}=${s[e]}`).join("&"));let l=await u.send();try{l.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:i,error:e,reason:"assertOk"}),(0,n.assert)(!1,"response error","SERVER_ERROR",{request:u,response:l})}l.hasBody()||(this.emit("debug",{action:"receiveError",id:i,error:"missing body",reason:"null body"}),(0,n.assert)(!1,"missing response","SERVER_ERROR",{request:u,response:l}));let c=JSON.parse((0,a.toUtf8String)(l.body));return"proxy"===e?("2.0"!=c.jsonrpc&&(this.emit("debug",{action:"receiveError",id:i,result:c,reason:"invalid JSON-RPC"}),(0,n.assert)(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:u,response:l,info:{result:c}})),c.error&&(this.emit("debug",{action:"receiveError",id:i,result:c,reason:"JSON-RPC error"}),(0,n.assert)(!1,"error response","SERVER_ERROR",{request:u,response:l,info:{result:c}}))):0==c.status&&("No records found"===c.message||"No transactions found"===c.message)||1==c.status&&("string"!=typeof c.message||c.message.match(/^OK/))||(this.emit("debug",{action:"receiveError",id:i,result:c}),(0,n.assert)(!1,"error response","SERVER_ERROR",{request:u,response:l,info:{result:c}})),this.emit("debug",{action:"receiveRequest",id:i,result:c}),c.result}_getTransactionPostData(e){let t={};for(let r in e){if(t2.indexOf(r)>=0||null==e[r])continue;let a=e[r];if(("type"!==r||0!==a)&&("blockTag"!==r||"latest"!==a)){if(({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r])a=(0,x.toQuantity)(a);else if("accessList"===r)a="["+(0,eh.accessListify)(a).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]";else if("blobVersionedHashes"===r){if(0===a.length)continue;(0,n.assert)(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else a=(0,i.hexlify)(a);t[r]=a}}return t}_checkError(e,t,r){let i="";if((0,n.isError)(t,"SERVER_ERROR")){try{i=t.info.result.error.message}catch(e){}if(!i)try{i=t.info.message}catch(e){}}if("estimateGas"===e.method&&!i.match(/revert/i)&&i.match(/insufficient funds/i)&&(0,n.assert)(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&i.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(e){}let i=eT.AbiCoder.getBuiltinCallException(e.method,e.transaction,r);throw i.info={request:e,error:t},i}if(i&&"broadcastTransaction"===e.method){let t=eQ.from(e.signedTransaction);i.match(/replacement/i)&&i.match(/underpriced/i)&&(0,n.assert)(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),i.match(/insufficient funds/)&&(0,n.assert)(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&(0,n.assert)(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});(0,n.assert)(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){var t;let r=this._getAddress(e);(t=r)&&"function"==typeof t.then&&(r=await r);try{let e=await this.fetch("contract",{action:"getabi",address:r}),t=JSON.parse(e);return new eN.Contract(r,t,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}e.s(["EtherscanPlugin",()=>t1,"EtherscanProvider",()=>t6],357224);let t3=("undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g).WebSocket;class t5{#e_;#E;get filter(){return JSON.parse(this.#E)}#to;#ts;#tu;constructor(e,t){this.#e_=e,this.#E=JSON.stringify(t),this.#to=null,this.#ts=null,this.#tu=null}start(){this.#to=this.#e_.send("eth_subscribe",this.filter).then(e=>(this.#e_._register(e,this),e))}stop(){this.#to.then(e=>{this.#e_.destroyed||this.#e_.send("eth_unsubscribe",[e])}),this.#to=null}pause(e){(0,n.assert)(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#ts=!!e}resume(){this.#ts=null}_handleMessage(e){if(null!=this.#to&&null===this.#ts){let t=this.#tu;t=null==t?this._emit(this.#e_,e):t.then(async()=>{await this._emit(this.#e_,e)}),this.#tu=t.then(()=>{this.#tu===t&&(this.#tu=null)})}}async _emit(e,t){throw Error("sub-classes must implemente this; _emit")}}class t8 extends t5{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class t7 extends t5{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class t9 extends t5{#tl;get logFilter(){return JSON.parse(this.#tl)}constructor(e,t){super(e,["logs",t]),this.#tl=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class re extends tG{#tc;#eM;#td;constructor(e,t){const r=Object.assign({},null!=t?t:{});(0,n.assertArgument)(null==r.batchMaxCount||1===r.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,null==r.staticNetwork&&(r.staticNetwork=!0),super(e,r),this.#tc=new Map,this.#eM=new Map,this.#td=new Map}_getSubscriber(e){switch(e.type){case"close":return new tw("close");case"block":return new t8(this);case"pending":return new t7(this);case"event":return new t9(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new tw("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#eM.set(e,t);let r=this.#td.get(e);if(r){for(let e of r)t._handleMessage(e);this.#td.delete(e)}}async _send(e){(0,n.assertArgument)(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((t,r)=>{this.#tc.set(e.id,{payload:e,resolve:t,reject:r})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){let t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){let e=this.#tc.get(t.id);if(null==e)return void this.emit("error",(0,n.makeError)("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#tc.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",(0,n.makeError)("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));let e=t.params.subscription,r=this.#eM.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#td.get(e);null==r&&(r=[],this.#td.set(e,r)),r.push(t.params.result)}}}async _write(e){throw Error("sub-classes must override this")}}e.s(["SocketBlockSubscriber",()=>t8,"SocketEventSubscriber",()=>t9,"SocketPendingSubscriber",()=>t7,"SocketProvider",()=>re,"SocketSubscriber",()=>t5],787101);class rt extends re{#tn;#tf;get websocket(){if(null==this.#tf)throw Error("websocket closed");return this.#tf}constructor(e,t,r){super(t,r),"string"==typeof e?(this.#tn=()=>new t3(e),this.#tf=this.#tn()):"function"==typeof e?(this.#tn=e,this.#tf=e()):(this.#tn=null,this.#tf=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#tf&&(this.#tf.close(),this.#tf=null),super.destroy()}}e.s(["WebSocketProvider",()=>rt],863475);let rr="84842078b09946638c03157f83405213";class ri extends rt{projectId;projectSecret;constructor(e,t){const r=new rn(e,t),i=r._getConnection();(0,n.assert)(!i.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),r._network),(0,O.defineProperties)(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===rr}}class rn extends tz{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const i=ew.from(e);null==t&&(t=rr),null==r&&(r=null),super(rn.getRequest(i,t,r),i,{staticNetwork:i}),(0,O.defineProperties)(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new rn(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===rr}static getWebSocketProvider(e,t){return new ri(e,t)}static getRequest(e,t,r){null==t&&(t=rr),null==r&&(r=null);let i=new el(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return i.allowGzip=!0,r&&i.setCredentials("",r),t===rr&&(i.retryFunc=async(e,t,r)=>(ep("InfuraProvider"),!0)),i}}e.s(["InfuraProvider",()=>rn,"InfuraWebSocketProvider",()=>ri],306260);let ra="919b412a057b5e9c9b6dce193c5a60242d6efadb";class ro extends tz{token;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=ra),super(ro.getRequest(r,t),r,{staticNetwork:r}),(0,O.defineProperties)(this,{token:t})}_getProvider(e){try{return new ro(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===ra}static getRequest(e,t){null==t&&(t=ra);let r=new el(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===ra&&(r.retryFunc=async(e,t,r)=>(ep("QuickNodeProvider"),!0)),r}}e.s(["QuickNodeProvider",()=>ro],63738);let rs=BigInt("1"),ru=BigInt("2");function rl(){return new Date().getTime()}function rc(e){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t)}let rd={stallTimeout:400,priority:1,weight:1},rf={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function rp(e,t){for(;(e.blockNumber<0||e.blockNumber<t)&&(e._updateNumber||(e._updateNumber=(async()=>{try{let t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=rl()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}function rh(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(rh).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return rh(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{"+t.map(t=>`${JSON.stringify(t)}:${rh(e[t])}`).join(",")+"}"}}throw console.log("Could not serialize",e),Error("Hmm...")}function rm(e,t){if("error"in t){let e=t.error;return{tag:(0,n.isError)(e,"CALL_EXCEPTION")?rh(Object.assign({},e,{shortMessage:void 0,reason:void 0,info:void 0})):rh(e),value:e}}let r=t.result;return{tag:rh(r),value:r}}function rg(e,t){let r=new Map;for(let{value:e,tag:i,weight:n}of t){let t=r.get(i)||{value:e,weight:0};t.weight+=n,r.set(i,t)}let i=null;for(let t of r.values())t.weight>=e&&(!i||t.weight>i.weight)&&(i=t);if(i)return i.value}function rb(e,t){let r=0,i=new Map,n=null,a=[];for(let{value:e,tag:o,weight:s}of t)if(e instanceof Error){let t=i.get(o)||{value:e,weight:0};t.weight+=s,i.set(o,t),(null==n||t.weight>n.weight)&&(n=t)}else a.push(BigInt(e)),r+=s;if(r<e)return n&&n.weight>=e?n.value:void 0;a.sort((e,t)=>e<t?-1:+(t>e));let o=Math.floor(a.length/2);return a.length%2?a[o]:(a[o-1]+a[o]+rs)/ru}function ry(e,t){let r=rg(e,t);if(void 0!==r)return r;for(let e of t)if(e.value)return e.value}class rx extends tE{quorum;eventQuorum;eventWorkers;#tp;#th;#tm;constructor(e,t,r){super(t,r),this.#tp=e.map(e=>e instanceof tE?Object.assign({provider:e},rd,rf):Object.assign({},rd,e,rf)),this.#th=-2,this.#tm=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#tp.reduce((e,t)=>e+=t.weight,0)/2),this.eventQuorum=1,this.eventWorkers=1,(0,n.assertArgument)(this.quorum<=this.#tp.reduce((e,t)=>e+t.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#tp.map(e=>{let t=Object.assign({},e);for(let e in t)"_"===e[0]&&delete t[e];return t})}async _detectNetwork(){return ew.from((0,x.getBigInt)(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{let r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#tg(e){let t=Array.from(e).map(e=>e.config),r=this.#tp.slice();for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),i=r[e];r[e]=r[t],r[t]=i}for(let e of(r.sort((e,t)=>e.priority-t.priority),r))if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#tb(e,t){let r=this.#tg(e);if(null==r)return null;let i={config:r,result:null,didBump:!1,perform:null,staller:null},n=rl();return i.perform=(async()=>{try{r.requests++,i.result={result:await this._translatePerform(r.provider,t)}}catch(e){r.errorResponses++,i.result={error:e}}let e=rl()-n;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,i.perform=null})(),i.staller=(async()=>{var e;await (e=r.stallTimeout,new Promise(t=>{setTimeout(t,e)})),i.staller=null})(),e.add(i),i}async #ty(){let e=this.#tm;if(!e){let t=[];this.#tp.forEach(e=>{t.push((async()=>{await rp(e,0),e._lastFatalError||(e._network=await e.provider.getNetwork())})())}),this.#tm=e=(async()=>{await Promise.all(t);let e=null;for(let t of this.#tp){if(t._lastFatalError)continue;let r=t._network;null==e?e=r.chainId:r.chainId!==e&&(0,n.assert)(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async #tx(e,t){let r=[];for(let i of e)if(null!=i.result){let{tag:e,value:n}=rm(t.method,i.result);r.push({tag:e,value:n,weight:i.config.weight})}if(!(r.reduce((e,t)=>e+t.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#th&&(this.#th=Math.ceil((0,x.getNumber)(rb(this.quorum,this.#tp.filter(e=>!e._lastFatalError).map(e=>({value:e.blockNumber,tag:(0,x.getNumber)(e.blockNumber).toString(),weight:e.weight}))))));let e=function(e,t){let r;if(1===e)return(0,x.getNumber)(rb(e,t),"%internal");let i=new Map,n=(e,t)=>{let r=i.get(e)||{result:e,weight:0};r.weight+=t,i.set(e,r)};for(let{weight:e,value:r}of t){let t=(0,x.getNumber)(r);n(t-1,e),n(t,e),n(t+1,e)}let a=0;for(let{weight:t,result:n}of i.values())t>=e&&(t>a||null!=r&&t===a&&n>r)&&(a=t,r=n);return r}(this.quorum,r);if(void 0===e)return;return e>this.#th&&(this.#th=e),this.#th}case"getGasPrice":case"getPriorityFee":case"estimateGas":return rb(this.quorum,r);case"getBlock":if("blockTag"in t&&"pending"===t.blockTag)return ry(this.quorum,r);return rg(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return rg(this.quorum,r);case"broadcastTransaction":return ry(this.quorum,r)}(0,n.assert)(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${rc(t.method)})`})}}async #tA(e,t){if(0===e.size)throw Error("no runners?!");let r=[],i=0;for(let t of e){if(t.perform&&r.push(t.perform),t.staller){r.push(t.staller);continue}!t.didBump&&(t.didBump=!0,i++)}let a=await this.#tx(e,t);if(void 0!==a){if(a instanceof Error)throw a;return a}for(let r=0;r<i;r++)this.#tb(e,t);return(0,n.assert)(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(e=>rc(e.result))}}),await Promise.race(r),await this.#tA(e,t)}async _perform(e){if("broadcastTransaction"===e.method){let t=this.#tp.map(e=>null),r=this.#tp.map(async({provider:r,weight:i},n)=>{try{let a=await r._perform(e);t[n]=Object.assign(rm(e.method,{result:a}),{weight:i})}catch(r){t[n]=Object.assign(rm(e.method,{error:r}),{weight:i})}});for(;;){for(let{value:e}of t.filter(e=>null!=e))if(!(e instanceof Error))return e;let e=rg(this.quorum,t.filter(e=>null!=e));if((0,n.isError)(e,"INSUFFICIENT_FUNDS"))throw e;let i=r.filter((e,r)=>null==t[r]);if(0===i.length)break;await Promise.race(i)}let i=ry(this.quorum,t);if((0,n.assert)(void 0!==i,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(rc)}}),i instanceof Error)throw i;return i}await this.#ty();let t=new Set,r=0;for(;;){let i=this.#tb(t,e);if(null==i||(r+=i.config.weight)>=this.quorum)break}let i=await this.#tA(t,e);for(let e of t)e.perform&&null==e.result&&e.config.lateResponses++;return i}async destroy(){for(let{provider:e}of this.#tp)e.destroy();super.destroy()}}e.s(["FallbackProvider",()=>rx],458752);let rA="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function rw(e,t){null==t&&(t={});let r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new tz(e);if("string"==typeof e&&e.match(/^wss?:/)||e&&"function"==typeof e.send&&"function"==typeof e.close)return new rt(e);let i=null;try{i=ew.from(e)}catch(e){}let a=[];if(r("publicPolygon")&&i&&("matic"===i.name?a.push(new tz("https://polygon-rpc.com/",i,{staticNetwork:i})):"matic-amoy"===i.name&&a.push(new tz("https://rpc-amoy.polygon.technology/",i,{staticNetwork:i}))),r("alchemy"))try{a.push(new tJ(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{a.push(new tX(e,t.ankr))}catch(e){}if(r("chainstack"))try{a.push(new tZ(e,t.chainstack))}catch(e){}if(r("cloudflare"))try{a.push(new t$(e))}catch(e){}if(r("etherscan"))try{a.push(new t6(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,i=t.infura;"object"==typeof i&&(r=i.projectSecret,i=i.projectId),a.push(new rn(e,i,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;a.push(new ro(e,r))}catch(e){}if((0,n.assert)(a.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===a.length)return a[0];let o=Math.floor(a.length/2);return o>2&&(o=2),i&&-1!==rA.indexOf(i.name)&&(o=1),t&&t.quorum&&(o=t.quorum),new rx(a,void 0,{quorum:o})}e.s(["getDefaultProvider",()=>rw],678874);class rv extends tB{signer;#tw;#tv;constructor(e){super(e.provider),(0,O.defineProperties)(this,{signer:e}),this.#tw=null,this.#tv=0}async getAddress(){return this.signer.getAddress()}connect(e){return new rv(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#tw&&(this.#tw=super.getNonce("pending"));let e=this.#tv;return await this.#tw+e}return super.getNonce(e)}increment(){this.#tv++}reset(){this.#tv=0,this.#tw=null}async sendTransaction(e){let t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}e.s(["NonceManager",()=>rv],966339);class rS extends tj{#er;#tS;constructor(e,t,r){const i=Object.assign({},null!=r?r:{},{batchMaxCount:1});(0,n.assertArgument)(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,i),this.#tS=null,r&&r.providerInfo&&(this.#tS=r.providerInfo),this.#er=async(t,r)=>{let i={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:i});try{let t=await e.request(i);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=i,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}get providerInfo(){return this.#tS}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){(0,n.assertArgument)(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#er(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#er("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new rS(e.provider);let t=e.window?e.window:"undefined"!=typeof window?window:null;if(null==t)return null;let r=e.anyProvider;if(r&&t.ethereum)return new rS(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let i=e.timeout?e.timeout:300;return 0===i?null:await new Promise((a,o)=>{let s=[],u=e=>{s.push(e.detail),r&&l()},l=()=>{if(clearTimeout(c),s.length)if(e&&e.filter){let t=e.filter(s.map(e=>Object.assign({},e.info)));if(null==t)a(null);else if(t instanceof rS)a(t);else{let e=null;if(t.uuid&&(e=s.filter(e=>t.uuid===e.info.uuid)[0]),e){let{provider:t,info:r}=e;a(new rS(t,void 0,{providerInfo:r}))}else o((0,n.makeError)("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{let{provider:e,info:t}=s[0];a(new rS(e,void 0,{providerInfo:t}))}else a(null);t.removeEventListener("eip6963:announceProvider",u)},c=setTimeout(()=>{l()},i);t.addEventListener("eip6963:announceProvider",u),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}e.s(["BrowserProvider",()=>rS],655092);class rk extends tz{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=ew.from(e);null==t&&(t=null),super(rk.getRequest(r),r,{staticNetwork:r}),(0,O.defineProperties)(this,{apiKey:t})}_getProvider(e){try{return new rk(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return null===this.apiKey}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&"eth_estimateGas"===t.method&&1==t.args.length&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let r=t?t.error:null;if(r&&-32015===r.code&&!(0,i.isHexString)(r.data||"",!0)){let e={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},t="";"VM execution error."===r.message?t=e[r.data]||"":e[r.message||""]&&(t=e[r.message||""]),t&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+t)}else r&&-32e3===r.code&&"wrong transaction nonce"===r.message&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new el(function(e){switch(e){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name));return t.allowGzip=!0,t}}e.s(["BlockscoutProvider",()=>rk],190741);let rT="62e1ad51b37b8e00394bda3b";class rE extends tz{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const i=ew.from(e);null==t&&(t=rT),null==r&&(r=null),super(rE.getRequest(i,t,r),i,{staticNetwork:i}),(0,O.defineProperties)(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new rE(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=rT);let i=new el(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}(0,n.assertArgument)(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return i.allowGzip=!0,r&&i.setCredentials("",r),t===rT&&(i.retryFunc=async(e,t,r)=>(ep("PocketProvider"),!0)),i}isCommunityResource(){return this.applicationId===rT}}e.s(["PocketProvider",()=>rE],233967);e.s(["IpcSocketProvider",()=>t],473587);let rP=BigInt(-1),rI=BigInt(0),r_=BigInt(1),rN=BigInt(5),rR={},rO="0000";for(;rO.length<80;)rO+=rO;function rB(e){let t=rO;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function rC(e,t,r){let i=BigInt(t.width);if(t.signed){let t=r_<<i-r_;(0,n.assert)(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>rI?(0,x.fromTwos)((0,x.mask)(e,i),i):-(0,x.fromTwos)((0,x.mask)(-e,i),i)}else{let t=r_<<i;(0,n.assert)(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-r_}return e}function rD(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let a=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,n.assertArgument)(a,"invalid fixed format","format",e),t="u"!==a[1],r=parseInt(a[2]),i=parseInt(a[3])}else if(e){let a=e,o=(e,t,r)=>null==a[e]?r:((0,n.assertArgument)(typeof a[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,a[e]),a[e]);t=o("signed","boolean",t),r=o("width","number",r),i=o("decimals","number",i)}(0,n.assertArgument)(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),(0,n.assertArgument)(i<=80,"invalid FixedNumber decimals (too large)","format.decimals",i);let a=(t?"":"u")+"fixed"+String(r)+"x"+String(i);return{signed:t,width:r,decimals:i,name:a}}class rF{format;#tk;#tT;#tE;_value;constructor(e,t,r){(0,n.assertPrivate)(e,rR,"FixedNumber"),this.#tT=t,this.#tk=r;const i=function(e,t){let r="";e<rI&&(r="-",e*=rP);let i=e.toString();if(0===t)return r+i;for(;i.length<=t;)i=rO+i;let n=i.length-t;for(i=i.substring(0,n)+"."+i.substring(n);"0"===i[0]&&"."!==i[1];)i=i.substring(1);for(;"0"===i[i.length-1]&&"."!==i[i.length-2];)i=i.substring(0,i.length-1);return r+i}(t,r.decimals);(0,O.defineProperties)(this,{format:r.name,_value:i}),this.#tE=rB(r.decimals)}get signed(){return this.#tk.signed}get width(){return this.#tk.width}get decimals(){return this.#tk.decimals}get value(){return this.#tT}#tP(e){(0,n.assertArgument)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#tI(e,t){return new rF(rR,e=rC(e,this.#tk,t),this.#tk)}#t_(e,t){return this.#tP(e),this.#tI(this.#tT+e.#tT,t)}addUnsafe(e){return this.#t_(e)}add(e){return this.#t_(e,"add")}#tN(e,t){return this.#tP(e),this.#tI(this.#tT-e.#tT,t)}subUnsafe(e){return this.#tN(e)}sub(e){return this.#tN(e,"sub")}#tR(e,t){return this.#tP(e),this.#tI(this.#tT*e.#tT/this.#tE,t)}mulUnsafe(e){return this.#tR(e)}mul(e){return this.#tR(e,"mul")}mulSignal(e){this.#tP(e);let t=this.#tT*e.#tT;return(0,n.assert)(t%this.#tE===rI,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#tI(t/this.#tE,"mulSignal")}#tO(e,t){return(0,n.assert)(e.#tT!==rI,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#tP(e),this.#tI(this.#tT*this.#tE/e.#tT,t)}divUnsafe(e){return this.#tO(e)}div(e){return this.#tO(e,"div")}divSignal(e){(0,n.assert)(e.#tT!==rI,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#tP(e);let t=this.#tT*this.#tE;return(0,n.assert)(t%e.#tT===rI,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#tI(t/e.#tT,"divSignal")}cmp(e){let t=this.value,r=e.value,i=this.decimals-e.decimals;return(i>0?r*=rB(i):i<0&&(t*=rB(-i)),t<r)?-1:+(t>r)}eq(e){return 0===this.cmp(e)}lt(e){return 0>this.cmp(e)}lte(e){return 0>=this.cmp(e)}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#tT;return this.#tT<rI&&(e-=this.#tE-r_),e=this.#tT/this.#tE*this.#tE,this.#tI(e,"floor")}ceiling(){let e=this.#tT;return this.#tT>rI&&(e+=this.#tE-r_),e=this.#tT/this.#tE*this.#tE,this.#tI(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,r=rN*rB(t-1),i=this.value+r,n=rB(t);return rC(i=i/n*n,this.#tk,"round"),new rF(rR,i,this.#tk)}isZero(){return this.#tT===rI}isNegative(){return this.#tT<rI}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return rF.fromString(this.toString(),e)}static fromValue(e,t,r){let i=null==t?0:(0,x.getNumber)(t),a=rD(r),o=(0,x.getBigInt)(e,"value"),s=i-a.decimals;if(s>0){let t=rB(s);(0,n.assert)(o%t===rI,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=t}else s<0&&(o*=rB(-s));return rC(o,a,"fromValue"),new rF(rR,o,a)}static fromString(e,t){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,n.assertArgument)(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let i=rD(t),a=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=rO;(0,n.assert)(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);let s=BigInt(r[1]+a+o);return rC(s,i,"fromString"),new rF(rR,s,i)}static fromBytes(e,t){let r=(0,x.toBigInt)((0,i.getBytes)(e,"value")),n=rD(t);return n.signed&&(r=(0,x.fromTwos)(r,n.width)),rC(r,n,"fromBytes"),new rF(rR,r,n)}}e.s(["FixedNumber",()=>rF],12227);let rU=["wei","kwei","mwei","gwei","szabo","finney","ether"];function rM(e,t){let r=18;if("string"==typeof t){let e=rU.indexOf(t);(0,n.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,x.getNumber)(t,"unit"));return rF.fromValue(e,r,{decimals:r,width:512}).toString()}function rL(e,t){(0,n.assertArgument)("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){let e=rU.indexOf(t);(0,n.assertArgument)(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=(0,x.getNumber)(t,"unit"));return rF.fromString(e,{decimals:r,width:512}).value}function rq(e){return rM(e,18)}function rK(e){return rL(e,18)}function rW(e){let t=(0,i.getBytes)(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=(0,i.hexlify)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}e.s(["formatEther",()=>rq,"formatUnits",()=>rM,"parseEther",()=>rK,"parseUnits",()=>rL],501058),e.s(["uuidV4",()=>rW],725941);var rV=e.i(767397);let rG=" !#$%&'()*+,-./<=>?@[]^_`{|}~",rj=/^[a-z]*$/i;function rz(e,t){let r=97;return e.reduce((e,i)=>(i===t?r++:i.match(rj)?e.push(String.fromCharCode(r)+i):(r=97,e.push(i)),e),[])}function rH(e){return(0,n.assertArgument)("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let r=rG.length-1;r>=0;r--)e=e.split(rG[r]).join(t.substring(2*r,2*r+2));let r=[],i=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,i,n)=>{if(i)for(let e=parseInt(i);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""});if(i)throw Error(`leftovers: ${JSON.stringify(i)}`);return rz(rz(r,";"),":")}(e.substring(1+2*rG.length),e.substring(1,1+2*rG.length))}e.s(["decodeOwl",()=>rH],331415);class rX{locale;constructor(e){(0,O.defineProperties)(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}e.s(["Wordlist",()=>rX],244308);class rQ extends rX{#t;#tB;constructor(e,t,r){super(e),this.#t=t,this.#tB=r,this.#tC=null}get _data(){return this.#t}_decodeWords(){return rH(this.#t)}#tC;#tD(){if(null==this.#tC){let e=this._decodeWords();if((0,B.id)(e.join("\n")+"\n")!==this.#tB)throw Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#tC=e}return this.#tC}getWord(e){let t=this.#tD();return(0,n.assertArgument)(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#tD().indexOf(e)}}e.s(["WordlistOwl",()=>rQ],978851);let rJ=null;class rY extends rQ{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==rJ&&(rJ=new rY),rJ}}function rZ(e){return(1<<e)-1<<8-e&255}function r$(e,t){(0,n.assertNormalize)("NFKD"),null==t&&(t=rY.wordlist());let r=t.split(e);(0,n.assertArgument)(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let a=new Uint8Array(Math.ceil(11*r.length/8)),o=0;for(let e=0;e<r.length;e++){let i=t.getWordIndex(r[e].normalize("NFKD"));(0,n.assertArgument)(i>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)i&1<<10-e&&(a[o>>3]|=1<<7-o%8),o++}let s=32*r.length/3,u=rZ(r.length/3),l=(0,i.getBytes)((0,T.sha256)(a.slice(0,s/8)))[0]&u;return(0,n.assertArgument)(l===(a[a.length-1]&u),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),(0,i.hexlify)(a.slice(0,s/8))}function r0(e,t){(0,n.assertArgument)(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=rY.wordlist());let r=[0],i=11;for(let t=0;t<e.length;t++)i>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],i-=8):(r[r.length-1]<<=i,r[r.length-1]|=e[t]>>8-i,r.push(e[t]&((1<<8-i)-1&255)),i+=3);let a=e.length/4,o=parseInt((0,T.sha256)(e).substring(2,4),16)&rZ(a);return r[r.length-1]<<=a,r[r.length-1]|=o>>8-a,t.join(r.map(e=>t.getWord(e)))}e.s(["LangEn",()=>rY],84552);let r1={};class r2{phrase;password;wordlist;entropy;constructor(e,t,r,i,a){null==i&&(i=""),null==a&&(a=rY.wordlist()),(0,n.assertPrivate)(e,r1,"Mnemonic"),(0,O.defineProperties)(this,{phrase:r,password:i,wordlist:a,entropy:t})}computeSeed(){let e=(0,a.toUtf8Bytes)("mnemonic"+this.password,"NFKD");return(0,rV.pbkdf2)((0,a.toUtf8Bytes)(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let n=r$(e,r);return e=r0((0,i.getBytes)(n),r),new r2(r1,n,e,t,r)}static fromEntropy(e,t,r){let n=(0,i.getBytes)(e,"entropy"),a=r0(n,r);return new r2(r1,(0,i.hexlify)(n),a,t,r)}static entropyToPhrase(e,t){return r0((0,i.getBytes)(e,"entropy"),t)}static phraseToEntropy(e,t){return r$(e,t)}static isValidMnemonic(e,t){try{return r$(e,t),!0}catch(e){}return!1}}e.s(["Mnemonic",()=>r2],149105);class r4 extends tB{address;#tF;constructor(e,t){super(t),(0,n.assertArgument)(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#tF=e;const r=g(this.signingKey.publicKey);(0,O.defineProperties)(this,{address:r})}get signingKey(){return this.#tF}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new r4(this.#tF,e)}async signTransaction(e){e=(0,tc.copyRequest)(e);let{to:t,from:r}=await (0,O.resolveProperties)({to:e.to?(0,eE.resolveAddress)(e.to,this):void 0,from:e.from?(0,eE.resolveAddress)(e.from,this):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&((0,n.assertArgument)((0,h.getAddress)(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let i=eQ.from(e);return i.signature=this.signingKey.sign(i.unsignedHash),i.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(S(e)).serialized}authorizeSync(e){(0,n.assertArgument)("string"==typeof e.address,"invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(A(e));return Object.assign({},{address:(0,h.getAddress)(e.address),nonce:(0,x.getBigInt)(e.nonce||0),chainId:(0,x.getBigInt)(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await (0,eE.resolveAddress)(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,r){let i=await X.resolveNames(e,t,r,async e=>{(0,n.assert)(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});let t=await this.provider.resolveName(e);return(0,n.assert)(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign(X.hash(i.domain,t,i.value)).serialized}}e.s(["BaseWallet",()=>r4],956342)},812052,447159,478312,836783,e=>{"use strict";var t,r,i,n,a,o,s,u,l=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)},c=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r};let d={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],p=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],m=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],g=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],b=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],y=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],x=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],A=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],w=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],v=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],S=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],k=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],T=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],E=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function P(e){let t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class I{get key(){return l(this,t,"f").slice()}constructor(e){let n;if(t.set(this,void 0),r.set(this,void 0),i.set(this,void 0),!(this instanceof I))throw Error("AES must be instanitated with `new`");c(this,t,new Uint8Array(e),"f");const a=d[this.key.length];if(null==a)throw TypeError("invalid key size (must be 16, 24 or 32 bytes)");c(this,i,[],"f"),c(this,r,[],"f");for(let e=0;e<=a;e++)l(this,i,"f").push([0,0,0,0]),l(this,r,"f").push([0,0,0,0]);const o=(a+1)*4,s=this.key.length/4,u=P(this.key);for(let e=0;e<s;e++)n=e>>2,l(this,i,"f")[n][e%4]=u[e],l(this,r,"f")[a-n][e%4]=u[e];let h=0,m=s,g;for(;m<o;){if(g=u[s-1],u[0]^=p[g>>16&255]<<24^p[g>>8&255]<<16^p[255&g]<<8^p[g>>24&255]^f[h]<<24,h+=1,8!=s)for(let e=1;e<s;e++)u[e]^=u[e-1];else{for(let e=1;e<s/2;e++)u[e]^=u[e-1];g=u[s/2-1],u[s/2]^=p[255&g]^p[g>>8&255]<<8^p[g>>16&255]<<16^p[g>>24&255]<<24;for(let e=s/2+1;e<s;e++)u[e]^=u[e-1]}let e=0,t,n;for(;e<s&&m<o;)t=m>>2,n=m%4,l(this,i,"f")[t][n]=u[e],l(this,r,"f")[a-t][n]=u[e++],m++}for(let e=1;e<a;e++)for(let t=0;t<4;t++)g=l(this,r,"f")[e][t],l(this,r,"f")[e][t]=S[g>>24&255]^k[g>>16&255]^T[g>>8&255]^E[255&g]}encrypt(e){if(16!=e.length)throw TypeError("invalid plaintext size (must be 16 bytes)");let t=l(this,i,"f").length-1,r=[0,0,0,0],n=P(e);for(let e=0;e<4;e++)n[e]^=l(this,i,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=m[n[t]>>24&255]^g[n[(t+1)%4]>>16&255]^b[n[(t+2)%4]>>8&255]^y[255&n[(t+3)%4]]^l(this,i,"f")[e][t];n=r.slice()}let a=new Uint8Array(16),o=0;for(let e=0;e<4;e++)o=l(this,i,"f")[t][e],a[4*e]=(p[n[e]>>24&255]^o>>24)&255,a[4*e+1]=(p[n[(e+1)%4]>>16&255]^o>>16)&255,a[4*e+2]=(p[n[(e+2)%4]>>8&255]^o>>8)&255,a[4*e+3]=(p[255&n[(e+3)%4]]^o)&255;return a}decrypt(e){if(16!=e.length)throw TypeError("invalid ciphertext size (must be 16 bytes)");let t=l(this,r,"f").length-1,i=[0,0,0,0],n=P(e);for(let e=0;e<4;e++)n[e]^=l(this,r,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)i[t]=x[n[t]>>24&255]^A[n[(t+3)%4]>>16&255]^w[n[(t+2)%4]>>8&255]^v[255&n[(t+1)%4]]^l(this,r,"f")[e][t];n=i.slice()}let a=new Uint8Array(16),o=0;for(let e=0;e<4;e++)o=l(this,r,"f")[t][e],a[4*e]=(h[n[e]>>24&255]^o>>24)&255,a[4*e+1]=(h[n[(e+3)%4]>>16&255]^o>>16)&255,a[4*e+2]=(h[n[(e+2)%4]>>8&255]^o>>8)&255,a[4*e+3]=(h[255&n[(e+1)%4]]^o)&255;return a}}t=new WeakMap,r=new WeakMap,i=new WeakMap;class _{constructor(e,t,r){if(r&&!(this instanceof r))throw Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new I(t)},name:{enumerable:!0,value:e}})}}var N=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},R=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class O extends _{constructor(e,t){if(super("ECC",e,O),n.set(this,void 0),a.set(this,void 0),t){if(t.length%16)throw TypeError("invalid iv size (must be 16 bytes)");N(this,n,new Uint8Array(t),"f")}else N(this,n,new Uint8Array(16),"f");N(this,a,this.iv,"f")}get iv(){return new Uint8Array(R(this,n,"f"))}encrypt(e){if(e.length%16)throw TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)R(this,a,"f")[t]^=e[r+t];N(this,a,this.aes.encrypt(R(this,a,"f")),"f"),t.set(R(this,a,"f"),r)}return t}decrypt(e){if(e.length%16)throw TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let i=this.aes.decrypt(e.subarray(r,r+16));for(let n=0;n<16;n++)t[r+n]=i[n]^R(this,a,"f")[n],R(this,a,"f")[n]=e[r+n]}return t}}n=new WeakMap,a=new WeakMap,e.s(["CBC",()=>O],447159);new WeakMap,new WeakMap,new WeakSet;var B=function(e,t,r,i,n){if("m"===i)throw TypeError("Private method is not writable");if("a"===i&&!n)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?n.call(e,r):n?n.value=r:t.set(e,r),r},C=function(e,t,r,i){if("a"===r&&!i)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?i:"a"===r?i.call(e):i?i.value:t.get(e)};class D extends _{constructor(e,t){super("CTR",e,D),o.set(this,void 0),s.set(this,void 0),u.set(this,void 0),B(this,u,new Uint8Array(16),"f"),C(this,u,"f").fill(0),B(this,o,C(this,u,"f"),"f"),B(this,s,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(C(this,u,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)C(this,u,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw TypeError("invalid counter initial Uint8Array value length");C(this,u,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(255===C(this,u,"f")[e])C(this,u,"f")[e]=0;else{C(this,u,"f")[e]++;break}}encrypt(e){var t,r;let i=new Uint8Array(e);for(let e=0;e<i.length;e++)16===C(this,s,"f")&&(B(this,o,this.aes.encrypt(C(this,u,"f")),"f"),B(this,s,0,"f"),this.increment()),i[e]^=C(this,o,"f")[B(this,s,(r=C(this,s,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}function F(e){if(e.length<16)throw TypeError("PKCS#7 invalid length");let t=e[e.length-1];if(t>16)throw TypeError("PKCS#7 padding byte out of range");let r=e.length-t;for(let i=0;i<t;i++)if(e[r+i]!==t)throw TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}o=new WeakMap,s=new WeakMap,u=new WeakMap,e.s(["CTR",()=>D],478312),new WeakMap,new WeakMap,new WeakMap,e.s(["pkcs7Strip",()=>F],836783),e.s([],812052)},7836,e=>{"use strict";e.i(708351);var t=e.i(524265),r=e.i(580840),i=e.i(897567),n=e.i(440394),a=e.i(536275),o=e.i(222194),s=e.i(32843),u=e.i(737003),l=e.i(782045),c=e.i(93323),d=e.i(33725),f=e.i(420440),p=e.i(244010),h=e.i(193826),m=e.i(67881),g=e.i(372418),b=e.i(474112),y=e.i(485685),x=e.i(394944),A=e.i(998146),w=e.i(961018),v=e.i(63637),S=e.i(767397),k=e.i(73023),T=e.i(952871),E=e.i(257092),P=e.i(421227),I=e.i(170987),_=e.i(475228),N=e.i(32548),R=e.i(233501),O=e.i(421836),B=e.i(93615),C=e.i(678874),D=e.i(851047),F=e.i(558238),U=e.i(966339),M=e.i(248855),L=e.i(458752),q=e.i(972072),K=e.i(655092),W=e.i(483280),V=e.i(894282),G=e.i(190741),j=e.i(374920),z=e.i(745533),H=e.i(357224),X=e.i(306260),Q=e.i(233967),J=e.i(63738),Y=e.i(473587),Z=e.i(787101),$=e.i(863475),ee=e.i(258408),et=e.i(101468),er=e.i(750584),ei=e.i(939086),en=e.i(360738),ea=e.i(432526),eo=e.i(97286),es=e.i(196003),eu=e.i(168762),el=e.i(867025),ec=e.i(498138),ed=e.i(892537),ef=e.i(914218),ep=e.i(477808),eh=e.i(936002),em=e.i(12227),eg=e.i(107339),eb=e.i(501058),ey=e.i(438853),ex=e.i(277171),eA=e.i(798530),ew=e.i(725941),ev=e.i(149105),eS=e.i(956342),ek=F,eT=e.i(84552),eE=eS;e.i(812052);var eP=e.i(478312);function eI(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),(0,ec.getBytesCopy)(e)}function e_(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function eN(e){return"string"==typeof e?(0,ey.toUtf8Bytes)(e,"NFKC"):(0,ec.getBytesCopy)(e)}function eR(e,t){let r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);(0,ef.assertArgument)(null!=r,"invalid path","path",t);let i=r[1],n=r[3],a="!"===r[4],o=e;for(let e of i.toLowerCase().split(".")){if(Array.isArray(o)){if(!e.match(/^[0-9]+$/))break;o=o[parseInt(e)]}else if("object"==typeof o){let t=null;for(let r in o)if(r.toLowerCase()===e){t=o[r];break}o=t}else o=null;if(null==o)break}if((0,ef.assertArgument)(!a||null!=o,"missing required value","path",i),n&&null!=o){if("int"===n){if("string"==typeof o&&o.match(/^-?[0-9]+$/))return parseInt(o);else if(Number.isSafeInteger(o))return o}if("number"===n&&"string"==typeof o&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if("data"===n&&"string"==typeof o)return eI(o);if("array"===n&&Array.isArray(o)||n===typeof o)return o;(0,ef.assertArgument)(!1,`wrong type found for ${n} `,"path",i)}return o}let eO="m/44'/60'/0'/0/0";function eB(e){try{let t=JSON.parse(e),r=null!=t.version?parseInt(t.version):0;if(3===r)return!0}catch(e){}return!1}function eC(e,t){let r=(0,ec.getBytes)(t),i=eR(e,"crypto.ciphertext:data!"),n=(0,ec.hexlify)((0,A.keccak256)((0,ec.concat)([r.slice(16,32),i]))).substring(2);(0,ef.assertArgument)(n===eR(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let a=function(e,t,r){if("aes-128-ctr"===eR(e,"crypto.cipher:string")){let i=eR(e,"crypto.cipherparams.iv:data!"),n=new eP.CTR(t,i);return(0,ec.hexlify)(n.decrypt(r))}(0,ef.assert)(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),i),o=(0,eo.computeAddress)(a);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),(0,ef.assertArgument)((0,u.getAddress)(t)===o,"keystore address/privateKey mismatch","address",e.address)}let s={address:o,privateKey:a};if("0.1"===eR(e,"x-ethers.version:string")){let t=r.slice(32,64),i=eR(e,"x-ethers.mnemonicCiphertext:data!"),n=eR(e,"x-ethers.mnemonicCounter:data!"),a=new eP.CTR(t,n);s.mnemonic={path:eR(e,"x-ethers.path:string")||eO,locale:eR(e,"x-ethers.locale:string")||"en",entropy:(0,ec.hexlify)((0,ec.getBytes)(a.decrypt(i)))}}return s}function eD(e){let t=eR(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){let r=eR(e,"crypto.kdfparams.salt:data!"),i=eR(e,"crypto.kdfparams.n:int!"),n=eR(e,"crypto.kdfparams.r:int!"),a=eR(e,"crypto.kdfparams.p:int!");(0,ef.assertArgument)(i>0&&(i&i-1)==0,"invalid kdf.N","kdf.N",i),(0,ef.assertArgument)(n>0&&a>0,"invalid kdf","kdf",t);let o=eR(e,"crypto.kdfparams.dklen:int!");return(0,ef.assertArgument)(32===o,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:r,N:i,r:n,p:a,dkLen:64}}else if("pbkdf2"===t.toLowerCase()){let t=eR(e,"crypto.kdfparams.salt:data!"),r=eR(e,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();(0,ef.assertArgument)("sha256"===i||"sha512"===i,"invalid kdf.pdf","kdf.pdf",r);let n=eR(e,"crypto.kdfparams.c:int!"),a=eR(e,"crypto.kdfparams.dklen:int!");return(0,ef.assertArgument)(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:n,dkLen:a,algorithm:i}}}(0,ef.assertArgument)(!1,"unsupported key-derivation function","kdf",t)}function eF(e,t){let r=JSON.parse(e),i=eN(t),n=eD(r);if("pbkdf2"===n.name){let{salt:e,count:t,dkLen:a,algorithm:o}=n;return eC(r,(0,S.pbkdf2)(i,e,t,a,o))}(0,ef.assert)("scrypt"===n.name,"cannot be reached","UNKNOWN_ERROR",{params:n});let{salt:a,N:o,r:s,p:u,dkLen:l}=n;return eC(r,(0,k.scryptSync)(i,a,o,s,u,l))}function eU(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function eM(e,t,r){let i=JSON.parse(e),n=eN(t),a=eD(i);if("pbkdf2"===a.name){r&&(r(0),await eU(0));let{salt:e,count:t,dkLen:o,algorithm:s}=a,u=(0,S.pbkdf2)(n,e,t,o,s);return r&&(r(1),await eU(0)),eC(i,u)}(0,ef.assert)("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});let{salt:o,N:s,r:u,p:l,dkLen:c}=a;return eC(i,await (0,k.scrypt)(n,o,s,u,l,c,r))}function eL(e){let t=null!=e.salt?(0,ec.getBytes)(e.salt,"options.salt"):(0,x.randomBytes)(32),r=131072,i=8,n=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(i=e.scrypt.r),e.scrypt.p&&(n=e.scrypt.p)),(0,ef.assertArgument)("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),(0,ef.assertArgument)("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt r parameter","options.r",i),(0,ef.assertArgument)("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt p parameter","options.p",n),{name:"scrypt",dkLen:32,salt:t,N:r,r:i,p:n}}function eq(e,r,i,n){let a=(0,ec.getBytes)(i.privateKey,"privateKey"),o=null!=n.iv?(0,ec.getBytes)(n.iv,"options.iv"):(0,x.randomBytes)(16);(0,ef.assertArgument)(16===o.length,"invalid options.iv length","options.iv",n.iv);let s=null!=n.uuid?(0,ec.getBytes)(n.uuid,"options.uuid"):(0,x.randomBytes)(16);(0,ef.assertArgument)(16===s.length,"invalid options.uuid length","options.uuid",n.iv);let u=e.slice(0,16),l=e.slice(16,32),c=new eP.CTR(u,o),d=(0,ec.getBytes)(c.encrypt(a)),f=(0,A.keccak256)((0,ec.concat)([l,d])),p={address:i.address.substring(2).toLowerCase(),id:(0,ew.uuidV4)(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,ec.hexlify)(o).substring(2)},ciphertext:(0,ec.hexlify)(d).substring(2),kdf:"scrypt",kdfparams:{salt:(0,ec.hexlify)(r.salt).substring(2),n:r.N,dklen:32,p:r.p,r:r.r},mac:f.substring(2)}};if(i.mnemonic){let r=null!=n.client?n.client:`ethers/${t.version}`,a=i.mnemonic.path||eO,o=i.mnemonic.locale||"en",s=e.slice(32,64),u=(0,ec.getBytes)(i.mnemonic.entropy,"account.mnemonic.entropy"),l=(0,x.randomBytes)(16),c=new eP.CTR(s,l),d=(0,ec.getBytes)(c.encrypt(u)),f=new Date,h="UTC--"+(f.getUTCFullYear()+"-"+e_(f.getUTCMonth()+1,2)+"-"+e_(f.getUTCDate(),2)+"T"+e_(f.getUTCHours(),2)+"-"+e_(f.getUTCMinutes(),2)+"-"+e_(f.getUTCSeconds(),2))+".0Z--"+p.address;p["x-ethers"]={client:r,gethFilename:h,path:a,locale:o,mnemonicCounter:(0,ec.hexlify)(l).substring(2),mnemonicCiphertext:(0,ec.hexlify)(d).substring(2),version:"0.1"}}return JSON.stringify(p)}function eK(e,t,r){null==r&&(r={});let i=eN(t),n=eL(r),a=(0,k.scryptSync)(i,n.salt,n.N,n.r,n.p,64);return eq((0,ec.getBytes)(a),n,e,r)}async function eW(e,t,r){null==r&&(r={});let i=eN(t),n=eL(r),a=await (0,k.scrypt)(i,n.salt,n.N,n.r,n.p,64,r.progressCallback);return eq((0,ec.getBytes)(a),n,e,r)}let eV="m/44'/60'/0'/0/0",eG=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),ej=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function ez(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function eH(e){let t=(0,ec.getBytes)(e),r=(0,ec.dataSlice)((0,v.sha256)((0,v.sha256)(t)),0,4),i=(0,ec.concat)([t,r]);return(0,eu.encodeBase58)(i)}let eX={};function eQ(e,t,r,i){let n=new Uint8Array(37);0x80000000&e?((0,ef.assert)(null!=i,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),n.set((0,ec.getBytes)(i),1)):n.set((0,ec.getBytes)(r));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;let a=(0,ec.getBytes)((0,y.computeHmac)("sha512",t,n));return{IL:a.slice(0,32),IR:a.slice(32)}}function eJ(e,t){let r=t.split("/");(0,ef.assertArgument)(r.length>0,"invalid path","path",t),"m"===r[0]&&((0,ef.assertArgument)(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let i=e;for(let e=0;e<r.length;e++){let t=r[e];if(t.match(/^[0-9]+'$/)){let r=parseInt(t.substring(0,t.length-1));(0,ef.assertArgument)(r<0x80000000,"invalid path index",`path[${e}]`,t),i=i.deriveChild(0x80000000+r)}else if(t.match(/^[0-9]+$/)){let r=parseInt(t);(0,ef.assertArgument)(r<0x80000000,"invalid path index",`path[${e}]`,t),i=i.deriveChild(r)}else(0,ef.assertArgument)(!1,"invalid path component",`path[${e}]`,t)}return i}class eY extends eE.BaseWallet{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,i,n,a,o,s,u){super(t,u),(0,ef.assertPrivate)(e,eX,"HDNodeWallet"),(0,ed.defineProperties)(this,{publicKey:t.compressedPublicKey});const l=(0,ec.dataSlice)((0,w.ripemd160)((0,v.sha256)(this.publicKey)),0,4);(0,ed.defineProperties)(this,{parentFingerprint:r,fingerprint:l,chainCode:i,path:n,index:a,depth:o}),(0,ed.defineProperties)(this,{mnemonic:s})}connect(e){return new eY(eX,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#tU(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await eW(this.#tU(),e,{progressCallback:t})}encryptSync(e){return eK(this.#tU(),e)}get extendedKey(){return(0,ef.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),eH((0,ec.concat)(["0x0488ADE4",ez(this.depth,1),this.parentFingerprint,ez(this.index,4),this.chainCode,(0,ec.concat)(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new eZ(eX,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=(0,eg.getNumber)(e,"index");(0,ef.assertArgument)(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:i,IL:n}=eQ(t,this.chainCode,this.publicKey,this.privateKey);return new eY(eX,new P.SigningKey((0,eg.toBeHex)(((0,eg.toBigInt)(n)+BigInt(this.privateKey))%ej,32)),this.fingerprint,(0,ec.hexlify)(i),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return eJ(this,e)}static #tM(e,t){(0,ef.assertArgument)((0,ec.isBytesLike)(e),"invalid seed","seed","[REDACTED]");let r=(0,ec.getBytes)(e,"seed");(0,ef.assertArgument)(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let i=(0,ec.getBytes)((0,y.computeHmac)("sha512",eG,r));return new eY(eX,new P.SigningKey((0,ec.hexlify)(i.slice(0,32))),"0x00000000",(0,ec.hexlify)(i.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=(0,eg.toBeArray)((0,eu.decodeBase58)(e));(0,ef.assertArgument)(82===t.length||eH(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],i=(0,ec.hexlify)(t.slice(5,9)),n=parseInt((0,ec.hexlify)(t.slice(9,13)).substring(2),16),a=(0,ec.hexlify)(t.slice(13,45)),o=t.slice(45,78);switch((0,ec.hexlify)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let e=(0,ec.hexlify)(o);return new eZ(eX,(0,eo.computeAddress)(e),e,i,a,null,n,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==o[0])break;return new eY(eX,new P.SigningKey(o.slice(1)),i,a,null,n,r,null,null)}(0,ef.assertArgument)(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=eV),null==r&&(r=eT.LangEn.wordlist());let i=ev.Mnemonic.fromEntropy((0,x.randomBytes)(16),e,r);return eY.#tM(i.computeSeed(),i).derivePath(t)}static fromMnemonic(e,t){return t||(t=eV),eY.#tM(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,i){null==t&&(t=""),null==r&&(r=eV),null==i&&(i=eT.LangEn.wordlist());let n=ev.Mnemonic.fromPhrase(e,t,i);return eY.#tM(n.computeSeed(),n).derivePath(r)}static fromSeed(e){return eY.#tM(e,null)}}class eZ extends ek.VoidSigner{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,i,n,a,o,s,u){super(t,u),(0,ef.assertPrivate)(e,eX,"HDNodeVoidWallet"),(0,ed.defineProperties)(this,{publicKey:r});const l=(0,ec.dataSlice)((0,w.ripemd160)((0,v.sha256)(r)),0,4);(0,ed.defineProperties)(this,{publicKey:r,fingerprint:l,parentFingerprint:i,chainCode:n,path:a,index:o,depth:s})}connect(e){return new eZ(eX,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return(0,ef.assert)(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),eH((0,ec.concat)(["0x0488B21E",ez(this.depth,1),this.parentFingerprint,ez(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){let t=(0,eg.getNumber)(e,"index");(0,ef.assertArgument)(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:i,IL:n}=eQ(t,this.chainCode,this.publicKey,null),a=P.SigningKey.addPoints(n,this.publicKey,!0);return new eZ(eX,(0,eo.computeAddress)(a),a,this.fingerprint,(0,ec.hexlify)(i),r,t,this.depth+1,this.provider)}derivePath(e){return eJ(this,e)}}function e$(e){let t=(0,eg.getNumber)(e,"index");return(0,ef.assertArgument)(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function e0(e){let t=(0,eg.getNumber)(e,"index");return(0,ef.assertArgument)(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}var e1=eS,e2=e.i(447159),e4=e.i(836783);function e6(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function e3(e,t){let r=JSON.parse(e),i=eN(t),n=(0,u.getAddress)(eR(r,"ethaddr:string!")),a=eI(eR(r,"encseed:string!"));(0,ef.assertArgument)(a&&a.length%16==0,"invalid encseed","json",e);let o=(0,ec.getBytes)((0,S.pbkdf2)(i,i,2e3,32,"sha256")).slice(0,16),s=a.slice(0,16),l=a.slice(16),c=new e2.CBC(o,s),d=(0,e4.pkcs7Strip)((0,ec.getBytes)(c.decrypt(l))),f="";for(let e=0;e<d.length;e++)f+=String.fromCharCode(d[e]);return{address:n,privateKey:(0,I.id)(f)}}function e5(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class e8 extends e1.BaseWallet{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new P.SigningKey(e):e,t)}connect(e){return new e8(this.signingKey,e)}async encrypt(e,t){let r={address:this.address,privateKey:this.privateKey};return await eW(r,e,{progressCallback:t})}encryptSync(e){return eK({address:this.address,privateKey:this.privateKey},e)}static #tL(e){if((0,ef.assertArgument)(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){let t=ev.Mnemonic.fromEntropy(e.mnemonic.entropy),r=eY.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new e8(e.privateKey);return(0,ef.assertArgument)(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let i=null;return eB(e)?i=await eM(e,t,r):e6(e)&&(r&&(r(0),await e5(0)),i=e3(e,t),r&&(r(1),await e5(0))),e8.#tL(i)}static fromEncryptedJsonSync(e,t){let r=null;return eB(e)?r=eF(e,t):e6(e)?r=e3(e,t):(0,ef.assertArgument)(!1,"invalid JSON wallet","json","[ REDACTED ]"),e8.#tL(r)}static createRandom(e){let t=eY.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=eY.fromPhrase(e);return t?r.connect(t):r}}var e7=e.i(244308),e9=e.i(978851),te=e9,tt=e.i(331415);class tr extends te.WordlistOwl{#tq;constructor(e,t,r,i){super(e,t,i),this.#tq=r}get _accent(){return this.#tq}_decodeWords(){var e,t;let r;return e=this._data,t=this._accent,r=(0,tt.decodeOwl)(e).join(","),t.split(/,/g).forEach(e=>{let i=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);(0,ef.assertArgument)(null!==i,"internal error parsing accents","accents",t);let n=0,a=function(e,t){let r=(1<<e)-1,i=[],n=0,a=0,o=0;for(let s=0;s<t.length;s++)for(n=n<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[s]),a+=6;a>=e;){let t=n>>a-e;n&=(1<<a-e)-1,a-=e,0===t?o+=r:(i.push(t+o),o=0)}return i}(parseInt(i[3]),i[4]),o=parseInt(i[2]),s=RegExp(`([${i[1]}])`,"g");r=r.replace(s,(e,t)=>(0==--a[n]&&(t=String.fromCharCode(t.charCodeAt(0),o),n++),t))}),r.split(",")}}let ti={en:eT.LangEn.wordlist()};e.s(["AbiCoder",()=>i.AbiCoder,"AbstractProvider",()=>M.AbstractProvider,"AbstractSigner",()=>F.AbstractSigner,"AlchemyProvider",()=>W.AlchemyProvider,"AnkrProvider",()=>V.AnkrProvider,"BaseContract",()=>m.BaseContract,"BaseWallet",()=>eS.BaseWallet,"Block",()=>D.Block,"BlockscoutProvider",()=>G.BlockscoutProvider,"BrowserProvider",()=>K.BrowserProvider,"ChainstackProvider",()=>j.ChainstackProvider,"CloudflareProvider",()=>z.CloudflareProvider,"ConstructorFragment",()=>n.ConstructorFragment,"Contract",()=>m.Contract,"ContractEventPayload",()=>b.ContractEventPayload,"ContractFactory",()=>g.ContractFactory,"ContractTransactionReceipt",()=>b.ContractTransactionReceipt,"ContractTransactionResponse",()=>b.ContractTransactionResponse,"ContractUnknownEventPayload",()=>b.ContractUnknownEventPayload,"EnsPlugin",()=>er.EnsPlugin,"EnsResolver",()=>ee.EnsResolver,"ErrorDescription",()=>o.ErrorDescription,"ErrorFragment",()=>n.ErrorFragment,"EtherSymbol",()=>h.EtherSymbol,"EtherscanPlugin",()=>H.EtherscanPlugin,"EtherscanProvider",()=>H.EtherscanProvider,"EventFragment",()=>n.EventFragment,"EventLog",()=>b.EventLog,"EventPayload",()=>ep.EventPayload,"FallbackFragment",()=>n.FallbackFragment,"FallbackProvider",()=>L.FallbackProvider,"FeeData",()=>D.FeeData,"FeeDataNetworkPlugin",()=>er.FeeDataNetworkPlugin,"FetchCancelSignal",()=>eh.FetchCancelSignal,"FetchRequest",()=>eh.FetchRequest,"FetchResponse",()=>eh.FetchResponse,"FetchUrlFeeDataNetworkPlugin",()=>er.FetchUrlFeeDataNetworkPlugin,"FixedNumber",()=>em.FixedNumber,"Fragment",()=>n.Fragment,"FunctionFragment",()=>n.FunctionFragment,"GasCostPlugin",()=>er.GasCostPlugin,"HDNodeVoidWallet",()=>eZ,"HDNodeWallet",()=>eY,"Indexed",()=>o.Indexed,"InfuraProvider",()=>X.InfuraProvider,"InfuraWebSocketProvider",()=>X.InfuraWebSocketProvider,"Interface",()=>o.Interface,"IpcSocketProvider",()=>Y.IpcSocketProvider,"JsonRpcApiProvider",()=>q.JsonRpcApiProvider,"JsonRpcProvider",()=>q.JsonRpcProvider,"JsonRpcSigner",()=>q.JsonRpcSigner,"LangEn",()=>eT.LangEn,"Log",()=>D.Log,"LogDescription",()=>o.LogDescription,"MaxInt256",()=>f.MaxInt256,"MaxUint256",()=>f.MaxUint256,"MessagePrefix",()=>h.MessagePrefix,"MinInt256",()=>f.MinInt256,"Mnemonic",()=>ev.Mnemonic,"MulticoinProviderPlugin",()=>ee.MulticoinProviderPlugin,"N",()=>f.N,"NamedFragment",()=>n.NamedFragment,"Network",()=>et.Network,"NetworkPlugin",()=>er.NetworkPlugin,"NonceManager",()=>U.NonceManager,"ParamType",()=>n.ParamType,"PocketProvider",()=>Q.PocketProvider,"QuickNodeProvider",()=>J.QuickNodeProvider,"Result",()=>a.Result,"Signature",()=>E.Signature,"SigningKey",()=>P.SigningKey,"SocketBlockSubscriber",()=>Z.SocketBlockSubscriber,"SocketEventSubscriber",()=>Z.SocketEventSubscriber,"SocketPendingSubscriber",()=>Z.SocketPendingSubscriber,"SocketProvider",()=>Z.SocketProvider,"SocketSubscriber",()=>Z.SocketSubscriber,"StructFragment",()=>n.StructFragment,"Transaction",()=>es.Transaction,"TransactionDescription",()=>o.TransactionDescription,"TransactionReceipt",()=>D.TransactionReceipt,"TransactionResponse",()=>D.TransactionResponse,"Typed",()=>s.Typed,"TypedDataEncoder",()=>B.TypedDataEncoder,"UndecodedEventLog",()=>b.UndecodedEventLog,"UnmanagedSubscriber",()=>M.UnmanagedSubscriber,"Utf8ErrorFuncs",()=>ey.Utf8ErrorFuncs,"VoidSigner",()=>F.VoidSigner,"Wallet",()=>e8,"WebSocketProvider",()=>$.WebSocketProvider,"WeiPerEther",()=>f.WeiPerEther,"Wordlist",()=>e7.Wordlist,"WordlistOwl",()=>e9.WordlistOwl,"WordlistOwlA",()=>tr,"ZeroAddress",()=>d.ZeroAddress,"ZeroHash",()=>p.ZeroHash,"accessListify",()=>en.accessListify,"assert",()=>ef.assert,"assertArgument",()=>ef.assertArgument,"assertArgumentCount",()=>ef.assertArgumentCount,"assertNormalize",()=>ef.assertNormalize,"assertPrivate",()=>ef.assertPrivate,"authorizationify",()=>ea.authorizationify,"checkResultErrors",()=>a.checkResultErrors,"computeAddress",()=>eo.computeAddress,"computeHmac",()=>y.computeHmac,"concat",()=>ec.concat,"copyRequest",()=>D.copyRequest,"dataLength",()=>ec.dataLength,"dataSlice",()=>ec.dataSlice,"decodeBase58",()=>eu.decodeBase58,"decodeBase64",()=>el.decodeBase64,"decodeBytes32String",()=>r.decodeBytes32String,"decodeRlp",()=>ex.decodeRlp,"decryptCrowdsaleJson",()=>e3,"decryptKeystoreJson",()=>eM,"decryptKeystoreJsonSync",()=>eF,"defaultPath",0,eV,"defineProperties",()=>ed.defineProperties,"dnsEncode",()=>_.dnsEncode,"encodeBase58",()=>eu.encodeBase58,"encodeBase64",()=>el.encodeBase64,"encodeBytes32String",()=>r.encodeBytes32String,"encodeRlp",()=>eA.encodeRlp,"encryptKeystoreJson",()=>eW,"encryptKeystoreJsonSync",()=>eK,"ensNormalize",()=>_.ensNormalize,"formatEther",()=>eb.formatEther,"formatUnits",()=>eb.formatUnits,"fromTwos",()=>eg.fromTwos,"getAccountPath",()=>e$,"getAddress",()=>u.getAddress,"getBigInt",()=>eg.getBigInt,"getBytes",()=>ec.getBytes,"getBytesCopy",()=>ec.getBytesCopy,"getCreate2Address",()=>l.getCreate2Address,"getCreateAddress",()=>l.getCreateAddress,"getDefaultProvider",()=>C.getDefaultProvider,"getIcapAddress",()=>u.getIcapAddress,"getIndexedAccountPath",()=>e0,"getNumber",()=>eg.getNumber,"getUint",()=>eg.getUint,"hashAuthorization",()=>N.hashAuthorization,"hashMessage",()=>R.hashMessage,"hexlify",()=>ec.hexlify,"id",()=>I.id,"isAddress",()=>c.isAddress,"isAddressable",()=>c.isAddressable,"isBytesLike",()=>ec.isBytesLike,"isCallException",()=>ef.isCallException,"isCrowdsaleJson",()=>e6,"isError",()=>ef.isError,"isHexString",()=>ec.isHexString,"isKeystoreJson",()=>eB,"isValidName",()=>_.isValidName,"keccak256",()=>A.keccak256,"lock",()=>T.lock,"makeError",()=>ef.makeError,"mask",()=>eg.mask,"namehash",()=>_.namehash,"parseEther",()=>eb.parseEther,"parseUnits",()=>eb.parseUnits,"pbkdf2",()=>S.pbkdf2,"randomBytes",()=>x.randomBytes,"recoverAddress",()=>eo.recoverAddress,"resolveAddress",()=>c.resolveAddress,"resolveProperties",()=>ed.resolveProperties,"ripemd160",()=>w.ripemd160,"scrypt",()=>k.scrypt,"scryptSync",()=>k.scryptSync,"sha256",()=>v.sha256,"sha512",()=>v.sha512,"showThrottleMessage",()=>ei.showThrottleMessage,"solidityPacked",()=>O.solidityPacked,"solidityPackedKeccak256",()=>O.solidityPackedKeccak256,"solidityPackedSha256",()=>O.solidityPackedSha256,"stripZerosLeft",()=>ec.stripZerosLeft,"toBeArray",()=>eg.toBeArray,"toBeHex",()=>eg.toBeHex,"toBigInt",()=>eg.toBigInt,"toNumber",()=>eg.toNumber,"toQuantity",()=>eg.toQuantity,"toTwos",()=>eg.toTwos,"toUtf8Bytes",()=>ey.toUtf8Bytes,"toUtf8CodePoints",()=>ey.toUtf8CodePoints,"toUtf8String",()=>ey.toUtf8String,"uuidV4",()=>ew.uuidV4,"verifyAuthorization",()=>N.verifyAuthorization,"verifyMessage",()=>R.verifyMessage,"verifyTypedData",()=>B.verifyTypedData,"version",()=>t.version,"wordlists",0,ti,"zeroPadBytes",()=>ec.zeroPadBytes,"zeroPadValue",()=>ec.zeroPadValue],77021);var tn=e.i(77021);e.s(["ethers",0,tn],7836)},705766,e=>{"use strict";let t,r;var i,n=e.i(271645);let a={data:""},o=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,s=/\/\*[^]*?\*\/|  +/g,u=/\n+/g,l=(e,t)=>{let r="",i="",n="";for(let a in e){let o=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+o+";":i+="f"==a[1]?l(o,a):a+"{"+l(o,"k"==a[1]?"":t)+"}":"object"==typeof o?i+=l(o,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=o&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=l.p?l.p(a,o):a+":"+o+";")}return r+(t&&n?t+"{"+n+"}":n)+i},c={},d=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+d(e[r]);return t}return e};function f(e){let t,r,i,n=this||{},f=e.call?e(n.p):e;return((e,t,r,i,n)=>{var a;let f=d(e),p=c[f]||(c[f]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(f));if(!c[p]){let t=f!==e?e:(e=>{let t,r,i=[{}];for(;t=o.exec(e.replace(s,""));)t[4]?i.shift():t[3]?(r=t[3].replace(u," ").trim(),i.unshift(i[0][r]=i[0][r]||{})):i[0][t[1]]=t[2].replace(u," ").trim();return i[0]})(e);c[p]=l(n?{["@keyframes "+p]:t}:t,r?"":"."+p)}let h=r&&c.g?c.g:null;return r&&(c.g=c[p]),a=c[p],h?t.data=t.data.replace(h,a):-1===t.data.indexOf(a)&&(t.data=i?a+t.data:t.data+a),p})(f.unshift?f.raw?(t=[].slice.call(arguments,1),r=n.p,f.reduce((e,i,n)=>{let a=t[n];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":l(e,""):!1===e?"":e}return e+i+(null==a?"":a)},"")):f.reduce((e,t)=>Object.assign(e,t&&t.call?t(n.p):t),{}):f,(i=n.target,"object"==typeof window?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||a),n.g,n.o,n.k)}f.bind({g:1});let p,h,m,g=f.bind({k:1});function b(e,t){let r=this||{};return function(){let i=arguments;function n(a,o){let s=Object.assign({},a),u=s.className||n.className;r.p=Object.assign({theme:h&&h()},s),r.o=/ *go\d+/.test(u),s.className=f.apply(r,i)+(u?" "+u:""),t&&(s.ref=o);let l=e;return e[0]&&(l=s.as||e,delete s.as),m&&l[0]&&m(s),p(l,s)}return t?t(n):n}}var y=(e,t)=>"function"==typeof e?e(t):e,x=(t=0,()=>(++t).toString()),A=()=>{if(void 0===r&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r},w=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:r}=t;return w(e,{type:+!!e.toasts.find(e=>e.id===r.id),toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(e=>e.id===i||void 0===i?{...e,dismissed:!0,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let n=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+n}))}}},v=[],S={toasts:[],pausedAt:void 0},k=e=>{S=w(S,e),v.forEach(e=>{e(S)})},T={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},E=e=>(t,r)=>{let i=((e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(null==r?void 0:r.id)||x()}))(t,e,r);return k({type:2,toast:i}),i.id},P=(e,t)=>E("blank")(e,t);P.error=E("error"),P.success=E("success"),P.loading=E("loading"),P.custom=E("custom"),P.dismiss=e=>{k({type:3,toastId:e})},P.remove=e=>k({type:4,toastId:e}),P.promise=(e,t,r)=>{let i=P.loading(t.loading,{...r,...null==r?void 0:r.loading});return"function"==typeof e&&(e=e()),e.then(e=>{let n=t.success?y(t.success,e):void 0;return n?P.success(n,{id:i,...r,...null==r?void 0:r.success}):P.dismiss(i),e}).catch(e=>{let n=t.error?y(t.error,e):void 0;n?P.error(n,{id:i,...r,...null==r?void 0:r.error}):P.dismiss(i)}),e};var I=(e,t)=>{k({type:1,toast:{id:e,height:t}})},_=()=>{k({type:5,time:Date.now()})},N=new Map,R=1e3,O=g`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,B=g`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C=g`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,D=b("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${B} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${C} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,F=g`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,U=b("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${F} 1s linear infinite;
`,M=g`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,L=g`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,q=b("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${L} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,K=b("div")`
  position: absolute;
`,W=b("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,V=g`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,G=b("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${V} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,j=({toast:e})=>{let{icon:t,type:r,iconTheme:i}=e;return void 0!==t?"string"==typeof t?n.createElement(G,null,t):t:"blank"===r?null:n.createElement(W,null,n.createElement(U,{...i}),"loading"!==r&&n.createElement(K,null,"error"===r?n.createElement(D,{...i}):n.createElement(q,{...i})))},z=b("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,H=b("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,X=n.memo(({toast:e,position:t,style:r,children:i})=>{let a=e.height?((e,t)=>{let r=e.includes("top")?1:-1,[i,n]=A()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[`
0% {transform: translate3d(0,${-200*r}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*r}%,-1px) scale(.6); opacity:0;}
`];return{animation:t?`${g(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${g(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(e.position||t||"top-center",e.visible):{opacity:0},o=n.createElement(j,{toast:e}),s=n.createElement(H,{...e.ariaProps},y(e.message,e));return n.createElement(z,{className:e.className,style:{...a,...r,...e.style}},"function"==typeof i?i({icon:o,message:s}):n.createElement(n.Fragment,null,o,s))});i=n.createElement,l.p=void 0,p=i,h=void 0,m=void 0;var Q=({id:e,className:t,style:r,onHeightUpdate:i,children:a})=>{let o=n.useCallback(t=>{if(t){let r=()=>{i(e,t.getBoundingClientRect().height)};r(),new MutationObserver(r).observe(t,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return n.createElement("div",{ref:o,className:t,style:r},a)},J=f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Y=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:i,children:a,containerStyle:o,containerClassName:s})=>{let{toasts:u,handlers:l}=(e=>{let{toasts:t,pausedAt:r}=((e={})=>{let[t,r]=(0,n.useState)(S),i=(0,n.useRef)(S);(0,n.useEffect)(()=>(i.current!==S&&r(S),v.push(r),()=>{let e=v.indexOf(r);e>-1&&v.splice(e,1)}),[]);let a=t.toasts.map(t=>{var r,i,n;return{...e,...e[t.type],...t,removeDelay:t.removeDelay||(null==(r=e[t.type])?void 0:r.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(i=e[t.type])?void 0:i.duration)||(null==e?void 0:e.duration)||T[t.type],style:{...e.style,...null==(n=e[t.type])?void 0:n.style,...t.style}}});return{...t,toasts:a}})(e);(0,n.useEffect)(()=>{if(r)return;let e=Date.now(),i=t.map(t=>{if(t.duration===1/0)return;let r=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(r<0){t.visible&&P.dismiss(t.id);return}return setTimeout(()=>P.dismiss(t.id),r)});return()=>{i.forEach(e=>e&&clearTimeout(e))}},[t,r]);let i=(0,n.useCallback)(()=>{r&&k({type:6,time:Date.now()})},[r]),a=(0,n.useCallback)((e,r)=>{let{reverseOrder:i=!1,gutter:n=8,defaultPosition:a}=r||{},o=t.filter(t=>(t.position||a)===(e.position||a)&&t.height),s=o.findIndex(t=>t.id===e.id),u=o.filter((e,t)=>t<s&&e.visible).length;return o.filter(e=>e.visible).slice(...i?[u+1]:[0,u]).reduce((e,t)=>e+(t.height||0)+n,0)},[t]);return(0,n.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)((e,t=R)=>{if(N.has(e))return;let r=setTimeout(()=>{N.delete(e),k({type:4,toastId:e})},t);N.set(e,r)})(e.id,e.removeDelay);else{let t=N.get(e.id);t&&(clearTimeout(t),N.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:I,startPause:_,endPause:i,calculateOffset:a}}})(r);return n.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},u.map(r=>{let o,s,u=r.position||t,c=l.calculateOffset(r,{reverseOrder:e,gutter:i,defaultPosition:t}),d=(o=u.includes("top"),s=u.includes("center")?{justifyContent:"center"}:u.includes("right")?{justifyContent:"flex-end"}:{},{left:0,right:0,display:"flex",position:"absolute",transition:A()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${c*(o?1:-1)}px)`,...o?{top:0}:{bottom:0},...s});return n.createElement(Q,{id:r.id,key:r.id,onHeightUpdate:l.updateHeight,className:r.visible?J:"",style:d},"custom"===r.type?y(r.message,r):a?a(r):n.createElement(X,{toast:r,position:u}))}))};e.s(["Toaster",()=>Y,"default",()=>P,"toast",()=>P],705766)},718646,e=>{"use strict";var t=e.i(268804),r=e.i(672464),i=e.i(265172);let n=(0,i.atomWithStorage)("notifications",[]),a=(0,i.atomWithStorage)("toast-position","top-center",void 0,{getOnInit:!0});(0,i.atomWithStorage)("toast-color","#FFFFFF",void 0,{getOnInit:!0});let o=(0,i.atomWithStorage)("notifications-enabled",!0),s=()=>({getItem:(e,t)=>{let r=localStorage.getItem(e);if(null===r)return t;try{return JSON.parse(r)}catch{return localStorage.setItem(e,JSON.stringify(r)),r}},setItem:(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},removeItem:e=>{localStorage.removeItem(e)}}),u=(0,i.atomWithStorage)("isTxToastSoundOn",!1,void 0,{getOnInit:!0}),l=(0,i.atomWithStorage)("txNotificationVolume",50,void 0,{getOnInit:!0}),c=(0,i.atomWithStorage)("txBuyNotificationSound","default",s(),{getOnInit:!0}),d=(0,i.atomWithStorage)("txSellNotificationSound","default",s(),{getOnInit:!0});function f(){let[e,i]=(0,r.useAtom)(n);return async r=>{e.find(e=>e.id===r)&&(i(e.filter(e=>e.id!==r)),await t.axiomApiV2.post("/delete-notification",{id:r}))}}function p(){let[e,i]=(0,r.useAtom)(n);return async()=>{let r=e.map(e=>e.id);for(let e of(i([]),r))await t.axiomApiV2.post("/delete-notification",{id:e})}}e.s(["buySoundAtom",0,c,"notificationsAtom",0,n,"notificationsEnabledAtom",0,o,"sellSoundAtom",0,d,"soundEnabledAtom",0,u,"soundVolumeAtom",0,l,"toastPositionAtom",0,a,"useClearAllNotifications",()=>p,"useDeleteNotification",()=>f])},994447,e=>{"use strict";e.s(["AXIOM_LST_APY_ESTIMATE",0,"~6-7","AXIOM_LST_MINT",0,"axiom1dWfDXKn6r4pn3jjaYuLTExG5TdLuAqXQohNuG","AXIOM_STAKE_POOL",0,"9N69d9o5hqdfDLMiPdFT5VBXpEf4UXSTsbmYLKc9Njpa","MARGINFI_GROUP_ID",0,"4qp6Fx6tnZkY5Wropq9wUYgtFxXKwE6viZxFHg3rdAG8","MARGINFI_PROGRAM_ID",0,"MFv2hWf31Z9kbCa1snEPYctwafyhdvnV7FZnsebVacA","USDC_BANK_STATE",0,"2s37akK2eyBbp8DZgCm7RtsaEz8eJP3Nxd4urLHQv7yB","USDC_MINT",0,"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","USDC_PYTHNET_CUSTODY_PRICE_ACCOUNT",0,"Dpw1EAVrSB1ibxiDQyTAW6Zip3J4Btk2x4SgApQCeFbX"])},422876,e=>{"use strict";var t=e.i(127261);let r=new t.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),i=new t.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),n=new t.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),a=new t.PublicKey("So11111111111111111111111111111111111111112");new t.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["ASSOCIATED_TOKEN_PROGRAM_ID",0,n,"NATIVE_MINT",0,a,"TOKEN_2022_PROGRAM_ID",0,i,"TOKEN_PROGRAM_ID",0,r])},123424,e=>{"use strict";var t=e.i(467034),r=e.i(127261),i=e.i(422876);function n(e,r,a,s,u=i.TOKEN_PROGRAM_ID,l=i.ASSOCIATED_TOKEN_PROGRAM_ID){return o(e,r,a,s,t.Buffer.alloc(0),u,l)}function a(e,r,n,s,u=i.TOKEN_PROGRAM_ID,l=i.ASSOCIATED_TOKEN_PROGRAM_ID){return o(e,r,n,s,t.Buffer.from([1]),u,l)}function o(e,t,n,a,s,u=i.TOKEN_PROGRAM_ID,l=i.ASSOCIATED_TOKEN_PROGRAM_ID){let c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];return new r.TransactionInstruction({keys:c,programId:l,data:s})}e.s(["createAssociatedTokenAccountIdempotentInstruction",()=>a,"createAssociatedTokenAccountInstruction",()=>n])},151906,(e,t,r)=>{"use strict";var i=e.i(467034);Object.defineProperty(r,"__esModule",{value:!0}),r.toBigIntLE=function(e){{let t=i.Buffer.from(e);t.reverse();let r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},r.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},r.toBufferLE=function(e,t){{let r=e.toString(16),n=i.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}},r.toBufferBE=function(e,t){{let r=e.toString(16);return i.Buffer.from(r.padStart(2*t,"0").slice(0,2*t),"hex")}}},761405,717725,858010,150237,147618,80070,559136,20459,946865,e=>{"use strict";var t,r,i,n,a,o,s=e.i(467034),u=e.i(444610),l=e.i(127261),c=e.i(422876);function d(e,t,r){if(r.length)for(let i of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),r))e.push({pubkey:i instanceof l.PublicKey?i:i.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}e.s(["addSigners",()=>d],717725),(t=n||(n={}))[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension",e.s(["TokenInstruction",()=>n],858010);let f=(0,u.struct)([(0,u.u8)("instruction")]);function p(e,t,r,i=[],a=c.TOKEN_PROGRAM_ID){let o=d([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],r,i),u=s.Buffer.alloc(f.span);return f.encode({instruction:n.CloseAccount},u),new l.TransactionInstruction({keys:o,programId:a,data:u})}e.s(["createCloseAccountInstruction",()=>p],761405),e.s(["MINT_SIZE",()=>O,"MintLayout",()=>R,"getAssociatedTokenAddress",()=>C,"getAssociatedTokenAddressSync",()=>D,"unpackMint",()=>B],946865);let h=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var m=e.i(151906);let g=e=>t=>{let r=(0,u.blob)(e,t),{encode:i,decode:n}=h(r);return r.decode=(e,t)=>{let r=n(e,t);return(0,m.toBigIntLE)(s.Buffer.from(r))},r.encode=(t,r,n)=>i((0,m.toBufferLE)(t,e),r,n),r},b=e=>t=>{let r=(0,u.blob)(e,t),{encode:i,decode:n}=h(r);return r.decode=(e,t)=>{let r=n(e,t);return(0,m.toBigIntBE)(s.Buffer.from(r))},r.encode=(t,r,n)=>i((0,m.toBufferBE)(t,e),r,n),r},y=g(8);b(8);let x=g(16);b(16),g(24),b(24),g(32),b(32),e.s(["u128",0,x,"u64",0,y],150237),new(e.i(828073)).default("1e+18");let A=e=>{let t=(0,u.u8)(e),{encode:r,decode:i}=h(t);return t.decode=(e,t)=>!!i(e,t),t.encode=(e,t,i)=>r(Number(e),t,i),t};e.s(["bool",0,A],147618);let w=e=>{let t=(0,u.blob)(32,e),{encode:r,decode:i}=h(t);return t.decode=(e,t)=>{let r=i(e,t);return new l.PublicKey(r)},t.encode=(e,t,i)=>r(e.toBuffer(),t,i),t};e.s(["publicKey",0,w],80070),e.s([],559136);class v extends Error{constructor(e){super(e)}}class S extends v{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class k extends v{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class T extends v{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class E extends v{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class P extends v{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}(r=a||(a={}))[r.Uninitialized=0]="Uninitialized",r[r.Mint=1]="Mint",r[r.Account=2]="Account",e.s(["ACCOUNT_SIZE",()=>_,"AccountLayout",()=>I],20459),(i=o||(o={}))[i.Uninitialized=0]="Uninitialized",i[i.Initialized=1]="Initialized",i[i.Frozen=2]="Frozen";let I=(0,u.struct)([w("mint"),w("owner"),y("amount"),(0,u.u32)("delegateOption"),w("delegate"),(0,u.u8)("state"),(0,u.u32)("isNativeOption"),y("isNative"),y("delegatedAmount"),(0,u.u32)("closeAuthorityOption"),w("closeAuthority")]),_=I.span,N=(0,u.struct)([(0,u.u8)("m"),(0,u.u8)("n"),A("isInitialized"),w("signer1"),w("signer2"),w("signer3"),w("signer4"),w("signer5"),w("signer6"),w("signer7"),w("signer8"),w("signer9"),w("signer10"),w("signer11")]).span,R=(0,u.struct)([(0,u.u32)("mintAuthorityOption"),w("mintAuthority"),y("supply"),(0,u.u8)("decimals"),A("isInitialized"),(0,u.u32)("freezeAuthorityOption"),w("freezeAuthority")]),O=R.span;function B(e,t,r=c.TOKEN_PROGRAM_ID){if(!t)throw new S;if(!t.owner.equals(r))throw new k;if(t.data.length<O)throw new T;let i=R.decode(t.data.slice(0,O)),n=s.Buffer.alloc(0);if(t.data.length>O){if(t.data.length<=_||t.data.length===N)throw new T;if(t.data[_]!=a.Mint)throw new E;n=t.data.slice(_+1)}return{address:e,mintAuthority:i.mintAuthorityOption?i.mintAuthority:null,supply:i.supply,decimals:i.decimals,isInitialized:i.isInitialized,freezeAuthority:i.freezeAuthorityOption?i.freezeAuthority:null,tlvData:n}}async function C(e,t,r=!1,i=c.TOKEN_PROGRAM_ID,n=c.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!l.PublicKey.isOnCurve(t.toBuffer()))throw new P;let[a]=await l.PublicKey.findProgramAddress([t.toBuffer(),i.toBuffer(),e.toBuffer()],n);return a}function D(e,t,r=!1,i=c.TOKEN_PROGRAM_ID,n=c.ASSOCIATED_TOKEN_PROGRAM_ID){if(!r&&!l.PublicKey.isOnCurve(t.toBuffer()))throw new P;let[a]=l.PublicKey.findProgramAddressSync([t.toBuffer(),i.toBuffer(),e.toBuffer()],n);return a}},85026,769998,719387,e=>{"use strict";e.s(["AXIOM_ADDRESS_LOOKUP_TABLES_V2",()=>G,"BRIBE_PREFERED_RATIO",()=>W,"PSOL_PROGRAM_ADDRESS",()=>q,"PSOL_STATE_ADDRESS",()=>K,"PSOL_TOKEN_ADDRESS",()=>L,"addPriorityFeeInstructions",()=>Z,"addTokenAccountCloseInstruction",()=>em,"addTokenAccountInstructions",()=>eh,"calculateAxiomFee",()=>V,"calculateComputeUnits",()=>H,"calculateVanishLoanExtraLamports",()=>Q,"compileTransaction",()=>ee,"customTxMonitor",()=>ef,"handleMassSwapTxCreation",()=>J,"isVanishSigner",()=>z,"makeCreateATAInstruction",()=>j,"monitorTransactionSignature",()=>ed,"sendAndMonitorSimpleTxBatched",()=>ep,"sendSimpleSolTransaction",()=>el,"sendSwapTransactionBatched",()=>eu],85026);var t=e.i(467034),r=e.i(127261),i=e.i(659341),n=e.i(123424),a=e.i(761405),o=e.i(946865),s=e.i(581949),u=e.i(103476),l=e.i(973444);e.i(465903);var c=e.i(767924),d=e.i(700479),f=e.i(268804),p=e.i(247317),h=e.i(40039),m=e.i(592e3),g=e.i(682382);e.s(["AXIOM_ROUTER_PROGRAM_ADDRESS",()=>P,"MEMO_V2_PROGRAM_ADDRESS",()=>F,"RAYDIUM_CLMM_PROGRAM_ADDRESS",()=>B,"buildAxiomRouterInstruction",()=>_,"buildUsdAxiomRouterInstruction",()=>R],719387);var b=e.i(672464),y=e.i(271645),x=e.i(43351);let A="usd1_tick_arrays",w=["DTgyhdzARWt8fiFrA5E2ECTdR5U3rpGho2AmaPWsieWg","B9MydCwPvBL6hWGR4MLUeUmzRC9y9SrNaJtubWuy1GSM","9JtS7quchTtWtprMs614GtpaKeyirgRvX84j9Zt1r1cU","HHKpb1m7QniBGBwJH8fopLnWrkUdxAY2gnTs38f8qvdc","EHLbGyhTj2PCKAtXp4jZo1ZTJM5h3xw5A9divafyMxC1"];function v(e,t){try{let r={data:t,timestamp:Date.now(),usdPerSol:e};localStorage.setItem(A,JSON.stringify(r))}catch(e){console.warn("Failed to cache USD1 tick arrays:",e)}}async function S(e){try{return(await f.axiomApi.post("/get-usd1-tick-accounts",{usdPerSol:e})).tickArrays||null}catch{return null}}let k=e=>5*Math.floor(e/5)+2.5;async function T(e){let t=function(){try{let e=localStorage.getItem(A);if(!e)return null;return JSON.parse(e)}catch{return null}}(),r=k(e),i=null;if(t&&t.usdPerSol===r){let e=Date.now()-t.timestamp;e<6e4&&(i=t.data),e<6e5&&(S(r).then(e=>{e&&e.length>0&&v(r,e)}).catch(),i=t.data)}let n=await S(r);return n&&n.length>0&&v(r,n),(i=n)&&0!==i.length||(i=w),i}let E=(0,y.memo)(function(){let e=(0,b.useAtomValue)(x.usdPerSolAtom),t=(0,y.useMemo)(()=>e?k(e):null,[e]);return(0,y.useEffect)(()=>{if(!t)return;T(t);let e=setInterval(()=>T(t),3e5);return()=>clearInterval(e)},[t]),null});e.s(["Usd1TickArrayCacheWarmer",0,E,"fetchUsd1TickArrays",()=>T],769998);let P="FLASHX8DrLbgeR8FcfNV1F5krxYcYMUdBkrP1EPBtxB9",I={pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA:2,"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P":3,F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq:4,boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4:5,HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o:6,LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj:7,Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB:8,cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG:9,LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:10,MoonCVVNZFSYkqNXP6bxHLPL6QQJiMagDL3qcqUQTrG:11,whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:12,"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8":13,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:14,CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C:15,deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS:16,vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ:17,dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN:18,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY:19,"9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp":20};function _(e){let i,{type:n,amountIn:a,minAmountOut:o,userWalletAddress:s,inputTokenAccount:u,solWrapperToken:l,steps:d,rewardsData:f}=e,p=[];p.push(N(0)),p.push(a.toArrayLike(t.Buffer,"le",8)),p.push(o.toArrayLike(t.Buffer,"le",8)),"buy"===n?p.push(N(0)):p.push(N(1));let h=d.length+ +!!l;p.push(N(h));let m=[{pubkey:new r.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(s),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey((0,c.getAxiomFeeAddress)()),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}];for(let e of d){for(let t of(m.push({pubkey:new r.PublicKey(e.programAddress.split("_")[0]),isSigner:!1,isWritable:!1}),e.accounts))m.push(t);m.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}),p.push(N(I[e.programAddress])),e.extraData&&p.push(e.extraData)}l&&("wsol"===l.type?(m.push({pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),m.push({pubkey:new r.PublicKey(l.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}),p.push(N(0))):"psol"===l.type&&(m.push({pubkey:new r.PublicKey(q),isSigner:!1,isWritable:!1}),m.push({pubkey:new r.PublicKey(K),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(L),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(l.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),m.push({pubkey:new r.PublicKey(P),isSigner:!1,isWritable:!1}),p.push(N(1))));let g=null!==f.referralAddress,b=null!==f.tokenReferralAddress,y=f.referralAddress??f.tokenReferralAddress??P,x=g?f.tokenReferralAddress??P:P,A=g?f.referralRewardsPercentage??0:20*!!b;return m.push({pubkey:new r.PublicKey((i=Math.floor(8*Math.random())+1,r.PublicKey.findProgramAddressSync([t.Buffer.from("vault"),t.Buffer.from([i])],new r.PublicKey(P))[0])),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(y),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(f.referralLevel2Address??P),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(f.referralLevel3Address??P),isSigner:!1,isWritable:!0}),m.push({pubkey:new r.PublicKey(x),isSigner:!1,isWritable:!0}),p.push(N(2*Math.floor(f.userRewardsPercentage||0))),p.push(N(2*Math.floor(A))),new r.TransactionInstruction({keys:m,programId:new r.PublicKey(P),data:t.Buffer.concat(p)})}function N(e){return t.Buffer.from([e])}async function R(e){let i,n,a;if("buy"===e.type?i=(n=(0,l.newSafeBN)((0,l.fromSafeBN)(e.amountIn)*e.usdPerSol/e.priceInUsdc*10**(e.tokenDecimals-9))).mul((0,l.newSafeBN)(1e4)).div((0,l.newSafeBN)(1e4+100*e.slippage)):(n=(0,l.newSafeBN)((0,l.fromSafeBN)(e.amountIn)*e.priceInUsdc/e.usdPerSol*10**(9-e.tokenDecimals)),i=(0,l.newSafeBN)((0,l.fromSafeBN)(n)*(100-e.slippage)/100)),"usd1"===e.stableCoin)a={programAddress:O,accounts:await M({type:e.type,userAccountAddress:e.userAccountAddress,userWsolAccountAddress:e.userWsolAccountAddress,userUsd1AccountAddress:e.userUsdAccountAddress,usdPerSol:e.usdPerSol})};else if("usdc"===e.stableCoin){var o;let i;a={programAddress:U,accounts:(i="buy"===(o=e).type?"H68hZeFqiX53vZf6ptCnjBTu8ePh6wg9LbxTE263jFb8":"9wZ8Af8iQsFZ6tVooizCZQiLBrDCWTQGj955Vd7UNMnY",[{pubkey:new r.PublicKey(o.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("FksffEqnBRixYGR791Qw2MgdU7zNCpHVFYBL4Fa4qVuH"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("C3FzbX9n1YD2dow2dCmEv5uNyyf22Gb3TLAEqGBhw5fY"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("3RWFAQBRkNGq7CMGcTLK3kXDgFTe9jgMeFYqk8nHwcWh"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(o.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(o.userUsdAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(i),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("SysvarC1ock11111111111111111111111111111111"),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey("Sysvar1nstructions1111111111111111111111111"),isSigner:!1,isWritable:!1}]),extraData:t.Buffer.from(crypto.getRandomValues(new Uint8Array(8)))}}else throw Error("Invalid stable coin");return{swapInstruction:_({type:e.type,amountIn:e.amountIn,minAmountOut:i,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userWsolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userWsolAccountAddress},steps:"buy"===e.type?[a,...e.steps]:[...e.steps,a],rewardsData:e.rewardsData}),expectedAmountOut:n}}let O="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY",B="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK",C="5QpMZ6MuyKjg8Qa1X8gM5G3YMsd43rpHb2iQ6hdcRM7m",D="DHY2efKhMcZyAgmPw82C2Gez1e98Ab7oWcXfxz9frUCr",F="MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",U="9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp";async function M(e){let t=[{pubkey:new r.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey("E64NGkDLLCdQ2yFNPcavaKptrEgmiQaNykUuLC1Qgwyp"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("AQAGYQsdU853WAKhXM79CgNdoyhrRwXvYHX6qrDyC1FS"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userWsolAccountAddress:e.userUsd1AccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?e.userUsd1AccountAddress:e.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?C:D),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("buy"===e.type?D:C),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("2s8VC2vpZcoUCbvEqwUagvdyHfUeWYQZuKV376acx6iF"),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];for(let i of(await T(e.usdPerSol)))t.push({pubkey:new r.PublicKey(i),isSigner:!1,isWritable:!0});return t}let L="pSoL47GE52V2bgUUyQvs9LSdWQZsokarp2yNsWQaLYy",q="pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn",K="BaAw9xsjbixDxa5DqaXyyNFWcaqvwo3vuw5UzBqMbCfN",W=.95,V=e=>e.mul((0,l.newSafeBN)(c.AXIOM_FEE_BASIS_POINTS)).div((0,l.newSafeBN)(c.BASIS_POINTS_DIVISOR)),G=[new r.AddressLookupTableAccount({key:new r.PublicKey("GwME2SEvkgtiL5d2UeR2ZCsEecvg879majGF5pAA1aTS"),state:r.AddressLookupTableAccount.deserialize(t.Buffer.from("AQAAAP//////////hxwJFgAAAADaAR2Yv793Oc59BVPZLSsUuL9smVEZfewGPES9oLYyRE14AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGSxWjuCKhF9z0peIzwNcMUWyGrNE2AYuqUAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/yMlyWPTiSJ8bs9ECkUjg2DC1oTmdr/EIQEjnvY2+n4WQabiFf+q4GE+2h/Y0YYwDXaxDncGus7VZig8AAAAAABS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1BV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCA0HUagoLaYTBf4pnDe5mOWEcdsRNQNzEPi+EEWmCvbuhQ8tbgKkevgk0Jq2ncQtcMsoy/okn7fuV7nSVsEnYu+pKlqLTylZUoQlUKqT/VuVtazmqOuSDJOULkNpDCDsc+sA2fWykrQhSsfQN7TW8GRQuWRgDfNzBSu16E8vjppnsyE/uov5yH+pHkeBlijDg+AL6n6Yx6A+A7oQac/D9vMBVuD2k2Zaz0TbFWi/F1uqUYnLl/XS/ztlXSu2/W0YsDqGXmnuD1SAyrz2Y1fk3C8Y1Y1Fwep0ifs3I9l5PHKmrPE26wH8HE6IPSPItYRKtZo39mrdV8XprDtT4FnTXGQMFN78gl7GdpQlCBi7ZUBl9CmNMVbVcbTU+AkMGOmoY4kLpkT+H1WqGfEc0tLsFNMjO24KS+ru9ytphY4h4XDWCWAMpST3sbfWzLHDlzqgMw0ZA9pgHMm13uPGYrTK0UnM+ALUzMyE1/shtfc7SdgaFsW0yI7jI5ThyR01iMxAgJP/Zbm2NFCyLfXLlNjf5tNjSkF4Wbq8lwDsHrxHLWt0XhE7A3OtRTHRkX4UmSgsor5/Uyc0VOL7yw1ZkP1x6jozxRHBeLZAPcCT5m6HAci1RrRtumdDzLVm6eM34vF/jaz1R0Q2FSRDM3RlF/7BSYR3XQYMIyQT1rR5jeeMz44qjj5sOSRR2GqzgM8UF4rm7xXlbsH4F4NypGRC2xEPejeT/2W/8kf8Dh76zhcb0VYFJLdJisRke9Upy9O0i9m225P/ZcZ2dg2VUpvRPA7z8OzwCFAr/NHJxGzjZkq2iGE5CvHDQyGIyjpjUTWhOhiVG6g28J7c9ttfXVBaMnBQ/5nTdCF2uJxeFMlrdImYQh84EB4J5cWTMbFotiXNJxW7JvYXzUUQr3DHYZIEmfj+l9WyMRpp4ZoXaDyiqqSL7Jp92E4SkMGY54i6DhFPA4IUZ5YI2ij80goWMe/Dk/u/aSrgBMh865j6XOR/gDgG/Sx5RdKVJJWa7ADe2XgU8494RpwlJHx6/mh3nE583EE55WuEze54pO2bR06h+o7pPOIlSsL40N1cvJfjKJwZfLUGKlTz2Va5zm5RFfllZ6pcs+Z32RWVX4iAcxzrSnWgzJbBdPpAlcTh2ZZ6z8QoRa5nrv+Dg4GLqPoow807bV6T+fq48Jebw3IVrMWyRod7qMPJufBGo6LPTuIStPqS/Z0A+k+ws/z9Nh5ArlOR+WA16mNjg3MADqIssmTTSv9koEte+r+7dN3NBImXsZgVR9fREAe0ZyjFA6fIFZjsUWe5tjKg2nvc6Y8HxZZ7EO1veKHOYIzMHfzpYbQ7d5wZFQWm4tO/RdWk20YYrXbILWF1RTVdDjJtTGrX/32PUz/DCQhUvR/vMpEIQA9fVdeeS4eAUYOEdCkuZ1qUtDbssKmYiUIyioPdxiM4ApYSZ8XNYRfLomMXpTug/WjEyVPsMPDgm45zaHUcsoFUhsrj6Z0K+d2NGBoMhJ+pN6bzSt7TCB75VwCqywybs9kJpLkUdSek69QRe5ZGOuprDbyDGh4HnYHacr2qjLLmyH7CUkqIrVpVZR00PM+B28xdjsApZbKrB+dZJyNf5WA3ma+5NWP15b6B+1BsTuaV7jL+DS81TPQbJZCFQpzhg6+Pw3meqCDzcrcoj2zeZFoIvZhyRXD7EOz3W7ccl9haP98vcJgQY3F6MF3fYsrAK+AHlHYNjVtPWWl5U8Ym2zqd/skCGp1wmlhap6OruVZxcMYMa9QlDVImBJx+OhOdnKnLSfxNnAwfzO4kY2YDwqRaa5iqFy0IVpfZGFeUj508Wvm4bSFuhcWYc0wxonmwqxK2bfPe6Qx/t4e3W0fHYEy8XdvX2SC9BUg30iBa7GF4byTfEARd3aYtTkR3BkUh1k3sYHDfoXUwC3Wlt35kMeejmbGEjZxEd98uMxb+kWSgVEt9HIH5nF9saWonOMcQdIO//j2f5pcKaFmypPuEgP6U7gXKouLtg8+6qhEjB1wuRopYMluIN9h1/RcBbvTPHW9oIRM2VtfBtEBOXlWWz5xVDg1iXNFowULCYx1MAhF8zWVf6QkbGRpAul2i8XaZRGHiA6hd9z4V/vWd0YtrRRshEwwEd4kJvkz2oFXtZ9x9U3AypHWCvIrG6zxFuDDn9/eM3uvKiBXqnGjM3HqIl6SCrp5I4T1+3bDksdOq5ZFdcj/2UxwTObjbPjVymbg1TTK4VqVUhT+YwiuT6wP6jrp7KpbG+geEGvdi1tETPELhDus7WIVSwygPfqwTEPrl9RJtJGc3OBZ/wCzplpfRQ5QggCpoHW12+2oThgzAO24hluhENPsjisqR8RuS6vIu/Fm3za4ofOof2GiCaFhtodJXmUMxb/i5hyxRDHQZEOowcreVXJsF6vopOHtEHZ2NZW/cLI8sb4DK1+GbWBD7uTJU+l/NGElNhB/252ESB0q0sy4572WaF8J1FE+x6SNVfEVun+FLiGpGNy4cpnZPsVGtgUe6C7UqQ5MuTBREw6hZ2TKCIDc1ojMCx74rHexhw1PyPeVx5RFcLj6tSWQJNv7C387I+v/7cbWFsGsPRmF7bB15wYcIMkp/XtvJV9mW6ATsndRquMxw15FGqtcOBQoyQlf08G2FaRBSatssaNY0e74pkyXGAiy6OechyaJVv9d9DP6AjJx53URbBDOsolt+Yk4aZqMmYZ84/YWNGn+wCGtc12gXlBLSBSdxb+XbPwAx/6968oI1QXWQ2FhjPYPcgyIZUqLMBP2he7q9mL/Zz/3sgJYEREtQz3GwifgfXeVLkVoI83GEr5qr8H9JUST+pQg7uCHJnQf17VeI6S8NfbmomDtsmHB3wZdvXZJRAKA5ZeTH2qzh72iVW9z3kvJqck3mfXooGnRDtDdKCanVbuMLk+mL+1BigMWCJkDhK8PvZ1DLk6qYdGtfrMg2jKfbeDTWwRicZiUCYQFuSCscVdpYH/vQgEgDkTQSFEXYIlN/AzY41jK4bgOQftLsSbHU/kb1Fm9wrkmvckfbZvNBROyydTSu3M3v8X+/u3lmVWoWDk8ktytEmYsnVn4CJloaI3jtWUxtsKY9AIU6mBdBWcJlYlfxMDEzRwDM+I/s4oIraYzfhOgt3i+ml9G4S8wuISZNlja7My7WrlhnzyKZySv8KiBNdrWbZ0KqUKPVpO3r1ktRWiAbzdrCzDIvNvo4zqSNFhYvJrYqZKNBhDmad2MqKF9xVHZOKOe/9icq3P4HSaCcmqcGKJeeEiT4IFjiGro6AFqaQkJXWsOehFiVIkw757bP9oARAE9VjGhFnh/t7atOO5cWOUrrNVf/j2tStLI71M0ngqvXGnygA2oQH0wIncp30/DxOnVyhv/mEfo+OwFYxQ80r4I14XKo6G0SHS/YwiUry3ojuscWiy7U1dVWGWbKMLFhBvTN/AEE3eBr+vRgO+AktasxStiy+FooW4ow1LW0I6jnZSa5UVYmNUqw0v+hjefm9KFgSzpf1ovv2SE1RiH5yRwyY6BPWQ8EEFxITQ5ySAP1ZPy2D37BBT9jz2CosvW4e3ubO5Rkqhq1rmTOtHUYsjA8Dm4Cn5lLslQtD9oghtnDlm6/G1qAxjMDLd+XfJiRBHnVW/IxwG7udMVuzmgVB/2xst6j9I5RArHNola8E4+0P/on9df2SnTAmx8pWHneSwmrNt/J3VFLMhqns4zl6D1uRy5npG6mtL0Lq539NeK0xy8dbVnC6rlclCVzrSLxuHDhLdN5iRVh0un6jyZDGDTrc28vJPwqKk3/H9XcpN/yy7m3YO3bGFcGMDBjrTPXtXKW6gLU4DNeMc6vpMxC3cb6evO+2606PWXzaqvJdDGxu+TC0vbg5HymAgNFL11hBOnhL7yE6CbJMszp4mQMzhVZDBxic7CSVwi6O4UgsLwFSlNamSkhBk0k6HFg2jh8fDW13bySu4HkH6hAQQVEjbJw1n+pjFHPAhMFE1iWK681dCvtWcnZRF6cDQyFx82RISi5HN6xkJypDYUt7ezKW3M6OBbKhOZLKKgaJw39Df+jzQw0mBO/zaw+DLigjQnNb9pIR2DVi2p2E+24q9/GYSQSuPNbB23b+s5fWYYtUp9G9mod1ijTewUPlGc0vehHZiWKf/dNTgUjNaqUnNlegv7xwrI/SnaKZ33Fl4B+VszaY2gfcoa8yAZxniwrUKIBVyQ7/JZosRUgvFOEPtzbCAktITVlehWcK4fUtmpw246XUjif92qvIGztBjo4+VrtCvHDQyGIyjpjUTlQciQ1oBQH8ZdGjmI0c+GjtBBQ/5kK8cNDIYjKOmNRPP+qL9Ykf9jyj7Al6QmKcu01sFD/mQrxw0MhiMo6Y1FAruI7dqjrqfOIGb1v3qEENrdQUP+ZCvHDQyGIyjpjUUReGkcXLVd69ICDVPazt5WAOPBQ/5kK8cNDIYjKOmNRSA1SUrexw0v1eOzsfYjOJsm6kFD/mQrxw0MhiMo6Y1FLvIpeWDYvHPZxVoQEXeS4EzwwUP+ZCvHDQyGIyjpjUU9rwmn4uprt92nAG4sy+0lcvdBQ/5kK8cNDIYjKOmNRUxr6dZk/Br74YimzEggR2qY/cFD/mQrxw0MhiMo6Y1FWyjKBOcNyj/lak0qY3Shr78EQUP+ZCvHDQyGIyjpjUVp5aozaR95g+lL84h+yPv05QrBQ/5kK8cNDIYjKOmNRXiiimHrMSjH7S2Z5podVjoLEUFD/mQrxw0MhiMo6Y1Fh19qkG1C2AvxD0BEtXGwfzEXwUP+ZCvHDQyGIyjpjUWWHEq+71SHT/Tw5qLQxgrEVx5BQ/5kK8cNDIYjKOmNRaTZKu1xZjaT+NKNAOwaZQl9JMFD/mQrxw0MhiMo6Y1Fs5YLG/N35df8tDNfB26/TqMrQUP+ZCvHDQyGIyjpjUXCUutKdYmVHACV2b0iwxmTyTHBQ/5kK8cNDIYjKOmNRdEPy3j3m0RgBHeAGz4Xc9jvOEFD/mQrxw0MhiMo6Y1F38yrp3ms86QIWSZ5WWvOHhU+wUP+ZCvHDQyGIyjpjUXuiYvV+76i6Aw6zNd0wChjO0VBQ/5kK8cNDIYjKOmNRf1GbAR90FIsEBxzNZAUgqhhS8FD/mQrxw0MhiMo6Y1GDANMMv/iAXAT/hmTq2jc7YdSQUP+ZCvHDQyGIyjpjUYawCxhgfOwtBffv/HGvTcyrVjBQ/5kK8cNDIYjKOmNRil9DJAEBV/4G8FmT+IRkXfTX0FD/mQrxw0MhiMo6Y1GODnsvoYXDzwfowyt/WXrvPllwUP+ZCvHDQyGIyjpjUZG9sztCCi+gCOEswwYukYCH2xBQ/5kK8cNDIYjKOmNRlWzrRuKOm3EJ2ZZajQOoEdFcsFD/mQrxw0MhiMo6Y1GZHCNSgxMHQgrR//IT2L6jGt5QUP+ZCvHDQyGIyjpjUZzLW14jl3MTC8ppiZqt1TRkX/BQ/5kK8cNDIYjKOmNRoHqTacQb3uQMwtMhIYLrxa3hkFD/mQrxw0MhiMo6Y1GkKct1ZKBKtQ27PLioWAJW92MwUP+ZCvHDQyGIyjpjUafZA4EFJLaGDrOmUC8tGOhA5NBQ/5kK8cNDIYjKOmNRq4g7jKWpIlcPrA/ntgIveYpmcFD/mQrxw0MhiMo6Y1GvN3OYRi2OKBCkeX8810YK0+gQUP+ZCvHDQyGIyjpjUbLmq6Pmsfn5EZzjFsOsXJwdabBQ/5kK8cNDIYjKOmNRtpXjr4c2ZcoSlUyuSoFzLWbrUFD/mQrxw0MhiMo6Y1G6RRu7J7rRmxONtkXRVom+sGzwUP+ZCvHDQyGIyjpjUb30U8bIPz1sFIYf3VgroE/57pBQ/5kK8cNDIYjKOmNRwaOL0mjDqT0Vfol03wC24UNwMFD/mQrxw0MhiMo6Y1HFUsPeCUgVDhZ28wxl1c1yjPHQUP+ZCvHDQyGIyjpjUckB++mpzIDfF29co+yq5APWc3BQ/5nyzNU1rKXxc2rIIt0Hc+TZL72KWbKUA1AClakBHHOp5Sp257NEZAoc/FlMi8rQoJEBHKx90Va/g6gz+yII63etbdZfEtJQdH0sOjpm6c4Zzp4cc4hgSRZ3MV31cvhw/f8NDWEOc4CRcf0ZniAaqoBWr/zyJbnVcWuRAkykq5z0Rm5xkebepS5+j3xiPXwNO6u7PYic7466DkkzgOh4nnVjBUpTUPhdyILWFKVWcniKKW3fHqur0KYGeIhJMvTu9qAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAAtwZbHj0XxFOJ1Sf2sEw81YuGxzGqD9tUm20bwD+ClGyEnL/umMNixxf+itGY1D4m20llwoq2DxrrlZe80+/PQGRfZP3LsAd00a+IkCpA22UNQMKdq5BFbJuwuOLqc8zxCTDlqxBG8J0HcxtfogQHDK06ukzfaXiNDKAob1MqBHR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHgzCgMtr4xksUDg4Ac9EMBgPnj+GYyI6yAEGlxDb99UHy5TnV0kQpGsm0Z4gxxeAvGHMIXL7Kqzlbkz+AdjWvvcC3bawd9bs9q7ZRSOZGoXbJ6f3dUqwEgyJ2ArU2LXaJHuJF/oaClnBFjOE5XvKU1JFFb+AcUun43vxMygROELv2LAP8nxBBRnK/Gee1Sg8PLkM6Yq7u4OJb4532qVutltN9LMnrw/JNO0hqMVB4rk/2ou4AB1loQ7FZoPwut2o4KZB+0p9xnbrQKw038qjpHar+PyDwvxBRcu5hpHw3dguezeWv+IwvgW5icu8EGkhGa9AkFPPJT7VMSFb8xowveW/DqLLNk6ppK2shiqH5DzBkJ+1MfvZX8AUjX8cB/DYG6agv+yzZVeCO5wr7F396fqIUJPTawCW9igBaVKhCCfWKy+EPXpPEmOxuCd7WQadA8IVKhrFRurZXVs8wVDdVg8FEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcJ/h1kZHXDyshRTJ1cBKA+75w9IwihSFNbCJrm2AsTU0lc7CqWkF/n8zcaywCNy9eCUJycfw+lJNiwAyBxqpxhC84xG5AQwJWjO+zZFzD36lzS0r3gpFiO1BIDbN9VhFgelx0mCP7+Q5JRzm+EE7QzkfNOD1W4t345aGXi0dhfHeBbmZjDDu3JNxZ5J9sxDBuYDpqrMoG+j404rQK1ZedjYXEs508VZ4LmiCcYmZAJ7qw5p9zFkdDwthi4IadiiahwnOkEPOaHXiIxRyjpUZScnkl1SZi/L29VIDs7GyT1T/KeszODNwtUne7liBz99xuNgD9mYPLnJ/5+pnkI4w9uuiYAlncWQ+j17PQrJyHi+0khtP+pRm/cXz9GXFpAlwf94Y8R2FV462vxjznlxpNHyyyowm5PpoLNsOndqAsIpgYqU87qGd9BoiPIo/FUcw+QszFrbtpttXgwSH4xgBKOKUHjTaJynKs1f3JXl/MkmSzh7M/D7QQqy6hflZC5vYT4PGQasNdev+evbTHb3VU+9xNT9v5v6jaQL0bSRxd5OUuNTprZNBdaVniAFR0GXWOBPuY5tJOktuU2JdmwuRuZVdnC8Upe5rlxQqVZ53/DfSySYRStpO5Cq2qvl8dk9b2fnsSZ5OJ/ouMcvZgkVmRBT5OsmYXOrOYXj9vw7Cs9ACmuXyZfergtQh0BL9r7XUHoNYPVeTb75Kf3h0sLjGOQ7ha2XDxzhe7NyJVt6kc6aehbNW7/TLcoKssJJ9DFDduvwMkKhXOGC0+xLadlmOwEYhmCdTRCky/7YydGycrB2nVWysJfziP+q9pmfhaEq6eKmmBNs3YRSzS09M/nlB+CP6cqaO1ZbkhizvYWsTAkpig1+yapoXijml/i/3OA/BXBj/kjhckpQvYvbmb2QBBxb8r4fVFMURSiPxnhqOk6YAH90bQI6YKmFUxbYIIy+fGFwaJKA+ekO5a7qqIns0bvJ7mS8eB5+Co8t6Jyyk0nkSkvdeJE0sza2YksjVrADA7J3qIe/R0KQxhEpprqtxpl5jCYoKRySbSQzYk2aeaYBoFBDubCYgzQgzFfh/lbqP0+plZwnEXuvXtP+VAECZyOi6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQeDqBUmIQ+UoOjoTSCHADs6QmDSnOedrP4hpOp3H6YoVxqOAcjfeCD51ms8c2W40eSvqBt4VMwu91zvWL0Ihn4HBy8FSrSNmH2k5ZaeYyzd843WQUE0naQbC2lbkdFcOouoBS+9oBDWaPF6ItfJsK05ti+YEl+Ao7jkfwWOT4U9QYimat7vgQTlXxHksRrrrf4DGkyml6mO9sl1F60vk0i2iJ66D0TR7BOkRTFRZAZUw0vRTuSQDQBUvpNvVQuQQxuzMR5wrJ8bgcURSUfILvEio8DlNEIAF54rKAjnMTy0YGmOoXt1QcckTBGkAg97HlOrFzG7LJ+jpunJLKMKzemWuTvTNM9f/Gn18t6R3KzQZQxHFOMa5fHW6ZgGXqHDGntyhlQi4JO2S5KIN4VP7PdWgTY2e53KDFpCcvDeBEiR8emQam3+qRKpvHtF1Fi0p2yuuW7lIB5hlxANBr6srC/Z43muccQHrOyvERB3Ee6vHb7tmq6FmYSy3N5CMGKU7gUEO5VNyibh75G1LE+Pia+Kb1rIxiFW8XHPDyGsUckiuSKMBfFUH3UunCy/ULpN/wL2FOZ/HjxlDj66rszAC5XFV1/isn/INyYA3xRahkj7bku0zutrXckReF/Pl6+lWg==","base64"))})],j=(e,t,i=c.TOKEN_PROGRAM_ADDRESS,a,s)=>{let u=(0,o.getAssociatedTokenAddressSync)(new r.PublicKey(t),e,s??!1,new r.PublicKey(i),new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS));return{ataInstruction:(0,n.createAssociatedTokenAccountIdempotentInstruction)(a??e,u,e,new r.PublicKey(t),new r.PublicKey(i),new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),ataAddress:u.toString()}};function z(e){return void 0!==e.vanishKey}function H({baseComputeUnits:e,isUsdc:t,isUsd1:r,isVanish:i}){let n=e;return(t||r)&&(n+=1e5),i&&(n+=5e4),n}function X(e,t,r){return r?Math.min(9,Math.ceil((0,l.fromSafeBN)(e)/10**t/1e9*100/.5)):1}let Q=e=>{let t=new i.default(1e4);e.extraLamports&&(t=t.add(e.extraLamports)),"buy"===e.type&&(t=t.add(e.amount.divn(99).add((0,l.newSafeBN)(1))));let r=1;return e.isWsol&&r++,e.isUsdc&&r++,e.isUsd1&&r++,"buy"===e.type&&(r+=X(e.expectedAmountOut,e.tokenDecimals,!0)),t=t.add((0,l.newSafeBN)(c.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS*r))},J=async({instructions:e,wallet:i,swapSettings:n,blockhash:a,nonceInstruction:o,providers:s,lookupTables:d,computeUnits:f,rewardsPercentage:p,swapInfo:b})=>{let y,x;s=s??["jito"];let A=(y=Math.min(Math.floor(p/2.5),40),x=u.default.encode(t.Buffer.from([y])),`jitodontfront${x}1111111TradeWithAxiomDotTrade`),w=i.vanishKey;return await Promise.all(s.map(async s=>{let p=[...e],y=n;w&&(y={...n,bribeFeeSol:0,priorityFeeSol:0}),Y({instructions:p,walletAddress:i.publicKey,swapSettings:y,computeUnits:f??c.SWAP_COMPUTE_UNITS,provider:s});let x={pubkey:new r.PublicKey(A),isSigner:!1,isWritable:!1};if(!w&&n.priorityFeeSol&&p[0].keys.push(x),o&&p.unshift(o),w){if(!b)throw Error("Swap info not found");let e=new r.TransactionMessage({payerKey:new r.PublicKey(i.publicKey),recentBlockhash:a,instructions:p}),o=new r.VersionedTransaction(e.compileToV0Message(d)),s=t.Buffer.from(o.serialize()).toString("base64"),c=r.Keypair.fromSecretKey(u.default.decode(w)),f=(0,l.newSafeBN)((n.bribeFeeSol+n.priorityFeeSol)*1e9);if(f.lt((0,l.newSafeBN)(1e4)))throw Error("Total bribe + priority fee must be at least 0.00001 SOL for Vanish trades");(0,m.fetchAndSetVanishOneTimeWallet)().catch(()=>{});let y=X(b.expectedAmountOut,b.tokenDecimals,b.sourceTokenAddress===g.NATIVE_SOL_TOKEN_ADDRESS);try{let e=await (0,h.executeVanishTrade)({userAddress:c.publicKey.toString(),privateKeyBase58:w,sourceTokenAddress:b.sourceTokenAddress,targetTokenAddress:b.targetTokenAddress,amount:b.amount.toString(),swapTransaction:s,loanAdditionalSol:b.loanExtraLamports.add(f).toString(),jitoTipAmount:f.toString(),splitRepay:y,oneTimeWallet:i.publicKey});return{base64Tx:"",signature:e.tx_id}}catch{throw Error("Error executing Vanish trade")}}let v=$(i)?i:r.Keypair.fromSecretKey(u.default.decode(i.privateKey));return await ee({instructions:p,blockhash:a,signer:v,lookupTables:d})}))},Y=({instructions:e,computeUnits:t,swapSettings:i,walletAddress:n,provider:a})=>{let o;a=a??"jito";let s=new r.PublicKey(n);if("jito"===a){if(i.bribeFeeSol>=1e-6){let e=["96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5","HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe","Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY","ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49","DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh","ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt","DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL","3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT"];o=e[Math.floor(Math.random()*e.length)]}}else if("temporal"===a||"temporal-priority"===a||"temporal-bribe"===a){if(i.bribeFeeSol>=.001){let e=["axmMdWvgEnN3NFrxMfTqUURzj9NLhZL2DkHkWCdgiFV","axmQTWU68qZ4fuG7zzkCXCBmxxeHVZrNrLkgxEFCbRv","axmhpocX3hU7nT7KtsLBzNBR1Ur3HtU22Q5P313FREY","axmD4LFJopAcbRKCKsrrmovCZZzmKQCMEfs5qEXj8dG","axmWxBPqgRmcBN2cV12quqaQzsk16SazVXq8397KFKu","axmFmfqQwZGEUZeF3i3MqbRCDiGPfshtbdoBjk41k88","axmYVq9b1ABYqtyizMtyfJppPTPxZGXPLctB3hV6W5b","axm2JQY1FKEktAwgXWqjGYkkWsWPfwKzgbnGVt5kiP4"];o=e[Math.floor(Math.random()*e.length)]}}else if("0xslot"===a||"0xslot-bribe"===a){let e=["Eb2KpSC8uMt9GmzyAEm5Eb1AAAgTjRaXWFjKyFXHZxF3","FCjUJZ1qozm1e8romw216qyfQMaaWKxWsuySnumVCCNe","ENxTEjSQ1YabmUpXAdCgevnHQ9MHdLv8tzFiuiYJqa13","6rYLG55Q9RpsPGvqdPNJs4z5WTxJVatMB8zV3WJhs5EK","Cix2bHfqPcKcM233mzxbLk14kSggUUiz2A87fJtGivXr","6fQaVhYZA4w3MBSXjJ81Vf6W1EDYeUPXpgVQ6UQyU1Av","4HiwLEP2Bzqj3hM2ENxJuzhcPCdsafwiet3oGkMkuQY4","7toBU3inhmrARGngC7z6SjyP85HgGMmCTEwGNRAcYnEK","8mR3wB1nh4D6J9RUCugxUpc6ya8w38LPxZ3ZjcBhgzws","6SiVU5WEwqfFapRuYCndomztEwDjvS5xgtEof3PLEGm9","TpdxgNJBWZRL8UXF5mrEsyWxDWx9HQexA9P1eTWQ42p","D8f3WkQu6dCF33cZxuAsrKHrGsqGP2yvAHf8mX6RXnwf","GQPFicsy3P3NXxB5piJohoxACqTvWE9fKpLgdsMduoHE","Ey2JEr8hDkgN8qKJGrLf2yFjRhW7rab99HVxwi5rcvJE","4iUgjMT8q2hNZnLuhpqZ1QtiV8deFPy2ajvvjEpKKgsS","3Rz8uD83QsU8wKvZbgWAPvCNDU6Fy8TSZTMcPm3RB6zt","6MgjyQU7G988jgL6EGAgfHYoeesCnwYMyPeh1fpJ71FP","AumQWSLrWwDXRq1yDEYPiw8vT5NUBYzrbdWCprJ4ZUa8","ForLDu55GfA2U1aTUaitmjzjs92vvVn1MSqzY3D9HtAK","AsEF2SWSEZ1xpGZ5fdzDKaoka1XEtFSjGo39YUXkpvAh","2WoQNgmc4SEXrR3rKQypmeWmsxGqHHE6rApnVrP6Pt77","12pHu2j2DDShyCVFU7vtSLXga74et9y83VD38mw6XYhB"];o=e[Math.floor(Math.random()*e.length)]}else if("bloxroute"===a){let e=["HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY","95cfoy472fcQHaw4tPGBTKpn6ZQnfEPfBgDQx6gcRmRg","3UQUKjhMKaY2S6bjcQD6yHB7utcZt5bfarRCmctpRtUd","FogxVNs6Mm2w9rnGL1vkARSwJxvLE8mujTv3LK8RnUhF"];o=e[Math.floor(Math.random()*e.length)]}else if("helio"===a)o="HYseAPq3ZPYzA35hLsEgmdsKCZQ3P7FBCcCPPytRtyTz";else if("astralane"===a){let e=["ASTRa2mTtzDFyjDHdSTMGa5sGg7bdVZNqDCPWH6ZZXax","AsTrACB6f3qtnZ1jpwPUui9714sHsS9Jtgaiy1ay4gAx","ASTrARNVyyJrzDm8QxJ7p3BJF3BVB5vWDXjjVGQEuBAX","AstRaL1TEkvTHBWAYvgGRzq9ViBags5nZGQ5eguABJAX"];o=e[Math.floor(Math.random()*e.length)]}else if("nextblock"===a){let e=["NextbLoCkVtMGcV47JzewQdvBpLqT9TxQFozQkN98pE","NexTbLoCkWykbLuB1NkjXgFWkX9oAtcoagQegygXXA2","NeXTBLoCKs9F1y5PJS9CKrFNNLU1keHW71rfh7KgA1X","NexTBLockJYZ7QD7p2byrUa6df8ndV2WSd8GkbWqfbb","neXtBLock1LeC67jYd1QdAa32kbVeubsfPNTJC1V5At","nEXTBLockYgngeRmRrjDV31mGSekVPqZoMGhQEZtPVG","NEXTbLoCkB51HpLBLojQfpyVAMorm3zzKg7w9NFdqid","nextBLoCkPMgmG8ZgJtABeScP35qLa2AMCNKntAP7Xc"];o=e[Math.floor(Math.random()*e.length)]}else if("merkle"===a){let e=["TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","Eqd6r1pThnbYgtn6kLy4a7zFELFHkyiFesiYaC6eYg9v","9xSYXtWXX2Gv6x3QA8Ffv1mGeLzn2oV2Sh3ZLrcxF8EX","ARFWuFgvNjjAyw8Sb77JjZF2kQvduCh9uWyYU9wrdgNp","AKAikQvacoWtK3TC6Wx4TUappTw6NuTnPqWHBA6WymgP","5yhYeqTB7tNXJUEopfCMX43pcFdCaQFjdUxb3RqAg5yY","2NASvutUxvRWuvVygtVyT2vsNgFDbg5Gbe8K8mzZAkje","FGtPX6qVePUPwYJ29tENeDu7ucFVLQmkeNDthYjPYPeB","8B6Ayvfq2yNnAai3dkdmoExpxcyBbwhptTQTdndPZUUG","Aru6VYgVEvz2Bki6Sm4fjNuJAc1XVbD7gyRBLsNe3MoB","BgNWpV557p3fPUmHCREg1qwUdDRKtzKpndJijs4sWd3u","A9Hk5FtpHvED5TN49y4ahmBtc1sNWoFEnPiXXGPxAmNj","H5DNFugVFjFRkPhcTkVCRfTugVzGYa3jATa7zed4pbFg","8h2PSH4XaMp28JWRDEwDmXyQWMyLWT5RYA9WKkcCiPvZ","Hjaq8W4h4RBKx11YNRyQMRJtU7ccVoXv46cgLAbgMEjV","TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","G7bdAL1cykNJaSnfCZGGVfuBeKf3R1dx2H1JjQhhKsRf","3GHLrYyEPsfVnFwcPg1EJst1rkLhxRHaYuS7UL36kwtA","CPh9BMcZfzYd5NJf2ucDAAz5PWK32EgJY9qRGm2rQNAy","9YS3QR6o8JEfsvyNHNuG5NqxaFsJnRr6t6itM7b73YjD","6TbHNfUpLpGjn1R7PiPMsxsffivE3noMMJ8oCTyxiuPQ"];o=e[Math.floor(Math.random()*e.length)]}else if("flashblock"===a){let e=["FLaShB3iXXTWE1vu9wQsChUKq3HFtpMAhb8kAh1pf1wi","FLashhsorBmM9dLpuq6qATawcpqk1Y2aqaZfkd48iT3W","FLaSHJNm5dWYzEgnHJWWJP5ccu128Mu61NJLxUf7mUXU","FLaSHR4Vv7sttd6TyDF4yR1bJyAxRwWKbohDytEMu3wL","FLASHRzANfcAKDuQ3RXv9hbkBy4WVEKDzoAgxJ56DiE4","FLasHstqx11M8W56zrSEqkCyhMCCpr6ze6Mjdvqope5s","FLAShWTjcweNT4NSotpjpxAkwxUr2we3eXQGhpTVzRwy","FLasHXTqrbNvpWFB6grN47HGZfK6pze9HLNTgbukfPSk","FLAshyAyBcKb39KPxSzXcepiS8iDYUhDGwJcJDPX4g2B","FLAsHZTRcf3Dy1APaz6j74ebdMC6Xx4g6i9YxjyrDybR"];o=e[Math.floor(Math.random()*e.length)]}else if("helius"===a){let e=["4ACfpUFoaSD9bfPdeu6DBt89gB6ENTeHBXCAi87NhDEE","D2L6yPZ2FmmmTKPgzaMKdhu6EWZcTpLy1Vhx8uvZe7NZ","9bnz4RShgq1hAnLnZbP8kbgBg1kEmcJBYQq3gQbmnSta","5VY91ws6B2hMmBFRsXkoAAdsPHBJwRfBht4DXox3xkwn","2nyhqdwKcJZR2vcqCyrYsaPVdAnFoJjiksCXJ7hfEYgD","2q5pghRs6arqVjRvT5gfgWfWcHWmw1ZuCzphgd5KfWGJ","wyvPkWjVZz1M8fHQnMMCDTQDbkManefNNhweYk5WkcF","3KCKozbAaF75qEU33jtzozcJ29yJuaLJTy2jFdzUY8bT","4vieeGHPYPG2MmyPRcYjdiDmmhN3ww7hsFNap8pVN3Ey","4TQLFNWK8AovT1gFvda5jfw2oJeRMKEmw7aH6MGBJ3or"];o=e[Math.floor(Math.random()*e.length)]}let u=i.priorityFeeSol,c=i.bribeFeeSol,d=u+c;if("temporal-priority"===a||"0xslot-priority"===a?(u=.9*d,c=.09999999999999998*d):("temporal-bribe"===a||"0xslot-bribe"===a)&&(u=d*(1-W),c=d*W),o){let t=r.SystemProgram.transfer({fromPubkey:s,toPubkey:new r.PublicKey(o),lamports:BigInt((1e9*c).toFixed(0))});e.push(t)}let f=(0,l.newSafeBN)(1e9*u).mul((0,l.newSafeBN)(1e6)).div((0,l.newSafeBN)(t));u>0&&Z({instructions:e,computeUnits:t,microLamports:f})},Z=({instructions:e,computeUnits:t,microLamports:i,numPrefixInstructions:n=0})=>{let a=r.ComputeBudgetProgram.setComputeUnitLimit({units:t}),o=r.ComputeBudgetProgram.setComputeUnitPrice({microLamports:BigInt(String(Math.round(Number(i.toString()))))});e.splice(n,0,a,o)},$=e=>void 0!==e.signTransaction,ee=async({signer:e,instructions:i,blockhash:n,lookupTables:a})=>{let o=Array.isArray(e)?e:[e];if(0===o.length)throw Error("No signers provided");let s=$(o[0])?new r.PublicKey(o[0].publicKey):o[0].publicKey,l=new r.TransactionMessage({payerKey:s,recentBlockhash:n,instructions:i}),c=new r.VersionedTransaction(a?l.compileToV0Message(a):l.compileToLegacyMessage());if(o.some($)){let e=await Promise.all(o.map(async(e,t)=>$(e)?(await e.signTransaction(c)).signatures[t]:(c.sign([e]),c.signatures[t])));for(let t=0;t<e.length;t++)c.signatures[t]=e[t]}else c.sign(o);let d=c.serialize();return{base64Tx:t.Buffer.from(d).toString("base64"),signature:u.default.encode(c.signatures[0])}},et=e=>{let i=t.Buffer.from(e,"base64");try{let e=r.VersionedTransaction.deserialize(i);return u.default.encode(e.signatures[0])}catch(t){console.error("getSignatureFromBase64",t);let e=r.Transaction.from(i);return u.default.encode(e.signatures[0].signature??[])}},er=async(e,t,r={})=>{try{if(t.mevProtection)return;let i={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:0,...r}]},n=await s.default.post(d.HELIUS_FRONTEND_RPC_URL,i);if(n.data?.result)return n.data.result;return}catch{return}},ei=async(e,t)=>{let r,i=t?"bundles":"transactions",n=`https://slc.mainnet.block-engine.jito.wtf/api/v1/${i}`,a=`https://frankfurt.mainnet.block-engine.jito.wtf/api/v1/${i}`,o=`https://ny.mainnet.block-engine.jito.wtf/api/v1/${i}`,u=`https://tokyo.mainnet.block-engine.jito.wtf/api/v1/${i}`,l=`https://amsterdam.mainnet.block-engine.jito.wtf/api/v1/${i}`,c=`https://london.mainnet.block-engine.jito.wtf/api/v1/${i}`;r="bundles"===i?{jsonrpc:"2.0",id:1,method:"sendBundle",params:[[e,t],{encoding:"base64"}]}:{jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",maxRetries:5}]};let d=[n,a,o,u,l,c];for(let e=0;e<d.length;e++)s.default.post(d[e],r).catch(()=>{})},en=async(e,t,r)=>{let i=r?"d0815c33-5d16-468e-8413-8101482faacc":t?"9acaf288-e73b-4133-a5f3-12fa5d31205b":"0ce8ae77-b0e2-4e12-81af-00cd2bfb974b";for(let t of[`https://nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://lax1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://ash1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://ewr1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://fra2.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://pit1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://ams1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://sgp1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`,`https://tyo1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${i}`])s.default.post(t,e,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},ea=async(e,t,r)=>{let i=r?"&secure=true":t?"&anti-mev=true":"",n={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64"}]};for(let e of[`https://la1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://ny3.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://ash1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://dal1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://ams1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://de1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://jp1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${i}`,`https://sgp1.0slot.trade/?id=e619b143d79f4049a12cb2f336104cfd${i}`,`https://chi1.0slot.trade/?id=e619b143d79f4049a12cb2f336104cfd${i}`,`https://sv1.0slot.trade/?id=e619b143d79f4049a12cb2f336104cfd${i}`])s.default.post(e,n,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},eo=async(e,t)=>{if(t)return;let r={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0}]};for(let e of["https://quicksol.merkle.io/"])s.default.post(e,r).catch(()=>{})},es=async(e,t)=>{let r="AxiomozyNSTbBlP88VY35BvSdDVS3du1be8Q1VMmconPgpWFVWnpmfnpUrhRj97F";for(let i of[`https://axiom-fra.gateway.astralane.io/iris2?api-key=${r}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://axiom-ca.gateway.astralane.io/iris2?api-key=${r}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://fr.gateway.astralane.io/iris2?api-key=${r}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://ams.gateway.astralane.io/iris2?api-key=${r}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://jp.gateway.astralane.io/iris2?api-key=${r}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://sg.gateway.astralane.io/iris2?api-key=${r}&method=sendTransaction${t?"&mev-protect=true":""}`])s.default.post(i,e,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},eu=(e,t,r,i)=>{let n={mevProtection:t.mevProtection,enhancedMevProtection:t.enhancedMevProtection,wallets:e.map(e=>({transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))}))};if(0!==n.wallets.length){if(f.axiomApi.post("/batched-send-tx-v2",n).catch(()=>{}),f.axiomApiV2.post("/batched-send-tx-v2",n,{urlOverride:"https://tx-pro.axiom.trade"}).catch(()=>{}),!i){for(let e of n.wallets.slice(0,3))for(let r of e.transactions)"0xslot"===r.provider&&ea(r.base64Tx,t.mevProtection,t.enhancedMevProtection);if(!t.enhancedMevProtection)for(let e of n.wallets.slice(0,3))s.default.post("https://tx.axiomext.net",{message:e.transactions[0]?.base64Tx},{headers:{"Content-Type":"text/plain"}}).catch(()=>{});for(let e of n.wallets.slice(0,3))for(let r of e.transactions)"temporal"===r.provider&&en(r.base64Tx,t.mevProtection,t.enhancedMevProtection);for(let e of n.wallets[0].transactions)"temporal-bribe"===e.provider?en(e.base64Tx,t.mevProtection,t.enhancedMevProtection):"0xslot-bribe"===e.provider&&ea(e.base64Tx,t.mevProtection,t.enhancedMevProtection);for(let e of(er(n.wallets[0].transactions[0].base64Tx,t),n.wallets.slice(0,3)))for(let r of e.transactions)"jito"===r.provider?ei(r.base64Tx):"merkle"===r.provider?eo(r.base64Tx,t.mevProtection):"astralane"===r.provider&&es(r.base64Tx,t.mevProtection)}if(t.customRpcUrl&&!t.mevProtection){let e={customRpcUrl:t.customRpcUrl,transactions:n.wallets.map(e=>({base64Tx:e.transactions[0].base64Tx}))};f.axiomApiV2.post("/batched-send-custom-tx",e,{urlOverride:"https://tx-custom.axiom.trade"}).catch(()=>{})}}},el=async e=>{let t={mevProtection:!1},r={skipPreflight:!0,preflightCommitment:"confirmed"},i=ec(e,t,r),n=er(e,t,r);try{let e=await i;if(e)return e;throw Error("Unexpected Error")}catch(t){let e=await n;if(e)return e;throw t}},ec=async(e,t,r={})=>{let i={isSmartMEV:t.mevProtection,jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:5,...r}]};return(await s.default.post("/api/swap",i)).data.result};function ed(e){let{signature:t,callback:i,commitment:n,protocol:a,pairAddress:o}=e;return(e.connection??new r.Connection(d.HELIUS_FRONTEND_RPC_URL)).onSignature(t,e=>{if(e.err){let t=e.err?.InstructionError?.[1],r=t?.Custom;if(30===r)i(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(100===r)i(!1,"Transaction failed and priority fees were consumed: Insufficient input tokens");else if(17===r)i(!1,"Transaction failed and priority fees were consumed: token creator froze your tokens");else if(29===r)i(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(6005===r)i(!1,"Transaction failed and priority fees were consumed: slippage exceeded or bonding curve complete");else if(a===c.PROTOCOL_HEAVEN&&6013===r)i(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(a===c.PROTOCOL_HEAVEN)i(!1,"Transaction failed and priority fees were consumed: Trading is not enabled yet, wait for an official announcement.");else if(6027===r||6013===r||6006===r)i(!1,"Transaction failed and priority fees were consumed: bonding curve complete");else if(6001===r||6002===r||6003===r||6004===r||6005===r||103===r||6040===r)i(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(6e3===r)i(!1,"Transaction failed and priority fees were consumed: pool not open yet");else if(2505===r)i(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(3012===r)i(!1,"Transaction failed and priority fees were consumed: Cannot find your token account, refreshing");else if(1===r||40===r||6023===r)i(!1,"Transaction failed and priority fees were consumed: Insufficient tokens");else if(38===r)i(!1,"Transaction failed and priority fees were consumed: token account closed, refresh and retry");else if(0===r)i(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(3003===r)i(!1,"Transaction failed and priority fees were consumed: Account not extended, place a buy of any size in order to sell");else if(6015===r)i(!1,"Transaction failed and priority fees were consumed: Price out of allowed range of the pool, try a different pool");else if(2001===r)i(!1,"Transaction failed and priority fees were consumed: Did you change primary wallets after creating a yield account?");else if(2006===r){if(i(!1,"Transaction failed and priority fees were consumed: Coin creator changed, refreshing data..."),(a===c.PROTOCOL_PUMP||a===c.PROTOCOL_PUMP_AMM)&&o){let e=a===c.PROTOCOL_PUMP?"bondingCurve":"pool";f.axiomApiV2.post("/update-pump-creator",{pairAddress:o,type:e}).catch(()=>{})}}else"UnbalancedInstruction"===t?i(!1,"Transaction failed and priority fees were consumed: The Pump program has a bug, place a buy of any size in order to sell"):"ComputationalBudgetExceeded"===t?i(!1,"Transaction failed and priority fees were consumed: Transaction too large, contact support"):"ProgramFailedToComplete"===t?i(!1,"Transaction failed and priority fees were consumed: Invalid swap data, contact support"):i(!1,`Transaction failed and priority fees were consumed: ${JSON.stringify(e.err)}`)}else i(!0,"Transaction confirmed!")},n??"confirmed")}let ef=(e,t,r,i,n)=>{let a=()=>{r.send(JSON.stringify({action:"join",room:e}))};r.readyState===WebSocket.OPEN?a():i.push(a),n.push(r=>{try{JSON.parse(r.data).room===e&&t(!0,"Transaction confirmed!")}catch{}})};async function ep(e){let t=[],i=0,n=new r.Connection(d.HELIUS_FRONTEND_RPC_URL),a=[];try{let r=[];for(let t of e)ec(t,{mevProtection:!1},{skipPreflight:!0}).catch(console.error),r.push(et(t));let o=new Promise(e=>{setTimeout(()=>{e()},6e4)}),s=await Promise.race([Promise.all(r.map(e=>new Promise(r=>{let o=ed({signature:e,callback:(e,n)=>{e?i++:t.push(n),r()},connection:n});a.push(o)}))),o]);return Array.isArray(s)||t.push("Transaction(s) timed out"),{numSuccess:i,numFailed:e.length-i,errorMessages:t}}catch(r){return t.push((0,p.getErrorMessage)(r)),{numSuccess:i,numFailed:e.length-i,errorMessages:t}}finally{for(let e of a)n.removeSignatureListener(e).catch(()=>{})}}async function eh(e){let i,n,a,o,{userWalletAddress:s,tokenAddress:u,tokenProgramAddress:l}=e;if(e.userTokenAccountAddress)i=e.userTokenAccountAddress;else{let{ataInstruction:t,ataAddress:n}=j(new r.PublicKey(s),u,l);i=n,e.instructions.push(t)}if(e.usdc){let{ataInstruction:t,ataAddress:i}=j(new r.PublicKey(s),c.USDC_TOKEN_ADDRESS,c.TOKEN_PROGRAM_ADDRESS);n=i,e.instructions.push(t)}if(e.usd1){let{ataInstruction:t,ataAddress:i}=j(new r.PublicKey(s),c.USD1_TOKEN_ADDRESS,c.TOKEN_PROGRAM_ADDRESS);a=i,e.instructions.push(t)}return e.wsolAmount&&(o=e.psol?eg(new r.PublicKey(s),e.wsolAmount,e.instructions).toBase58():function(e,i,n){let[a,o]=r.PublicKey.findProgramAddressSync([t.Buffer.from("wrapped_sol_account"),e.toBuffer()],new r.PublicKey(P)),s=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(c.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],u=i.toArrayLike(t.Buffer,"le",8),l=new r.TransactionInstruction({keys:s,programId:new r.PublicKey(P),data:t.Buffer.concat([t.Buffer.from([1]),u,t.Buffer.from([o])])});return n.push(l),a.toBase58()}(new r.PublicKey(s),e.wsolAmount,e.instructions)),{userTokenAccountAddress:i,userUsdcAccountAddress:n,userUsd1AccountAddress:a,userWsolAccountAddress:o}}let em=(e,t,i,n=c.TOKEN_PROGRAM_ADDRESS)=>{i.push((0,a.createCloseAccountInstruction)(new r.PublicKey(t),new r.PublicKey(e),new r.PublicKey(e),void 0,new r.PublicKey(n)))},eg=(e,n,a)=>{let{ataInstruction:o,ataAddress:s}=j(e,L);if(a.push(o),n.lte(new i.default(0)))return new r.PublicKey(s);let u=[{pubkey:new r.PublicKey(K),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey(L),isSigner:!1,isWritable:!0},{pubkey:new r.PublicKey("71J1bTThWGXD9qVxsyYwxZbGG5GbdUzV7t7ohkuGxt5a"),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new r.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new r.PublicKey(c.RENT_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],l=n.toArrayLike(t.Buffer,"le",8),d=new r.TransactionInstruction({keys:u,programId:new r.PublicKey(q),data:t.Buffer.concat([t.Buffer.from("2f3e9bac83cd25c9","hex"),l])});return a.push(d),new r.PublicKey(s)}},592e3,114175,e=>{"use strict";e.s(["fetchAndSetVanishOneTimeWallet",()=>x,"processVanishDeposit",()=>v,"processVanishWithdrawal",()=>w,"safeCommitVanishAction",()=>A,"vanishOneTimeWalletAddress",()=>y],592e3);var t=e.i(467034),r=e.i(682382),i=e.i(40039),n=e.i(85026),a=e.i(127261),o=e.i(103476);e.i(465903);var s=e.i(767924),u=e.i(91204),l=e.i(247317),c=e.i(973444),d=e.i(444610);e.i(559136);var f=e.i(150237),p=e.i(422876),h=e.i(717725),m=e.i(858010);let g=(0,d.struct)([(0,d.u8)("instruction"),(0,f.u64)("amount")]);function b(e,r,i,n,o=[],s=p.TOKEN_PROGRAM_ID){let u=(0,h.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],i,o),l=t.Buffer.alloc(g.span);return g.encode({instruction:m.TokenInstruction.Transfer,amount:BigInt(n)},l),new a.TransactionInstruction({keys:u,programId:s,data:l})}e.s(["createTransferInstruction",()=>b],114175);let y=null;async function x(){let e=await (0,i.getVanishOneTimeWallet)();return y=e.address,e.address}async function A(e){let t=null;try{t=await (0,i.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending")try{t=await (0,i.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending"){await (0,u.sleep)(1e3);try{t=await (0,i.commitVanishAction)({txId:e})}catch{}}return t?.status==="pending"&&((0,u.sleep)(3e4),t=await (0,i.commitVanishAction)({txId:e})),t?.status==="pending"&&((0,u.sleep)(35e3),t=await (0,i.commitVanishAction)({txId:e})),t}async function w({selectedToken:e,amountRaw:u,primaryWalletAddress:c,primaryWalletKey:d}){(0,n.addPriorityFeeInstructions)({instructions:[],computeUnits:e===r.NATIVE_SOL_TOKEN_ADDRESS?1e4:75e3,microLamports:25e5});let f=await (0,i.withdrawFromVanish)({userAddress:c,tokenAddress:e,amount:u.toString(),additionalSol:e===r.NATIVE_SOL_TOKEN_ADDRESS?"0":s.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS.toString(),privateKeyBase58:d}),p=a.VersionedTransaction.deserialize(t.Buffer.from(f.transaction,"base64"));p.sign([a.Keypair.fromSecretKey(o.default.decode(d))]);let h=o.default.encode(p.signatures[0]);try{let{numFailed:e,errorMessages:r}=await (0,n.sendAndMonitorSimpleTxBatched)([t.Buffer.from(p.serialize()).toString("base64")]);if(e>0)throw Error(`Error withdrawing from Vanish: ${r.join(", ")}`)}catch(e){throw Error(`Error withdrawing from Vanish: ${(0,l.getErrorMessage)(e)}`)}finally{try{await A(h)}catch(e){throw Error(`Error committing Vanish withdraw: ${(0,l.getErrorMessage)(e)}`)}}}async function v({selectedToken:e,amountRaw:t,primaryWalletAddress:s,primaryWalletKey:l,sourceTokenAccountAddress:d,tokenProgram:f,safeBlockhash:p}){let h,m=await (0,i.getVanishDepositAddress)({tokenAddress:e}),g=[];if(e===r.NATIVE_SOL_TOKEN_ADDRESS){g.push(a.ComputeBudgetProgram.setComputeUnitLimit({units:450})),g.push(a.ComputeBudgetProgram.setComputeUnitPrice({microLamports:1e7}));let e=a.SystemProgram.transfer({fromPubkey:new a.PublicKey(s),toPubkey:new a.PublicKey(m.address),lamports:(0,c.fromSafeBN)(t)});g.push(e)}else{if(!d||!f)throw Error("Source token account address or token program not found");g.push(a.ComputeBudgetProgram.setComputeUnitLimit({units:55e3})),g.push(a.ComputeBudgetProgram.setComputeUnitPrice({microLamports:25e5}));let{ataInstruction:r,ataAddress:i}=(0,n.makeCreateATAInstruction)(new a.PublicKey(m.address),e,f,new a.PublicKey(s),!0);g.push(r);let o=b(new a.PublicKey(d),new a.PublicKey(i),new a.PublicKey(s),BigInt(t.toString()),void 0,new a.PublicKey(f));g.push(o)}let{base64Tx:y,signature:x}=await (0,n.compileTransaction)({signer:a.Keypair.fromSecretKey(o.default.decode(l)),instructions:g,blockhash:p}),{numFailed:A,errorMessages:w}=await (0,n.sendAndMonitorSimpleTxBatched)([y]);if(A>0)throw Error(`Error depositing to Vanish: ${w.join(", ")}`);return"completed"!==(h=await (0,i.commitVanishAction)({txId:x})).status&&(await (0,u.sleep)(1e3),"completed"!==(h=await (0,i.commitVanishAction)({txId:x})).status&&(await (0,u.sleep)(3e3),h=await (0,i.commitVanishAction)({txId:x}))),h}},863568,e=>{"use strict";e.i(490156);var t=e.i(542119);e.i(258291);var r=e.i(874107),i=e.i(285942),n=e.i(672464),a=e.i(271645);let o=[7,16];function s(e){if(!e)return!1;if(e instanceof i.TurnkeyRequestError)return!0;if(!(e instanceof Error)||"TurnkeyRequestError"!==e.name||"number"!=typeof e.code)return!1;let t=e.details;return"object"==typeof t&&null!==t&&!!Array.isArray(t)}function u(e){return!!s(e)&&o.includes(e.code)}async function l(e){try{return await e.getWhoami(),!1}catch{return!0}}e.s(["isTurnkeyError",()=>s,"isTurnkeySessionExpired",()=>l,"isTurnkeySessionExpiryError",()=>u,"useTurnkeyClient",0,()=>{let e=(0,n.useAtomValue)(t.turnkeyPrivateKeyAtom),i=(0,n.useAtomValue)(t.turnkeyPublicKeyAtom),o=(0,n.useAtomValue)(t.turnkeyOrgIdAtom);return(0,a.useMemo)(()=>e&&i&&o?new r.Turnkey({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:e,apiPublicKey:i,defaultOrganizationId:o,activityPoller:{intervalMs:250,numRetries:20}}).apiClient():null,[e,i,o])}])},401597,e=>{"use strict";var t=e.i(659341),r=e.i(973444);function i(e,t,r){let i=t.size;if(!Number.isInteger(e))throw Error("totalAmount must be an integer.");if(i<=0)throw Error("walletCount must be >= 1.");if(e<=0)throw Error("totalAmount must be > 0.");if(r<0||r>100)throw Error("buyDistribution must be between 0 and 100.");let n=Math.floor(e/i),a=r/100,o=Math.floor((1-a)*n),s=Math.ceil((1+a)*n),u=Array.from(t.keys()),l=e-i*o;if(a>0&&(e<i*o||e>i*s))throw Error("No feasible distribution for the given constraints.");let c=new Map,d=i;for(let e of u){if(0===r){c.set(e,o+l),l=0;continue}if(l<=0)break;if(1===d){c.set(e,o+l),l=0;break}let t=s-o,i=Math.max(0,l-(d-1)*t),n=Math.min(l,t);if(i>n)throw Error("Feasibility broke mid-distribution.");let a=Math.floor(i+Math.random()*(n-i+1));c.set(e,o+a),l-=a,d--}let f=Array.from(c.values()).reduce((e,t)=>e+t,0);if(f!==e)throw Error(`Distribution error: sum does not match totalAmount. ${f} !== ${e}`);return c}function n(e,i,a=20){if(a<0||a>100)throw Error("Variance must be between 0 and 100.");if(i<=0)throw Error("walletCount must be >= 1.");if(e.lte(new t.default(0)))throw Error("totalAmount must be > 0.");let o=e.div(new t.default(i)),s=o.mul(new t.default(100-a)).div(new t.default(100)),u=o.mul(new t.default(100+a)).div(new t.default(100)),l=u.sub(s),c=s.mul(new t.default(i)),d=u.mul(new t.default(i));if(e.lt(c)||e.gt(d))throw Error("No feasible distribution for the given constraints.");let f=Array(i).fill(null).map(()=>s.clone()),p=e.sub(s.mul(new t.default(i)));for(let e=0;e<i-1&&!p.lte(new t.default(0));e++){let n=i-e,a=l.mul(new t.default(n-1)),o=p.gt(a)?p.sub(a):new t.default(0),s=t.default.min(p,l);if(o.gt(s))throw Error("Feasibility broke mid-distribution.");let u=s.sub(o).add(new t.default(1)),c=(0,r.newSafeBN)(1e5*Math.random()).mul(u).div((0,r.newSafeBN)(1e5)),d=o.add(c);f[e]=f[e].add(d),p=p.sub(d)}if(f[i-1]=f[i-1].add(p),!f.reduce((e,t)=>e.add(t),new t.default(0)).eq(e))throw Error("Distribution error: sum does not match totalAmount.");return f}e.s(["distributeAmount",()=>i,"distributeAmountBN",()=>n])},361884,(e,t,r)=>{var i=e.r(377684),n=e.r(877289);t.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==i(e)}},9903,(e,t,r)=>{var i=e.r(45350),n=e.r(361884),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(e,t){if(i(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||n(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},657588,(e,t,r)=>{var i=e.r(587547);function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var r=function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=e.apply(this,i);return r.cache=a.set(n,o)||a,o};return r.cache=new(n.Cache||i),r}n.Cache=i,t.exports=n},688832,(e,t,r)=>{var i=e.r(657588);t.exports=function(e){var t=i(e,function(e){return 500===r.size&&r.clear(),e}),r=t.cache;return t}},902677,(e,t,r)=>{var i=e.r(688832),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;t.exports=i(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,function(e,r,i,n){t.push(i?n.replace(a,"$1"):r||e)}),t})},892708,(e,t,r)=>{t.exports=function(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}},372537,(e,t,r)=>{var i=e.r(630353),n=e.r(892708),a=e.r(45350),o=e.r(361884),s=1/0,u=i?i.prototype:void 0,l=u?u.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return n(t,e)+"";if(o(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-s?"-0":r}},702922,(e,t,r)=>{var i=e.r(372537);t.exports=function(e){return null==e?"":i(e)}},186287,(e,t,r)=>{var i=e.r(45350),n=e.r(9903),a=e.r(902677),o=e.r(702922);t.exports=function(e,t){return i(e)?e:n(e,t)?[e]:a(o(e))}},2054,(e,t,r)=>{var i=e.r(361884),n=1/0;t.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}},333141,(e,t,r)=>{var i=e.r(186287),n=e.r(2054);t.exports=function(e,t){t=i(t,e);for(var r=0,a=t.length;null!=e&&r<a;)e=e[n(t[r++])];return r&&r==a?e:void 0}},482820,(e,t,r)=>{var i=e.r(333141);t.exports=function(e,t,r){var n=null==e?void 0:i(e,t);return void 0===n?r:n}},524251,(e,t,r)=>{var i=e.r(841920);t.exports=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},674548,(e,t,r)=>{var i=e.r(524251);t.exports=function(e,t,r){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},4300,(e,t,r)=>{var i=e.r(674548),n=e.r(25172),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){var o=e[t];a.call(e,t)&&n(o,r)&&(void 0!==r||t in e)||i(e,t,r)}},942173,(e,t,r)=>{var i=e.r(4300),n=e.r(186287),a=e.r(66397),o=e.r(12447),s=e.r(2054);t.exports=function(e,t,r,u){if(!o(e))return e;t=n(t,e);for(var l=-1,c=t.length,d=c-1,f=e;null!=f&&++l<c;){var p=s(t[l]),h=r;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(l!=d){var m=f[p];void 0===(h=u?u(m,p,f):void 0)&&(h=o(m)?m:a(t[l+1])?[]:{})}i(f,p,h),f=f[p]}return e}},348707,(e,t,r)=>{var i=e.r(942173);t.exports=function(e,t,r){return null==e?e:i(e,t,r)}},983607,(e,t,r)=>{t.exports&&(t.exports=function(e){return e.prototype.toFormat=function(e,t,r){if(!this.e&&0!==this.e)return this.toString();var i,n,a,o,s,u,l,c,d,f,p,h,m,g,b,y=this.format||{},x=this.constructor.format||{};if(e!=s?"object"==typeof e?(r=e,e=s):t!=s?"object"==typeof t?(r=t,t=s):"object"!=typeof r&&(r={}):r={}:r={},c=(i=this.toFixed(e,t).split("."))[0],d=i[1],u=(l=this.s<0?c.slice(1):c).length,(f=r.decimalSeparator)==s&&(f=y.decimalSeparator)==s&&(f=x.decimalSeparator)==s&&(f="."),(p=r.groupSeparator)==s&&(p=y.groupSeparator)==s&&(p=x.groupSeparator),p&&((h=r.groupSize)==s&&(h=y.groupSize)==s&&(h=x.groupSize)==s&&(h=0),(m=r.secondaryGroupSize)==s&&(m=y.secondaryGroupSize)==s&&(m=x.secondaryGroupSize)==s&&(m=0),m?(n=+m,u-=a=+h):(n=+h,a=+m),n>0&&u>0)){for(o=u%n||n,c=l.substr(0,o);o<u;o+=n)c+=p+l.substr(o,n);a>0&&(c+=p+l.slice(o)),this.s<0&&(c="-"+c)}return d?((g=r.fractionGroupSeparator)==s&&(g=y.fractionGroupSeparator)==s&&(g=x.fractionGroupSeparator),g&&((b=r.fractionGroupSize)==s&&(b=y.fractionGroupSize)==s&&(b=x.fractionGroupSize)==s&&(b=0),(b*=1)&&(d=d.replace(RegExp("\\d{"+b+"}\\B","g"),"$&"+g))),c+f+d):c},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},651655,(e,t,r)=>{!function(r){"use strict";var i,n={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a=!0,o="[DecimalError] ",s=o+"Invalid argument: ",u=o+"Exponent out of range: ",l=Math.floor,c=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,f=l(1286742750677284.5),p={};function h(e,t){var r,i,n,o,s,u,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),a?k(t,f):t;if(l=e.d,c=t.d,s=e.e,n=t.e,l=l.slice(),o=s-n){for(o<0?(i=l,o=-o,u=c.length):(i=c,n=s,u=l.length),o>(u=(s=Math.ceil(f/7))>u?s+1:u+1)&&(o=u,i.length=1),i.reverse();o--;)i.push(0);i.reverse()}for((u=l.length)-(o=c.length)<0&&(o=u,i=c,c=l,l=i),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/1e7|0,l[o]%=1e7;for(r&&(l.unshift(r),++n),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=n,a?k(t,f):t}function m(e,t,r){if(e!==~~e||e<t||e>r)throw Error(s+e)}function g(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=w(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=w(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},p.comparedTo=p.cmp=function(e){var t,r,i,n;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,r=(i=this.d.length)<(n=e.d.length)?i:n;t<r;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return i===n?0:i>n^this.s<0?1:-1},p.decimalPlaces=p.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},p.dividedBy=p.div=function(e){return b(this,new this.constructor(e))},p.dividedToIntegerBy=p.idiv=function(e){var t=this.constructor;return k(b(this,new t(e),0,1),t.precision)},p.equals=p.eq=function(e){return!this.cmp(e)},p.exponent=function(){return x(this)},p.greaterThan=p.gt=function(e){return this.cmp(e)>0},p.greaterThanOrEqualTo=p.gte=function(e){return this.cmp(e)>=0},p.isInteger=p.isint=function(){return this.e>this.d.length-2},p.isNegative=p.isneg=function(){return this.s<0},p.isPositive=p.ispos=function(){return this.s>0},p.isZero=function(){return 0===this.s},p.lessThan=p.lt=function(e){return 0>this.cmp(e)},p.lessThanOrEqualTo=p.lte=function(e){return 1>this.cmp(e)},p.logarithm=p.log=function(e){var t,r=this.constructor,n=r.precision,s=n+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(o+"NaN");if(this.s<1)throw Error(o+(this.s?"NaN":"-Infinity"));return this.eq(i)?new r(0):(a=!1,t=b(v(this,s),v(e,s),s),a=!0,k(t,n))},p.minus=p.sub=function(e){return e=new this.constructor(e),this.s==e.s?T(this,e):h(this,(e.s=-e.s,e))},p.modulo=p.mod=function(e){var t,r=this.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(o+"NaN");return this.s?(a=!1,t=b(this,e,0,1).times(e),a=!0,this.minus(t)):k(new r(this),i)},p.naturalExponential=p.exp=function(){return y(this)},p.naturalLogarithm=p.ln=function(){return v(this)},p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},p.plus=p.add=function(e){return e=new this.constructor(e),this.s==e.s?h(this,e):T(this,(e.s=-e.s,e))},p.precision=p.sd=function(e){var t,r,i;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(s+e);if(t=x(this)+1,r=7*(i=this.d.length-1)+1,i=this.d[i]){for(;i%10==0;i/=10)r--;for(i=this.d[0];i>=10;i/=10)r++}return e&&t>r?t:r},p.squareRoot=p.sqrt=function(){var e,t,r,i,n,s,u,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(o+"NaN")}for(e=x(this),a=!1,0==(n=Math.sqrt(+this))||n==1/0?(((t=g(this.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=l((e+1)/2)-(e<0||e%2),i=new c(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):i=new c(n.toString()),n=u=(r=c.precision)+3;;)if(i=(s=i).plus(b(this,s,u+2)).times(.5),g(s.d).slice(0,u)===(t=g(i.d)).slice(0,u)){if(t=t.slice(u-3,u+1),n==u&&"4999"==t){if(k(s,r+1,0),s.times(s).eq(this)){i=s;break}}else if("9999"!=t)break;u+=4}return a=!0,k(i,r)},p.times=p.mul=function(e){var t,r,i,n,o,s,u,l,c,d=this.constructor,f=this.d,p=(e=new d(e)).d;if(!this.s||!e.s)return new d(0);for(e.s*=this.s,r=this.e+e.e,(l=f.length)<(c=p.length)&&(o=f,f=p,p=o,s=l,l=c,c=s),o=[],i=s=l+c;i--;)o.push(0);for(i=c;--i>=0;){for(t=0,n=l+i;n>i;)u=o[n]+p[i]*f[n-i-1]+t,o[n--]=u%1e7|0,t=u/1e7|0;o[n]=(o[n]+t)%1e7|0}for(;!o[--s];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,a?k(e,d.precision):e},p.toDecimalPlaces=p.todp=function(e,t){var r=this,i=r.constructor;return(r=new i(r),void 0===e)?r:(m(e,0,1e9),void 0===t?t=i.rounding:m(t,0,8),k(r,e+x(r)+1,t))},p.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=E(i,!0):(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),r=E(i=k(new n(i),e+1,t),!0,e+1)),r},p.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?E(this):(m(e,0,1e9),void 0===t?t=n.rounding:m(t,0,8),r=E((i=k(new n(this),e+x(this)+1,t)).abs(),!1,e+x(i)+1),this.isneg()&&!this.isZero()?"-"+r:r)},p.toInteger=p.toint=function(){var e=this.constructor;return k(new e(this),x(this)+1,e.rounding)},p.toNumber=function(){return+this},p.toPower=p.pow=function(e){var t,r,n,s,u,c,d=this,f=d.constructor,p=+(e=new f(e));if(!e.s)return new f(i);if(!(d=new f(d)).s){if(e.s<1)throw Error(o+"Infinity");return d}if(d.eq(i))return d;if(n=f.precision,e.eq(i))return k(d,n);if(c=(t=e.e)>=(r=e.d.length-1),u=d.s,c){if((r=p<0?-p:p)<=0x1fffffffffffff){for(s=new f(i),t=Math.ceil(n/7+4),a=!1;r%2&&P((s=s.times(d)).d,t),0!==(r=l(r/2));)P((d=d.times(d)).d,t);return a=!0,e.s<0?new f(i).div(s):k(s,n)}}else if(u<0)throw Error(o+"NaN");return u=u<0&&1&e.d[Math.max(t,r)]?-1:1,d.s=1,a=!1,s=e.times(v(d,n+12)),a=!0,(s=y(s)).s=u,s},p.toPrecision=function(e,t){var r,i,n=this,a=n.constructor;return void 0===e?(r=x(n),i=E(n,r<=a.toExpNeg||r>=a.toExpPos)):(m(e,1,1e9),void 0===t?t=a.rounding:m(t,0,8),r=x(n=k(new a(n),e,t)),i=E(n,e<=r||r<=a.toExpNeg,e)),i},p.toSignificantDigits=p.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(m(e,1,1e9),void 0===t?t=r.rounding:m(t,0,8)),k(new r(this),e,t)},p.toString=p.valueOf=p.val=p.toJSON=function(){var e=x(this),t=this.constructor;return E(this,e<=t.toExpNeg||e>=t.toExpPos)};var b=function(){function e(e,t){var r,i=0,n=e.length;for(e=e.slice();n--;)r=e[n]*t+i,e[n]=r%1e7|0,i=r/1e7|0;return i&&e.unshift(i),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=1e7*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,s){var u,l,c,d,f,p,h,m,g,b,y,A,w,v,S,T,E,P,I=i.constructor,_=i.s==n.s?1:-1,N=i.d,R=n.d;if(!i.s)return new I(i);if(!n.s)throw Error(o+"Division by zero");for(c=0,l=i.e-n.e,E=R.length,S=N.length,m=(h=new I(_)).d=[];R[c]==(N[c]||0);)++c;if(R[c]>(N[c]||0)&&--l,(A=null==a?a=I.precision:s?a+(x(i)-x(n))+1:a)<0)return new I(0);if(A=A/7+2|0,c=0,1==E)for(d=0,R=R[0],A++;(c<S||d)&&A--;c++)w=1e7*d+(N[c]||0),m[c]=w/R|0,d=w%R|0;else{for((d=1e7/(R[0]+1)|0)>1&&(R=e(R,d),N=e(N,d),E=R.length,S=N.length),v=E,b=(g=N.slice(0,E)).length;b<E;)g[b++]=0;(P=R.slice()).unshift(0),T=R[0],R[1]>=1e7/2&&++T;do d=0,(u=t(R,g,E,b))<0?(y=g[0],E!=b&&(y=1e7*y+(g[1]||0)),(d=y/T|0)>1?(d>=1e7&&(d=1e7-1),p=(f=e(R,d)).length,b=g.length,1==(u=t(f,g,p,b))&&(d--,r(f,E<p?P:R,p))):(0==d&&(u=d=1),f=R.slice()),(p=f.length)<b&&f.unshift(0),r(g,f,b),-1==u&&(b=g.length,(u=t(R,g,E,b))<1&&(d++,r(g,E<b?P:R,b))),b=g.length):0===u&&(d++,g=[0]),m[c++]=d,u&&g[0]?g[b++]=N[v]||0:(g=[N[v]],b=1);while((v++<S||void 0!==g[0])&&A--)}return m[0]||m.shift(),h.e=l,k(h,s?a+x(h)+1:a)}}();function y(e,t){var r,n,o,s,l,d=0,f=0,p=e.constructor,h=p.precision;if(x(e)>16)throw Error(u+x(e));if(!e.s)return new p(i);for(null==t?(a=!1,l=h):l=t,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(l+=Math.log(c(2,f))/Math.LN10*2+5|0,r=n=o=new p(i),p.precision=l;;){if(n=k(n.times(e),l),r=r.times(++d),g((s=o.plus(b(n,r,l))).d).slice(0,l)===g(o.d).slice(0,l)){for(;f--;)o=k(o.times(o),l);return p.precision=h,null==t?(a=!0,k(o,h)):o}o=s}}function x(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function A(e,t,r){if(t>e.LN10.sd())throw a=!0,r&&(e.precision=r),Error(o+"LN10 precision limit exceeded");return k(new e(e.LN10),t)}function w(e){for(var t="";e--;)t+="0";return t}function v(e,t){var r,n,s,u,l,c,d,f,p,h=1,m=e,y=m.d,w=m.constructor,S=w.precision;if(m.s<1)throw Error(o+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new w(0);if(null==t?(a=!1,f=S):f=t,m.eq(10))return null==t&&(a=!0),A(w,f);if(w.precision=f+=10,n=(r=g(y)).charAt(0),!(15e14>Math.abs(u=x(m))))return d=A(w,f+2,S).times(u+""),m=v(new w(n+"."+r.slice(1)),f-10).plus(d),w.precision=S,null==t?(a=!0,k(m,S)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=g((m=m.times(e)).d)).charAt(0),h++;for(u=x(m),n>1?(m=new w("0."+r),u++):m=new w(n+"."+r.slice(1)),c=l=m=b(m.minus(i),m.plus(i),f),p=k(m.times(m),f),s=3;;){if(l=k(l.times(p),f),g((d=c.plus(b(l,new w(s),f))).d).slice(0,f)===g(c.d).slice(0,f))return c=c.times(2),0!==u&&(c=c.plus(A(w,f+2,S).times(u+""))),c=b(c,new w(h),f),w.precision=S,null==t?(a=!0,k(c,S)):c;c=d,s+=2}}function S(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);)++i;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(i,n)){if(n-=i,e.e=l((r=r-i-1)/7),e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";if(e.d.push(+t),a&&(e.e>f||e.e<-f))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function k(e,t,r){var i,n,o,s,d,p,h,m,g=e.d;for(s=1,o=g[0];o>=10;o/=10)s++;if((i=t-s)<0)i+=7,n=t,h=g[m=0];else{if((m=Math.ceil((i+1)/7))>=(o=g.length))return e;for(s=1,h=o=g[m];o>=10;o/=10)s++;i%=7,n=i-7+s}if(void 0!==r&&(d=h/(o=c(10,s-n-1))%10|0,p=t<0||void 0!==g[m+1]||h%o,p=r<4?(d||p)&&(0==r||r==(e.s<0?3:2)):d>5||5==d&&(4==r||p||6==r&&(i>0?n>0?h/c(10,s-n):0:g[m-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return p?(o=x(e),g.length=1,t=t-o-1,g[0]=c(10,(7-t%7)%7),e.e=l(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==i?(g.length=m,o=1,m--):(g.length=m+1,o=c(10,7-i),g[m]=n>0?(h/c(10,s-n)%c(10,n)|0)*o:0),p)for(;;)if(0==m){1e7==(g[0]+=o)&&(g[0]=1,++e.e);break}else{if(g[m]+=o,1e7!=g[m])break;g[m--]=0,o=1}for(i=g.length;0===g[--i];)g.pop();if(a&&(e.e>f||e.e<-f))throw Error(u+x(e));return e}function T(e,t){var r,i,n,o,s,u,l,c,d,f,p=e.constructor,h=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),a?k(t,h):t;if(l=e.d,f=t.d,i=t.e,c=e.e,l=l.slice(),s=c-i){for((d=s<0)?(r=l,s=-s,u=f.length):(r=f,i=c,u=l.length),s>(n=Math.max(Math.ceil(h/7),u)+2)&&(s=n,r.length=1),r.reverse(),n=s;n--;)r.push(0);r.reverse()}else{for((d=(n=l.length)<(u=f.length))&&(u=n),n=0;n<u;n++)if(l[n]!=f[n]){d=l[n]<f[n];break}s=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),u=l.length,n=f.length-u;n>0;--n)l[u++]=0;for(n=f.length;n>s;){if(l[--n]<f[n]){for(o=n;o&&0===l[--o];)l[o]=1e7-1;--l[o],l[n]+=1e7}l[n]-=f[n]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--i;return l[0]?(t.d=l,t.e=i,a?k(t,h):t):new p(0)}function E(e,t,r){var i,n=x(e),a=g(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+w(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n<0?"e":"e+")+n):n<0?(a="0."+w(-n-1)+a,r&&(i=r-o)>0&&(a+=w(i))):n>=o?(a+=w(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+w(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=w(i))),e.s<0?"-"+a:a}function P(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!=typeof e)throw Error(o+"Object expected");var t,r,i,n=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(i=e[r=n[t]]))if(l(i)===i&&i>=n[t+1]&&i<=n[t+2])this[r]=i;else throw Error(s+r+": "+i);if(void 0!==(i=e[r="LN10"]))if(i==Math.LN10)this[r]=new this(i);else throw Error(s+r+": "+i);return this}if((n=function e(t){var r,i,n;function a(e){if(!(this instanceof a))return new a(e);if(this.constructor=a,e instanceof a){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(s+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return S(this,e.toString())}if("string"!=typeof e)throw Error(s+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,d.test(e))S(this,e);else throw Error(s+e)}if(a.prototype=p,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(r=0,n=["precision","rounding","toExpNeg","toExpPos","LN10"];r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(n)).default=n.Decimal=n,i=new n(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=n)&&e.v(t)}else t.exports?t.exports=n:(r||(r="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),r.Decimal=n)}(e.e)},858352,(e,t,r)=>{var i=e.r(674548),n=e.r(25172);t.exports=function(e,t,r){(void 0===r||n(e[t],r))&&(void 0!==r||t in e)||i(e,t,r)}},536755,(e,t,r)=>{t.exports=function(e){return function(t,r,i){for(var n=-1,a=Object(t),o=i(t),s=o.length;s--;){var u=o[e?s:++n];if(!1===r(a[u],u,a))break}return t}}},98728,(e,t,r)=>{t.exports=e.r(536755)()},622781,(e,t,r)=>{var i=e.r(139088),n=r&&!r.nodeType&&r,a=n&&t&&!t.nodeType&&t,o=a&&a.exports===n?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var r=e.length,i=s?s(r):new e.constructor(r);return e.copy(i),i}},425393,(e,t,r)=>{var i=e.r(263750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},514712,(e,t,r)=>{var i=e.r(425393);t.exports=function(e,t){var r=t?i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},776736,(e,t,r)=>{t.exports=function(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}},646352,(e,t,r)=>{var i=e.r(12447),n=Object.create;t.exports=function(){function e(){}return function(t){if(!i(t))return{};if(n)return n(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}()},962413,(e,t,r)=>{t.exports=e.r(825717)(Object.getPrototypeOf,Object)},992433,(e,t,r)=>{var i=e.r(646352),n=e.r(962413),a=e.r(763996);t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:i(n(e))}},791072,(e,t,r)=>{var i=e.r(351095),n=e.r(877289);t.exports=function(e){return n(e)&&i(e)}},101320,(e,t,r)=>{var i=e.r(377684),n=e.r(962413),a=e.r(877289),o=Object.prototype,s=Function.prototype.toString,u=o.hasOwnProperty,l=s.call(Object);t.exports=function(e){if(!a(e)||"[object Object]"!=i(e))return!1;var t=n(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==l}},484305,(e,t,r)=>{t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},372351,(e,t,r)=>{var i=e.r(4300),n=e.r(674548);t.exports=function(e,t,r,a){var o=!r;r||(r={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=a?a(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),o?n(r,l,c):i(r,l,c)}return r}},513730,(e,t,r)=>{t.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},385689,(e,t,r)=>{var i=e.r(12447),n=e.r(763996),a=e.r(513730),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!i(e))return a(e);var t=n(e),r=[];for(var s in e)"constructor"==s&&(t||!o.call(e,s))||r.push(s);return r}},689695,(e,t,r)=>{var i=e.r(458877),n=e.r(385689),a=e.r(351095);t.exports=function(e){return a(e)?i(e,!0):n(e)}},837153,(e,t,r)=>{var i=e.r(372351),n=e.r(689695);t.exports=function(e){return i(e,n(e))}},720346,(e,t,r)=>{var i=e.r(858352),n=e.r(622781),a=e.r(514712),o=e.r(776736),s=e.r(992433),u=e.r(473250),l=e.r(45350),c=e.r(791072),d=e.r(356956),f=e.r(771223),p=e.r(12447),h=e.r(101320),m=e.r(3023),g=e.r(484305),b=e.r(837153);t.exports=function(e,t,r,y,x,A,w){var v=g(e,r),S=g(t,r),k=w.get(S);if(k)return void i(e,r,k);var T=A?A(v,S,r+"",e,t,w):void 0,E=void 0===T;if(E){var P=l(S),I=!P&&d(S),_=!P&&!I&&m(S);T=S,P||I||_?l(v)?T=v:c(v)?T=o(v):I?(E=!1,T=n(S,!0)):_?(E=!1,T=a(S,!0)):T=[]:h(S)||u(S)?(T=v,u(v)?T=b(v):(!p(v)||f(v))&&(T=s(S))):E=!1}E&&(w.set(S,T),x(T,S,y,A,w),w.delete(S)),i(e,r,T)}},5702,(e,t,r)=>{var i=e.r(901551),n=e.r(858352),a=e.r(98728),o=e.r(720346),s=e.r(12447),u=e.r(689695),l=e.r(484305);t.exports=function e(t,r,c,d,f){t!==r&&a(r,function(a,u){if(f||(f=new i),s(a))o(t,r,u,c,e,d,f);else{var p=d?d(l(t,u),a,u+"",t,r,f):void 0;void 0===p&&(p=a),n(t,u,p)}},u)}},653336,(e,t,r)=>{t.exports=function(e){return e}},987160,(e,t,r)=>{t.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},172953,(e,t,r)=>{var i=e.r(987160),n=Math.max;t.exports=function(e,t,r){return t=n(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=n(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=r(u),i(e,this,l)}}},556751,(e,t,r)=>{t.exports=function(e){return function(){return e}}},801647,(e,t,r)=>{var i=e.r(556751),n=e.r(524251),a=e.r(653336);t.exports=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:a},851994,(e,t,r)=>{var i=Date.now;t.exports=function(e){var t=0,r=0;return function(){var n=i(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},184665,(e,t,r)=>{var i=e.r(801647);t.exports=e.r(851994)(i)},395059,(e,t,r)=>{var i=e.r(653336),n=e.r(172953),a=e.r(184665);t.exports=function(e,t){return a(n(e,t,i),e+"")}},170237,(e,t,r)=>{var i=e.r(25172),n=e.r(351095),a=e.r(66397),o=e.r(12447);t.exports=function(e,t,r){if(!o(r))return!1;var s=typeof t;return("number"==s?!!(n(r)&&a(t,r.length)):"string"==s&&t in r)&&i(r[t],e)}},483495,(e,t,r)=>{var i=e.r(395059),n=e.r(170237);t.exports=function(e){return i(function(t,r){var i=-1,a=r.length,o=a>1?r[a-1]:void 0,s=a>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&n(r[0],r[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++i<a;){var u=r[i];u&&e(t,u,i,o)}return t})}},411595,(e,t,r)=>{var i=e.r(5702);t.exports=e.r(483495)(function(e,t,r){i(e,t,r)})},49498,e=>{"use strict";let t,r,i,n,a,o,s,u,l,c;var d,f=e.i(467034),p=e.i(581949),h=e.i(127261),m=e.i(482820),g=e.i(348707),b=e.i(946865),y=e.i(422876),x=e.i(444610);e.i(559136);var A=e.i(80070),w=e.i(150237);(eu=el||(el={}))[eu.Uninitialized=0]="Uninitialized",eu[eu.TransferFeeConfig=1]="TransferFeeConfig",eu[eu.TransferFeeAmount=2]="TransferFeeAmount",eu[eu.MintCloseAuthority=3]="MintCloseAuthority",eu[eu.ConfidentialTransferMint=4]="ConfidentialTransferMint",eu[eu.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",eu[eu.DefaultAccountState=6]="DefaultAccountState",eu[eu.ImmutableOwner=7]="ImmutableOwner",eu[eu.MemoTransfer=8]="MemoTransfer",eu[eu.NonTransferable=9]="NonTransferable",eu[eu.InterestBearingConfig=10]="InterestBearingConfig",eu[eu.CpiGuard=11]="CpiGuard",eu[eu.PermanentDelegate=12]="PermanentDelegate",eu[eu.NonTransferableAccount=13]="NonTransferableAccount",eu[eu.TransferHook=14]="TransferHook",eu[eu.TransferHookAccount=15]="TransferHookAccount",eu[eu.MetadataPointer=18]="MetadataPointer",eu[eu.TokenMetadata=19]="TokenMetadata",eu[eu.GroupPointer=20]="GroupPointer",eu[eu.TokenGroup=21]="TokenGroup",eu[eu.GroupMemberPointer=22]="GroupMemberPointer",eu[eu.TokenGroupMember=23]="TokenGroupMember",eu[eu.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",eu[eu.PausableConfig=26]="PausableConfig",eu[eu.PausableAccount=27]="PausableAccount";function v(e){return(0,x.struct)([(0,w.u64)("epoch"),(0,w.u64)("maximumFee"),(0,x.u16)("transferFeeBasisPoints")],e)}BigInt(1e4);let S=(0,x.struct)([(0,A.publicKey)("transferFeeConfigAuthority"),(0,A.publicKey)("withdrawWithheldAuthority"),(0,w.u64)("withheldAmount"),v("olderTransferFee"),v("newerTransferFee")]);S.span,(0,x.struct)([(0,w.u64)("withheldAmount")]).span;var k=e.i(659341),T="[big.js] ",E=T+"Invalid ",P=E+"decimal places",I=E+"rounding mode",_=T+"Division by zero",N={},R=void 0,O=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function B(e,t,r,i){var n=e.c;if(r===R&&(r=e.constructor.RM),0!==r&&1!==r&&2!==r&&3!==r)throw Error(I);if(t<1)i=3===r&&(i||!!n[0])||0===t&&(1===r&&n[0]>=5||2===r&&(n[0]>5||5===n[0]&&(i||n[1]!==R))),n.length=1,i?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(i=1===r&&n[t]>=5||2===r&&(n[t]>5||5===n[t]&&(i||n[t+1]!==R||1&n[t-1]))||3===r&&(i||!!n[0]),n.length=t,i){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function C(e,t,r){var i=e.e,n=e.c.join(""),a=n.length;if(t)n=n.charAt(0)+(a>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>a)for(i-=a;i--;)n+="0";else i<a&&(n=n.slice(0,i)+"."+n.slice(i));else a>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&r?"-"+n:n}N.abs=function(){var e=new this.constructor(this);return e.s=1,e},N.cmp=function(e){var t,r=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,s=e.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=s)return o>s^t?1:-1;for(n=-1,a=(o=r.length)<(s=i.length)?o:s;++n<a;)if(r[n]!=i[n])return r[n]>i[n]^t?1:-1;return o==s?0:o>s^t?1:-1},N.div=function(e){var t=this.constructor,r=this.c,i=(e=new t(e)).c,n=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(P);if(!i[0])throw Error(_);if(!r[0])return e.s=n,e.c=[e.e=0],e;var o,s,u,l,c,d=i.slice(),f=o=i.length,p=r.length,h=r.slice(0,o),m=h.length,g=e,b=g.c=[],y=0,x=a+(g.e=this.e-e.e)+1;for(g.s=n,n=x<0?0:x,d.unshift(0);m++<o;)h.push(0);do{for(u=0;u<10;u++){if(o!=(m=h.length))l=o>m?1:-1;else for(c=-1,l=0;++c<o;)if(i[c]!=h[c]){l=i[c]>h[c]?1:-1;break}if(l<0){for(s=m==o?i:d;m;){if(h[--m]<s[m]){for(c=m;c&&!h[--c];)h[c]=9;--h[c],h[m]+=10}h[m]-=s[m]}for(;!h[0];)h.shift()}else break}b[y++]=l?u:++u,h[0]&&l?h[m]=r[f]||0:h=[r[f]]}while((f++<p||h[0]!==R)&&n--)return!b[0]&&1!=y&&(b.shift(),g.e--,x--),y>x&&B(g,x,t.RM,h[0]!==R),g},N.eq=function(e){return 0===this.cmp(e)},N.gt=function(e){return this.cmp(e)>0},N.gte=function(e){return this.cmp(e)>-1},N.lt=function(e){return 0>this.cmp(e)},N.lte=function(e){return 1>this.cmp(e)},N.minus=N.sub=function(e){var t,r,i,n,a=this.constructor,o=this.s,s=(e=new a(e)).s;if(o!=s)return e.s=-s,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?e.s=-s:u[0]?e=new a(this):e.s=1,e;if(o=l-d){for((n=o<0)?(o=-o,i=u):(d=l,i=c),i.reverse(),s=o;s--;)i.push(0);i.reverse()}else for(r=((n=u.length<c.length)?u:c).length,o=s=0;s<r;s++)if(u[s]!=c[s]){n=u[s]<c[s];break}if(n&&(i=u,u=c,c=i,e.s=-e.s),(s=(r=c.length)-(t=u.length))>0)for(;s--;)u[t++]=0;for(s=t;r>o;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},N.mod=function(e){var t,r=this,i=r.constructor,n=r.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(_);return(r.s=e.s=1,t=1==e.cmp(r),r.s=n,e.s=a,t)?new i(r):(n=i.DP,a=i.RM,i.DP=i.RM=0,r=r.div(e),i.DP=n,i.RM=a,this.minus(r.times(e)))},N.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},N.plus=N.add=function(e){var t,r,i,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var a=this.e,o=this.c,s=e.e,u=e.c;if(!o[0]||!u[0])return u[0]||(o[0]?e=new n(this):e.s=this.s),e;if(o=o.slice(),t=a-s){for(t>0?(s=a,i=u):(t=-t,i=o),i.reverse();t--;)i.push(0);i.reverse()}for(o.length-u.length<0&&(i=u,u=o,o=i),t=u.length,r=0;t;o[t]%=10)r=(o[--t]=o[t]+u[t]+r)/10|0;for(r&&(o.unshift(r),++s),t=o.length;0===o[--t];)o.pop();return e.c=o,e.e=s,e},N.pow=function(e){var t=this,r=new t.constructor("1"),i=r,n=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(E+"exponent");for(n&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return n?r.div(i):i},N.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(E+"precision");return B(new this.constructor(this),e,t)},N.round=function(e,t){if(e===R)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(P);return B(new this.constructor(this),e+this.e+1,t)},N.sqrt=function(){var e,t,r,i=this.constructor,n=this.s,a=this.e,o=new i("0.5");if(!this.c[0])return new i(this);if(n<0)throw Error(T+"No square root");0===(n=Math.sqrt(+C(this,!0,!0)))||n===1/0?((t=this.c.join("")).length+a&1||(t+="0"),a=((a+1)/2|0)-(a<0||1&a),e=new i(((n=Math.sqrt(t))==1/0?"5e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+a)):e=new i(n+""),a=e.e+(i.DP+=4);do r=e,e=o.times(r.plus(this.div(r)));while(r.c.slice(0,a).join("")!==e.c.slice(0,a).join(""))return B(e,(i.DP-=4)+e.e+1,i.RM)},N.times=N.mul=function(e){var t,r=this.constructor,i=this.c,n=(e=new r(e)).c,a=i.length,o=n.length,s=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return e.c=[e.e=0],e;for(e.e=s+u,a<o&&(t=i,i=n,n=t,u=a,a=o,o=u),t=Array(u=a+o);u--;)t[u]=0;for(s=o;s--;){for(o=0,u=a+s;u>s;)o=t[u]+n[s]*i[u-s-1]+o,t[u--]=o%10,o=o/10|0;t[u]=o}for(o?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},N.toExponential=function(e,t){var r=this,i=r.c[0];if(e!==R){if(e!==~~e||e<0||e>1e6)throw Error(P);for(r=B(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return C(r,!0,!!i)},N.toFixed=function(e,t){var r=this,i=r.c[0];if(e!==R){if(e!==~~e||e<0||e>1e6)throw Error(P);for(r=B(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return C(r,!1,!!i)},N[Symbol.for("nodejs.util.inspect.custom")]=N.toJSON=N.toString=function(){var e=this.constructor;return C(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},N.toNumber=function(){var e=+C(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(T+"Imprecise conversion");return e},N.toPrecision=function(e,t){var r=this,i=r.constructor,n=r.c[0];if(e!==R){if(e!==~~e||e<1||e>1e6)throw Error(E+"precision");for(r=B(new i(r),e,t);r.c.length<e;)r.c.push(0)}return C(r,e<=r.e||r.e<=i.NE||r.e>=i.PE,!!n)},N.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(T+"valueOf disallowed");return C(this,this.e<=e.NE||this.e>=e.PE,!0)};var D=function e(){function t(r){if(!(this instanceof t))return r===R?e():new t(r);if(r instanceof t)this.s=r.s,this.e=r.e,this.c=r.c.slice();else{if("string"!=typeof r){if(!0===t.strict&&"bigint"!=typeof r)throw TypeError(E+"value");r=0===r&&1/r<0?"-0":String(r)}!function(e,t){var r,i,n;if(!O.test(t))throw Error(E+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),n=t.length,i=0;i<n&&"0"==t.charAt(i);)++i;if(i==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=r-i-1,e.c=[],r=0;i<=n;)e.c[r++]=+t.charAt(i++)}}(this,r)}this.constructor=t}return t.prototype=N,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),F=e.i(983607),U=e.i(651655),M=(e.i(411595),e.i(20459)),L=e.i(123424),q=e.i(761405),K=e.i(858010);(0,x.struct)([(0,x.u8)("instruction")]);var W=e.i(114175),V=Object.defineProperty,G=Object.defineProperties,j=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?V(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,J=(e,t)=>{for(var r in t||(t={}))H.call(t,r)&&Q(e,r,t[r]);if(z)for(var r of z(t))X.call(t,r)&&Q(e,r,t[r]);return e},Y=(e,t)=>G(e,j(t)),Z=(e,t)=>{var r={};for(var i in e)H.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&z)for(var i of z(e))0>t.indexOf(i)&&X.call(e,i)&&(r[i]=e[i]);return r},$=((t=$||{})[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Debug=3]="Debug",t),ee=class{constructor(e){this.logLevel=void 0!==e.logLevel?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)&&console.error(this.time,this.name,"sdk logger error",...e),this}logWithError(...e){throw Error(e.map(e=>"object"==typeof e?JSON.stringify(e):e).join(", "))}warning(...e){return this.isLogLevel(1)&&console.warn(this.time,this.name,"sdk logger warning",...e),this}info(...e){return this.isLogLevel(2)&&console.info(this.time,this.name,"sdk logger info",...e),this}debug(...e){return this.isLogLevel(3)&&console.debug(this.time,this.name,"sdk logger debug",...e),this}},et={},er={};function ei(e){let t=(0,m.default)(et,e);if(!t){let r=(0,m.default)(er,e);t=new ee({name:e,logLevel:r}),(0,g.default)(et,e,t)}return t}var en=ei("Raydium_accountInfo_util");async function ea(e,t,r){let{batchRequest:i,commitment:n="confirmed",chunkCount:a=100}=J({batchRequest:!1},r),o=rn(t,a),s=Array(o.length).fill([]);if(i){let t=rn(o.map(t=>({methodName:"getMultipleAccounts",args:e._buildArgs([t.map(e=>e.toBase58())],n,"base64")})),10);s=(await (await Promise.all(t.map(async t=>await e._rpcBatchRequest(t)))).flat()).map(e=>(e.error&&en.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.error.message}`),e.result.value.map(e=>{if(e){let{data:t,executable:r,lamports:i,owner:n,rentEpoch:a}=e;return 2!==t.length&&"base64"!==t[1]&&en.logWithError("info must be base64 encoded, RPC_ERROR"),{data:f.Buffer.from(t[0],"base64"),executable:r,lamports:i,owner:new h.PublicKey(n),rentEpoch:a}}return null})))}else try{s=await Promise.all(o.map(t=>e.getMultipleAccountsInfo(t,n)))}catch(e){e instanceof Error&&en.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.message}`)}return s.flat()}async function eo(e,t,r){let i=await ea(e,t.map(e=>e.pubkey),r);return t.map((e,t)=>Y(J({},e),{accountInfo:i[t]}))}var es=((r=es||{})[r.Uninitialized=0]="Uninitialized",r[r.Mint=1]="Mint",r[r.Account=2]="Account",r),eu,el,ec,ed,ef="0123456789abcdef",ep="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",eh="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",em={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},eg=!0,eb="[DecimalError] ",ey=eb+"Invalid argument: ",ex=eb+"Precision limit exceeded",eA=eb+"crypto unavailable",ew="[object Decimal]",ev=Math.floor,eS=Math.pow,ek=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,eT=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,eE=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,eP=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eI=ep.length-1,e_=eh.length-1,eN={toStringTag:ew};function eR(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=eW(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=eW(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function eO(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ey+e)}function eB(e,t,r,i){var n,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,n=0):(n=Math.ceil((t+1)/7),t%=7),a=eS(10,7-t),s=e[n]%a|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[n+1]/a/100|0)==eS(10,t-2)-1||(s==a/2||0==s)&&(e[n+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(i||r<4)&&9999==s||!i&&r>3&&4999==s):o=((i||r<4)&&s+1==a||!i&&r>3&&s+1==a/2)&&(e[n+1]/a/1e3|0)==eS(10,t-3)-1,o}function eC(e,t,r){for(var i,n,a=[0],o=0,s=e.length;o<s;){for(n=a.length;n--;)a[n]*=t;for(a[0]+=ef.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>r-1&&(void 0===a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}eN.absoluteValue=eN.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),eF(e)},eN.ceil=function(){return eF(new this.constructor(this),this.e+1,2)},eN.clampedTo=eN.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(ey+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},eN.comparedTo=eN.cmp=function(e){var t,r,i,n,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!a||!o)return s&&u?s!==u?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(i=a.length,n=o.length,t=0,r=i<n?i:n;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return i===n?0:i>n^s<0?1:-1},eN.cosine=eN.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i,n;if(t.isZero())return t;(i=t.d.length)<32?n=(1/eY(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=eJ(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(i,eZ(i,r)),i.precision=e,i.rounding=t,eF(2==ed||3==ed?r.neg():r,e,t,!0)):new i(1):new i(NaN)},eN.cubeRoot=eN.cbrt=function(){var e,t,r,i,n,a,o,s,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(eg=!1,(a=this.s*eS(this.s*this,1/3))&&Math.abs(a)!=1/0?i=new c(a.toString()):(r=eR(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=eS(r,1/3),e=ev((e+1)/3)-(e%3==(e<0?-1:2)),(i=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=c.precision)+3;;)if(i=eD((l=(u=(s=i).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),o+2,1),eR(s.d).slice(0,o)===(r=eR(i.d)).slice(0,o))if("9999"!=(r=r.slice(o-3,o+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(eF(i,e+1,1),t=!i.times(i).times(i).eq(this));break}else{if(!n&&(eF(s,e+1,0),s.times(s).times(s).eq(this))){i=s;break}o+=4,n=1}return eg=!0,eF(i,e,c.rounding,t)},eN.decimalPlaces=eN.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-ev(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},eN.dividedBy=eN.div=function(e){return eD(this,new this.constructor(e))},eN.dividedToIntegerBy=eN.divToInt=function(e){var t=this.constructor;return eF(eD(this,new t(e),0,1,1),t.precision,t.rounding)},eN.equals=eN.eq=function(e){return 0===this.cmp(e)},eN.floor=function(){return eF(new this.constructor(this),this.e+1,3)},eN.greaterThan=eN.gt=function(e){return this.cmp(e)>0},eN.greaterThanOrEqualTo=eN.gte=function(e){var t=this.cmp(e);return 1==t||0===t},eN.hyperbolicCosine=eN.cosh=function(){var e,t,r,i,n,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(n=a.d.length)<32?t=(1/eY(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=eJ(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return eF(a,o.precision=r,o.rounding=i,!0)},eN.hyperbolicSine=eN.sinh=function(){var e,t,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(n.e,n.sd())+4,a.rounding=1,(i=n.d.length)<3)n=eJ(a,2,n,n,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,n=eJ(a,2,n=n.times(1/eY(5,e)),n,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=r,eF(n,t,r,!0)},eN.hyperbolicTangent=eN.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,eD(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},eN.inverseCosine=eN.acos=function(){var e,t=this,r=t.constructor,i=t.abs().cmp(1),n=r.precision,a=r.rounding;return -1!==i?0===i?t.isNeg()?eq(r,n,a):new r(0):new r(NaN):t.isZero()?eq(r,n+4,a).times(.5):(r.precision=n+6,r.rounding=1,t=t.asin(),e=eq(r,n+4,a).times(.5),r.precision=n,r.rounding=a,e.minus(t))},eN.inverseHyperbolicCosine=eN.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,eg=!1,r=r.times(r).minus(1).sqrt().plus(r),eg=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)},eN.inverseHyperbolicSine=eN.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,eg=!1,r=r.times(r).plus(1).sqrt().plus(r),eg=!0,i.precision=e,i.rounding=t,r.ln())},eN.inverseHyperbolicTangent=eN.atanh=function(){var e,t,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=a.precision,t=a.rounding,Math.max(i=n.sd(),e)<-(2*n.e)-1?eF(new a(n),e,t,!0):(a.precision=r=i-n.e,n=eD(n.plus(1),new a(1).minus(n),r+e,1),a.precision=e+4,a.rounding=1,n=n.ln(),a.precision=e,a.rounding=t,n.times(.5))):new a(NaN)},eN.inverseSine=eN.asin=function(){var e,t,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(t=n.abs().cmp(1),r=a.precision,i=a.rounding,-1!==t?0===t?((e=eq(a,r+4,i).times(.5)).s=n.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2)))},eN.inverseTangent=eN.atan=function(){var e,t,r,i,n,a,o,s,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&d+4<=e_)return(o=eq(c,d+4,f).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(d+4<=e_)return(o=eq(c,d+4,f).times(.5)).s=l.s,o}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(eg=!1,t=Math.ceil(s/7),i=1,u=l.times(l),o=new c(l),n=l;-1!==e;)if(n=n.times(u),a=o.minus(n.div(i+=2)),n=n.times(u),void 0!==(o=a.plus(n.div(i+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),eg=!0,eF(o,c.precision=d,c.rounding=f,!0)},eN.isFinite=function(){return!!this.d},eN.isInteger=eN.isInt=function(){return!!this.d&&ev(this.e/7)>this.d.length-2},eN.isNaN=function(){return!this.s},eN.isNegative=eN.isNeg=function(){return this.s<0},eN.isPositive=eN.isPos=function(){return this.s>0},eN.isZero=function(){return!!this.d&&0===this.d[0]},eN.lessThan=eN.lt=function(e){return 0>this.cmp(e)},eN.lessThanOrEqualTo=eN.lte=function(e){return 1>this.cmp(e)},eN.logarithm=eN.log=function(e){var t,r,i,n,a,o,s,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)n=!0;else{for(i=r[0];i%10==0;)i/=10;n=1!==i}if(eg=!1,eB((s=eD(a=eH(this,o=l+5),t?eL(u,o+10):eH(e,o),o,1)).d,i=l,c))do if(o+=10,s=eD(a=eH(this,o),t?eL(u,o+10):eH(e,o),o,1),!n){+eR(s.d).slice(i+1,i+15)+1==1e14&&(s=eF(s,l+1,0));break}while(eB(s.d,i+=10,c))return eg=!0,eF(s,l,c)},eN.minus=eN.sub=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,s=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return eg?eF(e,s,u):e}if(r=ev(e.e/7),c=ev(this.e/7),l=l.slice(),a=c-r){for((d=a<0)?(t=l,a=-a,o=f.length):(t=f,r=c,o=l.length),a>(i=Math.max(Math.ceil(s/7),o)+2)&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for((d=(i=l.length)<(o=f.length))&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(n=i;n&&0===l[--n];)l[n]=1e7-1;--l[n],l[i]+=1e7}l[i]-=f[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=eM(l,r),eg?eF(e,s,u):e):new p(3===u?-0:0)},eN.modulo=eN.mod=function(e){var t,r=this.constructor;return e=new r(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(eg=!1,9==r.modulo?(t=eD(this,e.abs(),0,3,1),t.s*=e.s):t=eD(this,e,0,r.modulo,1),t=t.times(e),eg=!0,this.minus(t)):eF(new r(this),r.precision,r.rounding):new r(NaN)},eN.naturalExponential=eN.exp=function(){return ez(this)},eN.naturalLogarithm=eN.ln=function(){return eH(this)},eN.negated=eN.neg=function(){var e=new this.constructor(this);return e.s=-e.s,eF(e)},eN.plus=eN.add=function(e){var t,r,i,n,a,o,s,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,s=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),eg?eF(e,s,u):e;if(a=ev(this.e/7),i=ev(e.e/7),l=l.slice(),n=a-i){for(n<0?(r=l,n=-n,o=c.length):(r=c,i=a,o=l.length),n>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((o=l.length)-(n=c.length)<0&&(n=o,r=c,c=l,l=r),t=0;n;)t=(l[--n]=l[n]+c[n]+t)/1e7|0,l[n]%=1e7;for(t&&(l.unshift(t),++i),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=eM(l,i),eg?eF(e,s,u):e},eN.precision=eN.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(ey+e);return this.d?(t=eK(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},eN.round=function(){var e=this.constructor;return eF(new e(this),this.e+1,e.rounding)},eN.sine=eN.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:eJ(e,2,t,t);r=(r=1.4*Math.sqrt(i))>16?16:0|r,t=eJ(e,2,t=t.times(1/eY(5,r)),t);for(var n,a=new e(5),o=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(a.plus(n.times(o.times(n).minus(s))));return t}(i,eZ(i,r)),i.precision=e,i.rounding=t,eF(ed>2?r.neg():r,e,t,!0)):new i(NaN)},eN.squareRoot=eN.sqrt=function(){var e,t,r,i,n,a,o=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!o||!o[0])return new l(!u||u<0&&(!o||o[0])?NaN:o?this:1/0);for(eg=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=eR(o)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=ev((s+1)/2)-(s<0||s%2),i=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):i=new l(u.toString()),r=(s=l.precision)+3;;)if(i=(a=i).plus(eD(this,a,r+2,1)).times(.5),eR(a.d).slice(0,r)===(t=eR(i.d)).slice(0,r))if("9999"!=(t=t.slice(r-3,r+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(eF(i,s+1,1),e=!i.times(i).eq(this));break}else{if(!n&&(eF(a,s+1,0),a.times(a).eq(this))){i=a;break}r+=4,n=1}return eg=!0,eF(i,s,l.rounding,e)},eN.tangent=eN.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=eD(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,eF(2==ed||4==ed?r.neg():r,e,t,!0)):new i(NaN)},eN.times=eN.mul=function(e){var t,r,i,n,a,o,s,u,l,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=ev(this.e/7)+ev(e.e/7),(u=d.length)<(l=f.length)&&(a=d,d=f,f=a,o=u,u=l,l=o),a=[],i=o=u+l;i--;)a.push(0);for(i=l;--i>=0;){for(t=0,n=u+i;n>i;)s=a[n]+f[i]*d[n-i-1]+t,a[n--]=s%1e7|0,t=s/1e7|0;a[n]=(a[n]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=eM(a,r),eg?eF(e,c.precision,c.rounding):e},eN.toBinary=function(e,t){return e$(this,2,e,t)},eN.toDecimalPlaces=eN.toDP=function(e,t){var r=this,i=r.constructor;return r=new i(r),void 0===e?r:(eO(e,0,1e9),void 0===t?t=i.rounding:eO(t,0,8),eF(r,e+r.e+1,t))},eN.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=eU(i,!0):(eO(e,0,1e9),void 0===t?t=n.rounding:eO(t,0,8),r=eU(i=eF(new n(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},eN.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?r=eU(this):(eO(e,0,1e9),void 0===t?t=n.rounding:eO(t,0,8),r=eU(i=eF(new n(this),e+this.e+1,t),!1,e+i.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},eN.toFraction=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(l=r=new h(1),i=u=new h(0),o=(a=(t=new h(i)).e=eK(p)-this.e-1)%7,t.d[0]=eS(10,o<0?7+o:o),null==e)e=a>0?t:l;else{if(!(s=new h(e)).isInt()||s.lt(l))throw Error(ey+s);e=s.gt(t)?a>0?t:l:s}for(eg=!1,s=new h(eR(p)),c=h.precision,h.precision=a=7*p.length*2;d=eD(s,t,0,1,1),1!=(n=r.plus(d.times(i))).cmp(e);)r=i,i=n,n=l,l=u.plus(d.times(n)),u=n,n=t,t=s.minus(d.times(n)),s=n;return n=eD(e.minus(r),i,0,1,1),u=u.plus(n.times(l)),r=r.plus(n.times(i)),u.s=l.s=this.s,f=1>eD(l,i,a,1).minus(this).abs().cmp(eD(u,r,a,1).minus(this).abs())?[l,i]:[u,r],h.precision=c,eg=!0,f},eN.toHexadecimal=eN.toHex=function(e,t){return e$(this,16,e,t)},eN.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),null==e){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:eO(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(eg=!1,r=eD(r,e,0,t,1).times(e),eg=!0,eF(r)):(e.s=r.s,r=e),r},eN.toNumber=function(){return+this},eN.toOctal=function(e,t){return e$(this,8,e,t)},eN.toPower=eN.pow=function(e){var t,r,i,n,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(eS(+s,l));if((s=new u(s)).eq(1))return s;if(i=u.precision,a=u.rounding,e.eq(1))return eF(s,i,a);if((t=ev(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return n=eV(u,s,r,i),e.s<0?new u(1).div(n):eF(n,i,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=eS(+s,l))&&isFinite(r)?new u(r+"").e:ev(l*(Math.log("0."+eR(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(eg=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(n=ez(e.times(eH(s,i+r)),i)).d&&eB((n=eF(n,i+5,1)).d,i,a)&&(t=i+10,+eR((n=eF(ez(e.times(eH(s,t+r)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=eF(n,i+1,0))),n.s=o,eg=!0,u.rounding=a,eF(n,i,a))},eN.toPrecision=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=eU(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(eO(e,1,1e9),void 0===t?t=n.rounding:eO(t,0,8),r=eU(i=eF(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r},eN.toSignificantDigits=eN.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(eO(e,1,1e9),void 0===t?t=r.rounding:eO(t,0,8)),eF(new r(this),e,t)},eN.toString=function(){var e=this.constructor,t=eU(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},eN.truncated=eN.trunc=function(){return eF(new this.constructor(this),this.e+1,1)},eN.valueOf=eN.toJSON=function(){var e=this.constructor,t=eU(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var eD=function(){function e(e,t,r){var i,n=0,a=e.length;for(e=e.slice();a--;)i=e[a]*t+n,e[a]=i%r|0,n=i/r|0;return n&&e.unshift(n),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,o,s,u){var l,c,d,f,p,h,m,g,b,y,x,A,w,v,S,k,T,E,P,I,_=i.constructor,N=i.s==n.s?1:-1,R=i.d,O=n.d;if(!R||!R[0]||!O||!O[0])return new _(!i.s||!n.s||(R?O&&R[0]==O[0]:!O)?NaN:R&&0==R[0]||!O?0*N:N/0);for(u?(p=1,c=i.e-n.e):(u=1e7,p=7,c=ev(i.e/p)-ev(n.e/p)),P=O.length,T=R.length,y=(b=new _(N)).d=[],d=0;O[d]==(R[d]||0);d++);if(O[d]>(R[d]||0)&&c--,null==a?(v=a=_.precision,o=_.rounding):v=s?a+(i.e-n.e)+1:a,v<0)y.push(1),h=!0;else{if(v=v/p+2|0,d=0,1==P){for(f=0,O=O[0],v++;(d<T||f)&&v--;d++)S=f*u+(R[d]||0),y[d]=S/O|0,f=S%O|0;h=f||d<T}else{for((f=u/(O[0]+1)|0)>1&&(O=e(O,f,u),R=e(R,f,u),P=O.length,T=R.length),k=P,A=(x=R.slice(0,P)).length;A<P;)x[A++]=0;(I=O.slice()).unshift(0),E=O[0],O[1]>=u/2&&++E;do f=0,(l=t(O,x,P,A))<0?(w=x[0],P!=A&&(w=w*u+(x[1]||0)),(f=w/E|0)>1?(f>=u&&(f=u-1),g=(m=e(O,f,u)).length,A=x.length,1==(l=t(m,x,g,A))&&(f--,r(m,P<g?I:O,g,u))):(0==f&&(l=f=1),m=O.slice()),(g=m.length)<A&&m.unshift(0),r(x,m,A,u),-1==l&&(A=x.length,(l=t(O,x,P,A))<1&&(f++,r(x,P<A?I:O,A,u))),A=x.length):0===l&&(f++,x=[0]),y[d++]=f,l&&x[0]?x[A++]=R[k]||0:(x=[R[k]],A=1);while((k++<T||void 0!==x[0])&&v--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)b.e=c,ec=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;b.e=d+c*p-1,eF(b,s?a+b.e+1:a,o,h)}return b}}();function eF(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(n=1,s=d[0];s>=10;s/=10)n++;if((a=t-n)<0)a+=7,o=t,u=(c=d[f=0])/eS(10,n-o-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(s=d.length))if(i){for(;s++<=f;)d.push(0);c=u=0,n=1,a%=7,o=a-7+1}else break e;else{for(c=s=d[f],n=1;s>=10;s/=10)n++;a%=7,u=(o=a-7+n)<0?0:c/eS(10,n-o-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(o<0?c:c%eS(10,n-o-1)),l=r<4?(u||i)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||i||6==r&&(a>0?o>0?c/eS(10,n-o):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=eS(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,s=1,f--):(d.length=f+1,s=eS(10,7-a),d[f]=o>0?(c/eS(10,n-o)%eS(10,o)|0)*s:0),l)for(;;)if(0==f){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=s,1e7!=d[f])break;d[f--]=0,s=1}for(a=d.length;0===d[--a];)d.pop()}return eg&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function eU(e,t,r){if(!e.isFinite())return eX(e);var i,n=e.e,a=eR(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+eW(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):n<0?(a="0."+eW(-n-1)+a,r&&(i=r-o)>0&&(a+=eW(i))):n>=o?(a+=eW(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+eW(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=eW(i))),a}function eM(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function eL(e,t,r){if(t>eI)throw eg=!0,r&&(e.precision=r),Error(ex);return eF(new e(ep),t,1,!0)}function eq(e,t,r){if(t>e_)throw Error(ex);return eF(new e(eh),t,r,!0)}function eK(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function eW(e){for(var t="";e--;)t+="0";return t}function eV(e,t,r,i){var n,a=new e(1),o=Math.ceil(i/7+4);for(eg=!1;;){if(r%2&&e0((a=a.times(t)).d,o)&&(n=!0),0===(r=ev(r/2))){r=a.d.length-1,n&&0===a.d[r]&&++a.d[r];break}e0((t=t.times(t)).d,o)}return eg=!0,a}function eG(e){return 1&e.d[e.d.length-1]}function ej(e,t,r){for(var i,n=new e(t[0]),a=0;++a<t.length;)if((i=new e(t[a])).s)n[r](i)&&(n=i);else{n=i;break}return n}function ez(e,t){var r,i,n,a,o,s,u,l=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(eg=!1,u=h):u=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(u+=i=Math.log(eS(2,d))/Math.LN10*2+5|0,r=a=o=new f(1),f.precision=u;;){if(a=eF(a.times(e),u,1),r=r.times(++c),eR((s=o.plus(eD(a,r,u,1))).d).slice(0,u)===eR(o.d).slice(0,u)){for(n=d;n--;)o=eF(o.times(o),u,1);if(null!=t)return f.precision=h,o;if(!(l<3&&eB(o.d,u-i,p,l)))return eF(o,f.precision=h,p,eg=!0);f.precision=u+=10,r=a=s=new f(1),c=0,l++}o=s}}function eH(e,t){var r,i,n,a,o,s,u,l,c,d,f,p=1,h=e,m=h.d,g=h.constructor,b=g.rounding,y=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(eg=!1,c=y):c=t,g.precision=c+=10,i=(r=eR(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return l=eL(g,c+2,y).times(a+""),h=eH(new g(i+"."+r.slice(1)),c-10).plus(l),g.precision=y,null==t?eF(h,y,b,eg=!0):h;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=eR((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,i>1?(h=new g("0."+r),a++):h=new g(i+"."+r.slice(1)),d=h,u=o=h=eD(h.minus(1),h.plus(1),c,1),f=eF(h.times(h),c,1),n=3;;){if(o=eF(o.times(f),c,1),eR((l=u.plus(eD(o,new g(n),c,1))).d).slice(0,c)===eR(u.d).slice(0,c))if(u=u.times(2),0!==a&&(u=u.plus(eL(g,c+2,y).times(a+""))),u=eD(u,new g(p),c,1),null!=t)return g.precision=y,u;else{if(!eB(u.d,c-10,b,s))return eF(u,g.precision=y,b,eg=!0);g.precision=c+=10,l=o=h=eD(d.minus(1),d.plus(1),c,1),f=eF(h.times(h),c,1),n=s=1}u=l,n+=2}}function eX(e){return String(e.s*e.s/0)}function eQ(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);i++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(i,n)){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";e.d.push(+t),eg&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eJ(e,t,r,i,n){var a,o,s,u,l=e.precision,c=Math.ceil(l/7);for(eg=!1,u=r.times(r),s=new e(i);;){if(o=eD(s.times(u),new e(t++*t++),l,1),s=n?i.plus(o):i.minus(o),i=eD(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(i)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=i,i=o,o=a}return eg=!0,o.d.length=c+1,o}function eY(e,t){for(var r=e;--t;)r*=e;return r}function eZ(e,t){var r,i=t.s<0,n=eq(e,e.precision,1),a=n.times(.5);if((t=t.abs()).lte(a))return ed=i?4:1,t;if((r=t.divToInt(n)).isZero())ed=i?3:2;else{if((t=t.minus(r.times(n))).lte(a))return ed=eG(r)?i?2:3:i?4:1,t;ed=eG(r)?i?1:4:i?3:2}return t.minus(n).abs()}function e$(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor,h=void 0!==r;if(h?(eO(r,1,1e9),void 0===i?i=p.rounding:eO(i,0,8)):(r=p.precision,i=p.rounding),e.isFinite()){for(o=(c=eU(e)).indexOf("."),h?(n=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):n=t,o>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-o,f.d=eC(eU(f),10,n),f.e=f.d.length),a=u=(d=eC(c,10,n)).length;0==d[--u];)d.pop();if(d[0]){if(o<0?a--:((e=new p(e)).d=d,e.e=a,d=(e=eD(e,f,r,i,0,n)).d,a=e.e,l=ec),o=d[r],s=n/2,l=l||void 0!==d[r+1],l=i<4?(void 0!==o||l)&&(0===i||i===(e.s<0?3:2)):o>s||o===s&&(4===i||l||6===i&&1&d[r-1]||i===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>n-1;)d[r]=0,r||(++a,d.unshift(1));for(u=d.length;!d[u-1];--u);for(o=0,c="";o<u;o++)c+=ef.charAt(d[o]);if(h){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(d=eC(c,n,t)).length;!d[u-1];--u);for(o=1,c="1.";o<u;o++)c+=ef.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=eX(e);return e.s<0?"-"+c:c}function e0(e,t){if(e.length>t)return e.length=t,!0}function e1(e){return new this(e).abs()}function e2(e){return new this(e).acos()}function e4(e){return new this(e).acosh()}function e6(e,t){return new this(e).plus(t)}function e3(e){return new this(e).asin()}function e5(e){return new this(e).asinh()}function e8(e){return new this(e).atan()}function e7(e){return new this(e).atanh()}function e9(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,a=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?eq(this,i,n):new this(0)).s=e.s:!e.d||t.isZero()?(r=eq(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(eD(e,t,a,1)),t=eq(this,a,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(eD(e,t,a,1)):(r=eq(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function te(e){return new this(e).cbrt()}function tt(e){return eF(e=new this(e),e.e+1,2)}function tr(e,t,r){return new this(e).clamp(t,r)}function ti(e){if(!e||"object"!=typeof e)throw Error(eb+"Object expected");var t,r,i,n=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],n&&(this[r]=em[r]),void 0!==(i=e[r]))if(ev(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(ey+r+": "+i);if(r="crypto",n&&(this[r]=em[r]),void 0!==(i=e[r]))if(!0===i||!1===i||0===i||1===i)if(i)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(eA);else this[r]=!1;else throw Error(ey+r+": "+i);return this}function tn(e){return new this(e).cos()}function ta(e){return new this(e).cosh()}function to(e,t){return new this(e).div(t)}function ts(e){return new this(e).exp()}function tu(e){return eF(e=new this(e),e.e+1,3)}function tl(){var e,t,r=new this(0);for(eg=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return eg=!0,new this(1/0);r=t}return eg=!0,r.sqrt()}function tc(e){return e instanceof tR||e&&e.toStringTag===ew||!1}function td(e){return new this(e).ln()}function tf(e,t){return new this(e).log(t)}function tp(e){return new this(e).log(2)}function th(e){return new this(e).log(10)}function tm(){return ej(this,arguments,"lt")}function tg(){return ej(this,arguments,"gt")}function tb(e,t){return new this(e).mod(t)}function ty(e,t){return new this(e).mul(t)}function tx(e,t){return new this(e).pow(t)}function tA(e){var t,r,i,n,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:eO(e,1,1e9),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)(n=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)(n=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(n%1e7),a+=4);a=i/4}else throw Error(eA);else for(;a<i;)s[a++]=1e7*Math.random()|0;for(i=s[--a],e%=7,i&&e&&(n=eS(10,7-e),s[a]=(i/n|0)*n);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<7&&(r-=7-i)}return o.e=r,o.d=s,o}function tw(e){return eF(e=new this(e),e.e+1,this.rounding)}function tv(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function tS(e){return new this(e).sin()}function tk(e){return new this(e).sinh()}function tT(e){return new this(e).sqrt()}function tE(e,t){return new this(e).sub(t)}function tP(){var e=0,t=arguments,r=new this(t[0]);for(eg=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return eg=!0,eF(r,this.precision,this.rounding)}function tI(e){return new this(e).tan()}function t_(e){return new this(e).tanh()}function tN(e){return eF(e=new this(e),e.e+1,1)}eN[Symbol.for("nodejs.util.inspect.custom")]=eN.toString,eN[Symbol.toStringTag]="Decimal";var tR=eN.constructor=function e(t){var r,i,n;function a(e){var t,r,i;if(!(this instanceof a))return new a(e);if(this.constructor=a,tc(e)){this.s=e.s,eg?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;eg?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eQ(this,e.toString())}if("string"!==i)throw Error(ey+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),eP.test(e)?eQ(this,e):function(e,t){var r,i,n,a,o,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),eP.test(t))return eQ(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(eT.test(t))r=16,t=t.toLowerCase();else if(ek.test(t))r=2;else if(eE.test(t))r=8;else throw Error(ey+t);for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,i=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,n=eV(i,new i(r),a,2*a)),a=c=(l=eC(t,r,1e7)).length-1;0===l[a];--a)l.pop();return a<0?new i(0*e.s):(e.e=eM(l,c),e.d=l,eg=!1,o&&(e=eD(e,n,4*s)),u&&(e=e.times(54>Math.abs(u)?eS(2,u):tR.pow(2,u))),eg=!0,e)}(this,e)}if(a.prototype=eN,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=ti,a.clone=e,a.isDecimal=tc,a.abs=e1,a.acos=e2,a.acosh=e4,a.add=e6,a.asin=e3,a.asinh=e5,a.atan=e8,a.atanh=e7,a.atan2=e9,a.cbrt=te,a.ceil=tt,a.clamp=tr,a.cos=tn,a.cosh=ta,a.div=to,a.exp=ts,a.floor=tu,a.hypot=tl,a.ln=td,a.log=tf,a.log10=th,a.log2=tp,a.max=tm,a.min=tg,a.mod=tb,a.mul=ty,a.pow=tx,a.random=tA,a.round=tw,a.sign=tv,a.sin=tS,a.sinh=tk,a.sqrt=tT,a.sub=tE,a.sum=tP,a.tan=tI,a.tanh=t_,a.trunc=tN,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(em);ep=new tR(ep),eh=new tR(eh);var tO=F.default,tB=((i=tB||{})[i.ROUND_DOWN=0]="ROUND_DOWN",i[i.ROUND_HALF_UP=1]="ROUND_HALF_UP",i[i.ROUND_UP=2]="ROUND_UP",i);function tC(e){let t=ei("Raydium_parseBigNumberish");if(e instanceof k.default)return e;if("string"==typeof e){if(e.match(/^-?[0-9]+$/))return new k.default(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return"number"==typeof e?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&t.logWithError(`BigNumberish number overflow: ${e}`),new k.default(String(e))):"bigint"==typeof e?new k.default(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new k.default(0))}var tD=ei("module/fraction"),tF=tO(D),tU=tO(U.default),tM={0:tU.ROUND_DOWN,1:tU.ROUND_HALF_UP,2:tU.ROUND_UP},tL={0:D.roundDown,1:D.roundHalfUp,2:D.roundUp},tq=class{constructor(e,t=new k.default(1)){this.numerator=tC(e),this.denominator=tC(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new tq(this.denominator,this.numerator)}add(e){let t=e instanceof tq?e:new tq(tC(e));return this.denominator.eq(t.denominator)?new tq(this.numerator.add(t.numerator),this.denominator):new tq(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof tq?e:new tq(tC(e));return this.denominator.eq(t.denominator)?new tq(this.numerator.sub(t.numerator),this.denominator):new tq(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof tq?e:new tq(tC(e));return new tq(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof tq?e:new tq(tC(e));return new tq(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},r=1){Number.isInteger(e)||tD.logWithError(`${e} is not an integer.`),e<=0&&tD.logWithError(`${e} is not positive.`),tU.set({precision:e+1,rounding:tM[r]});let i=new tU(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},r=1){return Number.isInteger(e)||tD.logWithError(`${e} is not an integer.`),e<0&&tD.logWithError(`${e} is negative.`),tF.DP=e,tF.RM=tL[r]||1,new tF(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}},tK=ei("Raydium_amount"),tW=tO(D),tV=class extends tq{constructor(e,t,r=!0,i){let n=new k.default(0),a=rr.pow(new k.default(e.decimals));if(r)n=tC(t);else{let r=new k.default(0),i=new k.default(0);if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){let[n,a]=function(e,t){let r="0",i="0";if(e.includes(".")){let n=e.split(".");2===n.length?([r,i]=n,i=i.padEnd(t,"0")):tK.logWithError(`invalid number string, num: ${e}`)}else r=e;return[r,i.slice(0,t)||i]}(t.toString(),e.decimals);r=tC(n),i=tC(a)}n=(r=r.mul(a)).add(i)}super(n,a),this.logger=ei(i||"TokenAmount"),this.token=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return this.token.equals(e.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(e.raw)}lt(e){return this.token.equals(e.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(e.raw)}add(e){return this.token.equals(e.token)||this.logger.logWithError("add token not equals"),new tV(this.token,this.raw.add(e.raw))}subtract(e){return this.token.equals(e.token)||this.logger.logWithError("sub token not equals"),new tV(this.token,this.raw.sub(e.raw))}toSignificant(e=this.token.decimals,t,r=0){return super.toSignificant(e,t,r)}toFixed(e=this.token.decimals,t,r=0){return e>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(e,t,r)}toExact(e={groupSeparator:""}){return tW.DP=this.token.decimals,new tW(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}},tG={chainId:101,address:h.PublicKey.default.toBase58(),programId:y.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},tj={chainId:101,address:"So11111111111111111111111111111111111111112",programId:y.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};function tz({pubkey:e,isSigner:t=!1,isWritable:r=!0}){return{pubkey:e,isWritable:r,isSigner:t}}tz({pubkey:y.TOKEN_PROGRAM_ID,isWritable:!1}),tz({pubkey:h.SystemProgram.programId,isWritable:!1}),tz({pubkey:h.SYSVAR_RENT_PUBKEY,isWritable:!1});function tH({publicKey:e,transformSol:t}){let r=tX(e.toString());if(r instanceof h.PublicKey)return t&&r.equals(t2)?t1:r;if(t&&r.toString()===t2.toBase58())return t1;if("string"==typeof r){if(r===h.PublicKey.default.toBase58())return h.PublicKey.default;try{return new h.PublicKey(r)}catch{}}throw Error("invalid public key")}function tX(e){try{return new h.PublicKey(e)}catch{return e}}var tQ=new h.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tJ=new h.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tY=new h.PublicKey("SysvarRent111111111111111111111111111111111"),tZ=new h.PublicKey("SysvarC1ock11111111111111111111111111111111"),t$=new h.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),t0=(new h.PublicKey("Sysvar1nstructions1111111111111111111111111"),h.SystemProgram.programId),t1=(new h.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),new h.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),new h.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),new h.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new h.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new h.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),new h.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),new h.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),new h.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),new h.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),new h.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),new h.PublicKey("So11111111111111111111111111111111111111112")),t2=h.PublicKey.default;function t4(e){return tH({publicKey:e,transformSol:!0})}var t6=class{constructor({mint:e,decimals:t,symbol:r,name:i,skipMint:n=!1,isToken2022:a=!1}){if(e===t2.toBase58()||e instanceof h.PublicKey&&t2.equals(e)){this.decimals=tj.decimals,this.symbol=tj.symbol,this.name=tj.name,this.mint=new h.PublicKey(tj.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=r||e.toString().substring(0,6),this.name=i||e.toString().substring(0,6),this.mint=n?h.PublicKey.default:tH({publicKey:e}),this.isToken2022=a}equals(e){return this===e||this.mint.equals(e.mint)}};t6.WSOL=new t6(Y(J({},tj),{mint:tj.address}));var t3=class{constructor({decimals:e,symbol:t="UNKNOWN",name:r="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=r}equals(e){return this===e}};t3.SOL=new t3(tG);var t5=new tq(new k.default(100)),t8=class extends tq{toSignificant(e=5,t,r){return this.mul(t5).toSignificant(e,t,r)}toFixed(e=2,t,r){return this.mul(t5).toFixed(e,t,r)}},t7=ei("Raydium_price"),t9=class extends tq{constructor(e){var t,r;let{baseToken:i,quoteToken:n,numerator:a,denominator:o}=e;super(a,o),this.baseToken=i,this.quoteToken=n,this.scalar=new tq((t=i.decimals,rr.pow(tC(t))),(r=n.decimals,rr.pow(tC(r))))}get raw(){return new tq(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new t9({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(e){this.quoteToken!==e.baseToken&&t7.logWithError("mul token not equals");let t=super.mul(e);return new t9({baseToken:this.baseToken,quoteToken:e.quoteToken,denominator:t.denominator,numerator:t.numerator})}toSignificant(e=this.quoteToken.decimals,t,r){return this.adjusted.toSignificant(e,t,r)}toFixed(e=this.quoteToken.decimals,t,r){return this.adjusted.toFixed(e,t,r)}},re=new k.default(0),rt=new k.default(1),rr=(new k.default(2),new k.default(3),new k.default(5),new k.default(10));function ri(e,t,r){return e.mul(t).add(r).sub(new k.default(1)).div(r)}function rn(e,t=1,r=[]){let i=[...e];if(t<=0)return r;for(;i.length;)r.push(i.splice(0,t));return r}new k.default(100),new k.default(1e3),new k.default(1e4);var ra=((n=ra||{})[n.V0=0]="V0",n[n.LEGACY=1]="LEGACY",n),ro="CreateAccount",rs="ClmmOpenPosition",ru="ClmmIncreasePosition",rl="ClmmDecreasePosition",rc="ClmmSwapBaseIn",rd=ei("Raydium_txUtil");function rf(e){let t=[],r=[];return e.microLamports&&(t.push(h.ComputeBudgetProgram.setComputeUnitPrice({microLamports:e.microLamports})),r.push("SetComputeUnitPrice")),e.units&&(t.push(h.ComputeBudgetProgram.setComputeUnitLimit({units:e.units})),r.push("SetComputeUnitLimit")),{instructions:t,instructionTypes:r}}async function rp(e,t){var r,i;return null==(i=await (null==(r=e.getLatestBlockhash)?void 0:r.call(e,{commitment:null!=t?t:"confirmed"})))?void 0:i.blockhash}async function rh(e,t){return e.getSignatureStatuses([t]),new Promise((r,i)=>{let n=setTimeout(i,6e4);e.onSignature(t,e=>{(clearTimeout(n),e.err)?i(Object.assign(e.err,{txId:t})):r("")},"confirmed")})}function rm(e,t){e.length<1&&rd.logWithError(`no instructions provided: ${e.toString()}`),t.length<1&&rd.logWithError(`no signers provided:, ${t.toString()}`);let r=new h.Transaction;r.recentBlockhash="11111111111111111111111111111111",r.feePayer=t[0],r.add(...e);try{return f.Buffer.from(r.serialize({verifySignatures:!1})).toString("base64").length<1644}catch{return!1}}function rg(e,t){let[r,i]=h.PublicKey.findProgramAddressSync(e,t);return{publicKey:r,nonce:i}}function rb({instructions:e,payer:t,signers:r}){return rm(e,[t,...r])}function ry({instructions:e,payer:t,lookupTableAddressAccount:r,recentBlockhash:i=h.Keypair.generate().publicKey.toString()}){let n=new h.TransactionMessage({payerKey:t,recentBlockhash:i,instructions:e}).compileToV0Message(Object.values(null!=r?r:{}));try{return f.Buffer.from(new h.VersionedTransaction(n).serialize()).toString("base64").length<1644}catch{return!1}}function rx(e){let t=[];return e.forEach(e=>{e instanceof h.Transaction&&(e.recentBlockhash||(e.recentBlockhash=y.TOKEN_PROGRAM_ID.toBase58()),e.feePayer||(e.feePayer=h.Keypair.generate().publicKey)),t.push((e=>{let t,r=e.serialize({requireAllSignatures:!1,verifySignatures:!1});e instanceof h.VersionedTransaction&&(t=r,r=f.Buffer.isBuffer(t)?t:t instanceof Uint8Array?f.Buffer.from(t.buffer,t.byteOffset,t.byteLength):f.Buffer.from(t));try{return r instanceof f.Buffer?r.toString("base64"):f.Buffer.from(r).toString("base64")}catch{return r.toString("base64")}})(e))}),console.log("simulate tx string:",t),t}function rA(e,t,r){return rg([e.toBuffer(),(null!=r?r:y.TOKEN_PROGRAM_ID).toBuffer(),t.toBuffer()],new h.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var rw=new h.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),rv=new h.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),rS=new h.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),rk=new h.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),rT=(new h.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),new h.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX")),rE=new h.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),rP=new h.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),rI=(new h.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),new h.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo")),r_=new h.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),rN=new h.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),rR=new h.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),rO=(new h.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),new h.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5")),rB=new h.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),rC=new h.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),rD=new h.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),rF=new h.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),rU=new h.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),rM=new h.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),rL=(new h.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),new h.PublicKey("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),new h.PublicKey("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),new h.PublicKey("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),new h.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE")),rq=(new h.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new h.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH")),rK=(new h.PublicKey("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),new h.PublicKey("LanMkFSVSncjWqWAM8MUHenZzt9xTcT3DcAp949ZwbF"));function rW(e,t,r,i){if(void 0===t)return{amount:e,fee:void 0,expirationTime:void 0};let n=Y(J({},t),{olderTransferFee:{epoch:BigInt(t.olderTransferFee.epoch),maximumFee:BigInt(t.olderTransferFee.maximumFee),transferFeeBasisPoints:t.olderTransferFee.transferFeeBasisPoints},newerTransferFee:{epoch:BigInt(t.newerTransferFee.epoch),maximumFee:BigInt(t.newerTransferFee.maximumFee),transferFeeBasisPoints:t.newerTransferFee.transferFeeBasisPoints}}),a=r.epoch<n.newerTransferFee.epoch?n.olderTransferFee:n.newerTransferFee,o=new k.default(a.maximumFee.toString()),s=r.epoch<n.newerTransferFee.epoch?(Number(n.newerTransferFee.epoch)*r.slotsInEpoch-r.absoluteSlot)*400/1e3:void 0;if(i)if(1e4===a.transferFeeBasisPoints){let t=new k.default(a.maximumFee.toString());return{amount:e.add(t),fee:t,expirationTime:s}}else{let t=rG(e.mul(new k.default(1e4)),new k.default(1e4-a.transferFeeBasisPoints)),r=new k.default(a.maximumFee.toString()),i=t.sub(e).gt(r)?e.add(r):t,n=rG(i.mul(new k.default(a.transferFeeBasisPoints)),new k.default(1e4));return{amount:i,fee:n.gt(o)?o:n,expirationTime:s}}{let t=rG(e.mul(new k.default(a.transferFeeBasisPoints)),new k.default(1e4));return{amount:e,fee:t.gt(o)?o:t,expirationTime:s}}}function rV(e,t){return void 0===e?t:void 0===t?e:Math.min(e,t)}function rG(e,t){let{div:r,mod:i}=e.divmod(t);return i.gt(new k.default(0))?r.add(new k.default(1)):r}function rj(e,t){if(e.isZero())return new k.default(0);let r=e.div(t);return r.isZero()?new k.default(1):e.mod(t).gt(new k.default(0))?r.add(new k.default(1)):r}async function rz({connection:e,address:t}){let r=await ea(e,[...new Set(t.map(e=>e.toString()))].map(e=>new h.PublicKey(e))),i={};for(let e=0;e<t.length;e++){let n=r[e],a=t[e];if(!n)continue;let o=new h.AddressLookupTableAccount({key:a,state:h.AddressLookupTableAccount.deserialize(n.data)});i[a.toString()]=o,rH[a.toString()]=o}return i}new h.PublicKey("495mQpkX8mHAv18yGsfubCXbFQ9Jok1L1BvMrV9KvCHr"),new h.PublicKey("7soRSLviCKHCKzCbRuVpZDif76NWLVqFtbjt8LpyxWSq"),new h.PublicKey("DG6kZFFCqxdtWXw53Zc28hLs3MTr28Efkm2FrsNERNSQ"),h.PublicKey.default,new h.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),h.PublicKey.default,new h.PublicKey("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),new h.PublicKey("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),new h.PublicKey("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),new h.PublicKey("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),new h.PublicKey("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),new h.PublicKey("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),new h.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new h.PublicKey("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),new h.PublicKey("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),new h.PublicKey("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR");var rH={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new h.AddressLookupTableAccount({key:new h.PublicKey("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:h.AddressLookupTableAccount.deserialize(f.Buffer.from("AQAAAP//////////I1rcEwAAAAAvAQYwun9CU6c5Ikm2pAj+D9IEnCOR45nK+SFTGSdpd6J6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/wFSlNQ+F3IgtYUpVZyeIopbd8eq6vQpgZ4iEky9O72oAVKU1qZKSEGTSTocWDaOHx8NbXdvJK7geQfqEBBBUSNBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvBkX2T9y7AHdNGviJAqQNtlDUDCnauQRWybsLji6nPM8Qkw5asQRvCdB3MbX6IEBwytOrpM32l4jQygKG9TKgR0vZScQ2AsM/IHeQ7RajUkyhuZdc8SGiqQz/7H34torNR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHqkqWotPKVlShCVQqpP9W5W1rOao65IMk5QuQ2kMIOxzDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu/YsA/yfEEFGcr8Z57VKDw8uQzpiru7g4lvjnfapW62W030syevD8k07SGoxUHiuT/ai7gAHWWhDsVmg/C63ajgpkH7Sn3GdutArDTfyqOkdqv4/IPC/EFFy7mGkfDd2C57N5a/4jC+BbmJy7wQaSEZr0CQU88lPtUxIVvzGjC95b8Ooss2TqmkrayGKofkPMGQn7Ux+9lfwBSNfxwH8NgbpqC/7LNlV4I7nCvsXf3p+ohQk9NrAJb2KAFpUqEIJ9ZBV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCCsvhD16TxJjsbgne1kGnQPCFSoaxUbq2V1bPMFQ3VYP6wDZ9bKStCFKx9A3tNbwZFC5ZGAN83MFK7XoTy+OmmcFEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcAwZGb+UhFzL/7K26csOb57yM5bvF9xJrLEObOkAAAAAn+HWRkdcPKyFFMnVwEoD7vnD0jCKFIU1sImubYCxNTSVzsKpaQX+fzNxrLAI3L14JQnJx/D6Uk2LADIHGqnGELzjEbkBDAlaM77NkXMPfqXNLSveCkWI7UEgNs31WEWB6XHSYI/v5DklHOb4QTtDOR804PVbi3fjloZeLR2F8d4FuZmMMO7ck3Fnkn2zEMG5gOmqsygb6PjTitArVl52NhcSznTxVnguaIJxiZkAnurDmn3MWR0PC2GLghp2KJqHCc6QQ85odeIjFHKOlRlJyeSXVJmL8vb1UgOzsbJPVP8p6zM4M3C1Sd7uWIHP33G42AP2Zg8ucn/n6meQjjD266JgCWdxZD6PXs9CsnIeL7SSG0/6lGb9xfP0ZcWkCXB/3hjxHYVXjra/GPOeXGk0fLLKjCbk+mgs2w6d2oCwimBipTzuoZ30GiI8ij8VRzD5CzMWtu2m21eDBIfjGAEo4pQeNNonKcqzV/cleX8ySZLOHsz8PtBCrLqF+VkLm9hOzIT+6i/nIf6keR4GWKMOD4AvqfpjHoD4DuhBpz8P28+DxkGrDXXr/nr20x291VPvcTU/b+b+o2kC9G0kcXeTlLjU6a2TQXWlZ4gBUdBl1jgT7mObSTpLblNiXZsLkbmVXZwvFKXua5cUKlWed/w30skmEUraTuQqtqr5fHZPW9n57EmeTif6LjHL2YJFZkQU+TrJmFzqzmF4/b8OwrPQAprl8mX3q4LUIdAS/a+11B6DWD1Xk2++Sn94dLC4xjkO4Wtlw8c4XuzciVbepHOmnoWzVu/0y3KCrLCSfQxQ3br8DJCoVzhgtPsS2nZZjsBGIZgnU0QpMv+2MnRsnKwdp1VsrCX84j/qvaZn4WhKunippgTbN2EUs0tPTP55Qfgj+nKmjtWW5IYs72FrEwJKYoNfsmqaF4o5pf4v9zgPwVwY/5I4XJKUL2L25m9kAQcW/K+H1RTFEUoj8Z4ajpOmAB/dG0COmCphVMW2CCMvnxhcGiSgPnpDuWu6qiJ7NG7ye5kvHgefgqPLeicspNJ5EpL3XiRNLM2tmJLI1awAwOyd6iHv0dCkMYRKaa6rcaZeYwmKCkckm0kM2JNmnmmAaBQQ7mwmIM0IMxX4f5W6j9PqZWcJxF7r17T/lQBAmcjoupRiJifbnXCNUv9GhpRF19WcBdeKbivRJVlGop6I2RS6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQ==","base64"))})},rX=class{constructor(e){this.instructions=[],this.endInstructions=[],this.lookupTableAddress=[],this.signers=[],this.instructionTypes=[],this.endInstructionTypes=[],this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){var e;let t=(await p.default.get("https://solanacompass.com/api/fees?cacheFreshTime=300000")).data,{avg:r}=null!=(e=null==t?void 0:t[15])?e:{};if(r)return{units:6e5,microLamports:Math.min(Math.ceil(1e6*r/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:t,instructionTypes:r}=rf(e);return this.instructions.unshift(...t),this.instructionTypes.unshift(...r),!0}return!1}addTipInstruction(e){var t;return!!e&&(this.endInstructions.push(h.SystemProgram.transfer({fromPubkey:null!=(t=e.feePayer)?t:this.feePayer,toPubkey:new h.PublicKey(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push("TransferTip"),!0)}async calComputeBudget({config:e,defaultIns:t}){try{let r=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(r))return;t&&this.instructions.unshift(...t)}catch{t&&this.instructions.unshift(...t)}}addInstruction({instructions:e=[],endInstructions:t=[],signers:r=[],instructionTypes:i=[],endInstructionTypes:n=[],lookupTableAddress:a=[]}){return this.instructions.push(...e),this.endInstructions.push(...t),this.signers.push(...r),this.instructionTypes.push(...i),this.endInstructionTypes.push(...n),this.lookupTableAddress.push(...a.filter(e=>e!==h.PublicKey.default.toString())),this}async versionBuild({txVersion:e,extInfo:t}){return 0===e?await this.buildV0(J({},t||{})):this.build(t)}build(e){var t;let r=new h.Transaction;return this.allInstructions.length&&r.add(...this.allInstructions),r.feePayer=this.feePayer,(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:r,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{recentBlockHash:i,skipPreflight:n=!0,sendAndConfirm:a,notSendToRpc:o}=e||{};if(r.recentBlockhash=null!=i?i:await rp(this.connection,this.blockhashCommitment),this.signers.length&&r.sign(...this.signers),rx([r]),null!=(t=this.owner)&&t.isKeyPair)return{txId:a?await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:n}):await this.connection.sendRawTransaction(r.serialize(),{skipPreflight:n}),signedTx:r};if(this.signAllTransactions){let e=await this.signAllTransactions([r]);if(this.signers.length)for(let t of e)try{t.sign(...this.signers)}catch{}return{txId:o?"":await this.connection.sendRawTransaction(e[0].serialize(),{skipPreflight:n}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){var t;let{extraPreBuildData:r=[],extInfo:i}=e,{transaction:n}=this.build(i),a=r.filter(e=>e.transaction.instructions.length>0),o=[n,...a.map(e=>e.transaction)],s=[this.signers,...a.map(e=>e.signers)],u=[...this.instructionTypes,...a.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:o,signers:s,instructionTypes:u,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,skipTxCount:n=0,recentBlockHash:a,skipPreflight:u=!0}=e||{},l=null!=a?a:await rp(this.connection,this.blockhashCommitment);if(null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[],t=0;for(let r of o){if(++t<=n)continue;let i=await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:u});e.push(i)}return{txIds:e,signedTxs:o}}return{txIds:await await Promise.all(o.map(async e=>(e.recentBlockhash=l,await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:u})))),signedTxs:o}}if(this.signAllTransactions){let e=o.map((e,t)=>(e.recentBlockhash=l,s[t].length&&e.sign(...s[t]),e));rx(e);let t=await this.signAllTransactions(e);if(r){let e=0,r=[],n=async()=>{if(!t[e])return;let a=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:u});r.push({txId:a,status:"sent",signedTx:t[e]}),null==i||i([...r]),e++;let o=!1,s=null,l=null,c=e=>{null!==s&&clearInterval(s),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===a);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||n()};this.loopMultiTxStatus&&(s=setInterval(async()=>{var e;if(o)return void clearInterval(s);try{let t=await this.connection.getTransaction(a,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(o=!0,clearInterval(s),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",a))}catch(e){o=!0,clearInterval(s),console.error("getTransaction timeout:",e,a)}},2e3)),l=this.connection.onSignature(a,e=>{o?this.connection.removeSignatureListener(l):(o=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(a)};return await n(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let i=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:u});e.push(i)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:i||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:t,extInfo:r}){return 0===t?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:r||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:r})}async buildV0(e){var t;let r=e||{},{lookupTableCache:i={},lookupTableAddress:n=[],forerunCreate:a,recentBlockhash:o}=r,s=Z(r,["lookupTableCache","lookupTableAddress","forerunCreate","recentBlockhash"]),u=J(J({},"devnet"===this.cluster?{}:rH),i),l=Array.from(new Set([...n,...this.lookupTableAddress])),c=[];for(let e of l)void 0===u[e]&&c.push(new h.PublicKey(e));for(let[e,t]of Object.entries(await rz({connection:this.connection,address:c})))u[e]=t;let d=a?h.PublicKey.default.toBase58():null!=o?o:await rp(this.connection,this.blockhashCommitment),f=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:d,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(u));(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let p=new h.VersionedTransaction(f);return p.sign(this.signers),{builder:this,transaction:p,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{skipPreflight:r=!0,sendAndConfirm:i,notSendToRpc:n}=e||{};if(rx([p]),null!=(t=this.owner)&&t.isKeyPair){let e=await this.connection.sendTransaction(p,{skipPreflight:r});return i&&await rh(this.connection,e),{txId:e,signedTx:p}}if(this.signAllTransactions){let e=await this.signAllTransactions([p]);if(this.signers.length)for(let t of e)try{t.sign(this.signers)}catch{}return{txId:n?"":await this.connection.sendTransaction(e[0],{skipPreflight:r}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}async buildV0MultiTx(e){var t;let{extraPreBuildData:r=[],buildProps:i}=e,{transaction:n}=await this.buildV0(i),a=r.filter(e=>e.builder.instructions.length>0),o=[n,...a.map(e=>e.transaction)],s=[this.signers,...a.map(e=>e.signers)],u=[...this.instructionTypes,...a.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),o.forEach(async(e,t)=>{e.sign(s[t])}),{builder:this,transactions:o,signers:s,instructionTypes:u,buildProps:i,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,recentBlockHash:n,skipPreflight:a=!0}=e||{};if(n&&o.forEach(e=>e.message.recentBlockhash=n),rx(o),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=[];for(let t of o){let r=await this.connection.sendTransaction(t,{skipPreflight:a});await rh(this.connection,r),e.push(r)}return{txIds:e,signedTxs:o}}return{txIds:await Promise.all(o.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:a}))),signedTxs:o}}if(this.signAllTransactions){let e=await this.signAllTransactions(o);if(r){let t=0,r=[],n=async()=>{if(!e[t])return;let o=await this.connection.sendTransaction(e[t],{skipPreflight:a});r.push({txId:o,status:"sent",signedTx:e[t]}),null==i||i([...r]),t++;let s=!1,u=null,l=null,c=e=>{null!==u&&clearInterval(u),null!==l&&this.connection.removeSignatureListener(l);let t=r.findIndex(e=>e.txId===o);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||n()};this.loopMultiTxStatus&&(u=setInterval(async()=>{var e;if(s)return void clearInterval(u);try{let t=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(s=!0,clearInterval(u),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",o))}catch(e){s=!0,clearInterval(u),console.error("getTransaction timeout:",e,o)}},2e3)),l=this.connection.onSignature(o,e=>{s?this.connection.removeSignatureListener(l):(s=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(o)};return n(),{txIds:[],signedTxs:e}}{let t=[];for(let r=0;r<e.length;r+=1){let i=await this.connection.sendTransaction(e[r],{skipPreflight:a});t.push(i)}return{txIds:t,signedTxs:e}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:i||{}}}async sizeCheckBuild(e){var t;let r=e||{},{splitIns:i=[],computeBudgetConfig:n}=r,a=Z(r,["splitIns","computeBudgetConfig"]),o=n?rf(n):{instructions:[],instructionTypes:[]},s=this.signers.reduce((e,t)=>Y(J({},e),{[t.publicKey.toBase58()]:t}),{}),u=[],l=[],c=[],d=0;if(this.allInstructions.forEach(e=>{let t=[...c,e],r=n?[...o.instructions,...t]:t,a=[...new Set(t.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>new h.PublicKey(e));if(e!==i[d]&&c.length<12&&(rb({instructions:r,payer:this.feePayer,signers:a})||rb({instructions:t,payer:this.feePayer,signers:a})))c.push(e);else{if(0===c.length)throw Error("item ins too big");d+=+(e===i[d]),rb({instructions:n?[...o.instructions,...c]:[...c],payer:this.feePayer,signers:a})?u.push(new h.Transaction().add(...o.instructions,...c)):u.push(new h.Transaction().add(...c)),l.push(Array.from(new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>s[e]).filter(e=>void 0!==e)),c=[e]}}),c.length>0){let e=[...new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>s[e]).filter(e=>void 0!==e);rb({instructions:n?[...o.instructions,...c]:[...c],payer:this.feePayer,signers:e.map(e=>e.publicKey)})?u.push(new h.Transaction().add(...o.instructions,...c)):u.push(new h.Transaction().add(...c)),l.push(e)}return u.forEach(e=>e.feePayer=this.feePayer),null!=(t=this.owner)&&t.signer&&l.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:u,signers:l,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,skipTxCount:n=0,recentBlockHash:a,skipPreflight:o=!0}=e||{},s=null!=a?a:await rp(this.connection,this.blockhashCommitment);if(u.forEach(async(e,t)=>{e.recentBlockhash=s,l[t].length&&e.sign(...l[t])}),rx(u),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of u){if(++e<=n){t.push("tx skipped");continue}let i=await (0,h.sendAndConfirmTransaction)(this.connection,r,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:o});t.push(i)}return{txIds:t,signedTxs:u}}return{txIds:await Promise.all(u.map(async e=>await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:o}))),signedTxs:u}}if(this.signAllTransactions){let e=await this.signAllTransactions(u.slice(n,u.length)),t=[...u.slice(0,n),...e];if(r){let e=0,r=[],a=async()=>{if(!t[e])return;e<n&&(r.push({txId:"",status:"success",signedTx:t[e]}),null==i||i([...r]),e++,a());let s=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:o});r.push({txId:s,status:"sent",signedTx:t[e]}),null==i||i([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||a()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(s)};return await a(),{txIds:r.map(e=>e.txId),signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let i=await this.connection.sendRawTransaction(t[r].serialize(),{skipPreflight:o});e.push(i)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:a||{}}}async sizeCheckBuildV0(e){var t;let r=e||{},{computeBudgetConfig:i,splitIns:n=[],lookupTableCache:a={},lookupTableAddress:o=[]}=r,s=Z(r,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),u=J(J({},"devnet"===this.cluster?{}:rH),a),l=Array.from(new Set([...this.lookupTableAddress,...o])),c=[];for(let e of l)void 0===u[e]&&c.push(new h.PublicKey(e));for(let[e,t]of Object.entries(await rz({connection:this.connection,address:c})))u[e]=t;let d=i?rf(i):{instructions:[],instructionTypes:[]},f=await rp(this.connection,this.blockhashCommitment),p=this.signers.reduce((e,t)=>Y(J({},e),{[t.publicKey.toBase58()]:t}),{}),m=[],g=[],b=[],y=0;if(this.allInstructions.forEach(e=>{let t=[...b,e],r=i?[...d.instructions,...t]:t;if(e!==n[y]&&b.length<12&&(ry({instructions:r,payer:this.feePayer,lookupTableAddressAccount:u})||ry({instructions:t,payer:this.feePayer,lookupTableAddressAccount:u})))b.push(e);else{if(0===b.length)throw Error("item ins too big");y+=+(e===n[y]);let t={};for(let e of[...new Set(l)])void 0!==u[e]&&(t[e]=u[e]);if(i&&ry({instructions:[...d.instructions,...b],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:f})){let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...d.instructions,...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}else{let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}g.push(Array.from(new Set(b.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>p[e]).filter(e=>void 0!==e)),b=[e]}}),b.length>0){let e=[...new Set(b.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>p[e]).filter(e=>void 0!==e);if(i&&ry({instructions:[...d.instructions,...b],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:f})){let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...d.instructions,...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}else{let e=new h.TransactionMessage({payerKey:this.feePayer,recentBlockhash:f,instructions:[...b]}).compileToV0Message(Object.values(u));m.push(new h.VersionedTransaction(e))}g.push(e)}return null!=(t=this.owner)&&t.signer&&g.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:m,buildProps:e,signers:g,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:r,onTxUpdate:i,skipTxCount:n=0,recentBlockHash:a,skipPreflight:o=!0}=e||{};if(m.map(async(e,t)=>{g[t].length&&e.sign(g[t]),a&&(e.message.recentBlockhash=a)}),rx(m),null!=(t=this.owner)&&t.isKeyPair){if(r){let e=0,t=[];for(let r of m){if(++e<=n){console.log("skip tx: ",e),t.push("tx skipped");continue}let i=await this.connection.sendTransaction(r,{skipPreflight:o});await rh(this.connection,i),t.push(i)}return{txIds:t,signedTxs:m}}return{txIds:await Promise.all(m.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:o}))),signedTxs:m}}if(this.signAllTransactions){let e=await this.signAllTransactions(m.slice(n,m.length)),t=[...m.slice(0,n),...e];if(r){let e=0,r=[],a=async()=>{if(!t[e])return;if(e<n){r.push({txId:"",status:"success",signedTx:t[e]}),null==i||i([...r]),e++,a();return}let s=await this.connection.sendTransaction(t[e],{skipPreflight:o});r.push({txId:s,status:"sent",signedTx:t[e]}),null==i||i([...r]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=r.findIndex(e=>e.txId===s);if(t>-1){if("error"===r[t].status||"success"===r[t].status)return;r[t].status=e.err?"error":"success"}null==i||i([...r]),e.err||a()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(s)};return a(),{txIds:[],signedTxs:t}}{let e=[];for(let r=0;r<t.length;r+=1){let i=await this.connection.sendTransaction(t[r],{skipPreflight:o});e.push(i)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}},rQ=new k.default(1e6),rJ=((a=rJ||{}).ALL="all",a.Strict="strict",a),rY=((o=rY||{}).All="all",o.Standard="standard",o.Concentrated="concentrated",o.AllFarm="allFarm",o.StandardFarm="standardFarm",o.ConcentratedFarm="concentratedFarm",o),rZ={BASE_HOST:"https://api-v3.raydium.io",OWNER_BASE_HOST:"https://owner-v1.raydium.io",SERVICE_BASE_HOST:"https://service.raydium.io",MONITOR_BASE_HOST:"https://monitor.raydium.io",SERVICE_1_BASE_HOST:"https://service-v1.raydium.io",SEND_TRANSACTION:"/send-transaction",FARM_ARP:"/main/farm/info",FARM_ARP_LINE:"/main/farm-apr-tv",CLMM_CONFIG:"/main/clmm-config",CPMM_CONFIG:"/main/cpmm-config",VERSION:"/main/version",CHECK_AVAILABILITY:"/v3/main/AvailabilityCheckAPI",RPCS:"/main/rpcs",INFO:"/main/info",STAKE_POOLS:"/main/stake-pools",CHAIN_TIME:"/main/chain-time",TOKEN_LIST:"/mint/list",MINT_INFO_ID:"/mint/ids",JUP_TOKEN_LIST:"https://tokens.jup.ag/tokens?tags=lst,community",POOL_LIST:"/pools/info/list",POOL_SEARCH_BY_ID:"/pools/info/ids",POOL_SEARCH_MINT:"/pools/info/mint",POOL_SEARCH_LP:"/pools/info/lps",POOL_KEY_BY_ID:"/pools/key/ids",POOL_LIQUIDITY_LINE:"/pools/line/liquidity",POOL_POSITION_LINE:"/pools/line/position",FARM_INFO:"/farms/info/ids",FARM_LP_INFO:"/farms/info/lp",FARM_KEYS:"/farms/key/ids",OWNER_CREATED_FARM:"/create-pool/{owner}",OWNER_IDO:"/main/ido/{owner}",OWNER_STAKE_FARMS:"/position/stake/{owner}",OWNER_LOCK_POSITION:"/position/clmm-lock/{owner}",IDO_KEYS:"/ido/key/ids",SWAP_HOST:"https://transaction-v1.raydium.io",SWAP_COMPUTE:"/compute/",SWAP_TX:"/transaction/",MINT_PRICE:"/mint/price",MIGRATE_CONFIG:"/main/migrate-lp",PRIORITY_FEE:"/main/auto-fee",CPMM_LOCK:"https://dynamic-ipfs.raydium.io/lock/cpmm/position"};J({},rZ);var r$="ray_tab_hash",r0="ray_req_hash",r1=async e=>{let t;var{logCount:r=1e3,removeLastLog:i}=e,n=Z(e,["logCount","removeLastLog"]);let a=JSON.parse(localStorage.getItem(r0)||"[]").slice(0,r-1);i&&a.pop(),new Blob([JSON.stringify(n.data)]).size>1024&&(n.data=JSON.stringify(n.data).substring(0,200)+"..."),a.unshift(Y(J({},n),{time:Date.now(),session:((t=sessionStorage.getItem(r$))||(t=`ray-${Date.now()}`,sessionStorage.setItem(r$,t)),t)}));try{localStorage.setItem(r0,JSON.stringify(a))}catch{if(i){let e=!1,t=JSON.stringify(n.data).substring(0,100);for(a[0].data=t+(t.length>100?"...":"");!e;){a.pop();let t=JSON.stringify(n.data).substring(0,100);a[0].data=t+(t.length>100?"...":"");try{localStorage.setItem(r0,JSON.stringify(a)),e=!0}catch{e=!1}}return new Promise(e=>e())}return r1(Y(J({},n),{logCount:r,removeLastLog:!0}))}},r2=ei("Raydium_Api"),r4=new Map,r6=(...e)=>e.map(e=>{try{return"object"==typeof e?JSON.stringify(e):e}catch{return e}}).join(", "),r3=class{constructor({scope:e,moduleName:t}){this.disabled=!1,this.scope=e,this.logger=ei(t)}createTxBuilder(e){return this.scope.checkOwner(),new rX({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(r6(e))}logInfo(...e){this.logger.info(r6(e))}logAndCreateError(...e){throw Error(r6(e))}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};function r5(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function r8(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}var r7=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),r9=(e,t)=>e<<32-t|e>>>t;function ie(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),r5(e),e}new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];var it=class{clone(){return this._cloneInto()}},ir=(e,t,r)=>e&t^~e&r,ii=(e,t,r)=>e&t^e&r^t&r,ia=class extends it{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=r7(this.buffer)}update(e){r8(this);let{view:t,buffer:r,blockLen:i}=this,n=(e=ie(e)).length;for(let a=0;a<n;){let o=Math.min(i-this.pos,n-a);if(o===i){let t=r7(e);for(;i<=n-a;a+=i)this.process(t,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r8(this),function(e,t){r5(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:i,isLE:n}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let e=a;e<i;e++)t[e]=0;(function(e,t,r,i){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,i);let n=BigInt(32),a=BigInt(0xffffffff),o=Number(r>>n&a),s=Number(r&a),u=4*!!i,l=4*!i;e.setUint32(t+u,o,i),e.setUint32(t+l,s,i)})(r,i-8,BigInt(8*this.length),n),this.process(r,0);let o=r7(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)o.setUint32(4*e,l[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:i,finished:n,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=n,e.destroyed=a,i%t&&e.buffer.set(r),e}},io=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),is=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),iu=new Uint32Array(64),il=class extends ia{constructor(){super(64,32,8,!1),this.A=0|is[0],this.B=0|is[1],this.C=0|is[2],this.D=0|is[3],this.E=0|is[4],this.F=0|is[5],this.G=0|is[6],this.H=0|is[7]}get(){let{A:e,B:t,C:r,D:i,E:n,F:a,G:o,H:s}=this;return[e,t,r,i,n,a,o,s]}set(e,t,r,i,n,a,o,s){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|i,this.E=0|n,this.F=0|a,this.G=0|o,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)iu[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=iu[e-15],r=iu[e-2],i=r9(t,7)^r9(t,18)^t>>>3,n=r9(r,17)^r9(r,19)^r>>>10;iu[e]=n+iu[e-7]+i+iu[e-16]|0}let{A:r,B:i,C:n,D:a,E:o,F:s,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(r9(o,6)^r9(o,11)^r9(o,25))+ir(o,s,u)+io[e]+iu[e]|0,c=(r9(r,2)^r9(r,13)^r9(r,22))+ii(r,i,n)|0;l=u,u=s,s=o,o=a+t|0,a=n,n=i,i=r,r=t+c|0}r=r+this.A|0,i=i+this.B|0,n=n+this.C|0,a=a+this.D|0,o=o+this.E|0,s=s+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,n,a,o,s,u,l)}roundClean(){iu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},ic=(d=()=>new il,(s=e=>d().update(ie(e)).digest()).outputLen=(u=d()).outputLen,s.blockLen=u.blockLen,s.create=()=>d(),s),id=x.Layout,ip=x.Structure,ih=(x.Union,x.BitStructure,x.UInt),im=(x.Blob,x.greedy,x.u8),ig=x.u16,ib=(x.u24,x.u32),iy=(x.u40,x.u48,x.nu64),ix=(x.u16be,x.u24be,x.u32be,x.u40be,x.u48be,x.nu64be,x.s8,x.s16,x.s24,x.s32);x.s40,x.s48,x.ns64,x.s16be,x.s24be,x.s32be,x.s40be,x.s48be,x.ns64be,x.f32,x.f32be,x.f64,x.f64be;var iA=x.seq,iw=(x.union,x.unionLayoutDiscriminator,x.blob),iv=(x.cstr,x.utf8,x.bits),iS=x.offset,ik=class extends id{constructor(e,t,r){super(e,r),this.blob=iw(e),this.signed=t}decode(e,t=0){let r=new k.default(this.blob.decode(e,t),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(e,t,r=0){return"number"==typeof e&&(e=new k.default(e)),this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(f.Buffer,"le",this.span),t,r)}},iT=class extends id{constructor(e){super(8,e),this._lower=iv(ib(),!1),this._upper=iv(ib(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){let r=this._lower.decode(e,t),i=this._upper.decode(e,t+this._lower.span);return J(J({},r),i)}encode(e,t,r=0){return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}};function iE(e){return new ih(1,e)}function iP(e){return new ih(4,e)}function iI(e){return new ik(8,!1,e)}function i_(e){return new ik(16,!1,e)}function iN(e){return new ik(8,!0,e)}var iR=class extends id{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}};function iO(e){return new iR(iw(32),e=>new h.PublicKey(e),e=>e.toBuffer(),e)}function iB(e){return new iR(im(),iC,iD,e)}function iC(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function iD(e){return+!!e}var iF=class extends ip{decode(e,t){return super.decode(e,t)}};function iU(e,t,r){return new iF(e,t,r)}function iM(e,t,r){let i;return iA(e,"number"==typeof t?t:(0,k.isBN)(t)?t.toNumber():new Proxy(t,{get(e,t){if(!i){let t=Reflect.get(e,"count");Reflect.set(e,"count",i=(0,k.isBN)(t)?t.toNumber():t)}return Reflect.get(e,t)},set:(e,t,r)=>("count"===t&&(i=r),Reflect.set(e,t,r))}),r)}iU([iO("mint"),iO("owner"),iI("amount"),iP("delegateOption"),iO("delegate"),iE("state"),iP("isNativeOption"),iI("isNative"),iI("delegatedAmount"),iP("closeAuthorityOption"),iO("closeAuthority")]);ei("Raydium_Util");var iL=iU([iE("instruction")]),iq=iU([iE("instruction")]),iK=iU([iI("rewardState"),iI("rewardOpenTime"),iI("rewardEndTime"),iI("rewardLastUpdateTime"),iI("totalReward"),iI("totalRewardEmissioned"),iI("rewardClaimed"),iI("rewardPerSecond"),i_("accRewardPerShare"),iO("rewardVault"),iO("rewardMint"),iO("rewardSender"),iI("rewardType"),iM(iI(),15,"padding")]),iW=iU([iI("state"),iI("nonce"),iO("lpVault"),iO("rewardVault"),iO(),iO(),iI(),iI(),iI("totalReward"),i_("perShareReward"),iI("lastSlot"),iI("perSlotReward")]),iV=iU([iI("state"),iI("nonce"),iO("lpVault"),iO("rewardVaultA"),iI("totalRewardA"),i_("perShareRewardA"),iI("perSlotRewardA"),iE("option"),iO("rewardVaultB"),iw(7),iI("totalRewardB"),i_("perShareRewardB"),iI("perSlotRewardB"),iI("lastSlot"),iO()]),iG=iU([iI(),iI("state"),iI("nonce"),iI("validRewardTokenNum"),i_("rewardMultiplier"),iI("rewardPeriodMax"),iI("rewardPeriodMin"),iI("rewardPeriodExtend"),iO("lpMint"),iO("lpVault"),iM(iK,5,"rewardInfos"),iO("creator"),iO(),iM(iI(),32,"padding")]),ij=(new Proxy(iW,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return Y(J({},r),{version:3,rewardInfos:[{rewardVault:r.rewardVault,totalReward:r.totalReward,perSlotReward:r.perSlotReward,perShareReward:r.perShareReward}]})}:Reflect.get(e,t,r)}),new Proxy(iV,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return Y(J({},r),{version:5,rewardInfos:[{rewardVault:r.rewardVaultA,totalReward:r.totalRewardA,perSlotReward:r.perSlotRewardA,perShareReward:r.perShareRewardA},{rewardVault:r.rewardVaultB,totalReward:r.totalRewardB,perSlotReward:r.perSlotRewardB,perShareReward:r.perShareRewardB}]})}:Reflect.get(e,t,r)}),new Proxy(iG,{get:(e,t,r)=>"decode"===t?(...t)=>{let r=e.decode(...t);return Y(J({},r),{version:6,rewardInfos:r.rewardInfos.map(e=>{var t;return Y(J({},e),{rewardType:(null!=(t=Object.entries(i3).find(t=>String(t[1])===e.rewardType.toString()))?t:["Standard SPL"])[0]})})})}:Reflect.get(e,t,r)})),iz=iU([iI("isSet"),iI("rewardPerSecond"),iI("rewardOpenTime"),iI("rewardEndTime"),iI("rewardType")]),iH=iU([iE("instruction"),iI("nonce"),iM(iz,5,"rewardTimeInfo")]),iX=iU([iE("instruction"),iI("rewardReopenTime"),iI("rewardEndTime"),iI("rewardPerSecond")]),iQ=iU([iE("instruction"),iI("isSet"),iI("rewardPerSecond"),iI("rewardOpenTime"),iI("rewardEndTime"),iI("rewardType")]),iJ=(iU([iI("state"),iO("id"),iO("owner"),iI("deposited"),iM(iI(),1,"rewardDebts")]),iU([iI("state"),iO("id"),iO("owner"),iI("deposited"),iM(i_(),1,"rewardDebts"),iI(""),iI("voteLockedBalance"),iM(iI(),15)])),iY=(iU([iI("state"),iO("id"),iO("owner"),iI("deposited"),iM(iI(),2,"rewardDebts")]),iU([iI("state"),iO("id"),iO("owner"),iI("deposited"),iM(i_(),2,"rewardDebts"),iM(iI(),17)])),iZ=iU([iI(),iI("state"),iO("id"),iO("owner"),iI("deposited"),iM(i_(),5,"rewardDebts"),iM(iI(),16)]),i$=iU([iE("instruction"),iI("amount")]),i0=iU([iO("mint"),iO("grantAuthority"),iI("baselineVoteWeightScaledFactor"),iI("maxExtraLockupVoteWeightScaledFactor"),iI("lockupSaturationSecs"),new ik(1,!0,"digitShift"),iM(iE(),7,"reserved1"),iM(iI(),7,"reserved2")]),i1=(iU([iw(8),iO("governanceProgramId"),iO("realm"),iO("realmGoverningTokenMint"),iO("realmAuthority"),iM(iE(),32,"reserved1"),iM(i0,4,"votingMints"),iN("timeOffset"),iE("bump"),iM(iE(),7,"reserved2"),iM(iI(),11,"reserved3")]),iU([iN("startTime"),iN("endTime"),iE("kind"),iM(iE(),15,"reserved")])),i2=iU([iM(i1,1,"lockup"),iI("amountDeposited_native"),iI("amountInitiallyLockedNative"),iB("isUsed"),iB("allowClawback"),iE("votingMintConfigIdx"),iM(iE(),29,"reserved")]);iU([iw(8),iO("voterAuthority"),iO("registrar"),iM(i2,32,"deposits"),iE("voterBump"),iE("voterWweightRecordBump"),iM(iE(),94,"reserved")]),ei("Raydium_farm_config");var i4=new h.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),i6=new h.PublicKey("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1"),i3={"Standard SPL":0,"Option tokens":1},i5={[rw.toString()]:3,[rv.toString()]:4,[rS.toString()]:5,[rk.toString()]:6},i8=ei("Raydium.farm.util");ei("Raydium_farm_instruction");f.Buffer.from([6,24,245,52,243,255,148,25]),f.Buffer.from([185,131,167,186,159,125,19,67]),f.Buffer.from([242,35,198,137,82,225,242,182]),f.Buffer.from([183,18,70,156,148,109,161,34]),f.Buffer.from([45,185,3,36,109,190,115,169]);var i7=new k.default(0),i9=new k.default(1),ne=new k.default(-1),nt=new k.default(1).shln(64),nr=new k.default(1).shln(128),ni=nt.sub(i9),nn=nr.subn(1),na=new k.default("4295048016"),no=new k.default("79226673521066979257578248091"),ns=new k.default("4295048017"),nu=new k.default("79226673521066979257578248090"),nl=new k.default(10).pow(new k.default(6)),nc=((l=nc||{})[l.rate_500=500]="rate_500",l[l.rate_3000=3e3]="rate_3000",l[l.rate_10000=1e4]="rate_10000",l),nd={tvl:0,volumeQuote:0,mintAmountA:0,mintAmountB:0,rewardDefaultInfos:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,day:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},week:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},month:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},pooltype:[]};function nf(e){let t=new ArrayBuffer(4);return new DataView(t).setInt32(0,e,!1),new Uint8Array(t)}function np(e,t){let r=0;for(let i=e-1;i>=0&&!t.testn(i);i--)r++;return r}function nh(e,t){let r=0;for(let i=0;i<e&&!t.testn(i);i++)r++;return r}function nm(e,t){for(let r=0;r<e;r++)if(t.testn(r))return!1;return!0}new k.default("18446744073700000000"),f.Buffer.from("amm_config","utf8");var ng=f.Buffer.from("pool","utf8"),nb=f.Buffer.from("pool_vault","utf8"),ny=f.Buffer.from("pool_reward_vault","utf8"),nx=f.Buffer.from("position","utf8"),nA=f.Buffer.from("tick_array","utf8"),nw=f.Buffer.from("operation","utf8"),nv=f.Buffer.from("pool_tick_array_bitmap_extension","utf8"),nS=f.Buffer.from("observation","utf8");function nk(e,t,r){return rg([nb,t.toBuffer(),r.toBuffer()],e)}function nT(e,t,r){return rg([nA,t.toBuffer(),nf(r)],e)}function nE(e,t,r,i){return rg([nx,t.toBuffer(),nf(r),nf(i)],e)}function nP(e,t){return rg([nx,t.toBuffer()],e)}function nI(e){return rg([f.Buffer.from("metadata","utf8"),t$.toBuffer(),e.toBuffer()],t$)}function n_(e,t){return rg([nv,t.toBuffer()],e)}var nN=f.Buffer.from("locked_position","utf8");function nR(e,t){return rg([nN,t.toBuffer()],e)}function nO(e,t){return rg([nN,t.toBuffer()],e)}f.Buffer.from("support_mint","utf8");var nB=class{static getfeeGrowthInside(e,t,r){let i=new k.default(0),n=new k.default(0);e.tickCurrent>=t.tick?(i=t.feeGrowthOutsideX64A,n=t.feeGrowthOutsideX64B):(i=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),n=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let a=new k.default(0),o=new k.default(0);return e.tickCurrent<r.tick?(a=r.feeGrowthOutsideX64A,o=r.feeGrowthOutsideX64B):(a=e.feeGrowthGlobalX64A.sub(r.feeGrowthOutsideX64A),o=e.feeGrowthGlobalX64B.sub(r.feeGrowthOutsideX64B)),{feeGrowthInsideX64A:nM.wrappingSubU128(nM.wrappingSubU128(e.feeGrowthGlobalX64A,i),a),feeGrowthInsideBX64:nM.wrappingSubU128(nM.wrappingSubU128(e.feeGrowthGlobalX64B,n),o)}}static GetPositionFees(e,t,r,i){let{feeGrowthInsideX64A:n,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,r,i),o=nM.mulDivFloor(nM.wrappingSubU128(n,t.feeGrowthInsideLastX64A),t.liquidity,nt),s=t.tokenFeesOwedA.add(o),u=nM.mulDivFloor(nM.wrappingSubU128(a,t.feeGrowthInsideLastX64B),t.liquidity,nt);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionFeesV2(e,t,r,i){let{feeGrowthInsideX64A:n,feeGrowthInsideBX64:a}=this.getfeeGrowthInside(e,r,i),o=nM.mulDivFloor(nM.wrappingSubU128(n,t.feeGrowthInsideLastX64A),t.liquidity,nt),s=t.tokenFeesOwedA.add(o),u=nM.mulDivFloor(nM.wrappingSubU128(a,t.feeGrowthInsideLastX64B),t.liquidity,nt);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionRewardsV2(e,t,r,i){let n=[],a=this.getRewardGrowthInsideV2(e.tickCurrent,r,i,e.rewardInfos);for(let e=0;e<a.length;e++){let r=a[e],i=t.rewardInfos[e],o=nM.wrappingSubU128(r,i.growthInsideLastX64),s=nM.mulDivFloor(o,t.liquidity,nt),u=i.rewardAmountOwed.add(s);n.push(u)}return n}static GetPositionRewards(e,t,r,i){let n=[],a=this.getRewardGrowthInside(e.tickCurrent,r,i,e.rewardInfos);for(let e=0;e<a.length;e++){let r=a[e],i=t.rewardInfos[e],o=nM.wrappingSubU128(r,i.growthInsideLastX64),s=nM.mulDivFloor(o,t.liquidity,nt),u=i.rewardAmountOwed.add(s);n.push(u)}return n}static getRewardGrowthInside(e,t,r,i){let n=[];for(let a=0;a<i.length;a++){let o=new k.default(0);o=t.liquidityGross.eqn(0)?i[a].rewardGrowthGlobalX64:e<t.tick?i[a].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[a]):t.rewardGrowthsOutsideX64[a];let s=new k.default(0);r.liquidityGross.eqn(0)||(s=e<r.tick?r.rewardGrowthsOutsideX64[a]:i[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a])),n.push(nM.wrappingSubU128(nM.wrappingSubU128(i[a].rewardGrowthGlobalX64,o),s))}return n}static getRewardGrowthInsideV2(e,t,r,i){let n=[];for(let a=0;a<i.length;a++){let o=new k.default(0);o=t.liquidityGross.eqn(0)?i[a].rewardGrowthGlobalX64:e<t.tick?i[a].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[a]):t.rewardGrowthsOutsideX64[a];let s=new k.default(0);r.liquidityGross.eqn(0)||(s=e<r.tick?r.rewardGrowthsOutsideX64[a]:i[a].rewardGrowthGlobalX64.sub(r.rewardGrowthsOutsideX64[a])),n.push(nM.wrappingSubU128(nM.wrappingSubU128(i[a].rewardGrowthGlobalX64,o),s))}return n}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:r,slippage:i,add:n,epochInfo:a}){var o,s,u,l;let c=nK.priceToSqrtPriceX64(new tR(e.price),e.mintA.decimals,e.mintB.decimals),d=nK.getSqrtPriceX64FromTick(t.tickLower),f=nK.getSqrtPriceX64FromTick(t.tickUpper),p=n?1+i:1-i,h=nV.getAmountsFromLiquidity(c,d,f,r,n),[m,g]=[rW(h.amountA,null==(o=e.mintA.extensions)?void 0:o.feeConfig,a,!0),rW(h.amountB,null==(s=e.mintB.extensions)?void 0:s.feeConfig,a,!0)],[b,y]=[rW(new k.default(new tR(h.amountA.toString()).mul(p).toFixed(0)),null==(u=e.mintA.extensions)?void 0:u.feeConfig,a,!0),rW(new k.default(new tR(h.amountB.toString()).mul(p).toFixed(0)),null==(l=e.mintB.extensions)?void 0:l.feeConfig,a,!0)];return{liquidity:r,amountA:m,amountB:g,amountSlippageA:b,amountSlippageB:y,expirationTime:rV(m.expirationTime,g.expirationTime)}}},nC=class{static async getTickArrays(e,t,r,i,n,a,o){let s=[],u=nH.getTickArrayStartIndexByTick(i,n),l=nH.getInitializedTickArrayInRange(a,o,n,u,Math.floor(7.5));for(let e=0;e<l.length;e++){let{publicKey:i}=nT(t,r,l[e]);s.push(i)}let c=(await ea(e,s)).map(e=>null!==e?n2.decode(e.data):null),d={};for(let e=0;e<s.length;e++){let t=c[e];null!==t&&(d[t.startTickIndex]=Y(J({},t),{address:s[e]}))}return d}static nextInitializedTick(e,t,r,i,n,a){let{initializedTick:o,tickArrayAddress:s,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,r,i,n,a);for(;null==o||o.liquidityGross.lten(0);){if(u=nH.getNextTickArrayStartIndex(u,n,a),this.checkIsValidStartIndex(u,n))throw Error("No enough initialized tickArray");let i=r[u];if(void 0===i)continue;let{nextTick:l,tickArrayAddress:c,tickArrayStartTickIndex:d}=this.firstInitializedTickInOneArray(e,t,i,a);[o,s,u]=[l,c,d]}if(null==o)throw Error("No invaild tickArray cache");return{nextTick:o,tickArrayAddress:s,tickArrayStartTickIndex:u}}static nextInitializedTickArray(e,t,r,i,n){let a=Math.floor(e/nC.tickCount(t)),o=r?nH.searchLowBitFromStart(i,n,a-1,1,t):nH.searchHightBitFromStart(i,n,a+1,1,t);return o.length>0?{isExist:!0,nextStartIndex:o[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,t,r,i){let n;if(i){let e=nj-1;for(;e>=0;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){n=t;break}e-=1}}else{let e=0;for(;e<nj;){let t=r.ticks[e];if(t.liquidityGross.gtn(0)){n=t;break}e+=1}}let{publicKey:a}=nT(e,t,r.startTickIndex);return{nextTick:n,tickArrayAddress:a,tickArrayStartTickIndex:r.startTickIndex}}static nextInitializedTickInOneArray(e,t,r,i,n,a){let o,s=nH.getTickArrayStartIndexByTick(i,n),u=Math.floor((i-s)/n),l=r[s];if(null==l)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:s};if(a)for(;u>=0;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){o=e;break}u-=1}else for(u+=1;u<nj;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){o=e;break}u+=1}let{publicKey:c}=nT(e,t,s);return{initializedTick:o,tickArrayAddress:c,tickArrayStartTickIndex:l.startTickIndex}}static getArrayStartIndex(e,t){let r=this.tickCount(t);return Math.floor(e/r)*r}static checkIsValidStartIndex(e,t){return nH.checkIsOutOfBoundary(e)?!(e>443636)&&e==nH.getTickArrayStartIndexByTick(-443636,t):e%this.tickCount(t)==0}static tickCount(e){return nj*e}},nD=class{static maxTickInTickarrayBitmap(e){return e*nj*nz}static getBitmapTickBoundary(e,t){let r=this.maxTickInTickarrayBitmap(t),i=Math.floor(Math.abs(e)/r);e<0&&Math.abs(e)%r!=0&&(i+=1);let n=r*i;return e<0?{minValue:-n,maxValue:-n+r}:{minValue:n,maxValue:n+r}}static nextInitializedTickArrayStartIndex(e,t,r,i){var n,a;if(!nC.checkIsValidStartIndex(t,r))throw Error("nextInitializedTickArrayStartIndex check error");let o=this.maxTickInTickarrayBitmap(r),s=i?t-nC.tickCount(r):t+nC.tickCount(r);if(s<-o||s>=o)return{isInit:!1,tickIndex:t};let u=r*nj,l=s/u+512;s<0&&s%u!=0&&l--;let c=Math.abs(l);if(i){let t=nm(1024,n=e.shln(1024-c-1))?null:np(1024,n);return null!==t?{isInit:!0,tickIndex:(c-t-512)*u}:{isInit:!1,tickIndex:-o}}{let t=nm(1024,a=e.shrn(c))?null:nh(1024,a);return null!==t?{isInit:!0,tickIndex:(c+t-512)*u}:{isInit:!1,tickIndex:o-nC.tickCount(r)}}}},nF=class{static getBitmapOffset(e,t){if(!nC.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");this.checkExtensionBoundary(e,t);let r=nD.maxTickInTickarrayBitmap(t),i=Math.floor(Math.abs(e)/r)-1;return e<0&&Math.abs(e)%r==0&&i--,i}static getBitmap(e,t,r){let i=this.getBitmapOffset(e,t);return e<0?{offset:i,tickarrayBitmap:r.negativeTickArrayBitmap[i]}:{offset:i,tickarrayBitmap:r.positiveTickArrayBitmap[i]}}static checkExtensionBoundary(e,t){let{positiveTickBoundary:r,negativeTickBoundary:i}=this.extensionTickBoundary(t);if(e>=i&&e<r)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){let t=nD.maxTickInTickarrayBitmap(e),r=-t;if(443636<=t)throw Error(`extensionTickBoundary check error: 443636, ${t}`);if(r<=-443636)throw Error(`extensionTickBoundary check error: ${r}, -443636`);return{positiveTickBoundary:t,negativeTickBoundary:r}}static checkTickArrayIsInit(e,t,r){let{tickarrayBitmap:i}=this.getBitmap(e,t,r),n=this.tickArrayOffsetInBitmap(e,t);return{isInitialized:nH.mergeTickArrayBitmap(i).testn(n),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,t,r,i){let n=nC.tickCount(t),a=r?e-n:e+n,{tickarrayBitmap:o}=this.getBitmap(a,t,i);return this.nextInitializedTickArrayInBitmap(o,a,t,r)}static nextInitializedTickArrayInBitmap(e,t,r,i){let{minValue:n,maxValue:a}=nD.getBitmapTickBoundary(t,r),o=this.tickArrayOffsetInBitmap(t,r);if(i){let i=nH.mergeTickArrayBitmap(e).shln(nz-1-o),a=nm(512,i)?null:np(512,i);return null!==a?{isInit:!0,tickIndex:t-a*nC.tickCount(r)}:{isInit:!1,tickIndex:n}}{let i=nH.mergeTickArrayBitmap(e).shrn(o),n=nm(512,i)?null:nh(512,i);return null!==n?{isInit:!0,tickIndex:t+n*nC.tickCount(r)}:{isInit:!1,tickIndex:a-nC.tickCount(r)}}}static tickArrayOffsetInBitmap(e,t){let r=Math.abs(e)%nD.maxTickInTickarrayBitmap(t),i=Math.floor(r/nC.tickCount(t));return e<0&&0!=r&&(i=nz-i),i}},nU=class{static getOutputAmountAndRemainAccounts(e,t,r,i,n,a=!1){let o=r.toBase58()===e.mintA.address,s=[],{isExist:u,startIndex:l,nextAccountMeta:c}=this.getFirstInitializedTickArray(e,o);if(!u||void 0===l||!c)throw Error("Invalid tick array");s.push(c);let{allTrade:d,amountCalculated:f,accounts:p,sqrtPriceX64:h,feeAmount:m}=nG.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i,l,n,a);return s.push(...p),{allTrade:d,expectedAmountOut:f.mul(ne),remainingAccounts:s,executionPrice:h,feeAmount:m}}static getInputAmountAndRemainAccounts(e,t,r,i,n){let a=r.toBase58()===e.mintB.address,o=[],{isExist:s,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,a);if(!s||void 0===u||!l)throw Error("Invalid tick array");try{let t=this.preInitializedTickArrayStartIndex(e,a);if(t.isExist){let{publicKey:r}=nT(e.programId,e.id,t.nextStartIndex);o.push(r)}}catch{}o.push(l);let{amountCalculated:c,accounts:d,sqrtPriceX64:f,feeAmount:p}=nG.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,i.mul(ne),u,n);return o.push(...d),{expectedAmountIn:c,remainingAccounts:o,executionPrice:f,feeAmount:p}}static getFirstInitializedTickArray(e,t){let{isInitialized:r,startIndex:i}=nU.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[e.tickCurrent])?nF.checkTickArrayIsInit(nC.getArrayStartIndex(e.tickCurrent,e.tickSpacing),e.tickSpacing,e.exBitmapInfo):nH.checkTickArrayIsInitialized(nH.mergeTickArrayBitmap(e.tickArrayBitmap),e.tickCurrent,e.tickSpacing);if(r){let{publicKey:t}=nT(e.programId,e.id,i);return{isExist:!0,startIndex:i,nextAccountMeta:t}}let{isExist:n,nextStartIndex:a}=this.nextInitializedTickArrayStartIndex(e,nC.getArrayStartIndex(e.tickCurrent,e.tickSpacing),t);if(n){let{publicKey:t}=nT(e.programId,e.id,a);return{isExist:!0,startIndex:a,nextAccountMeta:t}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,t){let r=Math.floor(e.tickCurrent/nC.tickCount(e.tickSpacing)),i=t?nH.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r+1,1,e.tickSpacing):nH.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,r-1,1,e.tickSpacing);return i.length>0?{isExist:!0,nextStartIndex:i[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,t,r){for(t=nC.getArrayStartIndex(e.tickCurrent,e.tickSpacing);;){let{isInit:i,tickIndex:n}=nD.nextInitializedTickArrayStartIndex(nH.mergeTickArrayBitmap(e.tickArrayBitmap),t,e.tickSpacing,r);if(i)return{isExist:!0,nextStartIndex:n};t=n;let{isInit:a,tickIndex:o}=nF.nextInitializedTickArrayFromOneBitmap(t,e.tickSpacing,r,e.exBitmapInfo);if(a)return{isExist:!0,nextStartIndex:o};if((t=o)<-443636||t>443636)return{isExist:!1,nextStartIndex:0}}}static async updatePoolRewardInfos({connection:e,apiPoolInfo:t,chainTime:r,poolLiquidity:i,rewardInfos:n}){var a,o,s;let u=[];for(let l=0;l<n.length;l++){let c=n[l],d=null!=(s=null==(a=t.rewardDefaultInfos[l])?void 0:a.mint.programId)?s:null==(o=await e.getAccountInfo(c.tokenMint))?void 0:o.owner;if(void 0===d)throw Error("get new reward mint info error");let f=Y(J({},c),{perSecond:nM.x64ToDecimal(c.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new h.PublicKey(d)});if(f.tokenMint.equals(h.PublicKey.default))continue;if(r<=f.openTime.toNumber()||i.eq(i7)){u.push(f);continue}let p=new k.default(Math.min(f.endTime.toNumber(),r)),m=p.sub(f.lastUpdateTime),g=nM.mulDivFloor(m,f.emissionsPerSecondX64,i),b=f.rewardGrowthGlobalX64.add(g),y=nM.mulDivFloor(m,f.emissionsPerSecondX64,nt),x=f.rewardTotalEmissioned.add(y);u.push(Y(J({},f),{rewardGrowthGlobalX64:b,rewardTotalEmissioned:x,lastUpdateTime:p}))}return u}static isOverflowDefaultTickarrayBitmap(e,t){let{maxTickBoundary:r,minTickBoundary:i}=this.tickRange(e);for(let n of t){let t=nH.getTickArrayStartIndexByTick(n,e);if(t>=r||t<i)return!0}return!1}static tickRange(e){let t=nD.maxTickInTickarrayBitmap(e),r=-t;return t>443636&&(t=nC.getArrayStartIndex(443636,e)+nC.tickCount(e)),r<-443636&&(r=nC.getArrayStartIndex(-443636,e)),{maxTickBoundary:t,minTickBoundary:r}}static get_tick_array_offset(e,t){if(!nC.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");return e/nC.tickCount(t)*nz}static async fetchExBitmaps({connection:e,exBitmapAddress:t,batchRequest:r}){let i=await eo(e,t.map(e=>({pubkey:e})),{batchRequest:r}),n={};for(let e of i)null!==e.accountInfo&&(n[e.pubkey.toString()]=n6.decode(e.accountInfo.data));return n}static async fetchMultiplePoolTickArrays({connection:e,poolKeys:t,batchRequest:r}){let i={},n=[];for(let e of t){let t=nH.getTickArrayStartIndexByTick(e.tickCurrent,e.tickSpacing);for(let r of nH.getInitializedTickArrayInRange(e.tickArrayBitmap,e.exBitmapInfo,e.tickSpacing,t,7)){let{publicKey:t}=nT(e.programId,e.id,r);n.push({pubkey:t}),i[t.toString()]=e.id}}let a=await eo(e,n,{batchRequest:r}),o={};for(let e of a){if(!e.accountInfo)continue;let t=i[e.pubkey.toString()];if(!t)continue;void 0===o[t.toString()]&&(o[t.toString()]={});let r=n2.decode(e.accountInfo.data);o[t.toString()][r.startTickIndex]=Y(J({},r),{address:e.pubkey})}return o}static async fetchPoolsAccountPosition({pools:e,connection:t,ownerInfo:r,batchRequest:i=!1,updateOwnerRewardAndFee:n=!0}){var a;let o=[];for(let t=0;t<e.length;t++){let r=e[t];null!==r&&(o.find(e=>e.equals(r.state.programId))||o.push(r.state.programId))}if(r){let s=r.tokenAccounts.map(e=>e.accountInfo.mint),u=[];for(let e of s)for(let t of o)u.push(nP(t,e).publicKey);let l=await ea(t,u,{batchRequest:i}),c={};for(let t of l){if(null===t)continue;let r=n0.decode(t.data),i=r.poolId.toString(),n=e.find(e=>e.state.id.toBase58()===i);if(void 0===n)continue;let o=n.state,s=nH._getTickPriceLegacy({poolInfo:o,tick:r.tickLower,baseIn:!0}),u=nH._getTickPriceLegacy({poolInfo:o,tick:r.tickUpper,baseIn:!0}),{amountA:l,amountB:d}=nV.getAmountsFromLiquidity(o.sqrtPriceX64,s.tickSqrtPriceX64,u.tickSqrtPriceX64,r.liquidity,!1),f=1/(1-Math.sqrt(Math.sqrt(s.price.div(u.price).toNumber())));n.positionAccount=[...null!=(a=n.positionAccount)?a:[],{poolId:r.poolId,nftMint:r.nftMint,priceLower:s.price,priceUpper:u.price,amountA:l,amountB:d,tickLower:r.tickLower,tickUpper:r.tickUpper,liquidity:r.liquidity,feeGrowthInsideLastX64A:r.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:r.feeGrowthInsideLastX64B,tokenFeesOwedA:r.tokenFeesOwedA,tokenFeesOwedB:r.tokenFeesOwedB,rewardInfos:r.rewardInfos.map(e=>Y(J({},e),{pendingReward:new k.default(0)})),leverage:f,tokenFeeAmountA:new k.default(0),tokenFeeAmountB:new k.default(0)}];let p=await nH.getTickArrayAddressByTick(n.state.programId,r.poolId,r.tickLower,n.state.tickSpacing),h=await nH.getTickArrayAddressByTick(n.state.programId,r.poolId,r.tickUpper,n.state.tickSpacing);c[`${n.state.programId.toString()}-${r.poolId.toString()}-${r.tickLower}`]=p,c[`${n.state.programId.toString()}-${r.poolId.toString()}-${r.tickUpper}`]=h}if(n){let r=Object.values(c),n=await ea(t,r,{batchRequest:i}),a={};for(let e=0;e<r.length;e++){let t=n[e];null!==t&&(a[r[e].toString()]=n2.decode(t.data))}for(let{state:t,positionAccount:r}of e)if(r)for(let e of r){let r=`${t.programId.toString()}-${t.id.toString()}-${e.tickLower}`,i=`${t.programId.toString()}-${t.id.toString()}-${e.tickUpper}`,n=a[c[r].toString()],o=a[c[i].toString()],s=n.ticks[nH.getTickOffsetInArray(e.tickLower,t.tickSpacing)],u=o.ticks[nH.getTickOffsetInArray(e.tickUpper,t.tickSpacing)],{tokenFeeAmountA:l,tokenFeeAmountB:d}=await nB.GetPositionFees(t,e,s,u),f=await nB.GetPositionRewards(t,e,s,u);e.tokenFeeAmountA=l.gte(new k.default(0))?l:new k.default(0),e.tokenFeeAmountB=d.gte(new k.default(0))?d:new k.default(0);for(let t=0;t<f.length;t++)e.rewardInfos[t].pendingReward=f[t].gte(new k.default(0))?f[t]:new k.default(0)}}}return e}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:i,amountIn:n,slippage:a,priceLimit:o=new tR(0),catchLiquidityInsufficient:s=!1}){var u;let l,c=r.toBase58()===e.mintA.address,[d,f]=c?[e.mintA.extensions.feeConfig,e.mintB.extensions.feeConfig]:[e.mintB.extensions.feeConfig,e.mintA.extensions.feeConfig];l=o.equals(new tR(0))?c?na.add(new k.default(1)):no.sub(new k.default(1)):nK.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let p=rW(n,d,i,!1),{allTrade:h,expectedAmountOut:m,remainingAccounts:g,executionPrice:b,feeAmount:y}=nU.getOutputAmountAndRemainAccounts(e,t,r,p.amount.sub(null!=(u=p.fee)?u:i7),l,s),x=rW(m,f,i,!1),A=nK.sqrtPriceX64ToPrice(b,e.mintA.decimals,e.mintB.decimals),w=c?A:new tR(1).div(A),v=rW(m.mul(new k.default(Math.floor((1-a)*1e10))).div(new k.default(1e10)),f,i,!1),S=c?e.currentPrice:new tR(1).div(e.currentPrice),T=new tR(w).sub(S).abs(),E=new t8(new tR(T).mul(1e15).toFixed(0),new tR(S).mul(1e15).toFixed(0));return{allTrade:h,realAmountIn:p,amountOut:x,minAmountOut:v,expirationTime:rV(p.expirationTime,x.expirationTime),currentPrice:e.currentPrice,executionPrice:w,priceImpact:E,fee:y,remainingAccounts:g,executionPriceX64:b}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:r,tokenOut:i,slippage:n,epochInfo:a,catchLiquidityInsufficient:o=!1}){let[s,u]=i.address===e.mintB.address?[e.mintA,e.mintB]:[e.mintB,e.mintA],[l,c]=[new t6(Y(J({},s),{mint:s.address,isToken2022:s.programId===y.TOKEN_2022_PROGRAM_ID.toBase58()})),new t6(Y(J({},u),{mint:u.address,isToken2022:u.programId===y.TOKEN_2022_PROGRAM_ID.toBase58()}))],{allTrade:d,realAmountIn:f,amountOut:p,minAmountOut:m,expirationTime:g,currentPrice:b,executionPrice:x,priceImpact:A,fee:w,remainingAccounts:v,executionPriceX64:S}=nU.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:new h.PublicKey(s.address),amountIn:r,slippage:n,epochInfo:a,catchLiquidityInsufficient:o});return{allTrade:d,realAmountIn:Y(J({},f),{amount:new tV(l,f.amount),fee:void 0===f.fee?void 0:new tV(l,f.fee)}),amountOut:Y(J({},p),{amount:new tV(c,p.amount),fee:void 0===p.fee?void 0:new tV(c,p.fee)}),minAmountOut:Y(J({},m),{amount:new tV(c,m.amount),fee:void 0===m.fee?void 0:new tV(c,m.fee)}),expirationTime:g,currentPrice:new t9({baseToken:l,denominator:new k.default(10).pow(new k.default(20+l.decimals)),quoteToken:c,numerator:b.mul(new tR(10**(20+c.decimals))).toFixed(0)}),executionPrice:new t9({baseToken:l,denominator:new k.default(10).pow(new k.default(20+l.decimals)),quoteToken:c,numerator:x.mul(new tR(10**(20+c.decimals))).toFixed(0)}),priceImpact:A,fee:new tV(l,w),remainingAccounts:v,executionPriceX64:S}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:r,epochInfo:i,amountOut:n,slippage:a,priceLimit:o=new tR(0)}){var s;let u=r.toBase58()===e.mintA.address,l={[e.mintA.address]:e.mintA.extensions.feeConfig,[e.mintB.address]:e.mintB.extensions.feeConfig},c;c=o.equals(new tR(0))?u?no.sub(new k.default(1)):na.add(new k.default(1)):nK.priceToSqrtPriceX64(o,e.mintA.decimals,e.mintB.decimals);let d=rW(n,l[r.toString()],i,!0),{expectedAmountIn:f,remainingAccounts:p,executionPrice:h,feeAmount:m}=nU.getInputAmountAndRemainAccounts(e,t,r,d.amount.sub(null!=(s=d.fee)?s:i7),c),g=u?e.mintB.address:e.mintA.address,b=rW(f,l[g],i,!1),y=nK.sqrtPriceX64ToPrice(h,e.mintA.decimals,e.mintB.decimals),x=u?y:new tR(1).div(y),A=rW(f.mul(new k.default(Math.floor((1+a)*1e10))).div(new k.default(1e10)),l[g],i,!0),w=u?e.currentPrice:new tR(1).div(e.currentPrice),v=new tR(x).sub(w).abs(),S=new t8(new tR(v).mul(1e15).toFixed(0),new tR(w).mul(1e15).toFixed(0));return{amountIn:b,maxAmountIn:A,realAmountOut:d,expirationTime:rV(b.expirationTime,d.expirationTime),currentPrice:e.currentPrice,executionPrice:x,priceImpact:S,fee:m,remainingAccounts:p}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:r,positionTickUpperIndex:i}){var n,a,o;let s=e[t],u=nH.getTickPrice({poolInfo:e,tick:r,baseIn:!0}).price.toNumber(),l=nH.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),c=Math.max(u,s.priceMin),d=Math.min(l,s.priceMax)-c,f=l-u,p=s.priceMax-s.priceMin,h;return h=d<=0?0:f===d?p/d:p===d?d/f:d/p*(d/f),{feeApr:s.feeApr*h,rewardsApr:[(null!=(n=s.rewardApr[0])?n:0)*h,(null!=(a=s.rewardApr[1])?a:0)*h,(null!=(o=s.rewardApr[2])?o:0)*h],apr:s.apr*h}}static estimateAprsForPriceRangeDelta({poolInfo:e,poolLiquidity:t,aprType:r,mintPrice:i,liquidity:n,positionTickLowerIndex:a,positionTickUpperIndex:o,chainTime:s}){let u=e[r],l=i[t4(e.mintA.address).toString()],c=i[t4(e.mintB.address).toString()],d=e.mintA.decimals,f=e.mintB.decimals;if(!u||!l||!c)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let p=nK.priceToSqrtPriceX64(new tR(e.price),e.mintA.decimals,e.mintB.decimals),h=nK.getSqrtPriceX64FromTick(a),m=nK.getSqrtPriceX64FromTick(o),{amountSlippageA:g,amountSlippageB:b}=nV.getAmountsFromLiquidityWithSlippage(p,h,m,t,!1,!1,0),{amountSlippageA:y,amountSlippageB:x}=nV.getAmountsFromLiquidityWithSlippage(p,h,m,n,!1,!1,0),A=new tR(g.toString()).div(new tR(10).pow(d)).mul(l.value).add(new tR(b.toString()).div(new tR(10).pow(f)).mul(c.value)),w=new tR(y.toString()).div(new tR(10).pow(d)).mul(l.value).add(new tR(x.toString()).div(new tR(10).pow(f)).mul(c.value)),v=new tR(1).div(A.add(w)),S=new tR(u.volumeFee).mul(365).div("day"===r?1:"week"===r?7:30*("month"===r)).mul(v).mul(100).toNumber(),k=e.rewardDefaultInfos.map(e=>{var t,r;let n=e.mint.decimals,a=i[e.mint.address];return s<(null!=(t=e.startTime)?t:0)||s>(null!=(r=e.endTime)?r:0)||!e.perSecond||!a||void 0===n?0:new tR(a.value).mul(new tR(e.perSecond).mul(31536e3)).div(new tR(10).pow(n)).mul(v).mul(100).toNumber()});return{feeApr:S,rewardsApr:k,apr:S+k.reduce((e,t)=>e+t,0)}}static async getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:r,tickUpper:i,amount:n,slippage:a,add:o,epochInfo:s,amountHasFee:u}){var l,c;let d=nK.priceToSqrtPriceX64(new tR(e.price),e.mintA.decimals,e.mintB.decimals),f=nK.getSqrtPriceX64FromTick(r),p=nK.getSqrtPriceX64FromTick(i),h=rW(n,null==(l=e[t?"mintA":"mintB"].extensions)?void 0:l.feeConfig,s,!u),m=new k.default(new tR(h.amount.sub(null!=(c=h.fee)?c:i7).toString()).toFixed(0)),g;if(d.lte(f))g=t?nV.getLiquidityFromTokenAmountA(f,p,m,!o):new k.default(0);else if(d.lte(p)){let e=nV.getLiquidityFromTokenAmountA(d,p,m,!o),r=nV.getLiquidityFromTokenAmountB(f,d,m);g=t?e:r}else g=t?new k.default(0):nV.getLiquidityFromTokenAmountB(f,p,m);let b=await nU.getAmountsFromLiquidity({epochInfo:s,poolInfo:e,tickLower:r,tickUpper:i,liquidity:g,slippage:a,add:o});return{liquidity:g,amountA:t?h:b.amountA,amountB:t?b.amountB:h,amountSlippageA:t?h:b.amountSlippageA,amountSlippageB:t?b.amountSlippageB:h,expirationTime:b.expirationTime}}static async getAmountsFromLiquidity({epochInfo:e,poolInfo:t,tickLower:r,tickUpper:i,liquidity:n,slippage:a,add:o}){var s,u,l,c;let d=nK.getSqrtPriceX64FromTick(r),f=nK.getSqrtPriceX64FromTick(i),p=o?1+a:1-a,h=nV.getAmountsFromLiquidity(nK.priceToSqrtPriceX64(new tR(t.price),t.mintA.decimals,t.mintB.decimals),d,f,n,o),[m,g]=[rW(h.amountA,null==(s=t.mintA.extensions)?void 0:s.feeConfig,e,!0),rW(h.amountB,null==(u=t.mintB.extensions)?void 0:u.feeConfig,e,!0)],[b,y]=[rW(h.amountA.muln(p),null==(l=t.mintA.extensions)?void 0:l.feeConfig,e,!0),rW(h.amountB.muln(p),null==(c=t.mintB.extensions)?void 0:c.feeConfig,e,!0)];return{liquidity:n,amountA:m,amountB:g,amountSlippageA:b,amountSlippageB:y,expirationTime:rV(m.expirationTime,g.expirationTime)}}static async fetchComputeMultipleClmmInfo({connection:e,poolList:t,rpcDataMap:r={}}){let i=t.filter(e=>!r[e.id]).map(e=>new h.PublicKey(e.id));(await ea(e,i)).forEach((e,t)=>{e&&(r[i[t].toBase58()]=nZ.decode(e.data))});let n=t.map(e=>n_(new h.PublicKey(e.programId),new h.PublicKey(e.id)).publicKey),a=await nU.fetchExBitmaps({connection:e,exBitmapAddress:n,batchRequest:!1});return t.reduce((e,t)=>Y(J({},e),{[t.id]:Y(J({},r[t.id]),{id:new h.PublicKey(t.id),version:6,programId:new h.PublicKey(t.programId),mintA:t.mintA,mintB:t.mintB,ammConfig:Y(J({},t.config),{id:new h.PublicKey(t.config.id),fundOwner:""}),currentPrice:new tR(t.price),exBitmapAccount:n_(new h.PublicKey(t.programId),new h.PublicKey(t.id)).publicKey,exBitmapInfo:a[n_(new h.PublicKey(t.programId),new h.PublicKey(t.id)).publicKey.toBase58()],startTime:r[t.id].startTime.toNumber(),rewardInfos:r[t.id].rewardInfos})}),{})}static async fetchComputeClmmInfo({connection:e,poolInfo:t,rpcData:r}){return(await this.fetchComputeMultipleClmmInfo({connection:e,rpcDataMap:r?{[t.id]:r}:void 0,poolList:[t]}))[t.id]}},nM=class{static mulDivRoundingUp(e,t,r){let i=e.mul(t),n=i.div(r);return i.mod(r).eq(i7)||(n=n.add(i9)),n}static mulDivFloor(e,t,r){if(r.eq(i7))throw Error("division by 0");return e.mul(t).div(r)}static mulDivCeil(e,t,r){if(r.eq(i7))throw Error("division by 0");return e.mul(t).add(r.sub(i9)).div(r)}static x64ToDecimal(e,t){return new tR(e.toString()).div(tR.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new k.default(e.mul(tR.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(nr).sub(t).mod(nr)}};function nL(e,t){return nq(e.mul(t),64,256)}function nq(e,t,r){let i=e.toTwos(r).shrn(t);return i.imaskn(r-t+1),i.fromTwos(r-t)}var nK=class{static sqrtPriceX64ToPrice(e,t,r){return nM.x64ToDecimal(e).pow(2).mul(tR.pow(10,t-r))}static priceToSqrtPriceX64(e,t,r){return nM.decimalToX64(e.mul(tR.pow(10,r-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,r,i){if(!e.gt(i7))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(i7))throw Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!0)}static getNextSqrtPriceX64FromOutput(e,t,r,i){if(!e.gt(i7))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(i7))throw Error("liquidity must greater than 0");return i?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,r,i){if(r.eq(i7))return e;let n=t.shln(64);if(i){let t=n.add(r.mul(e));return t.gte(n)?nM.mulDivCeil(n,e,t):nM.mulDivRoundingUp(n,i9,n.div(e).add(r))}{let t=r.mul(e);if(!n.gt(t))throw Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let i=n.sub(t);return nM.mulDivCeil(n,e,i)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,r,i){let n=r.shln(64);if(i)return e.add(n.div(t));{let r=nM.mulDivRoundingUp(n,i9,t);if(!e.gt(r))throw Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(r)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw Error("tick must be integer");if(e<-443636||e>443636)throw Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?-1*e:e,r=new k.default((1&t)!=0?"18445821805675395072":"18446744073709551616");return(2&t)!=0&&(r=nL(r,new k.default("18444899583751176192"))),(4&t)!=0&&(r=nL(r,new k.default("18443055278223355904"))),(8&t)!=0&&(r=nL(r,new k.default("18439367220385607680"))),(16&t)!=0&&(r=nL(r,new k.default("18431993317065453568"))),(32&t)!=0&&(r=nL(r,new k.default("18417254355718170624"))),(64&t)!=0&&(r=nL(r,new k.default("18387811781193609216"))),(128&t)!=0&&(r=nL(r,new k.default("18329067761203558400"))),(256&t)!=0&&(r=nL(r,new k.default("18212142134806163456"))),(512&t)!=0&&(r=nL(r,new k.default("17980523815641700352"))),(1024&t)!=0&&(r=nL(r,new k.default("17526086738831433728"))),(2048&t)!=0&&(r=nL(r,new k.default("16651378430235570176"))),(4096&t)!=0&&(r=nL(r,new k.default("15030750278694412288"))),(8192&t)!=0&&(r=nL(r,new k.default("12247334978884435968"))),(16384&t)!=0&&(r=nL(r,new k.default("8131365268886854656"))),(32768&t)!=0&&(r=nL(r,new k.default("3584323654725218816"))),(65536&t)!=0&&(r=nL(r,new k.default("696457651848324352"))),(131072&t)!=0&&(r=nL(r,new k.default("26294789957507116"))),(262144&t)!=0&&(r=nL(r,new k.default("37481735321082"))),e>0&&(r=nn.div(r)),r}static getTickFromPrice(e,t,r){return nK.getTickFromSqrtPriceX64(nK.priceToSqrtPriceX64(e,t,r))}static getTickFromSqrtPriceX64(e){let t;if(e.gt(no)||e.lt(na))throw Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let r=e.bitLength()-1,i=((t=new k.default(r-64).toTwos(128).shln(32)).imaskn(129),t.fromTwos(128)),n=new k.default("8000000000000000","hex"),a=0,o=new k.default(0),s=r>=64?e.shrn(r-63):e.shln(63-r);for(;n.gt(new k.default(0))&&a<16;){let e=(s=s.mul(s)).shrn(127);s=s.shrn(63+e.toNumber()),o=o.add(n.mul(e)),n=n.shrn(1),a+=1}let u=o.shrn(32),l=i.add(u).mul(new k.default("59543866431248")),c=nq(l.sub(new k.default("184467440737095516")),64,128).toNumber(),d=nq(l.add(new k.default("15793534762490258745")),64,128).toNumber();return c==d?c:nK.getSqrtPriceX64FromTick(d).lte(e)?d:c}},nW=class{static getTickWithPriceAndTickspacing(e,t,r,i){let n=nK.getTickFromSqrtPriceX64(nK.priceToSqrtPriceX64(e,r,i))/t;return(n=n<0?Math.floor(n):Math.ceil(n))*t}static roundPriceWithTickspacing(e,t,r,i){let n=nW.getTickWithPriceAndTickspacing(e,t,r,i),a=nK.getSqrtPriceX64FromTick(n);return nK.sqrtPriceX64ToPrice(a,r,i)}},nV=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,r,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(i7))throw Error("sqrtPriceX64A must greater than 0");let n=r.ushln(64),a=t.sub(e);return i?nM.mulDivRoundingUp(nM.mulDivCeil(n,a,t),i9,e):nM.mulDivFloor(n,a,t).div(e)}static getTokenAmountBFromLiquidity(e,t,r,i){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(i7))throw Error("sqrtPriceX64A must greater than 0");return i?nM.mulDivCeil(r,t.sub(e),nt):nM.mulDivFloor(r,t.sub(e),nt)}static getLiquidityFromTokenAmountA(e,t,r,i){e.gt(t)&&([e,t]=[t,e]);let n=r.mul(e).mul(t),a=t.sub(e),o=n.div(a);return i?nM.mulDivRoundingUp(o,i9,ni):o.shrn(64)}static getLiquidityFromTokenAmountB(e,t,r){return e.gt(t)&&([e,t]=[t,e]),nM.mulDivFloor(r,ni,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,r,i,n){if(t.gt(r)&&([t,r]=[r,t]),e.lte(t))return nV.getLiquidityFromTokenAmountA(t,r,i,!1);if(!e.lt(r))return nV.getLiquidityFromTokenAmountB(t,r,n);{let a=nV.getLiquidityFromTokenAmountA(e,r,i,!1),o=nV.getLiquidityFromTokenAmountB(t,e,n);return a.lt(o)?a:o}}static getAmountsFromLiquidity(e,t,r,i,n){return(t.gt(r)&&([t,r]=[r,t]),e.lte(t))?{amountA:nV.getTokenAmountAFromLiquidity(t,r,i,n),amountB:new k.default(0)}:e.lt(r)?{amountA:nV.getTokenAmountAFromLiquidity(e,r,i,n),amountB:nV.getTokenAmountBFromLiquidity(t,e,i,n)}:{amountA:new k.default(0),amountB:nV.getTokenAmountBFromLiquidity(t,r,i,n)}}static getAmountsFromLiquidityWithSlippage(e,t,r,i,n,a,o){let{amountA:s,amountB:u}=nV.getAmountsFromLiquidity(e,t,r,i,a),l=n?1+o:1-o;return{amountSlippageA:new k.default(new tR(s.toString()).mul(l).toFixed(0)),amountSlippageB:new k.default(new tR(u.toString()).mul(l).toFixed(0))}}static getAmountsOutFromLiquidity({poolInfo:e,tickLower:t,tickUpper:r,liquidity:i,slippage:n,add:a,epochInfo:o,amountAddFee:s}){var u,l,c,d;let f=nK.priceToSqrtPriceX64(new tR(e.price),e.mintA.decimals,e.mintB.decimals),p=nK.getSqrtPriceX64FromTick(t),h=nK.getSqrtPriceX64FromTick(r),m=a?1+n:1-n,g=nV.getAmountsFromLiquidity(f,p,h,i,a),[b,y]=[rW(g.amountA,null==(u=e.mintA.extensions)?void 0:u.feeConfig,o,s),rW(g.amountB,null==(l=e.mintB.extensions)?void 0:l.feeConfig,o,s)],[x,A]=[rW(new k.default(new tR(g.amountA.toString()).mul(m).toFixed(0)),null==(c=e.mintA.extensions)?void 0:c.feeConfig,o,s),rW(new k.default(new tR(g.amountB.toString()).mul(m).toFixed(0)),null==(d=e.mintB.extensions)?void 0:d.feeConfig,o,s)];return{liquidity:i,amountA:b,amountB:y,amountSlippageA:x,amountSlippageB:A,expirationTime:rV(b.expirationTime,y.expirationTime)}}},nG=class{static swapCompute(e,t,r,i,n,a,o,s,u,l,c,d,f,p,h=!1){if(d.eq(i7))throw Error("amountSpecified must not be 0");if(p||(p=a?na.add(i9):no.sub(i9)),a){if(p.lt(na))throw Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(p.gte(c))throw Error("sqrtPriceX64 must smaller than current")}else{if(p.gt(no))throw Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(p.lte(c))throw Error("sqrtPriceX64 must greater than current")}let m=d.gt(i7),g={amountSpecifiedRemaining:d,amountCalculated:i7,sqrtPriceX64:c,tick:u>f?Math.min(f+nC.tickCount(l)-1,u):f,accounts:[],liquidity:s,feeAmount:new k.default(0)},b=f,y=r[f],x=!a&&y.startTickIndex===g.tick;for(;!g.amountSpecifiedRemaining.eq(i7)&&!g.sqrtPriceX64.eq(p);){let s,u={};u.sqrtPriceStartX64=g.sqrtPriceX64;let c=nH.nextInitTick(y,g.tick,l,a,x)||null,d=null;if(!(null!=c&&c.liquidityGross.gtn(0))){let o=nU.nextInitializedTickArrayStartIndex({tickCurrent:g.tick,tickSpacing:l,tickArrayBitmap:i,exBitmapInfo:n},b,a);if(!o.isExist){if(h)return{allTrade:!1,amountSpecifiedRemaining:g.amountSpecifiedRemaining,amountCalculated:g.amountCalculated,feeAmount:g.feeAmount,sqrtPriceX64:g.sqrtPriceX64,liquidity:g.liquidity,tickCurrent:g.tick,accounts:g.accounts};throw Error("swapCompute LiquidityInsufficient")}let{publicKey:s}=nT(e,t,b=o.nextStartIndex);d=s,y=r[b];try{c=nH.firstInitializedTick(y,a)}catch{throw Error("not found next tick info")}}if(u.tickNext=c.tick,u.initialized=c.liquidityGross.gtn(0),f!==b&&d&&(g.accounts.push(d),f=b),u.tickNext<-443636?u.tickNext=-443636:u.tickNext>443636&&(u.tickNext=443636),u.sqrtPriceNextX64=nK.getSqrtPriceX64FromTick(u.tickNext),s=a&&u.sqrtPriceNextX64.lt(p)||!a&&u.sqrtPriceNextX64.gt(p)?p:u.sqrtPriceNextX64,[g.sqrtPriceX64,u.amountIn,u.amountOut,u.feeAmount]=nG.swapStepCompute(g.sqrtPriceX64,s,g.liquidity,g.amountSpecifiedRemaining,o,a),g.feeAmount=g.feeAmount.add(u.feeAmount),m?(g.amountSpecifiedRemaining=g.amountSpecifiedRemaining.sub(u.amountIn.add(u.feeAmount)),g.amountCalculated=g.amountCalculated.sub(u.amountOut)):(g.amountSpecifiedRemaining=g.amountSpecifiedRemaining.add(u.amountOut),g.amountCalculated=g.amountCalculated.add(u.amountIn.add(u.feeAmount))),g.sqrtPriceX64.eq(u.sqrtPriceNextX64)){if(u.initialized){let e=c.liquidityNet;a&&(e=e.mul(ne)),g.liquidity=nV.addDelta(g.liquidity,e)}x=u.tickNext!=g.tick&&!a&&y.startTickIndex===u.tickNext,g.tick=a?u.tickNext-1:u.tickNext}else if(g.sqrtPriceX64!=u.sqrtPriceStartX64){let e=nK.getTickFromSqrtPriceX64(g.sqrtPriceX64);x=e!=g.tick&&!a&&y.startTickIndex===e,g.tick=e}}try{let{nextStartIndex:r,isExist:o}=nC.nextInitializedTickArray(g.tick,l,a,i,n);o&&f!==r&&(g.accounts.push(nT(e,t,r).publicKey),f=r)}catch{}return{allTrade:!0,amountSpecifiedRemaining:i7,amountCalculated:g.amountCalculated,feeAmount:g.feeAmount,sqrtPriceX64:g.sqrtPriceX64,liquidity:g.liquidity,tickCurrent:g.tick,accounts:g.accounts}}static swapStepCompute(e,t,r,i,n,a){let o={sqrtPriceX64Next:new k.default(0),amountIn:new k.default(0),amountOut:new k.default(0),feeAmount:new k.default(0)},s=i.gte(i7);if(s){let s=nM.mulDivFloor(i,nl.sub(new k.default(n.toString())),nl);o.amountIn=a?nV.getTokenAmountAFromLiquidity(t,e,r,!0):nV.getTokenAmountBFromLiquidity(e,t,r,!0),s.gte(o.amountIn)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=nK.getNextSqrtPriceX64FromInput(e,r,s,a)}else o.amountOut=a?nV.getTokenAmountBFromLiquidity(t,e,r,!1):nV.getTokenAmountAFromLiquidity(e,t,r,!1),i.mul(ne).gte(o.amountOut)?o.sqrtPriceX64Next=t:o.sqrtPriceX64Next=nK.getNextSqrtPriceX64FromOutput(e,r,i.mul(ne),a);let u=t.eq(o.sqrtPriceX64Next);return a?(u&&s||(o.amountIn=nV.getTokenAmountAFromLiquidity(o.sqrtPriceX64Next,e,r,!0)),u&&!s||(o.amountOut=nV.getTokenAmountBFromLiquidity(o.sqrtPriceX64Next,e,r,!1))):(o.amountIn=u&&s?o.amountIn:nV.getTokenAmountBFromLiquidity(e,o.sqrtPriceX64Next,r,!0),o.amountOut=u&&!s?o.amountOut:nV.getTokenAmountAFromLiquidity(e,o.sqrtPriceX64Next,r,!1)),!s&&o.amountOut.gt(i.mul(ne))&&(o.amountOut=i.mul(ne)),s&&!o.sqrtPriceX64Next.eq(t)?o.feeAmount=i.sub(o.amountIn):o.feeAmount=nM.mulDivCeil(o.amountIn,new k.default(n),nl.sub(new k.default(n))),[o.sqrtPriceX64Next,o.amountIn,o.amountOut,o.feeAmount]}},nj=60,nz=512,nH=class{static getTickArrayAddressByTick(e,t,r,i){let{publicKey:n}=nT(e,t,nH.getTickArrayStartIndexByTick(r,i));return n}static getTickOffsetInArray(e,t){if(e%t!=0)throw Error("tickIndex % tickSpacing not equal 0");let r=nH.getTickArrayStartIndexByTick(e,t),i=Math.floor((e-r)/t);if(i<0||i>=nj)throw Error("tick offset in array overflow");return i}static getTickArrayBitIndex(e,t){let r=nC.tickCount(t),i=e/r;return e<0&&e%r!=0?Math.ceil(i)-1:Math.floor(i)}static getTickArrayStartIndexByTick(e,t){return this.getTickArrayBitIndex(e,t)*nC.tickCount(t)}static getTickArrayOffsetInBitmapByTick(e,t){return Math.abs(Math.floor(e/(t*nj))+512)}static checkTickArrayIsInitialized(e,t,r){let i=r*nj,n=Math.abs(Math.floor(t/i)+512);return{isInitialized:e.testn(n),startIndex:(n-512)*i}}static getNextTickArrayStartIndex(e,t,r){return r?e-t*nj:e+t*nj}static mergeTickArrayBitmap(e){let t=new k.default(0);for(let r=0;r<e.length;r++)t=t.add(e[r].shln(64*r));return t}static getInitializedTickArrayInRange(e,t,r,i,n){let a=Math.floor(i/(r*nj));return[...nH.searchLowBitFromStart(e,t,a-1,n,r),...nH.searchHightBitFromStart(e,t,a,n,r)]}static getAllInitializedTickArrayStartIndex(e,t,r){return nH.searchHightBitFromStart(e,t,-7680,nz,r)}static getAllInitializedTickArrayInfo(e,t,r,i,n){let a=[];for(let o of nH.getAllInitializedTickArrayStartIndex(r,i,n)){let{publicKey:r}=nT(e,t,o);a.push({tickArrayStartIndex:o,tickArrayAddress:r})}return a}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,r,i,n){let a=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>nH.mergeTickArrayBitmap(e)),o=[];for(;r>=-7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(a[e].testn(t)&&o.push(r),r--,o.length===i)break}let s=nC.tickCount(n);return o.map(e=>e*s)}static searchHightBitFromStart(e,t,r,i,n){let a=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>nH.mergeTickArrayBitmap(e)),o=[];for(;r<7680;){let e=Math.floor((r+7680)/512),t=(r+7680)%512;if(a[e].testn(t)&&o.push(r),r++,o.length===i)break}let s=nC.tickCount(n);return o.map(e=>e*s)}static checkIsOutOfBoundary(e){return e<-443636||e>443636}static nextInitTick(e,t,r,i,n){if(nC.getArrayStartIndex(t,r)!=e.startTickIndex)return null;let a=Math.floor((t-e.startTickIndex)/r);if(i)for(;a>=0;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a-=1}else for(n||(a+=1);a<nj;){if(e.ticks[a].liquidityGross.gtn(0))return e.ticks[a];a+=1}return null}static firstInitializedTick(e,t){if(t){let t=nj-1;for(;t>=0;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t-=1}}else{let t=0;for(;t<nj;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t+=1}}throw Error(`firstInitializedTick check error: ${e} - ${t}`)}static _getTickPriceLegacy({poolInfo:e,tick:t,baseIn:r}){let i=nK.getSqrtPriceX64FromTick(t),n=nK.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:n,tickSqrtPriceX64:i}:{tick:t,price:new tR(1).div(n),tickSqrtPriceX64:i}}static _getPriceAndTickLegacy({poolInfo:e,price:t,baseIn:r}){let i=r?t:new tR(1).div(t),n=nW.getTickWithPriceAndTickspacing(i,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=nK.getSqrtPriceX64FromTick(n),o=nK.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return r?{tick:n,price:o}:{tick:n,price:new tR(1).div(o)}}static getTickPrice({poolInfo:e,tick:t,baseIn:r}){let i=nK.getSqrtPriceX64FromTick(t),n=nK.sqrtPriceX64ToPrice(i,e.mintA.decimals,e.mintB.decimals);return r?{tick:t,price:n,tickSqrtPriceX64:i}:{tick:t,price:new tR(1).div(n),tickSqrtPriceX64:i}}static getPriceAndTick({poolInfo:e,price:t,baseIn:r}){let i=r?t:new tR(1).div(t),n=nW.getTickWithPriceAndTickspacing(i,e.config.tickSpacing,e.mintA.decimals,e.mintB.decimals),a=nK.getSqrtPriceX64FromTick(n),o=nK.sqrtPriceX64ToPrice(a,e.mintA.decimals,e.mintB.decimals);return r?{tick:n,price:o}:{tick:n,price:new tR(1).div(o)}}},nX=iU([iw(8),iE("bump"),ig("index"),iO(""),iP("protocolFeeRate"),iP("tradeFeeRate"),ig("tickSpacing"),iM(iI(),8,"")]),nQ=iU([iP("blockTimestamp"),iN("tickCumulative"),iM(iI(),4)]),nJ=iU([iw(8),iB("initialized"),iI("recentEpoch"),ig("observationIndex"),iO("poolId"),iM(nQ,100,"observations"),iM(iI(),4)]),nY=iU([iE("rewardState"),iI("openTime"),iI("endTime"),iI("lastUpdateTime"),i_("emissionsPerSecondX64"),iI("rewardTotalEmissioned"),iI("rewardClaimed"),iO("tokenMint"),iO("tokenVault"),iO("creator"),i_("rewardGrowthGlobalX64")]),nZ=iU([iw(8),iE("bump"),iO("ammConfig"),iO("creator"),iO("mintA"),iO("mintB"),iO("vaultA"),iO("vaultB"),iO("observationId"),iE("mintDecimalsA"),iE("mintDecimalsB"),ig("tickSpacing"),i_("liquidity"),i_("sqrtPriceX64"),ix("tickCurrent"),iP(),i_("feeGrowthGlobalX64A"),i_("feeGrowthGlobalX64B"),iI("protocolFeesTokenA"),iI("protocolFeesTokenB"),i_("swapInAmountTokenA"),i_("swapOutAmountTokenB"),i_("swapInAmountTokenB"),i_("swapOutAmountTokenA"),iE("status"),iM(iE(),7,""),iM(nY,3,"rewardInfos"),iM(iI(),16,"tickArrayBitmap"),iI("totalFeesTokenA"),iI("totalFeesClaimedTokenA"),iI("totalFeesTokenB"),iI("totalFeesClaimedTokenB"),iI("fundFeesTokenA"),iI("fundFeesTokenB"),iI("startTime"),iM(iI(),57,"padding")]),n$=iU([i_("growthInsideLastX64"),iI("rewardAmountOwed")]),n0=iU([iw(8),iE("bump"),iO("nftMint"),iO("poolId"),ix("tickLower"),ix("tickUpper"),i_("liquidity"),i_("feeGrowthInsideLastX64A"),i_("feeGrowthInsideLastX64B"),iI("tokenFeesOwedA"),iI("tokenFeesOwedB"),iM(n$,3,"rewardInfos"),iM(iI(),8,"")]),n1=(iU([iw(8),iE("bump"),iO("poolId"),ix("tickLowerIndex"),ix("tickUpperIndex"),i_("liquidity"),i_("feeGrowthInsideLastX64A"),i_("feeGrowthInsideLastX64B"),iI("tokenFeesOwedA"),iI("tokenFeesOwedB"),iM(i_(),3,"rewardGrowthInside"),iM(iI(),8,"")]),iU([ix("tick"),new ik(16,!0,"liquidityNet"),i_("liquidityGross"),i_("feeGrowthOutsideX64A"),i_("feeGrowthOutsideX64B"),iM(i_(),3,"rewardGrowthsOutsideX64"),iM(iP(),13,"")])),n2=iU([iw(8),iO("poolId"),ix("startTickIndex"),iM(n1,nj,"ticks"),iE("initializedTickCount"),iM(iE(),115,"")]),n4=iU([iw(329),iM(iO(),100,"whitelistMints")]),n6=iU([iw(8),iO("poolId"),iM(iM(iI(),8),14,"positiveTickArrayBitmap"),iM(iM(iI(),8),14,"negativeTickArrayBitmap")]);iU([iI(),iE("bump"),iO("owner"),iO("poolId"),iO("positionId"),iO("nftAccount"),iM(iI(),8)]),iU([iw(8),iE("bump"),iO("lockOwner"),iO("poolId"),iO("positionId"),iO("nftAccount"),iO("lockNftMint"),iI("recentEpoch"),iM(iI(),8)]),nJ.span;var n3=ei("Raydium_Clmm"),n5=[233,146,209,142,207,104,64,188],n8=[95,135,192,196,242,129,230,68],n7=[112,52,167,75,32,201,211,137],n9=[77,184,74,214,112,86,241,199],ae=[77,255,174,82,125,29,201,46],at=[123,134,81,0,49,68,98,98],ar=[133,29,89,223,69,238,176,10],ai=[58,127,188,62,79,82,196,96],an=[43,4,237,11,26,201,30,98],aa=[18,237,166,197,34,16,213,144],ao=[188,37,179,131,82,150,84,73],as=[16,72,250,198,14,162,212,19],au=class{static createPoolInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m){let g=iU([i_("sqrtPriceX64"),iI("zero")]),b=[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:tY,isSigner:!1,isWritable:!1},...(null==m?void 0:m.map(e=>({pubkey:e,isSigner:!1,isWritable:!1})))||[]],y=f.Buffer.alloc(g.span);g.encode({sqrtPriceX64:p,zero:i7},y);let x=f.Buffer.from([...n5,...y]);return new h.TransactionInstruction({keys:b,programId:e,data:x})}static async createPoolInstructions(e){let{programId:t,owner:r,mintA:i,mintB:n,ammConfigId:a,initialPriceX64:o,extendMintAccount:s}=e,[u,l]=[new h.PublicKey(i.address),new h.PublicKey(n.address)],{publicKey:c}=rg([ng,a.toBuffer(),u.toBuffer(),l.toBuffer()],t),{publicKey:d}=rg([nS,c.toBuffer()],t),{publicKey:f}=nk(t,c,u),{publicKey:p}=nk(t,c,l),m=n_(t,c).publicKey;return{signers:[],instructions:[this.createPoolInstruction(t,c,r,a,d,u,f,new h.PublicKey(i.programId||y.TOKEN_PROGRAM_ID),l,p,new h.PublicKey(n.programId||y.TOKEN_PROGRAM_ID),m,o,s)],instructionTypes:[ro,"ClmmCreatePool"],address:{poolId:c,observationId:d,exBitmapAccount:m,mintAVault:f,mintBVault:p},lookupTableAddress:[]}}static openPositionFromLiquidityInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A,w,v,S,k,T,E,P,I){let _=iU([ix("tickLowerIndex"),ix("tickUpperIndex"),ix("tickArrayLowerStartIndex"),ix("tickArrayUpperStartIndex"),i_("liquidity"),iI("amountMaxA"),iI("amountMaxB"),iB("withMetadata"),iE("optionBaseFlag"),iB("baseFlag")]),N=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],R=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...N],O=f.Buffer.alloc(_.span);_.encode({tickLowerIndex:A,tickUpperIndex:w,tickArrayLowerStartIndex:v,tickArrayUpperStartIndex:S,liquidity:k,amountMaxA:T,amountMaxB:E,withMetadata:"create"===P,baseFlag:!1,optionBaseFlag:0},O);let B=f.Buffer.from([...n9,...O]);return new h.TransactionInstruction({keys:R,programId:e,data:B})}static openPositionFromLiquidityInstruction22(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A,w,v,S,k,T,E,P){let I=iU([ix("tickLowerIndex"),ix("tickUpperIndex"),ix("tickArrayLowerStartIndex"),ix("tickArrayUpperStartIndex"),i_("liquidity"),iI("amountMaxA"),iI("amountMaxB"),iB("withMetadata"),iE("optionBaseFlag"),iB("baseFlag")]),_=[...P?[{pubkey:P,isSigner:!1,isWritable:!0}]:[]],N=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},..._],R=f.Buffer.alloc(I.span);I.encode({tickLowerIndex:x,tickUpperIndex:A,tickArrayLowerStartIndex:w,tickArrayUpperStartIndex:v,liquidity:S,amountMaxA:k,amountMaxB:T,withMetadata:"create"===E,baseFlag:!1,optionBaseFlag:0},R);let O=f.Buffer.from([...ae,...R]);return new h.TransactionInstruction({keys:N,programId:e,data:O})}static async openPositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:i,tickUpper:n,liquidity:a,amountMaxA:o,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[f,p]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],m;if(l)m=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();d.push(e),m=e.publicKey}let g=nH.getTickArrayStartIndexByTick(i,e.config.tickSpacing),b=nH.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:x}=nT(f,p,g),{publicKey:A}=nT(f,p,b),{publicKey:w}=c?rA(r.wallet,m,y.TOKEN_2022_PROGRAM_ID):rA(r.wallet,m,y.TOKEN_PROGRAM_ID),{publicKey:v}=nI(m),{publicKey:S}=nP(f,m),{publicKey:k}=nE(f,p,i,n);return{signers:d,instructions:[c?this.openPositionFromLiquidityInstruction22(f,r.feePayer,p,r.wallet,m,w,k,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,g,b,a,o,s,u,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?n_(f,p).publicKey:void 0):this.openPositionFromLiquidityInstruction(f,r.feePayer,p,r.wallet,m,w,v,k,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,g,b,a,o,s,u,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?n_(f,p).publicKey:void 0)],instructionTypes:[rs],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{nftMint:m,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:k}}}static async openPositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:i,tickUpper:n,base:a,baseAmount:o,otherAmountMax:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[f,p]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],m;if(l)m=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();d.push(e),m=e.publicKey}let g=nH.getTickArrayStartIndexByTick(i,e.config.tickSpacing),b=nH.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:x}=nT(f,p,g),{publicKey:A}=nT(f,p,b),{publicKey:w}=c?rA(r.wallet,m,y.TOKEN_2022_PROGRAM_ID):rA(r.wallet,m,y.TOKEN_PROGRAM_ID),{publicKey:v}=nI(m),{publicKey:S}=nP(f,m),{publicKey:k}=nE(f,p,i,n),T=c?this.openPositionFromBaseInstruction22(f,r.feePayer,p,r.wallet,m,w,k,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,g,b,u,a,o,s,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?n_(f,p).publicKey:void 0):this.openPositionFromBaseInstruction(f,r.feePayer,p,r.wallet,m,w,v,k,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),i,n,g,b,u,a,o,s,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?n_(f,p).publicKey:void 0);return{address:{nftMint:m,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:k},instructions:[T],signers:d,instructionTypes:[rs],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static openPositionFromBaseInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A,w,v,S,T,E,P,I,_){let N=iU([ix("tickLowerIndex"),ix("tickUpperIndex"),ix("tickArrayLowerStartIndex"),ix("tickArrayUpperStartIndex"),i_("liquidity"),iI("amountMaxA"),iI("amountMaxB"),iB("withMetadata"),iE("optionBaseFlag"),iB("baseFlag")]),R=[..._?[{pubkey:_,isSigner:!1,isWritable:!0}]:[]],O=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...R],B=f.Buffer.alloc(N.span);N.encode({tickLowerIndex:A,tickUpperIndex:w,tickArrayLowerStartIndex:v,tickArrayUpperStartIndex:S,liquidity:new k.default(0),amountMaxA:"MintA"===E?P:I,amountMaxB:"MintA"===E?I:P,withMetadata:"create"===T,baseFlag:"MintA"===E,optionBaseFlag:1},B);let C=f.Buffer.from([...n9,...B]);return new h.TransactionInstruction({keys:O,programId:e,data:C})}static openPositionFromBaseInstruction22(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A,w,v,S,T,E,P,I){let _=iU([ix("tickLowerIndex"),ix("tickUpperIndex"),ix("tickArrayLowerStartIndex"),ix("tickArrayUpperStartIndex"),i_("liquidity"),iI("amountMaxA"),iI("amountMaxB"),iB("withMetadata"),iE("optionBaseFlag"),iB("baseFlag")]),N=[...I?[{pubkey:I,isSigner:!1,isWritable:!0}]:[]],R=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},...N],O=f.Buffer.alloc(_.span);_.encode({tickLowerIndex:x,tickUpperIndex:A,tickArrayLowerStartIndex:w,tickArrayUpperStartIndex:v,liquidity:new k.default(0),amountMaxA:"MintA"===T?E:P,amountMaxB:"MintA"===T?P:E,withMetadata:"create"===S,baseFlag:"MintA"===T,optionBaseFlag:1},O);let B=f.Buffer.from([...ae,...O]);return new h.TransactionInstruction({keys:R,programId:e,data:B})}static async openPositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,tickLower:i,tickUpper:n,liquidity:a,amountMaxA:o,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d,f=[];if(l)d=new h.PublicKey((await l(1))[0]);else{let e=h.Keypair.generate();f.push(e),d=e.publicKey}let[p,m]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],g=nH.getTickArrayStartIndexByTick(i,e.config.tickSpacing),b=nH.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:x}=nT(p,m,g),{publicKey:A}=nT(p,m,b),{publicKey:w}=c?rA(r.wallet,d,y.TOKEN_2022_PROGRAM_ID):rA(r.wallet,d,y.TOKEN_PROGRAM_ID),{publicKey:v}=nI(d),{publicKey:S}=nP(p,d),{publicKey:k}=nE(p,m,i,n),T=c?this.openPositionFromLiquidityInstruction22(p,r.wallet,m,r.wallet,d,w,k,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(t.mintA.address),new h.PublicKey(t.mintB.address),i,n,g,b,a,o,s,u,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?n_(p,m).publicKey:void 0):this.openPositionFromLiquidityInstruction(p,r.wallet,m,r.wallet,d,w,v,k,x,A,S,r.tokenAccountA,r.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(t.mintA.address),new h.PublicKey(t.mintB.address),i,n,g,b,a,o,s,u,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?n_(p,m).publicKey:void 0);return{address:{nftMint:d,tickArrayLower:x,tickArrayUpper:A,positionNftAccount:w,metadataAccount:v,personalPosition:S,protocolPosition:k},instructions:[T],signers:f,instructionTypes:[rs],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static closePositionInstruction(e,t,r,i,n,a){let o=iU([]),s=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:a?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],u=f.Buffer.alloc(o.span);o.encode({},u);let l=f.Buffer.from([...at,...u]);return new h.TransactionInstruction({keys:s,programId:e,data:l})}static closePositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,ownerPosition:i,nft2022:n}){let a=new h.PublicKey(e.programId),o=n?rA(r.wallet,i.nftMint,y.TOKEN_2022_PROGRAM_ID).publicKey:rA(r.wallet,i.nftMint,y.TOKEN_PROGRAM_ID).publicKey,{publicKey:s}=nP(a,i.nftMint),u=[];return u.push(this.closePositionInstruction(a,r.wallet,i.nftMint,o,s,n)),{address:{positionNftAccount:o,personalPosition:s},signers:[],instructions:u,instructionTypes:["ClmmClosePosition"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromLiquidityInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A){let w=iU([i_("liquidity"),iI("amountMaxA"),iI("amountMaxB"),iE("optionBaseFlag"),iB("baseFlag")]),v=[...A?[{pubkey:A,isSigner:!1,isWritable:!0}]:[]],S=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...v],k=f.Buffer.alloc(w.span);w.encode({liquidity:g,amountMaxA:b,amountMaxB:x,optionBaseFlag:0,baseFlag:!1},k);let T=f.Buffer.from([...ar,...k]);return new h.TransactionInstruction({keys:S,programId:e,data:T})}static increasePositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:i,liquidity:n,amountMaxA:a,amountMaxB:o,nft2022:s}){let[u,l]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],c=nH.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=nH.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=nT(u,l,c),{publicKey:p}=nT(u,l,d),{publicKey:m}=s?rA(i.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):rA(i.wallet,r.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:g}=nP(u,r.nftMint),{publicKey:b}=nE(u,l,r.tickLower,r.tickUpper),x=this.increasePositionFromLiquidityInstruction(u,i.wallet,m,g,l,b,f,p,i.tokenAccountA,i.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,a,o,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?n_(u,l).publicKey:void 0);return{address:{tickArrayLower:f,tickArrayUpper:p,positionNftAccount:m,personalPosition:g,protocolPosition:b},signers:[],instructions:[x],instructionTypes:[ru],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:i,base:n,baseAmount:a,otherAmountMax:o,nft2022:s}){let[u,l]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],c=nH.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),d=nH.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:f}=nT(u,l,c),{publicKey:p}=nT(u,l,d),{publicKey:m}=s?rA(i.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):rA(i.wallet,r.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:g}=nP(u,r.nftMint),{publicKey:b}=nE(u,l,r.tickLower,r.tickUpper);return{address:{tickArrayLower:f,tickArrayUpper:p,positionNftAccount:m,personalPosition:g,protocolPosition:b},instructions:[this.increasePositionFromBaseInstruction(u,i.wallet,m,g,l,b,f,p,i.tokenAccountA,i.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),n,a,o,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?n_(u,l).publicKey:void 0)],signers:[],instructionTypes:[ru],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A){let w=iU([i_("liquidity"),iI("amountMaxA"),iI("amountMaxB"),iE("optionBaseFlag"),iB("baseFlag")]),v=[...A?[{pubkey:A,isSigner:!1,isWritable:!0}]:[]],S=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...v],T=f.Buffer.alloc(w.span);w.encode({liquidity:new k.default(0),amountMaxA:"MintA"===g?b:x,amountMaxB:"MintA"===g?x:b,baseFlag:"MintA"===g,optionBaseFlag:1},T);let E=f.Buffer.from([...ar,...T]);return new h.TransactionInstruction({keys:S,programId:e,data:E})}static decreaseLiquidityInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x,A,w){let v=iU([i_("liquidity"),iI("amountMinA"),iI("amountMinB")]),S=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[],...g.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],k=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tQ,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},...S],T=f.Buffer.alloc(v.span);v.encode({liquidity:b,amountMinA:x,amountMinB:A},T);let E=f.Buffer.from([...ai,...T]);return new h.TransactionInstruction({keys:k,programId:e,data:E})}static decreaseLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:r,ownerInfo:i,liquidity:n,amountMinA:a,amountMinB:o,programId:s,nft2022:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],d=nH.getTickArrayStartIndexByTick(r.tickLower,e.config.tickSpacing),f=nH.getTickArrayStartIndexByTick(r.tickUpper,e.config.tickSpacing),{publicKey:p}=nT(l,c,d),{publicKey:m}=nT(l,c,f),{publicKey:g}=u?rA(i.wallet,r.nftMint,y.TOKEN_2022_PROGRAM_ID):rA(i.wallet,r.nftMint,s),{publicKey:b}=nP(l,r.nftMint),{publicKey:x}=nE(l,c,r.tickLower,r.tickUpper),A=[];for(let r=0;r<e.rewardDefaultInfos.length;r++)A.push({poolRewardVault:new h.PublicKey(t.rewardInfos[r].vault),ownerRewardVault:i.rewardAccounts[r],rewardMint:new h.PublicKey(e.rewardDefaultInfos[r].mint.address)});let w=[];return w.push(this.decreaseLiquidityInstruction(l,i.wallet,g,b,c,x,p,m,i.tokenAccountA,i.tokenAccountB,new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B),new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address),A,n,a,o,nU.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[d,f])?n_(l,c).publicKey:void 0)),{address:{tickArrayLower:p,tickArrayUpper:m,positionNftAccount:g,personalPosition:b,protocolPosition:x},signers:[],instructions:w,instructionTypes:[rl],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static swapInstruction(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,x){let A=iU([iI("amount"),iI("otherAmountThreshold"),i_("sqrtPriceLimitX64"),iB("isBaseInput")]),w=[...x?[{pubkey:x,isSigner:!1,isWritable:!0}]:[],...c.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],v=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tQ,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...w],S=f.Buffer.alloc(A.span);A.encode({amount:p,otherAmountThreshold:m,sqrtPriceLimitX64:g,isBaseInput:b},S);let k=f.Buffer.from([...an,...S]);return new h.TransactionInstruction({keys:v,programId:e,data:k})}static makeSwapBaseInInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:i,inputMint:n,amountIn:a,amountOutMin:o,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],[d,f]=[new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B)],[p,m]=[new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address)],g=e.mintA.address===n.toString();return{signers:[],instructions:[this.swapInstruction(l,i.wallet,c,new h.PublicKey(e.config.id),g?i.tokenAccountA:i.tokenAccountB,g?i.tokenAccountB:i.tokenAccountA,g?d:f,g?f:d,g?p:m,g?m:p,u,r,a,o,s,!0,n_(l,c).publicKey)],instructionTypes:[rc],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,poolKeys:t,observationId:r,ownerInfo:i,outputMint:n,amountOut:a,amountInMax:o,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],[d,f]=[new h.PublicKey(t.vault.A),new h.PublicKey(t.vault.B)],[p,m]=[new h.PublicKey(e.mintA.address),new h.PublicKey(e.mintB.address)],g=e.mintA.address===n.toBase58();return{signers:[],instructions:[this.swapInstruction(l,i.wallet,c,new h.PublicKey(e.config.id),g?i.tokenAccountB:i.tokenAccountA,g?i.tokenAccountA:i.tokenAccountB,g?f:d,g?d:f,g?m:p,g?p:m,u,r,a,o,s,!1,n_(l,c).publicKey)],instructionTypes:["ClmmSwapBaseOut"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static initRewardInstruction(e,t,r,i,n,a,o,s,u,l,c,d){let p=iU([iI("openTime"),iI("endTime"),i_("emissionsPerSecondX64")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:tY,isSigner:!1,isWritable:!1}],g=f.Buffer.alloc(p.span);p.encode({openTime:tC(l),endTime:tC(c),emissionsPerSecondX64:d},g);let b=f.Buffer.from([...n8,...g]);return new h.TransactionInstruction({keys:m,programId:e,data:b})}static initRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:i}){var n;let[a,o]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],s=(n=i.mint,rg([ny,o.toBuffer(),n.toBuffer()],a)).publicKey,u=rg([nw],a).publicKey,l=[this.initRewardInstruction(a,r.wallet,o,u,new h.PublicKey(e.config.id),r.tokenAccount,i.programId,i.mint,s,i.openTime,i.endTime,i.emissionsPerSecondX64)];return{address:{poolRewardVault:s,operationId:u},signers:[],instructions:l,instructionTypes:["ClmmInitReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static setRewardInstruction(e,t,r,i,n,a,o,s,u,l,c,d){let p=iU([iE("rewardIndex"),i_("emissionsPerSecondX64"),iI("openTime"),iI("endTime")]),m=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],g=f.Buffer.alloc(p.span);p.encode({rewardIndex:u,emissionsPerSecondX64:d,openTime:tC(l),endTime:tC(c)},g);let b=f.Buffer.from([...n7,...g]);return new h.TransactionInstruction({keys:m,programId:e,data:b})}static setRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardInfo:i}){let[n,a]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],o,s,u;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===i.mint.toString()&&(o=r,s=new h.PublicKey(t.rewardInfos[r].vault),u=new h.PublicKey(t.rewardInfos[r].mint.address));(void 0===o||void 0===s)&&n3.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let l=rg([nw],n).publicKey,c=[this.setRewardInstruction(n,r.wallet,a,l,new h.PublicKey(e.config.id),r.tokenAccount,s,u,o,i.openTime,i.endTime,i.emissionsPerSecondX64)];return{address:{rewardVault:s,operationId:l},signers:[],instructions:c,instructionTypes:["ClmmSetReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static collectRewardInstruction(e,t,r,i,n,a,o){let s=iU([iE("rewardIndex")]),u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tQ,isSigner:!1,isWritable:!1}],l=f.Buffer.alloc(s.span);s.encode({rewardIndex:o},l);let c=f.Buffer.from([...aa,...l]);return new h.TransactionInstruction({keys:u,programId:e,data:c})}static collectRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:r,rewardMint:i}){let[n,a]=[new h.PublicKey(e.programId),new h.PublicKey(e.id)],o,s;for(let r=0;r<e.rewardDefaultInfos.length;r++)e.rewardDefaultInfos[r].mint.address===i.toString()&&(o=r,s=new h.PublicKey(t.rewardInfos[r].vault));(void 0===o||void 0===s)&&n3.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let u=[this.collectRewardInstruction(n,r.wallet,a,r.tokenAccount,s,i,o)];return{address:{rewardVault:s},signers:[],instructions:u,instructionTypes:["ClmmCollectReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static async makeLockPositions({programId:e,authProgramId:t,poolProgramId:r,payer:i,wallet:n,nftMint:a,nft2022:o,getEphemeralSigners:s}){let u=[],l;if(s)l=new h.PublicKey((await s(1))[0]);else{let e=h.Keypair.generate();u.push(e),l=e.publicKey}let c=o?rA(n,a,y.TOKEN_2022_PROGRAM_ID).publicKey:rA(n,a,y.TOKEN_PROGRAM_ID).publicKey,{publicKey:d}=nP(r,a),f=nO(e,l).publicKey,p=rA(n,l,y.TOKEN_PROGRAM_ID).publicKey,m=nI(l).publicKey,g=au.lockPositionInstructionV2({programId:e,auth:t,payer:i,positionOwner:n,lockOwner:n,positionNftAccount:c,positionId:d,lockPositionId:f,lockNftMint:l,lockNftAccount:p,metadataAccount:m,withMetadata:!0,nft2022:o,positionNftMint:a,authPositionNftAccount:rA(t,a,o?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID).publicKey,positionNftProgram:o?y.TOKEN_2022_PROGRAM_ID:y.TOKEN_PROGRAM_ID});return{address:{positionId:d,lockPositionId:f,lockNftAccount:p,lockNftMint:l,positionNftAccount:c,metadataAccount:m},instructions:[g],signers:u,instructionTypes:["ClmmLockPosition"],lookupTableAddress:[]}}static lockPositionInstructionV2({programId:e,auth:t,payer:r,positionOwner:i,lockOwner:n,positionNftAccount:a,positionId:o,positionNftMint:s,authPositionNftAccount:u,positionNftProgram:l,lockPositionId:c,lockNftMint:d,lockNftAccount:p,metadataAccount:m,withMetadata:g}){let b=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:y.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1}],x=iU([iB("withMetadata")]),A=f.Buffer.alloc(x.span);x.encode({withMetadata:g},A);let w=f.Buffer.from([...ao,...A]);return new h.TransactionInstruction({keys:b,programId:e,data:w})}static lockPositionInstruction({programId:e,authProgramId:t,poolProgramId:r,owner:i,positionNft:n}){let{publicKey:a}=rA(i,n,y.TOKEN_PROGRAM_ID),{publicKey:o}=nP(r,n),s=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:nR(e,o).publicKey,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:h.SystemProgram.programId,isSigner:!1,isWritable:!1}];return new h.TransactionInstruction({keys:s,programId:e,data:f.Buffer.from(ao)})}static harvestLockPositionInstruction(e){let[t,r]=[new h.PublicKey(e.poolKeys.programId),new h.PublicKey(e.poolKeys.id)],i=nH.getTickArrayStartIndexByTick(e.ownerPosition.tickLower,e.poolKeys.config.tickSpacing),n=nH.getTickArrayStartIndexByTick(e.ownerPosition.tickUpper,e.poolKeys.config.tickSpacing),{publicKey:a}=nT(t,r,i),{publicKey:o}=nT(t,r,n),{publicKey:s}=rA(e.owner,e.ownerPosition.nftMint,y.TOKEN_PROGRAM_ID),{publicKey:u}=nP(t,e.ownerPosition.nftMint),{publicKey:l}=nE(t,r,e.ownerPosition.tickLower,e.ownerPosition.tickUpper),c=[];for(let t=0;t<e.poolKeys.rewardInfos.length;t++)c.push({poolRewardVault:new h.PublicKey(e.poolKeys.rewardInfos[t].vault),ownerRewardVault:e.ownerRewardAccounts[t],rewardMint:new h.PublicKey(e.poolKeys.rewardInfos[t].mint.address)});let d=[...c.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],p=[{pubkey:e.authProgramId,isSigner:!1,isWritable:!1},{pubkey:nR(e.programId,u).publicKey,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(e.poolKeys.vault.A),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(e.poolKeys.vault.B),isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:e.userVaultA,isSigner:!1,isWritable:!0},{pubkey:e.userVaultB,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tJ,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(e.poolKeys.mintA.address),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(e.poolKeys.mintB.address),isSigner:!1,isWritable:!1},...d];return new h.TransactionInstruction({keys:p,programId:e.programId,data:f.Buffer.from(as)})}static harvestLockPositionInstructionV2({programId:e,auth:t,lockPositionId:r,clmmProgram:i,lockOwner:n,lockNftMint:a,lockNftAccount:o,positionNftAccount:s,positionId:u,poolId:l,protocolPosition:c,vaultA:d,vaultB:p,tickArrayLower:m,tickArrayUpper:g,userVaultA:b,userVaultB:x,mintA:A,mintB:w,rewardAccounts:v,exTickArrayBitmap:S}){let k=[...S?[{pubkey:S,isSigner:!1,isWritable:!0}]:[],...v.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],T=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:y.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tJ,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},...k];return new h.TransactionInstruction({keys:T,programId:e,data:f.Buffer.from(as)})}};iU([iP("mintAuthorityOption"),iO("mintAuthority"),iI("supply"),iE("decimals"),iE("isInitialized"),iP("freezeAuthorityOption"),iO("freezeAuthority")]);var al=new k.default(25),ac=new k.default(1e4),ad=iU([iE("instruction"),iI("amountIn"),iI("minAmountOut")]),af=iU([iE("instruction"),iI("maxAmountIn"),iI("amountOut")]),ap=(iU([iE("instruction"),iE("nonce")]),iU([iE("instruction"),iE("nonce"),iI("startTime")]),iU([iI("status"),iI("nonce"),iI("maxOrder"),iI("depth"),iI("baseDecimal"),iI("quoteDecimal"),iI("state"),iI("resetFlag"),iI("minSize"),iI("volMaxCutRatio"),iI("amountWaveRatio"),iI("baseLotSize"),iI("quoteLotSize"),iI("minPriceMultiplier"),iI("maxPriceMultiplier"),iI("systemDecimalValue"),iI("minSeparateNumerator"),iI("minSeparateDenominator"),iI("tradeFeeNumerator"),iI("tradeFeeDenominator"),iI("pnlNumerator"),iI("pnlDenominator"),iI("swapFeeNumerator"),iI("swapFeeDenominator"),iI("baseNeedTakePnl"),iI("quoteNeedTakePnl"),iI("quoteTotalPnl"),iI("baseTotalPnl"),iI("poolOpenTime"),iI("punishPcAmount"),iI("punishCoinAmount"),iI("orderbookToInitTime"),i_("swapBaseInAmount"),i_("swapQuoteOutAmount"),iI("swapBase2QuoteFee"),i_("swapQuoteInAmount"),i_("swapBaseOutAmount"),iI("swapQuote2BaseFee"),iO("baseVault"),iO("quoteVault"),iO("baseMint"),iO("quoteMint"),iO("lpMint"),iO("openOrders"),iO("marketId"),iO("marketProgramId"),iO("targetOrders"),iO("withdrawQueue"),iO("lpVault"),iO("owner"),iI("lpReserve"),iM(iI(),3,"padding")])),ah=(iU([iI("accountType"),iI("status"),iI("nonce"),iI("maxOrder"),iI("depth"),iI("baseDecimal"),iI("quoteDecimal"),iI("state"),iI("resetFlag"),iI("minSize"),iI("volMaxCutRatio"),iI("amountWaveRatio"),iI("baseLotSize"),iI("quoteLotSize"),iI("minPriceMultiplier"),iI("maxPriceMultiplier"),iI("systemDecimalsValue"),iI("abortTradeFactor"),iI("priceTickMultiplier"),iI("priceTick"),iI("minSeparateNumerator"),iI("minSeparateDenominator"),iI("tradeFeeNumerator"),iI("tradeFeeDenominator"),iI("pnlNumerator"),iI("pnlDenominator"),iI("swapFeeNumerator"),iI("swapFeeDenominator"),iI("baseNeedTakePnl"),iI("quoteNeedTakePnl"),iI("quoteTotalPnl"),iI("baseTotalPnl"),iI("poolOpenTime"),iI("punishPcAmount"),iI("punishCoinAmount"),iI("orderbookToInitTime"),i_("swapBaseInAmount"),i_("swapQuoteOutAmount"),i_("swapQuoteInAmount"),i_("swapBaseOutAmount"),iI("swapQuote2BaseFee"),iI("swapBase2QuoteFee"),iO("baseVault"),iO("quoteVault"),iO("baseMint"),iO("quoteMint"),iO("lpMint"),iO("modelDataAccount"),iO("openOrders"),iO("marketId"),iO("marketProgramId"),iO("targetOrders"),iO("owner"),iM(iI(),64,"padding")]),iU([iE("instruction"),iI("baseAmountIn"),iI("quoteAmountIn"),iI("fixedSide"),iI("otherAmountMin")])),am=iU([iE("instruction"),iI("lpAmount"),iI("baseAmountMin"),iI("quoteAmountMin")]),ag=iU([iI("fee")]),ab=new h.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ay=iU([iI("x"),iI("y"),iI("price")]),ax=iU([iI("accountType"),iI("status"),iI("multiplier"),iI("validDataCount"),iM(ay,5e4,"DataElement")]);ei("Raydium_liquidity_instruction");ei("Raydium_liquidity_serum");iU([iw(5),function(e="accountFlags"){let t=new iT(e);return t.addBoolean("initialized"),t.addBoolean("market"),t.addBoolean("openOrders"),t.addBoolean("requestQueue"),t.addBoolean("eventQueue"),t.addBoolean("bids"),t.addBoolean("asks"),t}("accountFlags"),iO("ownAddress"),iI("vaultSignerNonce"),iO("baseMint"),iO("quoteMint"),iO("baseVault"),iI("baseDepositsTotal"),iI("baseFeesAccrued"),iO("quoteVault"),iI("quoteDepositsTotal"),iI("quoteFeesAccrued"),iI("quoteDustThreshold"),iO("requestQueue"),iO("eventQueue"),iO("bids"),iO("asks"),iI("baseLotSize"),iI("quoteLotSize"),iI("feeRateBps"),iI("referrerRebatesAccrued"),iw(7)]);var aA=new k.default(0),aw=((c=aw||{})[c.Floor=0]="Floor",c[c.Ceiling=1]="Ceiling",c),av=f.Buffer.from("vault_and_lp_mint_auth_seed","utf8"),aS=(f.Buffer.from("amm_config","utf8"),f.Buffer.from("pool","utf8")),ak=f.Buffer.from("pool_lp_mint","utf8"),aT=f.Buffer.from("pool_vault","utf8"),aE=f.Buffer.from("observation","utf8");f.Buffer.from("locked_liquidity","utf8");ei("Raydium_cpmm");var aP=iU([iw(8),iE("bump"),iB("disableCreatePool"),ig("index"),iI("tradeFeeRate"),iI("protocolFeeRate"),iI("fundFeeRate"),iI("createPoolFee"),iO("protocolOwner"),iO("fundOwner"),iM(iI(),16)]),aI=iU([iw(8),iO("configId"),iO("poolCreator"),iO("vaultA"),iO("vaultB"),iO("mintLp"),iO("mintA"),iO("mintB"),iO("mintProgramA"),iO("mintProgramB"),iO("observationId"),iE("bump"),iE("status"),iE("lpDecimals"),iE("mintDecimalA"),iE("mintDecimalB"),iI("lpAmount"),iI("protocolFeesMintA"),iI("protocolFeesMintB"),iI("fundFeesMintA"),iI("fundFeesMintB"),iI("openTime"),iM(iI(),32)]),a_={[rE.toBase58()]:3},aN=iU([iw(5),iw(8),iO("ownAddress"),iI("vaultSignerNonce"),iO("baseMint"),iO("quoteMint"),iO("baseVault"),iI("baseDepositsTotal"),iI("baseFeesAccrued"),iO("quoteVault"),iI("quoteDepositsTotal"),iI("quoteFeesAccrued"),iI("quoteDustThreshold"),iO("requestQueue"),iO("eventQueue"),iO("bids"),iO("asks"),iI("baseLotSize"),iI("quoteLotSize"),iI("feeRateBps"),iI("referrerRebatesAccrued"),iw(7)]),aR=ei("Serum"),aO=new k.default(0),aB=class extends r3{static getPdaPoolId(e,t){return rg([aB.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(e,t,r,i){return rg([aB.SEED_CONFIG.owner.id,t.toBuffer(),r.toBuffer(),f.Buffer.from(new k.default(i).toArray())],e)}static async getAllInfo({connection:e,programId:t,poolIds:r,wallet:i,chainTime:n}){if(0===r.length)return[];let a=r.map(e=>aB.getPdaPoolId(t,e).publicKey),o=[];for(let e=0;e<aB.VERSION_PROJECT.length;e++)o.push(...a.map(r=>aB.getPdaOwnerId(t,r,i,e).publicKey));let s=await ea(e,[...a,...o]),u=[];for(let e=0;e<s.length;e++){let i=Math.floor(e/r.length),l=e%r.length,c=a[l],d=o[e],f=s[l],p=s[r.length+e];if(!(f&&p)||f.data.length!==aB.POOL_LAYOUT.span||p.data.length!==aB.OWNER_LAYOUT.span)continue;let h=aB.POOL_LAYOUT.decode(f.data),m=aB.OWNER_LAYOUT.decode(p.data),g=h.openTime.toNumber(),b=h.endTime.toNumber(),y=3!==m.tokenInfo.map(e=>e.debtAmount.gt(new k.default(0))).filter(e=>!e).length,x=n>g&&n<b&&1===h.status,A=y&&x;u.push({programId:t,poolId:c,ammId:h.ammId,ownerAccountId:d,snapshotLpAmount:m.lpAmount,project:aB.VERSION_PROJECT[i],openTime:g,endTime:b,canClaim:A,canClaimErrorType:y?x?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:h.tokenInfo.map((e,t)=>({mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:m.tokenInfo[t].debtAmount.add(m.tokenInfo[t].claimedAmount)}))})}return u}async makeClaimTransaction({poolInfo:e,ownerInfo:t,feePayer:r}){t.wallet||this.scope.checkOwner();let i=this.createTxBuilder(r),n=t.wallet||this.scope.ownerPubKey,a=[];for(let r of e.tokenInfo){let{account:e,instructionParams:o}=await this.scope.account.getOrCreateTokenAccount({mint:r.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:r.mintAddress.equals(t6.WSOL.mint),createInfo:{payer:n,amount:0},skipCloseAccount:!r.mintAddress.equals(t6.WSOL.mint),associatedOnly:!r.mintAddress.equals(t6.WSOL.mint)&&t.associatedOnly});o&&i.addInstruction(o),a.push(e)}i.addInstruction({instructions:[aB.makeClaimInstruction({programId:e.programId,poolInfo:e,ownerInfo:{wallet:n,ownerPda:e.ownerAccountId,claimAddress:a}})]});let{transaction:o,signers:s}=i.build();return[{transaction:o,signer:s}]}async makeClaimAllTransaction({poolInfos:e,ownerInfo:t,feePayer:r}){let i=this.createTxBuilder(r),n=t.wallet||this.scope.ownerPubKey,a={};for(let r of e){let e=[];for(let o of r.tokenInfo){let{account:r,instructionParams:s}=await this.scope.account.getOrCreateTokenAccount({mint:o.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:o.mintAddress.equals(t6.WSOL.mint),createInfo:{payer:n,amount:0},skipCloseAccount:!o.mintAddress.equals(t6.WSOL.mint),associatedOnly:!o.mintAddress.equals(t6.WSOL.mint)&&t.associatedOnly});s&&i.addInstruction(s),r&&(a[o.mintAddress.toString()]=r,e.push(r))}i.addInstruction({instructions:[aB.makeClaimInstruction({programId:r.programId,poolInfo:r,ownerInfo:{wallet:n,ownerPda:r.ownerAccountId,claimAddress:e}})]})}let{transaction:o,signers:s}=i.build(),u=i.allInstructions;return rm(u,[n,...s.map(e=>e.publicKey)])?[{transaction:o,signer:s}]:[{transaction:new h.Transaction().add(...u.slice(0,i.AllTxData.instructions.length-1)),signer:s},{transaction:new h.Transaction().add(...u.slice(i.AllTxData.instructions.length-1)),signer:[]},{transaction:new h.Transaction().add(...i.AllTxData.endInstructions),signer:[]}]}static makeClaimInstruction({programId:e,poolInfo:t,ownerInfo:r}){let i=iU([]),n=[{pubkey:r.wallet,isSigner:!0,isWritable:!0},{pubkey:t.poolId,isSigner:!1,isWritable:!0},{pubkey:r.ownerPda,isSigner:!1,isWritable:!0},...r.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...t.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:y.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],a=f.Buffer.alloc(i.span);i.encode({},a);let o=f.Buffer.from([10,66,208,184,161,6,191,98,...a]);return new h.TransactionInstruction({keys:n,programId:e,data:o})}};aB.CLAIMED_NUM=3,aB.POOL_LAYOUT=iU([iw(8),iE("bump"),iE("status"),iI("openTime"),iI("endTime"),iO("ammId"),iM(iU([iE("mintDecimals"),iO("mintAddress"),iO("mintVault"),iI("perLpLoss"),iI("totalClaimedAmount")]),aB.CLAIMED_NUM,"tokenInfo"),iM(iI(),10,"padding")]),aB.OWNER_LAYOUT=iU([iw(8),iE("bump"),iE("version"),iO("poolId"),iO("owner"),iI("lpAmount"),iM(iU([iO("mintAddress"),iI("debtAmount"),iI("claimedAmount")]),aB.CLAIMED_NUM,"tokenInfo"),iM(iI(),4,"padding")]),aB.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new h.PublicKey(e)),aB.SEED_CONFIG={pool:{id:f.Buffer.from("pool_seed","utf8")},owner:{id:f.Buffer.from("user_claim_seed","utf8")}},aB.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"],iU([iE("instruction"),iy("amount")]);iU([iE("instruction")]);var aC={[rB.toString()]:1,[rC.toString()]:2,[rD.toString()]:3,[rF.toString()]:4},aD=f.Buffer.from("vault_auth_seed","utf8"),aF=(f.Buffer.from("global_config","utf8"),f.Buffer.from("pool","utf8")),aU=f.Buffer.from("pool_vault","utf8"),aM=(f.Buffer.from("pool_vesting","utf8"),f.Buffer.from("platform_config","utf8"));function aL(e){return rg([aD],e)}function aq(e){return rg([f.Buffer.from("__event_authority","utf8")],e)}var aK={initialize:f.Buffer.from([175,175,109,31,13,152,155,237]),buyExactIn:f.Buffer.from([250,234,13,123,213,156,19,236]),buyExactOut:f.Buffer.from([24,211,116,40,105,3,153,56]),sellExactIn:f.Buffer.from([149,39,222,155,211,124,152,26]),sellExactOut:f.Buffer.from([95,200,71,34,8,9,11,166]),createVestingAccount:f.Buffer.from([129,178,2,13,217,172,230,218]),claimVestedToken:f.Buffer.from([49,33,104,30,189,157,79,35]),createPlatformConfig:f.Buffer.from([176,90,196,175,253,113,220,20]),claimPlatformFee:f.Buffer.from([156,39,208,135,76,237,61,72]),updatePlaformConfig:f.Buffer.from([195,60,76,129,146,45,67,143])};function aW(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,y,x){let A=iU([iI("amountB"),iI("minAmountA"),iI("shareFeeRate")]),w=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:aq(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];x&&w.push({pubkey:x,isSigner:!1,isWritable:!0}),console.log({amountB:g.toString(),minAmountA:b.toString()});let v=f.Buffer.alloc(A.span);return A.encode({amountB:g,minAmountA:b,shareFeeRate:null!=y?y:new k.default(0)},v),new h.TransactionInstruction({keys:w,programId:e,data:f.Buffer.from([...aK.buyExactIn,...v])})}function aV(e,t,r,i,n,a,o,s,u,l,c,d,p,m,g,b,y,x){let A=iU([iI("amountA"),iI("minAmountB"),iI("shareFeeRate")]),w=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:aq(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];x&&w.push({pubkey:x,isSigner:!1,isWritable:!0});let v=f.Buffer.alloc(A.span);return A.encode({amountA:g,minAmountB:b,shareFeeRate:null!=y?y:new k.default(0)},v),new h.TransactionInstruction({keys:w,programId:e,data:f.Buffer.from([...aK.sellExactIn,...v])})}var aG=iU([iI(),iI("epoch"),iE("curveType"),ig("index"),iI("migrateFee"),iI("tradeFeeRate"),iI("maxShareFeeRate"),iI("minSupplyA"),iI("maxLockRate"),iI("minSellRateA"),iI("minMigrateRateA"),iI("minFundRaisingB"),iO("mintB"),iO("protocolFeeOwner"),iO("migrateFeeOwner"),iO("migrateToAmmWallet"),iO("migrateToCpmmWallet"),iM(iI(),16)]),aj=iU([iI("totalLockedAmount"),iI("cliffPeriod"),iI("unlockPeriod"),iI("startTime"),iI("totalAllocatedShare")]),az=iU([iI(),iI("epoch"),iE("bump"),iE("status"),iE("mintDecimalsA"),iE("mintDecimalsB"),iE("migrateType"),iI("supply"),iI("totalSellA"),iI("virtualA"),iI("virtualB"),iI("realA"),iI("realB"),iI("totalFundRaisingB"),iI("protocolFee"),iI("platformFee"),iI("migrateFee"),aj.replicate("vestingSchedule"),iO("configId"),iO("platformId"),iO("mintA"),iO("mintB"),iO("vaultA"),iO("vaultB"),iO("creator"),iM(iI(),8)]),aH=(iU([iI(),iI("epoch"),iO("poolId"),iO("beneficiary"),iI("claimedAmount"),iI("tokenShareAmount"),iM(iI(),8)]),iU([iI(),iI("epoch"),iO("platformClaimFeeWallet"),iO("platformLockNftWallet"),iI("platformScale"),iI("creatorScale"),iI("burnScale"),iI("feeRate"),iM(iE(),64,"name"),iM(iE(),256,"web"),iM(iE(),256,"img"),iM(iE(),256)])),aX=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}},aQ=class extends aX{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tR(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){return new tR(t.toString()).div(e.toString()).mul(10**(r-i))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tR(e.virtualB.add(e.realB).toString()).div(e.virtualA.sub(e.realA).toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){return new tR(i.sub(n).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-o))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let i=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tR(e.virtualB.add(e.realB.add(n)).toString()).div(e.virtualA.sub(e.realA.add(i)).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){if(e.lte(r))throw Error("supply need gt total sell");let a=e.sub(r).sub(i);if(a.lte(new k.default(0)))throw Error("supplyMinusSellLocked <= 0");let o=t.sub(n);if(o.lte(new k.default(0)))throw Error("tfMinusMf <= 0");let s=o.mul(nt).div(a),u=s.mul(r).mul(r).div(nt),l=s.mul(r).div(nt).sub(t);if(l.lt(new k.default(0)))throw Error("supply/totalSell/totalLockedAmount diff too high");let c=u.div(l),d=t.mul(t).div(l);if(c.lt(new k.default(0))||d.lt(new k.default(0)))throw Error("invalid input 0");return{a:c,b:d,c:r}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static getAmountOut({amountIn:e,inputReserve:t,outputReserve:r}){let i=e.mul(r),n=t.add(e);return i.div(n)}static getAmountIn({amountOut:e,inputReserve:t,outputReserve:r}){return rj(t.mul(e),r.sub(e))}},aJ=class extends aX{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tR(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){return new tR(t.toString()).div(e.toString()).mul(10**(r-i))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tR(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){return new tR(i.sub(n).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-o))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let i=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tR(e.virtualB.add(e.realB).add(n).toString()).div(e.virtualA.sub(e.realA).add(i).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){let a=e.sub(i);if(a.lte(new k.default(0)))throw Error("invalid input 1");let o=new k.default(2).mul(t).sub(n),s=t.mul(a).div(o);return{a:s,b:t,c:s}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualB,initOutput:e.virtualA})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualB,initOutput:e.virtualA})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualA,initOutput:e.virtualB})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualA,initOutput:e.virtualB})}static getAmountOut({amountIn:e,initInput:t,initOutput:r}){return r.mul(e).div(t)}static getAmountIn({amountOut:e,initInput:t,initOutput:r}){return rj(t.mul(e),r)}},aY=class{static _multipler(e){return new tR(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:r}){return new tR(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(r))}static getPriceX64({price:e,decimalA:t,decimalB:r}){let i=e.mul(this._multipler(r)).div(this._multipler(t));return new k.default(i.mul(this._Q64).toFixed(0))}};aY._Q64=new tR(new k.default(1).shln(64).toString());var aZ=class extends aX{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r}){return new tR(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i}){return new tR(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:r}){return new tR(e.virtualA.mul(e.realA).toString()).div(aY._Q64).mul(10**(t-r))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:r,totalFundRaising:i,migrateFee:n,decimalA:a,decimalB:o}){return new tR(i.sub(n).toString()).div(e.sub(t).sub(r).toString()).mul(10**(a-o))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:r}){let i=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tR(e.virtualB.add(e.realB).add(n).toString()).div(e.virtualA.sub(e.realA).add(i).toString()).mul(10**(t-r))}static getInitParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,migrateFee:n}){let a=e.sub(i);if(a.lte(new k.default(0)))throw Error("supplyMinusLocked need gt 0");let o=t.mul(new k.default(3)).sub(n),s=t.mul(new k.default(2)).mul(a).div(o),u=s.mul(s),l=t.mul(new k.default(2)).mul(nt).div(u);if(!l.gt(new k.default(0)))throw Error("a need gt 0");if(!ni.gt(l))throw Error("a need lt u64 max");return{a:l,b:new k.default(0),c:s}}static buyExactIn({poolInfo:e,amount:t}){let r=e.realB.add(t),i=new k.default(2).mul(r).mul(nt).div(e.virtualA);return new k.default(new tR(i.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let r=e.realA.add(t),i=r.mul(r),{div:n,mod:a}=e.virtualA.mul(i).divmod(new k.default(2).mul(nt));return(a.isZero()?n:n.add(new k.default(1))).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let r=e.realA.sub(t),i=r.mul(r),{div:n,mod:a}=e.virtualA.mul(i).divmod(new k.default(2).mul(nt)),o=a.isZero()?n:n.add(new k.default(1));return e.realB.sub(o)}static sellExactOut({poolInfo:e,amount:t}){let r=e.realB.sub(t),i=new k.default(2).mul(r).mul(nt).div(e.virtualA),n=new k.default(new tR(i.toString()).sqrt().toFixed(0));return e.realA.sub(n)}},a$=class{static getPoolCurvePointByPoolInfo({curveType:e,pointCount:t,poolInfo:r}){return this.getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r.supply,totalFundRaising:r.totalFundRaisingB,totalSell:r.totalSellA,totalLockedAmount:r.vestingSchedule.totalLockedAmount,migrateFee:r.migrateFee,decimalA:r.mintDecimalsA,decimalB:r.mintDecimalsB})}static getPoolCurvePointByInit({curveType:e,pointCount:t,supply:r,totalFundRaising:i,totalSell:n,totalLockedAmount:a,migrateFee:o,decimalA:s,decimalB:u}){if(t<3)throw Error("point count < 3");let l=this.getCurve(e),c=l.getInitParam({supply:r,totalFundRaising:i,totalSell:n,totalLockedAmount:a,migrateFee:o}),d=l.getPoolInitPriceByInit(Y(J({},c),{decimalA:s,decimalB:u})),f=i.div(new k.default(t-1)),p=new k.default(0),h=[{price:d,totalSellSupply:0}],{a:m,b:g}=c,b=p,y=p;for(let r=1;r<t;r++){let a=r!==t-1?f:i.sub(y),o=this.buyExactIn({poolInfo:{virtualA:m,virtualB:g,realA:b,realB:y,totalFundRaisingB:i,totalSellA:n},amountB:a,protocolFeeRate:p,platformFeeRate:p,curveType:e,shareFeeRate:p});b=b.add(o.amountA),y=y.add(o.amountB);let l=this.getPrice({poolInfo:{virtualA:m,virtualB:g,realA:b,realB:y},decimalA:s,decimalB:u,curveType:e});h.push({price:l,totalSellSupply:new tR(b.toString()).div(10**s).toNumber()})}return h}static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r,curveType:i}){return this.getCurve(i).getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:r})}static getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i,curveType:n}){return this.getCurve(n).getPoolInitPriceByInit({a:e,b:t,decimalA:r,decimalB:i})}static getPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:i}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:i})}static getEndPrice({poolInfo:e,curveType:t,decimalA:r,decimalB:i}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:r,decimalB:i})}static getPoolEndPriceReal({poolInfo:e,curveType:t,decimalA:r,decimalB:i}){return this.getCurve(t).getPoolEndPriceReal({poolInfo:e,decimalA:r,decimalB:i})}static checkParam({supply:e,totalFundRaising:t,totalSell:r,totalLockedAmount:i,decimals:n,config:a,migrateType:o}){if(6!==Number(n))throw Error("decimals = 6");if(e.mul(a.maxLockRate).div(rQ).lt(i))throw Error("total lock amount gte max lock amount");if(e.lt(a.minSupplyA.mul(new k.default(10**n))))throw Error("supply lt min supply");let s=e.mul(a.minSellRateA).div(rQ);if(r.lt(s))throw Error("invalid input");if(t.lt(a.minFundRaisingB))throw Error("total fund raising lt min fund raising");let u=e.sub(r).sub(i),l=e.mul(a.minMigrateRateA).div(rQ);if(u.lt(l))throw Error("migrate lt min migrate amount");let c=e.sub(r).sub(i),d=new k.default(new tR(c.mul(t).toString()).sqrt().toFixed(0));if("amm"===o){let e=new k.default(10).pow(new k.default(n));if(d.lte(e))throw Error("check migrate lp error")}else if("cpmm"===o){let e=new k.default(100);if(d.lte(e))throw Error("check migrate lp error")}else throw Error("migrate type error")}static buyExactIn({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=r.add(a).add(i),s=this.calculateFee({amount:t,feeRate:o}),u=t.sub(s),l=this.getCurve(n).buyExactIn({poolInfo:e,amount:u}),c=e.totalSellA.sub(e.realA),d,f,p;if(l.gt(c)){d=c;let t=e.totalFundRaisingB.sub(e.realB);p=(f=this.calculatePreFee({postFeeAmount:t,feeRate:o})).sub(t)}else d=l,f=t,p=s;return{amountA:d,amountB:f,splitFee:this.splitFee({totalFee:p,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a})}}static buyExactOut({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=e.totalSellA.sub(e.realA),s=t,u;t.gte(o)?(s=o,u=e.totalFundRaisingB.sub(e.realB)):u=this.getCurve(n).buyExactOut({poolInfo:e,amount:t});let l=r.add(a).add(i),c=this.calculatePreFee({postFeeAmount:u,feeRate:l}),d=c.sub(u);return{amountA:s,amountB:c,splitFee:this.splitFee({totalFee:d,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a})}}static sellExactIn({poolInfo:e,amountA:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=this.getCurve(n).sellExactIn({poolInfo:e,amount:t}),s=this.calculateFee({amount:o,feeRate:r.add(a).add(i)}),u=this.splitFee({totalFee:s,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a});return{amountA:t,amountB:o.sub(s),splitFee:u}}static sellExactOut({poolInfo:e,amountB:t,protocolFeeRate:r,platformFeeRate:i,curveType:n,shareFeeRate:a}){let o=r.add(a).add(i),s=this.calculatePreFee({postFeeAmount:t,feeRate:o});if(e.realB.lt(s))throw Error("Insufficient liquidity");let u=s.sub(t),l=a$.getCurve(n).sellExactOut({poolInfo:e,amount:t});if(l.gt(e.realA))throw Error();return{amountA:l,amountB:t,splitFee:this.splitFee({totalFee:u,protocolFeeRate:r,platformFeeRate:i,shareFeeRate:a})}}static splitFee({totalFee:e,protocolFeeRate:t,platformFeeRate:r,shareFeeRate:i}){let n=t.add(r).add(i),a=n.isZero()?new k.default(0):e.mul(r).div(n),o=n.isZero()?new k.default(0):e.mul(i).div(n),s=e.sub(a).sub(o);return{platformFee:a,shareFee:o,protocolFee:s}}static calculateFee({amount:e,feeRate:t}){return ri(e,t,rQ)}static calculatePreFee({postFeeAmount:e,feeRate:t}){if(t.isZero())return e;let r=e.mul(rQ),i=rQ.sub(t);return r.add(i).sub(new k.default(1)).div(i)}static getCurve(e){switch(e){case 0:return aQ;case 1:return aJ;case 2:return aZ}throw Error("find curve error")}},a0={initPriceX64:new k.default("515752397214619"),supply:new k.default(1e15),totalSellA:new k.default(7931e11),totalFundRaisingB:new k.default(85e9),totalLockedAmount:new k.default("0"),cliffPeriod:new k.default("0"),unlockPeriod:new k.default("0"),decimals:6,virtualA:new k.default("1073471847374405"),virtualB:new k.default("30050573465"),realA:new k.default(0),realB:new k.default(0),protocolFee:new k.default(0),platformId:new h.PublicKey("2vSBJMh4zLm2tij3BjBcbvTogbfST9oAzSsk4HTFcRok"),vestingSchedule:{totalLockedAmount:new k.default(0),cliffPeriod:new k.default(0),unlockPeriod:new k.default(0),startTime:new k.default(0),totalAllocatedShare:new k.default(0)}},a1=new k.default(1e4);e.s(["Curve",()=>a$,"ZERO",()=>i7,"buyExactInInstruction",()=>aW,"getPdaLaunchpadAuth",()=>aL,"sellExactInInstruction",()=>aV],49498)},517207,986216,704290,459094,100191,199098,284456,412129,408136,e=>{"use strict";var t,r=e.i(467034),i=e.i(268804);e.i(465903);var n=e.i(767924),a=e.i(973444),o=e.i(127261);function s(e){function t(t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return(0,a.newSafeBN)(r).add((0,a.newSafeBN)(i).shln(32))}function r(t){let r=e.readUInt32LE(t),i=e.readUInt32LE(t+4),n=e.readUInt32LE(t+8),o=e.readUInt32LE(t+12);return(0,a.newSafeBN)(r).add((0,a.newSafeBN)(i).shln(32)).add((0,a.newSafeBN)(n).shln(64)).add((0,a.newSafeBN)(o).shln(96))}function i(t){return new o.PublicKey(e.subarray(t,t+32))}let n={cliffFeeNumerator:t(0),baseFeeMode:e.readUInt8(8),firstFactor:e.readUInt16LE(14),secondFactor:[e.readUInt8(16),e.readUInt8(17),e.readUInt8(18),e.readUInt8(19),e.readUInt8(20),e.readUInt8(21),e.readUInt8(22),e.readUInt8(23)],thirdFactor:t(24)},s=e.readUInt8(40),u=e.readUInt8(41),l=e.readUInt8(42),c={initialized:e.readUInt8(48),maxVolatilityAccumulator:e.readUInt32LE(56),variableFeeControl:e.readUInt32LE(60),binStep:e.readUInt16LE(64),filterPeriod:e.readUInt16LE(66),decayPeriod:e.readUInt16LE(68),reductionFactor:e.readUInt16LE(70),lastUpdateTimestamp:t(72),binStepU128:r(80),sqrtPriceReference:r(96),volatilityAccumulator:r(112),volatilityReference:r(128)},d=r(144),f=i(160),p=i(192),h=i(224),m=i(256),g=i(288),b=i(320),y=r(352),x=r(416),A=r(432),w=r(448),v=t(464),S=e.readUInt8(472),k=e.readUInt8(473),T=e.readUInt8(476);return{poolFees:{baseFee:n,protocolFeePercent:s,partnerFeePercent:u,referralFeePercent:l,dynamicFee:c,initSqrtPrice:d},tokenAMint:f,tokenBMint:p,tokenAVault:h,tokenBVault:m,whitelistedVault:g,partner:b,liquidity:y,sqrtMinPrice:x,sqrtMaxPrice:A,sqrtPrice:w,activationPoint:v,activationType:S,poolStatus:k,collectFeeMode:T,poolType:e.readUInt8(477),version:e.readUInt8(478)}}var u=((w={})[w.Up=0]="Up",w[w.Down=1]="Down",w);(v={})[v.Timestamp=0]="Timestamp",v[v.Slot=1]="Slot";var l=((S={})[S.FeeTimeSchedulerLinear=0]="FeeTimeSchedulerLinear",S[S.FeeTimeSchedulerExponential=1]="FeeTimeSchedulerExponential",S[S.RateLimiter=2]="RateLimiter",S[S.FeeMarketCapSchedulerLinear=3]="FeeMarketCapSchedulerLinear",S[S.FeeMarketCapSchedulerExponential=4]="FeeMarketCapSchedulerExponential",S),c=((k={})[k.BothToken=0]="BothToken",k[k.OnlyB=1]="OnlyB",k),d=((T={})[T.AtoB=0]="AtoB",T[T.BtoA=1]="BtoA",T),f=((E={})[E.Slot=0]="Slot",E[E.Timestamp=1]="Timestamp",E),p=((P={})[P.V0=0]="V0",P[P.V1=1]="V1",P);(I={})[I.Enable=0]="Enable",I[I.Disable=1]="Disable",(_={})[_.ExactIn=0]="ExactIn",_[_.PartialFill=1]="PartialFill",_[_.ExactOut=2]="ExactOut";var h=e.i(659341);new o.PublicKey("cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG");let m=new h.default(1).shln(64),g=new h.default(524288),b=new h.default(2).pow(new h.default(128)).sub(new h.default(1));new h.default("4295048016"),new h.default("79226673521066979257578248091");let y=new h.default(1e11),x=new h.default(0x174876e7ff);new h.default("1844674407370955"),new h.default("340282366920938463463374607431768211455");let A=new h.default("18446744073709551615");p.V0,e.s(["BASIS_POINT_MAX",0,1e4,"DYNAMIC_FEE_ROUNDING_OFFSET",0,x,"DYNAMIC_FEE_SCALING_FACTOR",0,y,"FEE_DENOMINATOR",0,1e9,"MAX",0,b,"MAX_EXPONENTIAL",0,g,"MAX_FEE_BPS_V0",0,5e3,"MAX_FEE_BPS_V1",0,9900,"MAX_FEE_NUMERATOR_V0",0,5e8,"MAX_FEE_NUMERATOR_V1",0,99e7,"MAX_RATE_LIMITER_DURATION_IN_SECONDS",0,43200,"MAX_RATE_LIMITER_DURATION_IN_SLOTS",0,108e3,"MIN_FEE_NUMERATOR",0,1e5,"ONE_Q64",0,m,"SCALE_OFFSET",0,64,"U16_MAX",0,65535,"U64_MAX",0,A],986216);var w,v,S,k,T,E,P,I,_,N,R,O="0123456789abcdef",B="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",C="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",D={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},F=!0,U="[DecimalError] ",M=U+"Invalid argument: ",L=U+"Precision limit exceeded",q=U+"crypto unavailable",K="[object Decimal]",W=Math.floor,V=Math.pow,G=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,j=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,z=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,H=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,X=B.length-1,Q=C.length-1,J={toStringTag:K};function Y(e){var t,r,i,n=e.length-1,a="",o=e[0];if(n>0){for(a+=o,t=1;t<n;t++)(r=7-(i=e[t]+"").length)&&(a+=eu(r)),a+=i;(r=7-(i=(o=e[t])+"").length)&&(a+=eu(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function Z(e,t,r){if(e!==~~e||e<t||e>r)throw Error(M+e)}function $(e,t,r,i){var n,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,n=0):(n=Math.ceil((t+1)/7),t%=7),a=V(10,7-t),s=e[n]%a|0,null==i?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[n+1]/a/100|0)==V(10,t-2)-1||(s==a/2||0==s)&&(e[n+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(i||r<4)&&9999==s||!i&&r>3&&4999==s):o=((i||r<4)&&s+1==a||!i&&r>3&&s+1==a/2)&&(e[n+1]/a/1e3|0)==V(10,t-3)-1,o}function ee(e,t,r){for(var i,n,a=[0],o=0,s=e.length;o<s;){for(n=a.length;n--;)a[n]*=t;for(a[0]+=O.indexOf(e.charAt(o++)),i=0;i<a.length;i++)a[i]>r-1&&(void 0===a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}J.absoluteValue=J.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),er(e)},J.ceil=function(){return er(new this.constructor(this),this.e+1,2)},J.clampedTo=J.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(M+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},J.comparedTo=J.cmp=function(e){var t,r,i,n,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!a||!o)return s&&u?s!==u?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(i=a.length)<(n=o.length)?i:n;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return i===n?0:i>n^s<0?1:-1},J.cosine=J.cos=function(){var e,t,r=this,i=r.constructor;return r.d?r.d[0]?(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i,n;if(t.isZero())return t;(i=t.d.length)<32?n=(1/eb(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),e.precision+=r,t=eg(e,1,t.times(n),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(i,ey(i,r)),i.precision=e,i.rounding=t,er(2==R||3==R?r.neg():r,e,t,!0)):new i(1):new i(NaN)},J.cubeRoot=J.cbrt=function(){var e,t,r,i,n,a,o,s,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(F=!1,(a=this.s*V(this.s*this,1/3))&&Math.abs(a)!=1/0?i=new c(a.toString()):(r=Y(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=V(r,1/3),e=W((e+1)/3)-(e%3==(e<0?-1:2)),(i=new c(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=c.precision)+3;;)if(i=et((l=(u=(s=i).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),o+2,1),Y(s.d).slice(0,o)===(r=Y(i.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(n||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(er(i,e+1,1),t=!i.times(i).times(i).eq(this));break}if(!n&&(er(s,e+1,0),s.times(s).times(s).eq(this))){i=s;break}o+=4,n=1}return F=!0,er(i,e,c.rounding,t)},J.decimalPlaces=J.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-W(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},J.dividedBy=J.div=function(e){return et(this,new this.constructor(e))},J.dividedToIntegerBy=J.divToInt=function(e){var t=this.constructor;return er(et(this,new t(e),0,1,1),t.precision,t.rounding)},J.equals=J.eq=function(e){return 0===this.cmp(e)},J.floor=function(){return er(new this.constructor(this),this.e+1,3)},J.greaterThan=J.gt=function(e){return this.cmp(e)>0},J.greaterThanOrEqualTo=J.gte=function(e){var t=this.cmp(e);return 1==t||0===t},J.hyperbolicCosine=J.cosh=function(){var e,t,r,i,n,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,i=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(n=a.d.length)<32?t=(1/eb(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=eg(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return er(a,o.precision=r,o.rounding=i,!0)},J.hyperbolicSine=J.sinh=function(){var e,t,r,i,n=this,a=n.constructor;if(!n.isFinite()||n.isZero())return new a(n);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(n.e,n.sd())+4,a.rounding=1,(i=n.d.length)<3)n=eg(a,2,n,n,!0);else{e=(e=1.4*Math.sqrt(i))>16?16:0|e,n=eg(a,2,n=n.times(1/eb(5,e)),n,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=n.times(n),n=n.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=r,er(n,t,r,!0)},J.hyperbolicTangent=J.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,et(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},J.inverseCosine=J.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,n=t.rounding;return -1!==r?0===r?e.isNeg()?eo(t,i,n):new t(0):new t(NaN):e.isZero()?eo(t,i+4,n).times(.5):(t.precision=i+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=i,t.rounding=n,e.times(2))},J.inverseHyperbolicCosine=J.acosh=function(){var e,t,r=this,i=r.constructor;return r.lte(1)?new i(r.eq(1)?0:NaN):r.isFinite()?(e=i.precision,t=i.rounding,i.precision=e+Math.max(Math.abs(r.e),r.sd())+4,i.rounding=1,F=!1,r=r.times(r).minus(1).sqrt().plus(r),F=!0,i.precision=e,i.rounding=t,r.ln()):new i(r)},J.inverseHyperbolicSine=J.asinh=function(){var e,t,r=this,i=r.constructor;return!r.isFinite()||r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,i.rounding=1,F=!1,r=r.times(r).plus(1).sqrt().plus(r),F=!0,i.precision=e,i.rounding=t,r.ln())},J.inverseHyperbolicTangent=J.atanh=function(){var e,t,r,i,n=this,a=n.constructor;return n.isFinite()?n.e>=0?new a(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=a.precision,t=a.rounding,Math.max(i=n.sd(),e)<-(2*n.e)-1)?er(new a(n),e,t,!0):(a.precision=r=i-n.e,n=et(n.plus(1),new a(1).minus(n),r+e,1),a.precision=e+4,a.rounding=1,n=n.ln(),a.precision=e,a.rounding=t,n.times(.5)):new a(NaN)},J.inverseSine=J.asin=function(){var e,t,r,i,n=this,a=n.constructor;return n.isZero()?new a(n):(t=n.abs().cmp(1),r=a.precision,i=a.rounding,-1!==t)?0===t?((e=eo(a,r+4,i).times(.5)).s=n.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,n=n.div(new a(1).minus(n.times(n)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=i,n.times(2))},J.inverseTangent=J.atan=function(){var e,t,r,i,n,a,o,s,u,l=this,c=l.constructor,d=c.precision,f=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);else if(l.abs().eq(1)&&d+4<=Q)return(o=eo(c,d+4,f).times(.25)).s=l.s,o}else{if(!l.s)return new c(NaN);if(d+4<=Q)return(o=eo(c,d+4,f).times(.5)).s=l.s,o}for(c.precision=s=d+10,c.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(F=!1,t=Math.ceil(s/7),i=1,u=l.times(l),o=new c(l),n=l;-1!==e;)if(n=n.times(u),a=o.minus(n.div(i+=2)),n=n.times(u),void 0!==(o=a.plus(n.div(i+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),F=!0,er(o,c.precision=d,c.rounding=f,!0)},J.isFinite=function(){return!!this.d},J.isInteger=J.isInt=function(){return!!this.d&&W(this.e/7)>this.d.length-2},J.isNaN=function(){return!this.s},J.isNegative=J.isNeg=function(){return this.s<0},J.isPositive=J.isPos=function(){return this.s>0},J.isZero=function(){return!!this.d&&0===this.d[0]},J.lessThan=J.lt=function(e){return 0>this.cmp(e)},J.lessThanOrEqualTo=J.lte=function(e){return 1>this.cmp(e)},J.logarithm=J.log=function(e){var t,r,i,n,a,o,s,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(r=(e=new u(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new u(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)n=!0;else{for(i=r[0];i%10==0;)i/=10;n=1!==i}if(F=!1,$((s=et(a=ep(this,o=l+5),t?ea(u,o+10):ep(e,o),o,1)).d,i=l,c))do if(o+=10,s=et(a=ep(this,o),t?ea(u,o+10):ep(e,o),o,1),!n){+Y(s.d).slice(i+1,i+15)+1==1e14&&(s=er(s,l+1,0));break}while($(s.d,i+=10,c))return F=!0,er(s,l,c)},J.minus=J.sub=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,f=e.d,s=p.precision,u=p.rounding,!l[0]||!f[0]){if(f[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return F?er(e,s,u):e}if(r=W(e.e/7),c=W(this.e/7),l=l.slice(),a=c-r){for((d=a<0)?(t=l,a=-a,o=f.length):(t=f,r=c,o=l.length),a>(i=Math.max(Math.ceil(s/7),o)+2)&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for((d=(i=l.length)<(o=f.length))&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(t=l,l=f,f=t,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(n=i;n&&0===l[--n];)l[n]=1e7-1;--l[n],l[i]+=1e7}l[i]-=f[i]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(e.d=l,e.e=en(l,r),F?er(e,s,u):e):new p(3===u?-0:0)},J.modulo=J.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(F=!1,9==r.modulo?(t=et(this,e.abs(),0,3,1),t.s*=e.s):t=et(this,e,0,r.modulo,1),t=t.times(e),F=!0,this.minus(t)):er(new r(this),r.precision,r.rounding):new r(NaN)},J.naturalExponential=J.exp=function(){return ef(this)},J.naturalLogarithm=J.ln=function(){return ep(this)},J.negated=J.neg=function(){var e=new this.constructor(this);return e.s=-e.s,er(e)},J.plus=J.add=function(e){var t,r,i,n,a,o,s,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,s=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),F?er(e,s,u):e;if(a=W(this.e/7),i=W(e.e/7),l=l.slice(),n=a-i){for(n<0?(r=l,n=-n,o=c.length):(r=c,i=a,o=l.length),n>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(n=o,r.length=1),r.reverse();n--;)r.push(0);r.reverse()}for((o=l.length)-(n=c.length)<0&&(n=o,r=c,c=l,l=r),t=0;n;)t=(l[--n]=l[n]+c[n]+t)/1e7|0,l[n]%=1e7;for(t&&(l.unshift(t),++i),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=en(l,i),F?er(e,s,u):e},J.precision=J.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(M+e);return this.d?(t=es(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},J.round=function(){var e=this.constructor;return er(new e(this),this.e+1,e.rounding)},J.sine=J.sin=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+Math.max(r.e,r.sd())+7,i.rounding=1,r=function(e,t){var r,i=t.d.length;if(i<3)return t.isZero()?t:eg(e,2,t,t);r=(r=1.4*Math.sqrt(i))>16?16:0|r,t=eg(e,2,t=t.times(1/eb(5,r)),t);for(var n,a=new e(5),o=new e(16),s=new e(20);r--;)n=t.times(t),t=t.times(a.plus(n.times(o.times(n).minus(s))));return t}(i,ey(i,r)),i.precision=e,i.rounding=t,er(R>2?r.neg():r,e,t,!0)):new i(NaN)},J.squareRoot=J.sqrt=function(){var e,t,r,i,n,a,o=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!o||!o[0])return new l(!u||u<0&&(!o||o[0])?NaN:o?this:1/0);for(F=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=Y(o)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=W((s+1)/2)-(s<0||s%2),i=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):i=new l(u.toString()),r=(s=l.precision)+3;;)if(i=(a=i).plus(et(this,a,r+2,1)).times(.5),Y(a.d).slice(0,r)===(t=Y(i.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(er(i,s+1,1),e=!i.times(i).eq(this));break}if(!n&&(er(a,s+1,0),a.times(a).eq(this))){i=a;break}r+=4,n=1}return F=!0,er(i,s,l.rounding,e)},J.tangent=J.tan=function(){var e,t,r=this,i=r.constructor;return r.isFinite()?r.isZero()?new i(r):(e=i.precision,t=i.rounding,i.precision=e+10,i.rounding=1,(r=r.sin()).s=1,r=et(r,new i(1).minus(r.times(r)).sqrt(),e+10,0),i.precision=e,i.rounding=t,er(2==R||4==R?r.neg():r,e,t,!0)):new i(NaN)},J.times=J.mul=function(e){var t,r,i,n,a,o,s,u,l,c=this.constructor,d=this.d,f=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!f||!f[0])return new c(!e.s||d&&!d[0]&&!f||f&&!f[0]&&!d?NaN:!d||!f?e.s/0:0*e.s);for(r=W(this.e/7)+W(e.e/7),(u=d.length)<(l=f.length)&&(a=d,d=f,f=a,o=u,u=l,l=o),a=[],i=o=u+l;i--;)a.push(0);for(i=l;--i>=0;){for(t=0,n=u+i;n>i;)s=a[n]+f[i]*d[n-i-1]+t,a[n--]=s%1e7|0,t=s/1e7|0;a[n]=(a[n]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=en(a,r),F?er(e,c.precision,c.rounding):e},J.toBinary=function(e,t){return ex(this,2,e,t)},J.toDecimalPlaces=J.toDP=function(e,t){var r=this,i=r.constructor;return(r=new i(r),void 0===e)?r:(Z(e,0,1e9),void 0===t?t=i.rounding:Z(t,0,8),er(r,e+r.e+1,t))},J.toExponential=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=ei(i,!0):(Z(e,0,1e9),void 0===t?t=n.rounding:Z(t,0,8),r=ei(i=er(new n(i),e+1,t),!0,e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},J.toFixed=function(e,t){var r,i,n=this.constructor;return void 0===e?r=ei(this):(Z(e,0,1e9),void 0===t?t=n.rounding:Z(t,0,8),r=ei(i=er(new n(this),e+this.e+1,t),!1,e+i.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},J.toFraction=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,p=this.d,h=this.constructor;if(!p)return new h(this);if(l=r=new h(1),i=u=new h(0),o=(a=(t=new h(i)).e=es(p)-this.e-1)%7,t.d[0]=V(10,o<0?7+o:o),null==e)e=a>0?t:l;else{if(!(s=new h(e)).isInt()||s.lt(l))throw Error(M+s);e=s.gt(t)?a>0?t:l:s}for(F=!1,s=new h(Y(p)),c=h.precision,h.precision=a=7*p.length*2;d=et(s,t,0,1,1),1!=(n=r.plus(d.times(i))).cmp(e);)r=i,i=n,n=l,l=u.plus(d.times(n)),u=n,n=t,t=s.minus(d.times(n)),s=n;return n=et(e.minus(r),i,0,1,1),u=u.plus(n.times(l)),r=r.plus(n.times(i)),u.s=l.s=this.s,f=1>et(l,i,a,1).minus(this).abs().cmp(et(u,r,a,1).minus(this).abs())?[l,i]:[u,r],h.precision=c,F=!0,f},J.toHexadecimal=J.toHex=function(e,t){return ex(this,16,e,t)},J.toNearest=function(e,t){var r=this,i=r.constructor;if(r=new i(r),null==e){if(!r.d)return r;e=new i(1),t=i.rounding}else{if(e=new i(e),void 0===t?t=i.rounding:Z(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(F=!1,r=et(r,e,0,t,1).times(e),F=!0,er(r)):(e.s=r.s,r=e),r},J.toNumber=function(){return+this},J.toOctal=function(e,t){return ex(this,8,e,t)},J.toPower=J.pow=function(e){var t,r,i,n,a,o,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(V(+s,l));if((s=new u(s)).eq(1))return s;if(i=u.precision,a=u.rounding,e.eq(1))return er(s,i,a);if((t=W(e.e/7))>=e.d.length-1&&(r=l<0?-l:l)<=0x1fffffffffffff)return n=el(u,s,r,i),e.s<0?new u(1).div(n):er(n,i,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=V(+s,l))&&isFinite(r)?new u(r+"").e:W(l*(Math.log("0."+Y(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(F=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(n=ef(e.times(ep(s,i+r)),i)).d&&$((n=er(n,i+5,1)).d,i,a)&&(t=i+10,+Y((n=er(ef(e.times(ep(s,t+r)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(n=er(n,i+1,0))),n.s=o,F=!0,u.rounding=a,er(n,i,a))},J.toPrecision=function(e,t){var r,i=this,n=i.constructor;return void 0===e?r=ei(i,i.e<=n.toExpNeg||i.e>=n.toExpPos):(Z(e,1,1e9),void 0===t?t=n.rounding:Z(t,0,8),r=ei(i=er(new n(i),e,t),e<=i.e||i.e<=n.toExpNeg,e)),i.isNeg()&&!i.isZero()?"-"+r:r},J.toSignificantDigits=J.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(Z(e,1,1e9),void 0===t?t=r.rounding:Z(t,0,8)),er(new r(this),e,t)},J.toString=function(){var e=this.constructor,t=ei(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},J.truncated=J.trunc=function(){return er(new this.constructor(this),this.e+1,1)},J.valueOf=J.toJSON=function(){var e=this.constructor,t=ei(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var et=function(){function e(e,t,r){var i,n=0,a=e.length;for(e=e.slice();a--;)i=e[a]*t+n,e[a]=i%r|0,n=i/r|0;return n&&e.unshift(n),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,n,a,o,s,u){var l,c,d,f,p,h,m,g,b,y,x,A,w,v,S,k,T,E,P,I,_=i.constructor,R=i.s==n.s?1:-1,O=i.d,B=n.d;if(!O||!O[0]||!B||!B[0])return new _(!i.s||!n.s||(O?B&&O[0]==B[0]:!B)?NaN:O&&0==O[0]||!B?0*R:R/0);for(u?(p=1,c=i.e-n.e):(u=1e7,p=7,c=W(i.e/p)-W(n.e/p)),P=B.length,T=O.length,y=(b=new _(R)).d=[],d=0;B[d]==(O[d]||0);d++);if(B[d]>(O[d]||0)&&c--,null==a?(v=a=_.precision,o=_.rounding):v=s?a+(i.e-n.e)+1:a,v<0)y.push(1),h=!0;else{if(v=v/p+2|0,d=0,1==P){for(f=0,B=B[0],v++;(d<T||f)&&v--;d++)S=f*u+(O[d]||0),y[d]=S/B|0,f=S%B|0;h=f||d<T}else{for((f=u/(B[0]+1)|0)>1&&(B=e(B,f,u),O=e(O,f,u),P=B.length,T=O.length),k=P,A=(x=O.slice(0,P)).length;A<P;)x[A++]=0;(I=B.slice()).unshift(0),E=B[0],B[1]>=u/2&&++E;do f=0,(l=t(B,x,P,A))<0?(w=x[0],P!=A&&(w=w*u+(x[1]||0)),(f=w/E|0)>1?(f>=u&&(f=u-1),g=(m=e(B,f,u)).length,A=x.length,1==(l=t(m,x,g,A))&&(f--,r(m,P<g?I:B,g,u))):(0==f&&(l=f=1),m=B.slice()),(g=m.length)<A&&m.unshift(0),r(x,m,A,u),-1==l&&(A=x.length,(l=t(B,x,P,A))<1&&(f++,r(x,P<A?I:B,A,u))),A=x.length):0===l&&(f++,x=[0]),y[d++]=f,l&&x[0]?x[A++]=O[k]||0:(x=[O[k]],A=1);while((k++<T||void 0!==x[0])&&v--)h=void 0!==x[0]}y[0]||y.shift()}if(1==p)b.e=c,N=h;else{for(d=1,f=y[0];f>=10;f/=10)d++;b.e=d+c*p-1,er(b,s?a+b.e+1:a,o,h)}return b}}();function er(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor;t:if(null!=t){if(!(d=e.d))return e;for(n=1,s=d[0];s>=10;s/=10)n++;if((a=t-n)<0)a+=7,o=t,u=(c=d[f=0])/V(10,n-o-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(s=d.length))if(i){for(;s++<=f;)d.push(0);c=u=0,n=1,a%=7,o=a-7+1}else break t;else{for(n=1,c=s=d[f];s>=10;s/=10)n++;a%=7,u=(o=a-7+n)<0?0:c/V(10,n-o-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(o<0?c:c%V(10,n-o-1)),l=r<4?(u||i)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||i||6==r&&(a>0?o>0?c/V(10,n-o):0:d[f-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=V(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==a?(d.length=f,s=1,f--):(d.length=f+1,s=V(10,7-a),d[f]=o>0?(c/V(10,n-o)%V(10,o)|0)*s:0),l)for(;;)if(0==f){for(a=1,o=d[0];o>=10;o/=10)a++;for(o=d[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[f]+=s,1e7!=d[f])break;d[f--]=0,s=1}for(a=d.length;0===d[--a];)d.pop()}return F&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function ei(e,t,r){if(!e.isFinite())return eh(e);var i,n=e.e,a=Y(e.d),o=a.length;return t?(r&&(i=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+eu(i):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):n<0?(a="0."+eu(-n-1)+a,r&&(i=r-o)>0&&(a+=eu(i))):n>=o?(a+=eu(n+1-o),r&&(i=r-n-1)>0&&(a=a+"."+eu(i))):((i=n+1)<o&&(a=a.slice(0,i)+"."+a.slice(i)),r&&(i=r-o)>0&&(n+1===o&&(a+="."),a+=eu(i))),a}function en(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function ea(e,t,r){if(t>X)throw F=!0,r&&(e.precision=r),Error(L);return er(new e(B),t,1,!0)}function eo(e,t,r){if(t>Q)throw Error(L);return er(new e(C),t,r,!0)}function es(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function eu(e){for(var t="";e--;)t+="0";return t}function el(e,t,r,i){var n,a=new e(1),o=Math.ceil(i/7+4);for(F=!1;;){if(r%2&&eA((a=a.times(t)).d,o)&&(n=!0),0===(r=W(r/2))){r=a.d.length-1,n&&0===a.d[r]&&++a.d[r];break}eA((t=t.times(t)).d,o)}return F=!0,a}function ec(e){return 1&e.d[e.d.length-1]}function ed(e,t,r){for(var i,n,a=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){a=n;break}((i=a.cmp(n))===r||0===i&&a.s===r)&&(a=n)}return a}function ef(e,t){var r,i,n,a,o,s,u,l=0,c=0,d=0,f=e.constructor,p=f.rounding,h=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(F=!1,u=h):u=t,s=new f(.03125);e.e>-2;)e=e.times(s),d+=5;for(u+=i=Math.log(V(2,d))/Math.LN10*2+5|0,r=a=o=new f(1),f.precision=u;;){if(a=er(a.times(e),u,1),r=r.times(++c),Y((s=o.plus(et(a,r,u,1))).d).slice(0,u)===Y(o.d).slice(0,u)){for(n=d;n--;)o=er(o.times(o),u,1);if(null!=t)return f.precision=h,o;if(!(l<3&&$(o.d,u-i,p,l)))return er(o,f.precision=h,p,F=!0);f.precision=u+=10,r=a=s=new f(1),c=0,l++}o=s}}function ep(e,t){var r,i,n,a,o,s,u,l,c,d,f,p=1,h=e,m=h.d,g=h.constructor,b=g.rounding,y=g.precision;if(h.s<0||!m||!m[0]||!h.e&&1==m[0]&&1==m.length)return new g(m&&!m[0]?-1/0:1!=h.s?NaN:m?0:h);if(null==t?(F=!1,c=y):c=t,g.precision=c+=10,i=(r=Y(m)).charAt(0),!(15e14>Math.abs(a=h.e)))return l=ea(g,c+2,y).times(a+""),h=ep(new g(i+"."+r.slice(1)),c-10).plus(l),g.precision=y,null==t?er(h,y,b,F=!0):h;for(;i<7&&1!=i||1==i&&r.charAt(1)>3;)i=(r=Y((h=h.times(e)).d)).charAt(0),p++;for(a=h.e,i>1?(h=new g("0."+r),a++):h=new g(i+"."+r.slice(1)),d=h,u=o=h=et(h.minus(1),h.plus(1),c,1),f=er(h.times(h),c,1),n=3;;){if(o=er(o.times(f),c,1),Y((l=u.plus(et(o,new g(n),c,1))).d).slice(0,c)===Y(u.d).slice(0,c)){if(u=u.times(2),0!==a&&(u=u.plus(ea(g,c+2,y).times(a+""))),u=et(u,new g(p),c,1),null!=t)return g.precision=y,u;if(!$(u.d,c-10,b,s))return er(u,g.precision=y,b,F=!0);g.precision=c+=10,l=o=h=et(d.minus(1),d.plus(1),c,1),f=er(h.times(h),c,1),n=s=1}u=l,n+=2}}function eh(e){return String(e.s*e.s/0)}function em(e,t){var r,i,n;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;48===t.charCodeAt(i);i++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(i,n)){if(n-=i,e.e=r=r-i-1,e.d=[],i=(r+1)%7,r<0&&(i+=7),i<n){for(i&&e.d.push(+t.slice(0,i)),n-=7;i<n;)e.d.push(+t.slice(i,i+=7));i=7-(t=t.slice(i)).length}else i-=n;for(;i--;)t+="0";e.d.push(+t),F&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eg(e,t,r,i,n){var a,o,s,u,l=e.precision,c=Math.ceil(l/7);for(F=!1,u=r.times(r),s=new e(i);;){if(o=et(s.times(u),new e(t++*t++),l,1),s=n?i.plus(o):i.minus(o),i=et(o.times(u),new e(t++*t++),l,1),void 0!==(o=s.plus(i)).d[c]){for(a=c;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=i,i=o,o=a}return F=!0,o.d.length=c+1,o}function eb(e,t){for(var r=e;--t;)r*=e;return r}function ey(e,t){var r,i=t.s<0,n=eo(e,e.precision,1),a=n.times(.5);if((t=t.abs()).lte(a))return R=i?4:1,t;if((r=t.divToInt(n)).isZero())R=i?3:2;else{if((t=t.minus(r.times(n))).lte(a))return R=ec(r)?i?2:3:i?4:1,t;R=ec(r)?i?1:4:i?3:2}return t.minus(n).abs()}function ex(e,t,r,i){var n,a,o,s,u,l,c,d,f,p=e.constructor,h=void 0!==r;if(h?(Z(r,1,1e9),void 0===i?i=p.rounding:Z(i,0,8)):(r=p.precision,i=p.rounding),e.isFinite()){for(o=(c=ei(e)).indexOf("."),h?(n=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):n=t,o>=0&&(c=c.replace(".",""),(f=new p(1)).e=c.length-o,f.d=ee(ei(f),10,n),f.e=f.d.length),a=u=(d=ee(c,10,n)).length;0==d[--u];)d.pop();if(d[0]){if(o<0?a--:((e=new p(e)).d=d,e.e=a,d=(e=et(e,f,r,i,0,n)).d,a=e.e,l=N),o=d[r],s=n/2,l=l||void 0!==d[r+1],l=i<4?(void 0!==o||l)&&(0===i||i===(e.s<0?3:2)):o>s||o===s&&(4===i||l||6===i&&1&d[r-1]||i===(e.s<0?8:7)),d.length=r,l)for(;++d[--r]>n-1;)d[r]=0,r||(++a,d.unshift(1));for(u=d.length;!d[u-1];--u);for(o=0,c="";o<u;o++)c+=O.charAt(d[o]);if(h){if(u>1)if(16==t||8==t){for(o=16==t?4:3,--u;u%o;u++)c+="0";for(u=(d=ee(c,n,t)).length;!d[u-1];--u);for(o=1,c="1.";o<u;o++)c+=O.charAt(d[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}else c=h?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=eh(e);return e.s<0?"-"+c:c}function eA(e,t){if(e.length>t)return e.length=t,!0}function ew(e){return new this(e).abs()}function ev(e){return new this(e).acos()}function eS(e){return new this(e).acosh()}function ek(e,t){return new this(e).plus(t)}function eT(e){return new this(e).asin()}function eE(e){return new this(e).asinh()}function eP(e){return new this(e).atan()}function eI(e){return new this(e).atanh()}function e_(e,t){e=new this(e),t=new this(t);var r,i=this.precision,n=this.rounding,a=i+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?eo(this,i,n):new this(0)).s=e.s:!e.d||t.isZero()?(r=eo(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(et(e,t,a,1)),t=eo(this,a,1),this.precision=i,this.rounding=n,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(et(e,t,a,1)):(r=eo(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function eN(e){return new this(e).cbrt()}function eR(e){return er(e=new this(e),e.e+1,2)}function eO(e,t,r){return new this(e).clamp(t,r)}function eB(e){if(!e||"object"!=typeof e)throw Error(U+"Object expected");var t,r,i,n=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],n&&(this[r]=D[r]),void 0!==(i=e[r]))if(W(i)===i&&i>=a[t+1]&&i<=a[t+2])this[r]=i;else throw Error(M+r+": "+i);if(r="crypto",n&&(this[r]=D[r]),void 0!==(i=e[r]))if(!0===i||!1===i||0===i||1===i)if(i)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(q);else this[r]=!1;else throw Error(M+r+": "+i);return this}function eC(e){return new this(e).cos()}function eD(e){return new this(e).cosh()}function eF(e,t){return new this(e).div(t)}function eU(e){return new this(e).exp()}function eM(e){return er(e=new this(e),e.e+1,3)}function eL(){var e,t,r=new this(0);for(e=0,F=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return F=!0,new this(1/0);r=t}return F=!0,r.sqrt()}function eq(e){return e instanceof e8||e&&e.toStringTag===K||!1}function eK(e){return new this(e).ln()}function eW(e,t){return new this(e).log(t)}function eV(e){return new this(e).log(2)}function eG(e){return new this(e).log(10)}function ej(){return ed(this,arguments,-1)}function ez(){return ed(this,arguments,1)}function eH(e,t){return new this(e).mod(t)}function eX(e,t){return new this(e).mul(t)}function eQ(e,t){return new this(e).pow(t)}function eJ(e){var t,r,i,n,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:Z(e,1,1e9),i=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));a<i;)(n=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(i*=4);a<i;)(n=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(n%1e7),a+=4);a=i/4}else throw Error(q);else for(;a<i;)s[a++]=1e7*Math.random()|0;for(i=s[--a],e%=7,i&&e&&(n=V(10,7-e),s[a]=(i/n|0)*n);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(i=1,n=s[0];n>=10;n/=10)i++;i<7&&(r-=7-i)}return o.e=r,o.d=s,o}function eY(e){return er(e=new this(e),e.e+1,this.rounding)}function eZ(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function e$(e){return new this(e).sin()}function e0(e){return new this(e).sinh()}function e1(e){return new this(e).sqrt()}function e2(e,t){return new this(e).sub(t)}function e4(){var e=0,t=arguments,r=new this(t[0]);for(F=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return F=!0,er(r,this.precision,this.rounding)}function e6(e){return new this(e).tan()}function e3(e){return new this(e).tanh()}function e5(e){return er(e=new this(e),e.e+1,1)}J[Symbol.for("nodejs.util.inspect.custom")]=J.toString,J[Symbol.toStringTag]="Decimal";var e8=J.constructor=function e(t){var r,i,n;function a(e){var t,r,i;if(!(this instanceof a))return new a(e);if(this.constructor=a,eq(e)){this.s=e.s,F?!e.d||e.e>a.maxE?(this.e=NaN,this.d=null):e.e<a.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;F?t>a.maxE?(this.e=NaN,this.d=null):t<a.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return em(this,e.toString())}if("string"===i)return 45===(r=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===r&&(e=e.slice(1)),this.s=1),H.test(e)?em(this,e):function(e,t){var r,i,n,a,o,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),H.test(t))return em(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(j.test(t))r=16,t=t.toLowerCase();else if(G.test(t))r=2;else if(z.test(t))r=8;else throw Error(M+t);for((a=t.search(/p/i))>0?(u=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),o=(a=t.indexOf("."))>=0,i=e.constructor,o&&(a=(s=(t=t.replace(".","")).length)-a,n=el(i,new i(r),a,2*a)),a=c=(l=ee(t,r,1e7)).length-1;0===l[a];--a)l.pop();return a<0?new i(0*e.s):(e.e=en(l,c),e.d=l,F=!1,o&&(e=et(e,n,4*s)),u&&(e=e.times(54>Math.abs(u)?V(2,u):e8.pow(2,u))),F=!0,e)}(this,e);if("bigint"===i)return e<0?(e=-e,this.s=-1):this.s=1,em(this,e.toString());throw Error(M+e)}if(a.prototype=J,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=eB,a.clone=e,a.isDecimal=eq,a.abs=ew,a.acos=ev,a.acosh=eS,a.add=ek,a.asin=eT,a.asinh=eE,a.atan=eP,a.atanh=eI,a.atan2=e_,a.cbrt=eN,a.ceil=eR,a.clamp=eO,a.cos=eC,a.cosh=eD,a.div=eF,a.exp=eU,a.floor=eM,a.hypot=eL,a.ln=eK,a.log=eW,a.log10=eG,a.log2=eV,a.max=ej,a.min=ez,a.mod=eH,a.mul=eX,a.pow=eQ,a.random=eJ,a.round=eY,a.sign=eZ,a.sin=e$,a.sinh=e0,a.sqrt=e1,a.sub=e2,a.sum=e4,a.tan=e6,a.tanh=e3,a.trunc=e5,void 0===t&&(t={}),t&&!0!==t.defaults)for(r=0,n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];r<n.length;)t.hasOwnProperty(i=n[r++])||(t[i]=this[i]);return a.config(t),a}(D);function e7(e,t,r,i){let{div:n,mod:a}=e.mul(t).divmod(r);return i!==u.Up||a.isZero()?n:n.add(new h.default(1))}function e9(e,t,r,i){return e.isZero()&&0===t&&0===r&&0===i}function te(e,t,r,i,n,a,o){if(e9(e,t,r,i)||o===d.AtoB||n.lt(a))return!1;let s=a.add(new h.default(t));return!n.gt(s)}function tt(e,t,r){let i=tx(new h.default(e),new h.default(1e9));if(t.gt(i))throw Error("cliffFeeNumerator cannot be greater than maxFeeNumerator");let n=i.sub(t),a=tx(new h.default(r),new h.default(1e9));if(a.isZero())throw Error("feeIncrementNumerator cannot be zero");return n.div(a)}function tr(e,t,r,i,n){if(e.lte(t))return r;{let a,o=tx(new h.default(i),new h.default(1e9)),s=e.sub(t),l=s.div(t),c=s.mod(t),d=tt(i,r,n),f=tx(new h.default(n),new h.default(1e9)),p=new h.default(1),m=new h.default(2);if(l.lt(d)){let e=r.add(r.mul(l)).add(f.mul(l).mul(l.add(p)).div(m)),i=r.add(f.mul(l.add(p))),n=t.mul(e),o=c.mul(i);a=n.add(o)}else{let e=r.add(r.mul(d)).add(f.mul(d).mul(d.add(p)).div(m)),i=t.mul(e),n=l.sub(d).mul(t).add(c).mul(o);a=i.add(n)}let g=new h.default(1e9),b=e7(a.add(g).sub(p).div(g),g,e,u.Up);if(b.gt(new h.default(A)))throw Error("Numerator does not fit in u64");return b}}function ti(e,t,r,i,n){let{excludedFeeAmount:a}=tw(tr(e,t,r,i,n),e);return a}function tn(e,t,r){let i=new h.default(r).mul(t);return e.sub(i)}function ta(e,t,r){if(0===r)return e;let i=new h.default(1e4),n=new h.default(t).shln(64).div(i),a=function(e,t){let r=t.isNeg();if(t.isZero())return m;if((t=r?t.abs():t).gt(g))return new h.default(0);let i=e,n=m;return(i.gte(n)&&(i=b.div(i),r=!r),t.and(new h.default(1)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(2)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(4)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(8)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(16)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(32)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(64)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(128)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(256)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(512)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(1024)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(2048)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(4096)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(8192)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(16384)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(32768)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(65536)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(131072)).isZero()||(n=n.mul(i).shrn(64)),i=i.mul(i).shrn(64),t.and(new h.default(262144)).isZero()||(n=n.mul(i).shrn(64)),n.isZero())?new h.default(0):(r&&(n=b.div(n)),n)}(m.sub(n),new h.default(r));return e.mul(a).div(m)}function to(e,t,r,i,n){let a=h.default.min(r,new h.default(t)).toNumber();if(a>65535)throw Error("Math overflow");switch(n){case l.FeeTimeSchedulerLinear:return tn(e,i,a);case l.FeeTimeSchedulerExponential:return ta(e,i,a);default:throw Error("Invalid fee time scheduler mode")}}function ts(e,t,r,i,n,a,o){let s;return r.isZero()?e:(a.lt(o)?s=new h.default(t):(s=a.sub(o).div(r)).gt(new h.default(t))&&(s=new h.default(t)),to(e,t,s,i,n))}function tu(e,t,r,i){return to(e,t,new h.default(t),r,i)}function tl(e,t,r,i,n){let a=h.default.min(r,new h.default(t)).toNumber();switch(n){case l.FeeMarketCapSchedulerLinear:return tn(e,i,a);case l.FeeMarketCapSchedulerExponential:return ta(e,i,a);default:throw Error("Invalid fee market cap scheduler mode")}}function tc(e,t,r,i,n,a,o,s,u,l){let c,d=s.add(new h.default(i));if(o.gt(d)||o.lt(s))c=new h.default(t);else{if(l.lte(u))c=new h.default(0);else{let e=new h.default(1e4),i=new h.default(r),n=l.sub(u).mul(e).div(u).div(i);c=n.gt(new h.default(t))?new h.default(t):n}c=h.default.min(c,new h.default(t))}return tl(e,t,c,n,a)}function td(e,t,r,i){return tl(e,t,new h.default(t),r,i)}function tf(e){return!e.partner.equals(o.PublicKey.default)}function tp(e,t,r,i){let n;if(e.lte(new h.default(0)))throw Error("sqrtPrice must be greater than 0");if(t.lte(new h.default(0)))throw Error("liquidity must be greater than 0");if(i){if(r.isZero())return e;let i=r.mul(e),n=t.add(i);return e7(t,e,n,u.Up)}return n=r.shln(128).div(t),e.add(n)}function th(e,t){if(t.isZero()||e.gte(t))throw Error("InvalidFee: Fee numerator must be less than denominator and denominator must be non-zero")}B=new e8(B),C=new e8(C),e.s(["Decimal",()=>e8,"default",0,e8],704290),e.s(["getBaseFeeHandler",()=>ty],100191),e.s([],459094);class tm{cliffFeeNumerator;feeIncrementBps;maxFeeBps;maxLimiterDuration;referenceAmount;constructor(e,t,r,i,n){this.cliffFeeNumerator=e,this.feeIncrementBps=t,this.maxFeeBps=r,this.maxLimiterDuration=i,this.referenceAmount=n}validate(e,t,r){return function(e,t,r,i,n,a,o,s){if(a!==c.OnlyB)return!1;let u=tx(new h.default(r),new h.default(1e9));if(e.lt(new h.default(1e5))||e.gt(u))return!1;if(e9(n,i,r,t))return!0;if(n.isZero()&&0!==i&&0!==r&&0!==t)return!1;let l=new h.default(o===f.Slot?108e3:43200);if(new h.default(i).gt(l)||tx(new h.default(t),new h.default(1e9)).gte(new h.default(1e9))||r>function(e){switch(e){case p.V0:return 5e3;case p.V1:return 9900;default:throw Error("Invalid pool version")}}(s))return!1;let d=tr(new h.default(0),e,n,r,t),m=tr(new h.default(Number.MAX_SAFE_INTEGER),e,n,r,t);return!(d.lt(new h.default(1e5))||m.gt(tS(s)))}(this.cliffFeeNumerator,this.feeIncrementBps,this.maxFeeBps,this.maxLimiterDuration,this.referenceAmount,e,t,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i,n,a){return te(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?tr(i,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,i,n,a){return te(this.referenceAmount,this.maxLimiterDuration,this.maxFeeBps,this.feeIncrementBps,e,t,r)?function(e,t,r,i,n){let a,o,s,l,c=ti(t,t,r,i,n);if(e.lte(c))return r;let{checkedExcludedFeeAmount:d,checkedIncludedFeeAmount:f,isOverflow:p}=(o=tt(i,r,n),s=new h.default(1),(l=o.add(s).mul(t)).lte(A)?{checkedExcludedFeeAmount:ti(l,t,r,i,n),checkedIncludedFeeAmount:l,isOverflow:!1}:{checkedExcludedFeeAmount:ti(A,t,r,i,n),checkedIncludedFeeAmount:A,isOverflow:!0});if(e.eq(d))return tr(f,t,r,i,n);if(e.lt(d)){let o=new h.default(2),s=new h.default(4),u=tx(new h.default(n),new h.default(1e9)),l=new h.default(1e9),c=o.mul(l).mul(t).add(u.mul(t)).sub(o.mul(r).mul(t)),d=o.mul(e).mul(l).mul(t),f=function(e){if(e.isZero())return new h.default(0);if(e.eq(new h.default(1)))return new h.default(1);let t=e,r=e.add(new h.default(1)).div(new h.default(2));for(;r.lt(t);)r=(t=r).add(e.div(t)).div(new h.default(2));return t}(c.mul(c).sub(s.mul(u).mul(d)));a=c.sub(f).div(o.mul(u));let p=c.sub(f),m=o.mul(u),g=(a=p.div(m)).div(t),b=ti(a,t,r,i,n),y=e.sub(b),{includedFeeAmount:x}=tv(r.add(u.mul(g)),y);a=a.add(x)}else{if(p)throw Error("Math overflow in getFeeNumeratorFromExcludedFeeAmount");let t=e.sub(d),{includedFeeAmount:r}=tv(tx(new h.default(i),new h.default(1e9)),t);a=r.add(f)}let m=e7(a.sub(e),new h.default(1e9),a,u.Up);if(m.lt(r))throw Error("feeNumerator is less than cliffFeeNumerator");return m}(i,this.referenceAmount,this.cliffFeeNumerator,this.maxFeeBps,this.feeIncrementBps):this.cliffFeeNumerator}validateBaseFeeIsStatic(e,t){return function(e,t,r,i,n,a){if(e9(i,r,n,a))return!0;let o=t.add(new h.default(r));return e.gt(o)}(e,t,this.maxLimiterDuration,this.referenceAmount,this.maxFeeBps,this.feeIncrementBps)}getMinBaseFeeNumerator(){return this.cliffFeeNumerator}}class tg{cliffFeeNumerator;numberOfPeriod;periodFrequency;reductionFactor;feeTimeSchedulerMode;constructor(e,t,r,i,n){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.periodFrequency=r,this.reductionFactor=i,this.feeTimeSchedulerMode=n}validate(e,t,r){return function(e,t,r,i,n,a){if((!t.eq(new h.default(0))||0!==e||!r.eq(new h.default(0)))&&(0===e||t.eq(new h.default(0))||r.eq(new h.default(0))))throw Error("PoolError::InvalidFeeTimeScheduler");let o=tu(i,e,r,n);if(th(o,new h.default(1e9)),th(i,new h.default(1e9)),o.lt(new h.default(1e5))||i.gt(tS(a)))throw Error("PoolError::ExceedMaxFeeBps");return!0}(this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.cliffFeeNumerator,this.feeTimeSchedulerMode,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i,n,a){return ts(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeTimeSchedulerMode,e,t)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,i,n,a){return ts(this.cliffFeeNumerator,this.numberOfPeriod,this.periodFrequency,this.reductionFactor,this.feeTimeSchedulerMode,e,t)}validateBaseFeeIsStatic(e,t){var r,i;let n;return r=new h.default(this.numberOfPeriod),i=this.periodFrequency,n=t.add(r.mul(i)),e.gt(n)}getMinBaseFeeNumerator(){return tu(this.cliffFeeNumerator,this.numberOfPeriod,this.reductionFactor,this.feeTimeSchedulerMode)}}class tb{cliffFeeNumerator;numberOfPeriod;sqrtPriceStepBps;schedulerExpirationDuration;reductionFactor;feeMarketCapSchedulerMode;constructor(e,t,r,i,n,a){this.cliffFeeNumerator=e,this.numberOfPeriod=t,this.sqrtPriceStepBps=r,this.schedulerExpirationDuration=i,this.reductionFactor=n,this.feeMarketCapSchedulerMode=a}validate(e,t,r){return function(e,t,r,i,n,a,o){if(i.lte(new h.default(0))||r.lte(new h.default(0))||n.lte(new h.default(0))||t<=0)throw Error("PoolError::InvalidFeeMarketCapScheduler");let s=td(e,t,i,a);th(s,new h.default(1e9)),th(e,new h.default(1e9));let u=tS(o);if(s.lt(new h.default(1e5))||e.gt(u))throw Error("PoolError::ExceedMaxFeeBps");return!0}(this.cliffFeeNumerator,this.numberOfPeriod,new h.default(this.sqrtPriceStepBps),this.reductionFactor,new h.default(this.schedulerExpirationDuration),this.feeMarketCapSchedulerMode,r)}getBaseFeeNumeratorFromIncludedFeeAmount(e,t,r,i,n,a){return tc(this.cliffFeeNumerator,this.numberOfPeriod,this.sqrtPriceStepBps,this.schedulerExpirationDuration,this.reductionFactor,this.feeMarketCapSchedulerMode,e,t,n,a)}getBaseFeeNumeratorFromExcludedFeeAmount(e,t,r,i,n,a){return tc(this.cliffFeeNumerator,this.numberOfPeriod,this.sqrtPriceStepBps,this.schedulerExpirationDuration,this.reductionFactor,this.feeMarketCapSchedulerMode,e,t,n,a)}validateBaseFeeIsStatic(e,t){var r;let i;return r=new h.default(this.schedulerExpirationDuration),i=t.add(r),e.gt(i)}getMinBaseFeeNumerator(){return td(this.cliffFeeNumerator,this.numberOfPeriod,this.reductionFactor,this.feeMarketCapSchedulerMode)}}function ty(e,t,i,n,a){switch(a){case l.FeeTimeSchedulerLinear:case l.FeeTimeSchedulerExponential:if(i.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");return new tg(e,t,new h.default(r.Buffer.from(i.slice(0,8)),"le"),n,a);case l.RateLimiter:{if(i.length<8)throw Error("TypeCastFailed: secondFactor must be at least 8 bytes");let a=r.Buffer.from(i.slice(0,4)).readUInt32LE(0);return new tm(e,t,r.Buffer.from(i.slice(4,8)).readUInt32LE(0),a,n)}case l.FeeMarketCapSchedulerLinear:case l.FeeMarketCapSchedulerExponential:return new tb(e,t,r.Buffer.from(i.slice(0,4)).readUInt32LE(0),r.Buffer.from(i.slice(4,8)).readUInt32LE(0),n,a);default:throw Error("Invalid base fee mode")}}function tx(e,t){return e7(e,t,new h.default(1e4),u.Down)}function tA(e,t,r,i,n){let a,o,s,u,l,{excludedFeeAmount:c,tradingFee:d}=tw(r,t),f=(a=d.muln(e.protocolFeePercent).divn(100),o=d.sub(a),s=new h.default(0),i&&(s=a.muln(e.referralFeePercent).divn(100)),u=a.sub(s),l=new h.default(0),n&&e.partnerFeePercent>0&&(l=u.muln(e.partnerFeePercent).divn(100)),{tradingFee:o,protocolFee:u.sub(l),referralFee:s,partnerFee:l});return{amount:c,tradingFee:f.tradingFee,protocolFee:f.protocolFee,partnerFee:f.partnerFee,referralFee:f.referralFee}}function tw(e,t){let r=e7(t,e,new h.default(1e9),u.Up);return{excludedFeeAmount:t.sub(r),tradingFee:r}}function tv(e,t){let r=new h.default(1e9).sub(e);if(r.isZero()||r.isNeg())throw Error("Invalid fee numerator");let i=e7(t,new h.default(1e9),r,u.Up),n=i.sub(t);return{includedFeeAmount:i,feeAmount:n}}function tS(e){switch(e){case p.V0:return new h.default(5e8);case p.V1:return new h.default(99e7);default:throw Error("Invalid pool version")}}let tk=({amount:e,type:t,supplementalData:i})=>{let o,l,f,p,m=s(r.Buffer.from(i.data,"base64").subarray(8)),g=Date.now(),{activationType:b,collectFeeMode:A,poolFees:w}=m,{baseFeeMode:v}=w.baseFee,S=m.tokenAMint.toString(),k=m.tokenBMint.toString();if(S===n.WSOL_TOKEN_ADDRESS||k===n.WSOL_TOKEN_ADDRESS)o=n.WSOL_TOKEN_ADDRESS;else if(S===n.USDC_TOKEN_ADDRESS||k===n.USDC_TOKEN_ADDRESS)o=n.USDC_TOKEN_ADDRESS;else if(S===n.USD1_TOKEN_ADDRESS||k===n.USD1_TOKEN_ADDRESS)o=n.USD1_TOKEN_ADDRESS;else throw Error("Unsupported token pair");l=S===o&&"buy"===t||k===o&&"sell"===t?d.AtoB:d.BtoA;let T=1===b?g/1e3:i.slot;return{minimumAmountOut:(function(e,t,r,i,n){let a,o,s=new h.default(0),l=new h.default(0),c=new h.default(0),f=new h.default(0),p=tS(e.version),m=function(e,t,r,i,n,a,o,s){var u,l,c;let d,f,p,m=ty(e.baseFee.cliffFeeNumerator,e.baseFee.firstFactor,e.baseFee.secondFactor,e.baseFee.thirdFactor,e.baseFee.baseFeeMode).getBaseFeeNumeratorFromIncludedFeeAmount(t,r,n,i,o,s);return d=new h.default(0),0!==e.dynamicFee.initialized&&(u=e.dynamicFee.volatilityAccumulator,l=new h.default(e.dynamicFee.binStep),c=new h.default(e.dynamicFee.variableFeeControl),f=u.mul(new h.default(l)).pow(new h.default(2)),d=c.mul(f).add(new h.default(x)).div(new h.default(y))),p=d.add(m),h.default.min(p,a)}(e.poolFees,n,e.activationPoint,t,i,p,e.poolFees.initSqrtPrice,e.sqrtPrice);if(r.feesOnInput){let{amount:i,tradingFee:n,protocolFee:o,partnerFee:u,referralFee:d}=tA(e.poolFees,t,m,r.hasReferral,tf(e));s=o,l=n,c=d,f=u,a=i}else a=t;let{outputAmount:g,nextSqrtPrice:b,amountLeft:A}=i===d.AtoB?function(e,t){var r;let i=tp(e.sqrtPrice,e.liquidity,t,!0);if(i.lt(e.sqrtMinPrice))throw Error("Price range is violated");return{outputAmount:(r=e.sqrtPrice,function(e,t,r,i){let n=t.sub(e),a=r.mul(n);if(i!==u.Up)return a.ushrn(128);{let e=new h.default(1).ushln(128);return a.add(e.subn(1)).div(e)}}(i,r,e.liquidity,u.Down)),nextSqrtPrice:i,amountLeft:new h.default(0)}}(e,a):function(e,t){var r;let i=tp(e.sqrtPrice,e.liquidity,t,!1);if(i.gt(e.sqrtMaxPrice))throw Error("Price range is violated");return{outputAmount:(r=e.sqrtPrice,function(e,t,r,i){let n=t.sub(e),a=e.mul(t);if(a.lte(new h.default(0)))throw Error("Denominator must be greater than zero");return e7(r,n,a,i)}(r,i,e.liquidity,u.Down)),nextSqrtPrice:i,amountLeft:new h.default(0)}}(e,a);if(r.feesOnInput)o=g;else{let{amount:t,tradingFee:i,protocolFee:n,partnerFee:a,referralFee:u}=tA(e.poolFees,g,m,r.hasReferral,tf(e));s=n,l=i,c=u,f=a,o=t}return{amountLeft:A,includedFeeInputAmount:t,excludedFeeInputAmount:a,outputAmount:o,nextSqrtPrice:b,tradingFee:l,protocolFee:s,partnerFee:f,referralFee:c}})(m,e,(A===c.BothToken?l===d.AtoB?(f=!1,p=!1):(f=!1,p=!0):(f=l!==d.AtoB&&!0,p=!1),{feesOnInput:f,feesOnTokenA:p,hasReferral:!1}),l,(0,a.newSafeBN)(T)).outputAmount.toString(),collectFeeMode:A,baseFeeMode:v}};function tT(e){return"object"==typeof e&&null!==e&&"data"in e&&"slot"in e}e.s(["calculateSwapSync",0,tk],199098);let tE=async({pairAddress:e,amount:t,type:r,supplementalData:a})=>tk({amount:t,type:r,supplementalData:tT(a)?a:await i.axiomApiV2.post("/supplemental-swap-data",{pairAddress:e,protocol:n.PROTOCOL_METEORA_AMM_V2})});async function tP(e,t){let a;a=tT(t)?t:await i.axiomApiV2.post("/supplemental-swap-data",{pairAddress:e,protocol:n.PROTOCOL_METEORA_AMM_V2});let o=s(r.Buffer.from(a.data,"base64").subarray(8));return{collectFeeMode:o.collectFeeMode,baseFeeMode:o.poolFees.baseFee.baseFeeMode}}e.s(["calculateSwap",0,tE,"getFeeModes",()=>tP,"isMeteoraAmmV2Data",()=>tT],517207);var tI=e.i(85026),t_=e.i(682382),tN=e.i(719387);let tR=async(e,t,r,i,n,o)=>{if("buy"===e){let e=tV(t,n,i,o);return{minAmountOut:e.mul((0,a.newSafeBN)(1e4)).div((0,a.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=tq(t,n,i,o);return{minAmountOut:e.mul((0,a.newSafeBN)(1e4-100*Math.min(r,99))).div((0,a.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")},tO=async({type:e,amount:t,slippage:i,userAccountAddress:a,userTokenAccountAddress:s,pairAddress:u,tokenAddress:l,liquiditySolRaw:c,liquidityTokenRaw:d,protocolDetails:f,rewardsData:p})=>{let h=r.Buffer.from([116,114,97,100,105,110,103,95,102,101,101,115,95,118,97,117,108,116]),[m]=o.PublicKey.findProgramAddressSync([h,new o.PublicKey(l).toBuffer()],new o.PublicKey("boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4")),g=[{pubkey:new o.PublicKey(l),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(f.tokenVault),isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(f.solVault),isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(a),isSigner:!0,isWritable:!0}];"buy"===e?g.push({pubkey:new o.PublicKey("AbgFqRWjGWgUaVrZrLLWU5HDY5dktmAL6zT9aacQW7y1"),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey("GVVUi6DaocSEAp8ATnXFAPNF5irCWjCvmPCzoaGAf5eJ"),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1}):g.push({pubkey:new o.PublicKey(a),isSigner:!0,isWritable:!0},{pubkey:new o.PublicKey("AbgFqRWjGWgUaVrZrLLWU5HDY5dktmAL6zT9aacQW7y1"),isSigner:!1,isWritable:!1}),g.push({pubkey:new o.PublicKey(n.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1});let{minAmountOut:b,expectedAmountOut:y}=await tR(e,t,i,c,d,f);return{swapInstruction:(0,tN.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:b,userWalletAddress:a,inputTokenAccount:"buy"===e?a:s,solWrapperToken:null,steps:[{programAddress:"boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4",accounts:g}],rewardsData:p}),expectedAmountOut:y}},tB=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,blockhash:o,wallet:s,pairAddress:u,swapSettings:l,nonceInstruction:c,providers:d,liquiditySolRaw:f,liquidityTokenRaw:p,protocolDetails:h,rewardsData:m,tokenDecimals:g})=>{let b=[],y=await (0,tI.addTokenAccountInstructions)({userWalletAddress:s.publicKey,tokenAddress:r,tokenProgramAddress:n.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:i});"buy"===e&&(t=t.sub((0,tI.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:A}=await tO({type:e,amount:t,slippage:l.slippage,userAccountAddress:s.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,pairAddress:u,tokenAddress:r,liquiditySolRaw:f,liquidityTokenRaw:p,protocolDetails:h,rewardsData:m});return b.push(x),await (0,tI.handleMassSwapTxCreation)({instructions:b,wallet:s,swapSettings:l,blockhash:o,nonceInstruction:c,providers:d,computeUnits:(0,tI.calculateComputeUnits)({baseComputeUnits:12e4,isVanish:(0,tI.isVanishSigner)(s)}),lookupTables:tI.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:m.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:g,sourceTokenAddress:"buy"===e?t_.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:t_.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tI.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,extraLamports:(0,a.newSafeBN)(n.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS),amount:t,expectedAmountOut:A,tokenDecimals:g})}})},tC=new h.default("1002320930000000000"),tD=new h.default("30000000000"),tF=new h.default("1000000000"),tU=new h.default(100),tM=new h.default(30),tL=new h.default("29731395800"),tq=(e,t,r,i)=>"2"===i.version?tK(e,t,r):tW(e,t),tK=(e,t,r)=>{let i=tL.add(r).sub(tD),n=new h.default(1e9).mul(tF),a=tL.mul(n),o=t.add(e),s=a.div(o);return i.sub(s).mul(new h.default(1e4).sub(tU)).div(new h.default(1e4))},tW=(e,t)=>{let r=tM.mul(tC).mul(tF),i=new h.default(1e9).mul(tF).sub(t),n=tC.sub(i);return r.div(n).sub(r.div(n.add(e))).mul(new h.default(1e4).sub(tU)).div(new h.default(1e4))},tV=(e,t,r,i)=>"2"===i.version?tG(e,r,t):tj(e,r),tG=(e,t,r)=>{let i=e.mul(new h.default(tU)).div(new h.default(1e4)),n=e.sub(i),a=new h.default(1e9).mul(tF),o=tL.mul(a),s=tL.add(t.sub(tD)).add(n),u=o.div(s);return r.sub(u)},tj=(e,t)=>{let r=e.mul(new h.default(tU)).div(new h.default(1e4)),i=e.sub(r),n=tM.mul(tC).mul(tF);return n.div(t).sub(n.div(t.add(i)))};e.s(["calculateExpectedOutputSolAmount",0,tq,"swapBoop",0,tB],284456);var tz=((t={})[t.TOKEN=0]="TOKEN",t[t.TOKEN_2022=1]="TOKEN_2022",t);e.s(["TokenProgram",()=>tz],412129);let tH="HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o",tX=(e,t,r,i,n)=>{let o=1===r.migrated?1===r.configVersion?35:150:1===r.configVersion?110:200;if("buy"===e){let e=t.mul((0,a.newSafeBN)(o)).div((0,a.newSafeBN)(1e4)),r=t.sub(e),s=n.add(r);return i.mul(r).div(s)}if("sell"===e){let e=i.add(t),r=n.mul(t).div(e),s=r.mul((0,a.newSafeBN)(o)).div((0,a.newSafeBN)(1e4));return r.sub(s)}if("inverse-sell"===e){let e=t.mul((0,a.newSafeBN)(o)).div((0,a.newSafeBN)(1e4)),r=t.add(e),s=n.sub(r);return i.mul(r).div(s)}throw Error("Invalid type")},tQ=async(e,t,r,i,n,o)=>{let s=tX(e,t,i,n,o);if("buy"===e)return{minAmountOut:s.mul((0,a.newSafeBN)(1e4)).div((0,a.newSafeBN)(1e4+100*r)),expectedAmountOut:s};if("sell"===e)return{minAmountOut:s.mul((0,a.newSafeBN)(1e4-100*r)).div((0,a.newSafeBN)(1e4)),expectedAmountOut:s};throw Error("Invalid type")},tJ=async({type:e,amount:t,slippage:i,userAccountAddress:a,userSolAccountAddress:s,userTokenAccountAddress:u,protocolDetails:l,pairAddress:c,tokenAddress:d,liquidityTokenRaw:f,liquiditySolRaw:p,rewardsData:h})=>{let{minAmountOut:m,expectedAmountOut:g}=await tQ(e,t,i,l,f,p),b=l.tokenProgram===tz.TOKEN_2022?n.TOKEN_PROGRAM_2022_ADDRESS:n.TOKEN_PROGRAM_ADDRESS,y=r.Buffer.alloc(2);y.writeUInt16BE(l.configVersion);let[x]=o.PublicKey.findProgramAddressSync([r.Buffer.from([112,114,111,116,111,99,111,108,95,99,111,110,102,105,103,95,115,116,97,116,101]),y],new o.PublicKey(tH)),[A]=o.PublicKey.findProgramAddressSync([x.toBuffer(),new o.PublicKey(b).toBuffer(),new o.PublicKey(d).toBuffer()],new o.PublicKey(n.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),[w]=o.PublicKey.findProgramAddressSync([x.toBuffer(),new o.PublicKey(n.TOKEN_PROGRAM_ADDRESS).toBuffer(),new o.PublicKey(n.WSOL_TOKEN_ADDRESS).toBuffer()],new o.PublicKey(n.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),v=[{pubkey:new o.PublicKey(b),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(c),isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(a),isSigner:!0,isWritable:!0},{pubkey:new o.PublicKey(d),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(n.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:new o.PublicKey(n.SYSVAR_INSTRUCTIONS_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey("HEvSKofvBgfaexv23kMabbYqxasxU3mQ4ibBMEmJWHny"),isSigner:!1,isWritable:!1},{pubkey:new o.PublicKey("CH31Xns5z3M1cTAbKW34jcxPPciazARpijcHj9rxtemt"),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,tN.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:m,userWalletAddress:a,inputTokenAccount:"buy"===e?s:u,solWrapperToken:{type:"wsol",userWrappedTokenAccount:s},steps:[{programAddress:tH,accounts:v}],rewardsData:h}),expectedAmountOut:g}};async function tY({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:o,blockhash:s,wallet:u,pairAddress:l,swapSettings:c,nonceInstruction:d,providers:f,rewardsData:p,liquidityTokenRaw:h,liquiditySolRaw:m,tokenDecimals:g}){let b=[],y=await (0,tI.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:r,tokenProgramAddress:o.tokenProgram===tz.TOKEN_2022?n.TOKEN_PROGRAM_2022_ADDRESS:n.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,a.newSafeBN)(0)});"buy"===e&&(t=t.sub((0,tI.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:A}=await tJ({type:e,amount:t,slippage:c.slippage,userAccountAddress:u.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:o,pairAddress:l,tokenAddress:r,liquidityTokenRaw:h,liquiditySolRaw:m,rewardsData:p});return b.push(x),await (0,tI.handleMassSwapTxCreation)({instructions:b,wallet:u,swapSettings:c,blockhash:s,nonceInstruction:d,providers:f,computeUnits:(0,tI.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,tI.isVanishSigner)(u)}),lookupTables:tI.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:p.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:A,tokenDecimals:g,sourceTokenAddress:"buy"===e?t_.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:t_.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,tI.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:A,tokenDecimals:g})}})}e.s(["calculateSwapHeaven",0,tX,"swapHeaven",()=>tY],408136)},290705,e=>{"use strict";var t=e.i(127261),r=e.i(85026),i=e.i(659341),n=e.i(973444),a=e.i(49498);e.i(465903);var o=e.i(767924),s=e.i(682382),u=e.i(268804),l=e.i(719387);let c="LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj",d="2500",f=(e,t,r)=>{let n,a,o,s,u,l,c,d,f,p,h,m,{realLiquiditySol:g,realLiquidityToken:b,initialLiquiditySol:y,initialLiquidityToken:x}=(n=new i.default(r.quoteRaiseRaw),a=new i.default(r.baseSupplyRaw),o=new i.default(r.baseSellRaw),s=new i.default(r.baseLockedRaw),u=new i.default("0"),l=a.sub(s).sub(o),c=n.sub(u),d=new i.default("1000000000000000000000"),f=c.mul(d).div(l),p=o.mul(f).div(d).sub(n),h=n.mul(n).div(p),m=f.mul(o).mul(o).div(p).div(d),{realLiquiditySol:t.sub(h),realLiquidityToken:m.sub(e),initialLiquiditySol:h,initialLiquidityToken:m});return{virtualA:x,virtualB:y,realA:b,realB:g,totalSellA:new i.default(r.baseSellRaw),totalFundRaisingB:new i.default(r.quoteRaiseRaw)}},p=async({type:e,amount:r,slippage:s,liquiditySolRaw:u,liquidityTokenRaw:p,tokenAddress:h,userAccountAddress:g,userSolAccountAddress:b,userTokenAccountAddress:y,userUsd1AccountAddress:x,protocolDetails:A,pairAddress:w,tokenDecimals:v,usdPerSol:S,rewardsData:k})=>{if(A.isUsd1){let T,E=new t.PublicKey(c),P=(0,a.getPdaLaunchpadAuth)(E).publicKey,I=f(p,u,A);if("buy"===e){let e=a.Curve.buyExactIn({poolInfo:I,amountB:r,protocolFeeRate:new i.default(d),platformFeeRate:new i.default(A.platformFee),curveType:0,shareFeeRate:new i.default(0)}).amountA.mul((0,n.newSafeBN)(1e4)).div((0,n.newSafeBN)(1e4+100*s));T=(0,a.buyExactInInstruction)(E,new t.PublicKey(g),P,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(x),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(o.USD1_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(o.TOKEN_PROGRAM_ADDRESS),r,e)}else{let e=a.Curve.sellExactIn({poolInfo:I,amountA:r,protocolFeeRate:new i.default(d),platformFeeRate:new i.default(A.platformFee),curveType:0,shareFeeRate:new i.default(0)}).amountB.mul((0,n.newSafeBN)(1e4-100*s)).div((0,n.newSafeBN)(1e4));T=(0,a.sellExactInInstruction)(E,new t.PublicKey(g),P,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(x),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(o.USD1_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(o.TOKEN_PROGRAM_ADDRESS),r,e)}await m(T.keys,w,A,o.USD1_TOKEN_ADDRESS);let _=(0,n.newSafeBN)(10).pow((0,n.newSafeBN)(18)),N=S.toFixed(18).replace(".",""),R=(0,n.newSafeBN)(N),O=(0,n.newSafeBN)(10).pow((0,n.newSafeBN)(v)),B=u.mul(R).mul(O).mul(_),C=p.mul((0,n.newSafeBN)(1e9)).mul((0,n.newSafeBN)("1000000000000000000")),D=Number(B.div(C).toString())/Number(_.toString());return await (0,l.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:g,userWsolAccountAddress:b,userUsdAccountAddress:x,userTokenAccountAddress:y,usdPerSol:S,amountIn:r,tokenDecimals:v,priceInUsdc:D,slippage:s,steps:[{programAddress:c,accounts:T.keys}],rewardsData:k})}let T=new t.PublicKey(c),E=(0,a.getPdaLaunchpadAuth)(T).publicKey,P=f(p,u,A);if("buy"===e){let u=a.Curve.buyExactIn({poolInfo:P,amountB:r,protocolFeeRate:new i.default(d),platformFeeRate:new i.default(A.platformFee),curveType:0,shareFeeRate:new i.default(0)}).amountA,f=u.mul((0,n.newSafeBN)(1e4)).div((0,n.newSafeBN)(1e4+100*s)),p=(0,a.buyExactInInstruction)(T,new t.PublicKey(g),E,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(b),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(o.WSOL_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(o.TOKEN_PROGRAM_ADDRESS),r,f);return await m(p.keys,w,A,o.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,l.buildAxiomRouterInstruction)({type:e,amountIn:r,minAmountOut:f,userWalletAddress:g,inputTokenAccount:b,solWrapperToken:{type:"wsol",userWrappedTokenAccount:b},steps:[{programAddress:c,accounts:p.keys}],rewardsData:k}),expectedAmountOut:u}}{let u=a.Curve.sellExactIn({poolInfo:P,amountA:r,protocolFeeRate:new i.default(d),platformFeeRate:new i.default(A.platformFee),curveType:0,shareFeeRate:new i.default(0)}),f=u.amountB,p=f.mul((0,n.newSafeBN)(1e4-100*s)).div((0,n.newSafeBN)(1e4)),x=(0,a.sellExactInInstruction)(T,new t.PublicKey(g),E,new t.PublicKey(A.globalConfig),new t.PublicKey(A.platformConfig),new t.PublicKey(w),new t.PublicKey(y),new t.PublicKey(b),new t.PublicKey(A.baseVault),new t.PublicKey(A.quoteVault),new t.PublicKey(h),new t.PublicKey(o.WSOL_TOKEN_ADDRESS),new t.PublicKey(A.tokenProgram),new t.PublicKey(o.TOKEN_PROGRAM_ADDRESS),u.amountA.lt(r)?u.amountA:r,p,new i.default(0));return await m(x.keys,w,A,o.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,l.buildAxiomRouterInstruction)({type:e,amountIn:r,minAmountOut:p,userWalletAddress:g,inputTokenAccount:y,solWrapperToken:{type:"wsol",userWrappedTokenAccount:b},steps:[{programAddress:c,accounts:x.keys}],rewardsData:k}),expectedAmountOut:f}}},h=async({type:e,amount:t,liquiditySolRaw:i,liquidityTokenRaw:a,tokenAddress:o,userTokenAccountAddress:u,protocolDetails:l,blockhash:c,wallet:d,pairAddress:f,swapSettings:h,nonceInstruction:m,providers:g,rewardsData:b,tokenDecimals:y,usdPerSol:x,liquidityToken:A})=>{let w=[],v=await (0,r.addTokenAccountInstructions)({userWalletAddress:d.publicKey,tokenAddress:o,tokenProgramAddress:l.tokenProgram,instructions:w,userTokenAccountAddress:u,wsolAmount:"buy"===e?t:(0,n.newSafeBN)(0),usd1:l.isUsd1});"buy"===e&&(t=t.sub((0,r.calculateAxiomFee)(t)));let{swapInstruction:S,expectedAmountOut:k}=await p({type:e,amount:t,slippage:h.slippage,liquiditySolRaw:i,liquidityTokenRaw:a,tokenAddress:o,userAccountAddress:d.publicKey,userTokenAccountAddress:v.userTokenAccountAddress,userSolAccountAddress:v.userWsolAccountAddress,userUsd1AccountAddress:v.userUsd1AccountAddress,protocolDetails:l,pairAddress:f,tokenDecimals:y,liquidityToken:A,usdPerSol:x,rewardsData:b});return w.push(S),l.isUsd1&&(0,r.isVanishSigner)(d)&&(0,r.addTokenAccountCloseInstruction)(d.publicKey,v.userUsd1AccountAddress,w),await (0,r.handleMassSwapTxCreation)({instructions:w,wallet:d,swapSettings:h,blockhash:c,nonceInstruction:m,providers:g,computeUnits:(0,r.calculateComputeUnits)({baseComputeUnits:2e5,isUsd1:l.isUsd1,isVanish:(0,r.isVanishSigner)(d)}),lookupTables:r.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:b.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:k,tokenDecimals:y,sourceTokenAddress:"buy"===e?s.NATIVE_SOL_TOKEN_ADDRESS:o,targetTokenAddress:"buy"===e?o:s.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,r.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,isUsd1:l.isUsd1??!1,amount:t,expectedAmountOut:k,tokenDecimals:y})}})};async function m(e,r,i,n){let[a]=t.PublicKey.findProgramAddressSync([new t.PublicKey(i.platformConfig).toBuffer(),new t.PublicKey(n).toBuffer()],new t.PublicKey(c));i.creator||(i.creator=(await u.axiomApi.post("/launchlab-creator",{pool:r})).creator);let[s]=t.PublicKey.findProgramAddressSync([new t.PublicKey(i.creator).toBuffer(),new t.PublicKey(n).toBuffer()],new t.PublicKey(c));e.push({pubkey:new t.PublicKey(o.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0})}e.s(["LAUNCHLAB_MIGRATE_FEE_RAW",0,"0","LAUNCHLAB_PROTOCOL_FEE_RATE",0,d,"getLaunchLabPoolInfo",0,f,"swapLaunchLab",0,h])},181937,726801,518152,233191,24010,432265,e=>{"use strict";var t,r,i,n=e.i(49498),a=e.i(828073),o=e.i(659341);e.i(465903);var s=e.i(767924),u=e.i(268804),l=e.i(517207),c=e.i(199098),d=e.i(284456),f=e.i(408136),p=e.i(290705),h=e.i(127261),m=e.i(85026),g=e.i(973444),b=e.i(682382),y=e.i(719387);let x="Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB";async function A({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userTokenAccountAddress:a,protocolDetails:o,blockhash:u,wallet:l,pairAddress:c,swapSettings:d,nonceInstruction:f,providers:p,rewardsData:h,usdPerSol:y,tokenDecimals:x,liquidityToken:A}){let w=[],v=await (0,m.addTokenAccountInstructions)({userWalletAddress:l.publicKey,tokenAddress:n,tokenProgramAddress:s.TOKEN_PROGRAM_ADDRESS,instructions:w,userTokenAccountAddress:a,wsolAmount:"buy"===e?t:(0,g.newSafeBN)(0),usdc:o.isUsdc});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:k,expectedAmountOut:T}=await S({type:e,amount:t,slippage:d.slippage,liquiditySolRaw:r,liquidityTokenRaw:i,userAccountAddress:l.publicKey,userUsdcAccountAddress:v.userUsdcAccountAddress,userTokenAccountAddress:v.userTokenAccountAddress,userSolAccountAddress:v.userWsolAccountAddress,protocolDetails:o,pairAddress:c,usdPerSol:y,tokenDecimals:x,liquidityToken:A,rewardsData:h});return w.push(k),o.isUsdc&&(0,m.isVanishSigner)(l)&&(0,m.addTokenAccountCloseInstruction)(l.publicKey,v.userUsdcAccountAddress,w),o.isUsd1&&(0,m.isVanishSigner)(l)&&(0,m.addTokenAccountCloseInstruction)(l.publicKey,v.userUsd1AccountAddress,w),await (0,m.handleMassSwapTxCreation)({instructions:w,wallet:l,swapSettings:d,blockhash:u,nonceInstruction:f,providers:p,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:25e4,isUsdc:o.isUsdc,isVanish:(0,m.isVanishSigner)(l)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:T,tokenDecimals:x,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:o.isUsdc??!1,amount:t,expectedAmountOut:T,tokenDecimals:x})}})}let w=(e,t,r,i)=>{var n,a;let s,u=e.mul((0,g.newSafeBN)(i.tradeFeeNumerator)).div((0,g.newSafeBN)(i.tradeFeeDenominator)).mul((0,g.newSafeBN)(i.protocolTradeFeeNumerator)).div((0,g.newSafeBN)(i.protocolTradeFeeDenominator)),l=e.sub(u),[c]=(n=t.mul(r),a=t.add(l),s=n.div(a),n.mod(a).gt(new o.default(0))&&(s=s.add(new o.default(1)),a=n.div(s),n.mod(s).gt(new o.default(0))&&(a=a.add(new o.default(1)))),[s,a]);return r.sub(c)},v=(e,t,r,i)=>{let n=r.sub(e);return t.mul(r).div(n).sub(t).mul((0,g.newSafeBN)(i.tradeFeeDenominator)).mul((0,g.newSafeBN)(i.protocolTradeFeeDenominator)).div((0,g.newSafeBN)(i.tradeFeeDenominator).mul((0,g.newSafeBN)(i.protocolTradeFeeDenominator)).sub((0,g.newSafeBN)(i.tradeFeeNumerator).mul((0,g.newSafeBN)(i.protocolTradeFeeNumerator))))},S=async({type:e,amount:t,slippage:r,liquiditySolRaw:i,liquidityTokenRaw:n,userAccountAddress:a,userSolAccountAddress:o,userTokenAccountAddress:u,userUsdcAccountAddress:l,protocolDetails:c,pairAddress:d,usdPerSol:f,tokenDecimals:p,liquidityToken:m,rewardsData:b})=>{var A;let v,S=(A={type:e,userAccountAddress:a,userQuoteAccountAddress:c.isUsdc?l:o,userTokenAccountAddress:u,protocolDetails:c,pairAddress:d},v=[{pubkey:new h.PublicKey(A.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===A.type?A.userQuoteAccountAddress:A.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===A.type?A.userTokenAccountAddress:A.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.aVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.bVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.bTokenVault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.aVaultLpMint),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.bVaultLpMint),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.aVaultLp),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.protocolDetails.bVaultLp),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===A.type?A.protocolDetails.protocolSolFeeAccount:A.protocolDetails.protocolTokenFeeAccount),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(A.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey("24Uqj9JCLxUeoC3hGfh5W3s9FM9uCHDS2SG3LYwBpyTi"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],"buy"===A.type?v.push({pubkey:new h.PublicKey(A.protocolDetails.isUsdc?(0,s.getAxiomUsdcFeeAddress)():(0,s.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0}):"sell"===A.type&&A.protocolDetails.isUsdc&&(v.push({pubkey:new h.PublicKey("C2QoQ111jGHEy5918XkNXQro7gGwC9PKLXd1LqBiYNwA"===A.protocolDetails.aTokenVault?A.protocolDetails.bTokenVault:A.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0}),v.push({pubkey:new h.PublicKey("C2QoQ111jGHEy5918XkNXQro7gGwC9PKLXd1LqBiYNwA"===A.protocolDetails.aTokenVault?A.protocolDetails.bTokenVault:A.protocolDetails.aTokenVault),isSigner:!1,isWritable:!0})),v);if(c.isUsdc)return await (0,y.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:a,userWsolAccountAddress:o,userUsdAccountAddress:l,userTokenAccountAddress:u,usdPerSol:f,amountIn:t,tokenDecimals:p,priceInUsdc:m,slippage:r,steps:[{programAddress:x,accounts:S}],rewardsData:b});{let{minAmountOut:s,expectedAmountOut:l}=((e,t,r,i,n,a)=>{if("buy"===e){let e=w(t,r,i,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*n)),expectedAmountOut:e}}if("sell"===e){let e=w(t,i,r,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4-100*n)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")})(e,t,i,n,r,c);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:s,userWalletAddress:a,inputTokenAccount:"buy"===e?o:u,solWrapperToken:{type:"wsol",userWrappedTokenAccount:o},steps:[{programAddress:x,accounts:S}],rewardsData:b}),expectedAmountOut:l}}};e.s(["computeInMeteoraAmm",0,v,"computeOutMeteoraAmm",0,w,"swapMeteoraAmm",()=>A],726801);var k=e.i(946865);let T=async(e,t,r,i,n,a)=>{if("buy"===e){let e=_(t,n,i,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=I(t,n,i,a);return{minAmountOut:e.mul((0,g.newSafeBN)(1e4-100*r)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid swap type")},E=async({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,pairAddress:a,tokenAddress:o,liquiditySolRaw:u,liquidityTokenRaw:l,protocolDetails:c,rewardsData:d})=>{let f=(0,k.getAssociatedTokenAddressSync)(new h.PublicKey(o),new h.PublicKey(a),!0,new h.PublicKey(s.TOKEN_PROGRAM_ADDRESS),new h.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),p=[{pubkey:new h.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("3udvfL24waJcLhskRAsStNMoNUvtyXdxrWQz4hgi953N"),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("5K5RtTWzzLp4P8Npi84ocf7F1vBsAu29N1irG4iiUnzt"),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(o),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey("36Eru7v11oU5Pfrojyn5oY3nETA1a1iqsw2WUu6afkM9"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],{minAmountOut:m,expectedAmountOut:g}=await T(e,t,r,u,l,c);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:m,userWalletAddress:i,inputTokenAccount:"buy"===e?i:n,solWrapperToken:null,steps:[{programAddress:s.MOONSHOT_PROGRAM_ADDRESS,accounts:p}],rewardsData:d}),expectedAmountOut:g}},P=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,blockhash:n,wallet:a,pairAddress:o,swapSettings:u,nonceInstruction:l,providers:c,liquiditySolRaw:d,liquidityTokenRaw:f,protocolDetails:p,rewardsData:h,tokenDecimals:g})=>{if(p?.helioFee)throw Error("Old Moonshot pools are not supported");let y=[],x=await (0,m.addTokenAccountInstructions)({userWalletAddress:a.publicKey,tokenAddress:r,tokenProgramAddress:s.TOKEN_PROGRAM_ADDRESS,instructions:y,userTokenAccountAddress:i});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:A,expectedAmountOut:w}=await E({type:e,amount:t,slippage:u.slippage,userAccountAddress:a.publicKey,userTokenAccountAddress:x.userTokenAccountAddress,pairAddress:o,tokenAddress:r,liquiditySolRaw:d,liquidityTokenRaw:f,protocolDetails:p,rewardsData:h});return y.push(A),await (0,m.handleMassSwapTxCreation)({instructions:y,wallet:a,swapSettings:u,blockhash:n,nonceInstruction:l,providers:c,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:125e3,isVanish:(0,m.isVanishSigner)(a)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:h.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:w,tokenDecimals:g,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,isUsd1:!1,amount:t,expectedAmountOut:w,tokenDecimals:g})}})},I=(e,t,r,i)=>{if(3===i.curveType){let t=(0,g.newSafeBN)(i.collateralCollected).mul((0,g.newSafeBN)(2)),r=(0,g.newSafeBN)(i.amount),n=e.mul(t).mul((0,g.newSafeBN)(10204)),a=r.mul((0,g.newSafeBN)(1e4));return n.div(a).mul((0,g.newSafeBN)(9900)).div((0,g.newSafeBN)(1e4))}{let n=t.add((0,g.newSafeBN)(73e6).mul((0,g.newSafeBN)(10**i.decimals))),a=r.mul(n);return r.sub(a.div(n.add(e))).mul((0,g.newSafeBN)(9900)).div((0,g.newSafeBN)(1e4))}},_=(e,t,r,i)=>{let n=e.mul((0,g.newSafeBN)(9900)).div((0,g.newSafeBN)(1e4));if(3===i.curveType){let e=(0,g.newSafeBN)(i.collateralCollected).mul((0,g.newSafeBN)(2)),t=(0,g.newSafeBN)(i.amount),r=e.mul((0,g.newSafeBN)(10205));return n.mul(t).mul((0,g.newSafeBN)(1e4)).div(r)}{let e=t.add((0,g.newSafeBN)(73e6).mul((0,g.newSafeBN)(10**i.decimals))),a=r.mul(e);return e.sub(a.div(r.add(n)))}},N=(e,t,r,i)=>{let n=e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(9900));if(3===i.curveType){let e=(0,g.newSafeBN)(i.collateralCollected).mul((0,g.newSafeBN)(2)),t=(0,g.newSafeBN)(i.amount),r=e.mul((0,g.newSafeBN)(10204));return n.mul(t).mul((0,g.newSafeBN)(1e4)).div(r)}{let a=t.add((0,g.newSafeBN)(73e6).mul((0,g.newSafeBN)(10**i.decimals))),o=r.mul(a);return e.gt(r)?(0,g.newSafeBN)(i.amount).sub(t):o.div(r.sub(n)).sub(a)}};e.s(["calculateExpectedOutputSolAmount",0,I,"calculateTokensForExpectedSolAmount",0,N,"swapMoonshot",0,P],518152);var R=e.i(467034);let O="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA",B="GS4CU59F31iL7aR2Q8zVS8DRrcRnXX1yjQ66TqNVQnaR",C=(e,t,r,i)=>{let n=e.mul(t).div(r.add(e)),a=n.sub(n.mul((0,g.newSafeBN)(30)).add(new o.default(1e4).subn(1)).div(new o.default(1e4))),s=a.mul((0,g.newSafeBN)(1e4-100*i)).div((0,g.newSafeBN)(1e4));return{lamportsWithSlippage:s.gt(new o.default(0))?s.sub(new o.default(1)):new o.default(0),expectedLamportsFromSell:a}},D=async(e,t)=>{let r=t.creator;r||(r=(await u.axiomApi.post("/pump-amm-creator",{pool:e})).creator);let[i]=h.PublicKey.findProgramAddressSync([R.Buffer.from("creator_vault","utf8"),new h.PublicKey(r).toBuffer()],new h.PublicKey(O)),n=(0,k.getAssociatedTokenAddressSync)(new h.PublicKey(s.WSOL_TOKEN_ADDRESS),i,!0,new h.PublicKey(s.TOKEN_PROGRAM_ADDRESS));return{creatorVault:i,creatorVaultAta:n}},F=async e=>{let t,r,{creatorVaultAta:i,creatorVault:n}=await D(e.pairAddress,e.protocolDetails),a=[];a.push({pubkey:new h.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0}),a.push({pubkey:new h.PublicKey("ADyA8hdefvWN2dbGGWFotbzWxrAvLW83WG6QCVXvJKqw"),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.tokenAddress:s.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?s.WSOL_TOKEN_ADDRESS:e.tokenAddress),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.userTokenAccountAddress:e.userSolAccountAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.userSolAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.pairTokenAccount:e.protocolDetails.pairSolAccount),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.pairSolAccount:e.protocolDetails.pairTokenAccount),isSigner:!1,isWritable:!0});let o=e.protocolDetails.isMayhem?(t=[{owner:"GesfTA3X2arioaHp8bbKdjG9vJtskViWACZoYvxp4twS",account:"C93K8DX4YsABYJtHX9awzgZW3LWzBqBVezEbbLJH4yet"},{owner:"4budycTjhs9fD6xw62VBducVTNgMgJJ5BgtKq7mAZwn6",account:"Bckr4rY4rUGvWtwqC9mnWN35LKzfPRcmsoMRYq6DFEjN"},{owner:"8SBKzEQU4nLSzcwF4a74F2iaUDQyTfjGndn6qUWBnrpR",account:"9tvBjCQ4m3954ESgxW9PnBPvW8afHEjKpkNEAdfN2D8U"},{owner:"4UQeTP1T39KZ9Sfxzo3WR5skgsaP6NZa87BAkuazLEKH",account:"CoRuMWRuDAsjB5SDMmYEcDuyQyaH3L2vVFvwBy1FF8Kr"},{owner:"8sNeir4QsLsJdYpc9RZacohhK1Y5FLU3nC5LXgYB4aa6",account:"21L1QB6DJ9HBvePgwN6jFuK3UT9mq2SgTq1oJ7D6cNiV"},{owner:"Fh9HmeLNUMVCvejxCtCL2DbYaRyBFVJ5xrWkLnMH6fdk",account:"2i3uCDzDhr3pSvMPF5uBpUckLAv7XGdo2a8soiqNJMHk"},{owner:"463MEnMeGyJekNZFQSTUABBEbLnvMTALbT6ZmsxAbAdq",account:"BZeq7y8ajn5Pjpy5KjEhF6eBY2H9ippTpqCtQLQPsmJf"},{owner:"6AUH3WEHucYZyC61hqpqYUWVto5qA5hjHuNQ32GNnNxA",account:"ghSBUgyxyvyurm1vJBkU4rUyLJoUipCZhFeiBogKCSy"}])[Math.floor(Math.random()*t.length)]:(r=[{owner:"G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP",account:"BWXT6RUhit9FfJQM3pBmqeFLPYmuxgmyhMGC5sGr8RbA"},{owner:"62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV",account:"94qWNrtmfn42h3ZjUZwWvK1MEo9uVmmrBPd2hpNjYDjb"},{owner:"JCRGumoE9Qi5BBgULTgdgTLjSgkCMSbF62ZZfGs84JeU",account:"DWpvfqzGWuVy9jVSKSShdM2733nrEsnnhsUStYbkj6Nn"},{owner:"7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX",account:"X5QPJcpph4mBAJDzc4hRziFftSbcygV59kRb2Fu6Je1"},{owner:"7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ",account:"7GFUN3bWzJMKMRZ34JLsvcqdssDbXnp589SiE33KVwcC"},{owner:"9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz",account:"Bvtgim23rfocUzxVX9j9QFxTbBnH8JZxnaGLCEkXvjKS"},{owner:"JCRGumoE9Qi5BBgULTgdgTLjSgkCMSbF62ZZfGs84JeU",account:"DWpvfqzGWuVy9jVSKSShdM2733nrEsnnhsUStYbkj6Nn"},{owner:"AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY",account:"FGptqdxjahafaCzpZ1T6EDtCzYMv7Dyn5MgBLyB3VUFW"}])[Math.floor(Math.random()*r.length)];a.push({pubkey:new h.PublicKey(o.owner),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(o.account),isSigner:!1,isWritable:!0}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?e.protocolDetails.tokenProgram:s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(e.protocolDetails.isTokenSideX?s.TOKEN_PROGRAM_ADDRESS:e.protocolDetails.tokenProgram),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(B),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(O),isSigner:!1,isWritable:!1}),a.push({pubkey:i,isSigner:!1,isWritable:!0}),a.push({pubkey:n,isSigner:!1,isWritable:!1}),"buy"===e.type&&(a.push({pubkey:new h.PublicKey(function(e=new h.PublicKey(M)){return h.PublicKey.findProgramAddressSync([R.Buffer.from("global_volume_accumulator")],e)}()[0]),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey(L(new h.PublicKey(e.userAccountAddress))[0]),isSigner:!1,isWritable:!0})),a.push({pubkey:new h.PublicKey("5PHirr8joyTMp9JMm6nW7hNDVyEYdkzDqazxPD7RaTjx"),isSigner:!1,isWritable:!1}),a.push({pubkey:new h.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),isSigner:!1,isWritable:!1});let{minAmountOut:u,expectedAmountOut:l}=((e,t,r,i,n,a)=>{if(!a)throw Error("Unsupported Pool");if("buy"===e){let e=t.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(10030)),a=i.mul(e).div(r.add(e));return{minAmountOut:a.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*n)),expectedAmountOut:a}}if("sell"===e){let e=C(t,r,i,n);return{minAmountOut:e.lamportsWithSlippage,expectedAmountOut:e.expectedLamportsFromSell}}throw Error("Invalid type")})(e.type,e.amount,e.liquiditySolRaw,e.liquidityTokenRaw,e.slippage,e.protocolDetails.isTokenSideX);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e.type,amountIn:e.amount,minAmountOut:u,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userSolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userSolAccountAddress},steps:[{programAddress:O,accounts:a}],rewardsData:e.rewardsData}),expectedAmountOut:l}},U=async({type:e,amount:t,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userTokenAccountAddress:a,protocolDetails:o,blockhash:u,wallet:l,pairAddress:c,swapSettings:d,nonceInstruction:f,providers:p,tokenDecimals:y,rewardsData:x})=>{let A=[],w=await (0,m.addTokenAccountInstructions)({userWalletAddress:l.publicKey,tokenAddress:n,tokenProgramAddress:o.tokenProgram,instructions:A,userTokenAccountAddress:a,wsolAmount:"buy"===e?t.add((0,g.newSafeBN)(2)):(0,g.newSafeBN)(0),usdc:!1});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:v,expectedAmountOut:S}=await F({type:e,amount:t,slippage:d.slippage,liquiditySolRaw:r,liquidityTokenRaw:i,tokenAddress:n,userAccountAddress:l.publicKey,userTokenAccountAddress:w.userTokenAccountAddress,userSolAccountAddress:w.userWsolAccountAddress,protocolDetails:o,pairAddress:c,rewardsData:x});return A.push(v),"buy"===e&&(0,m.isVanishSigner)(l)&&A.push(new h.TransactionInstruction({keys:[{pubkey:new h.PublicKey(l.publicKey),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(L(new h.PublicKey(l.publicKey))[0]),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(B),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(O),isSigner:!1,isWritable:!1}],programId:new h.PublicKey(O),data:R.Buffer.from([249,69,164,218,150,103,84,138])})),await (0,m.handleMassSwapTxCreation)({instructions:A,wallet:l,swapSettings:d,blockhash:u,nonceInstruction:f,providers:p,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:225e3,isVanish:(0,m.isVanishSigner)(l)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:x.userRewardsPercentage,swapInfo:{amount:"buy"===e?t.add((0,g.newSafeBN)(2)):t,expectedAmountOut:S,tokenDecimals:y,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:S,tokenDecimals:y,extraLamports:(0,g.newSafeBN)(s.EXTENDED_PUMP_RENT_EXEMPTION_LAMPORTS+s.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+("buy"===e?s.PUMP_VOLUME_ACCUMULATOR_RENT_EXEMPTION_LAMPORTS:0))})}})},M="pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA";function L(e,t=new h.PublicKey(M)){return h.PublicKey.findProgramAddressSync([R.Buffer.from("user_volume_accumulator"),e.toBuffer()],t)}e.s(["PUMP_AMM_FEE_BASIS_POINTS",0,30,"estimateSellPumpAmm",0,C,"swapPumpAmm",0,U],233191);var q=e.i(412129);let K="vu1t7ReSFRLfUsnbkQWh1x2JKDVLgecp86zR1iphmDo",W="deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS",V=(e,t,r,i)=>{if("buy"===e){let e=t.mul((0,g.newSafeBN)(90)).div((0,g.newSafeBN)(1e4)),n=t.sub(e),a=i.add(n),s=r.mul(n).div(a),u=(0,g.newSafeBN)("780000000000000").sub((0,g.newSafeBN)("1045000000000000").sub(r));return o.default.max((0,g.newSafeBN)(0),o.default.min(s,u))}if("sell"===e){let e=r.add(t),n=i.mul(t).div(e),a=n.mul((0,g.newSafeBN)(90)).div((0,g.newSafeBN)(1e4));return n.sub(a)}if("inverse-sell"===e){let e=t.mul((0,g.newSafeBN)(90)).div((0,g.newSafeBN)(1e4)),n=t.add(e),a=i.sub(n);return r.mul(n).div(a)}throw Error("Invalid type")},G=async(e,t,r,i,n)=>{let a=V(e,t,i,n);if("buy"===e)return{minAmountOut:a.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*r)),expectedAmountOut:a};if("sell"===e)return{minAmountOut:a.mul((0,g.newSafeBN)(1e4-100*r)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:a};throw Error("Invalid type")},j=async({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,pairAddress:a,tokenAddress:o,liquidityTokenRaw:u,liquiditySolRaw:l,tokenProgramAddress:c,rewardsData:d})=>{let[f]=h.PublicKey.findProgramAddressSync([R.Buffer.from("state")],new h.PublicKey(W)),[,p]=h.PublicKey.findProgramAddressSync([R.Buffer.from("bonding_curve_"),new h.PublicKey(o).toBuffer()],new h.PublicKey(W)),[m,g]=h.PublicKey.findProgramAddressSync([R.Buffer.from("bonding_curve_"),new h.PublicKey(o).toBuffer(),R.Buffer.from("_sol_vault")],new h.PublicKey(W)),[b]=h.PublicKey.findProgramAddressSync([new h.PublicKey(a).toBuffer(),new h.PublicKey(c).toBuffer(),new h.PublicKey(o).toBuffer()],new h.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),[x]=h.PublicKey.findProgramAddressSync([R.Buffer.from("__event_authority")],new h.PublicKey(W)),[A]=h.PublicKey.findProgramAddressSync([R.Buffer.from("sol-receiver")],new h.PublicKey(K)),{minAmountOut:w,expectedAmountOut:v}=await G(e,t,r,u,l),S=[{pubkey:f,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(c),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:h.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(W),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:w,userWalletAddress:i,inputTokenAccount:"buy"===e?i:n,solWrapperToken:null,steps:[{programAddress:W,accounts:S,extraData:R.Buffer.concat([R.Buffer.from([p]),R.Buffer.from([g])])}],rewardsData:d}),expectedAmountOut:v}};async function z({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,blockhash:n,wallet:a,pairAddress:o,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,liquidityTokenRaw:f,liquiditySolRaw:p,protocolDetails:h,tokenDecimals:g}){let y=[],x=h.tokenProgram===q.TokenProgram.TOKEN_2022?s.TOKEN_PROGRAM_2022_ADDRESS:s.TOKEN_PROGRAM_ADDRESS,A=await (0,m.addTokenAccountInstructions)({userWalletAddress:a.publicKey,tokenAddress:r,tokenProgramAddress:x,instructions:y,userTokenAccountAddress:i});"buy"===e&&(t=t.sub((0,m.calculateAxiomFee)(t)));let{swapInstruction:w,expectedAmountOut:v}=await j({type:e,amount:t,slippage:u.slippage,userAccountAddress:a.publicKey,userTokenAccountAddress:A.userTokenAccountAddress,pairAddress:o,tokenAddress:r,liquidityTokenRaw:f,liquiditySolRaw:p,tokenProgramAddress:x,rewardsData:d});return y.push(w),await (0,m.handleMassSwapTxCreation)({instructions:y,wallet:a,swapSettings:u,blockhash:n,nonceInstruction:l,providers:c,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,m.isVanishSigner)(a)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage??0,swapInfo:{amount:t,expectedAmountOut:v,tokenDecimals:g,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:v,tokenDecimals:g})}})}e.s(["SUGAR_DISTRIBUTION_PROGRAM_ADDRESS",0,K,"calculateSwapSugar",0,V,"swapSugar",()=>z],24010);let H="dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN";async function X({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,rewardsData:y}){let x=[],A=await (0,m.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:n.token_program,instructions:x,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,g.newSafeBN)(0),usdc:n.isUsdc,usd1:n.isUsd1}),w=(0,g.newSafeBN)(0);"buy"===e&&(w=(0,m.calculateAxiomFee)(t),t=t.sub(w));let{swapInstruction:v,expectedAmountOut:S}=await J({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:A.userTokenAccountAddress,userSolAccountAddress:A.userWsolAccountAddress,userUsdcAccountAddress:A.userUsdcAccountAddress,userUsd1AccountAddress:A.userUsd1AccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,sqrtPrice:d,usdPerSol:f,tokenDecimals:p,liquidityToken:h,rewardsData:y});return x.push(v),n.isUsdc&&(0,m.isVanishSigner)(o)&&(0,m.addTokenAccountCloseInstruction)(o.publicKey,A.userUsdcAccountAddress,x),n.isUsd1&&(0,m.isVanishSigner)(o)&&(0,m.addTokenAccountCloseInstruction)(o.publicKey,A.userUsd1AccountAddress,x),await (0,m.handleMassSwapTxCreation)({instructions:x,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,m.calculateComputeUnits)({baseComputeUnits:15e4,isUsdc:n.isUsdc,isUsd1:n.isUsd1,isVanish:(0,m.isVanishSigner)(o)}),lookupTables:m.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:y.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:S,tokenDecimals:p,sourceTokenAddress:"buy"===e?b.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:b.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,m.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,isUsd1:n.isUsd1??!1,amount:t,expectedAmountOut:S,tokenDecimals:p})}})}let Q=async(e,t,r,i,n)=>{if("buy"===e){let e=ee(t,!1,i,n);if(e.lte((0,g.newSafeBN)(0)))throw Error("Would have received 0 tokens");return{minAmountOut:e.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4+100*r)),expectedAmountOut:e}}if("sell"===e){let e=ee(t,!0,i,n);if(e.lte((0,g.newSafeBN)(0)))throw Error("Would have received 0 SOL");return{minAmountOut:e.mul((0,g.newSafeBN)(1e4-100*r)).div((0,g.newSafeBN)(1e4)),expectedAmountOut:e}}throw Error("Invalid type")},J=async({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,userUsdcAccountAddress:o,userUsd1AccountAddress:u,tokenAddress:l,protocolDetails:c,pairAddress:d,sqrtPrice:f,usdPerSol:p,tokenDecimals:m,liquidityToken:g,rewardsData:b})=>{let x=function(e){let{type:t,pairAddress:r,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,tokenAddress:u}=e,l=H,c=!1;1===o.collect_fee_mode&&"sell"!==t||o.isUsd1||(l=o.isUsdc?(0,s.getAxiomUsdcFeeAddress)():(0,s.getAxiomWSolFeeAddress)(),c=!0);let d=[{pubkey:new h.PublicKey("FhVo3mqL8PW5pH5U2CN4XE33DokiyZnUwuGpH2hmHLuM"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.config_address),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(r),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===t?n:a),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey("buy"===t?a:n),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(o.base_vault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(o.quote_vault),isSigner:!1,isWritable:!0},{pubkey:new h.PublicKey(u),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(o.isUsdc?s.USDC_TOKEN_ADDRESS:o.isUsd1?s.USD1_TOKEN_ADDRESS:s.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new h.PublicKey(o.token_program),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(s.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(l),isSigner:!1,isWritable:c},{pubkey:new h.PublicKey("8Ks12pbrD6PXxfty1hVQiE9sc289zgU1zHkvXhrSdriF"),isSigner:!1,isWritable:!1},{pubkey:new h.PublicKey(H),isSigner:!1,isWritable:!1}];return 2===o.pool_fees.base_fee.fee_scheduler_mode&&d.push({pubkey:h.SYSVAR_INSTRUCTIONS_PUBKEY,isSigner:!1,isWritable:!1}),d}({type:e,pairAddress:d,userAccountAddress:i,userQuoteAccountAddress:c.isUsdc?o:c.isUsd1?u:n,userTokenAccountAddress:a,protocolDetails:c,tokenAddress:l});if(c.isUsdc)return(0,y.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:o,userTokenAccountAddress:a,usdPerSol:p,amountIn:t,tokenDecimals:m,priceInUsdc:g,slippage:r,steps:[{programAddress:H,accounts:x}],rewardsData:b});{if(c.isUsd1)return(0,y.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:u,userTokenAccountAddress:a,usdPerSol:p,amountIn:t,tokenDecimals:m,priceInUsdc:g,slippage:r,steps:[{programAddress:H,accounts:x}],rewardsData:b});let{minAmountOut:o,expectedAmountOut:s}=await Q(e,t,r,c,f);return{swapInstruction:(0,y.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:o,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:H,accounts:x}],rewardsData:b}),expectedAmountOut:s}}};var Y=((t=Y||{})[t.Up=0]="Up",t[t.Down=1]="Down",t),Z=((r=Z||{})[r.BaseToQuote=0]="BaseToQuote",r[r.QuoteToBase=1]="QuoteToBase",r),$=((i=$||{})[i.Linear=0]="Linear",i[i.Exponential=1]="Exponential",i[i.RateLimiter=2]="RateLimiter",i);function ee(e,t,r,i){var n,a,o,s,u;let l,c,d,f,p=+!t;if(0===r.collect_fee_mode)d=0!==p&&!0,f=!1;else if(1===r.collect_fee_mode)0===p?(d=!1,f=!1):(d=!1,f=!0);else throw Error("Invalid collect fee mode");return n=r,a=e,o={feesOnInput:d,feesOnBaseToken:f},s=p,u=i,l=o.feesOnInput?et(a,n,s):a,c=0===s?function(e,t,r){if(r.isZero())return(0,g.newSafeBN)(0);let i=(0,g.newSafeBN)(0),n=t,a=r,o=e.curve;for(let e=o.length-1;e>=0;e--){let t=(0,g.newSafeBN)(o[e].sqrt_price),r=(0,g.newSafeBN)(o[e].liquidity);if(!(t.isZero()||r.isZero())&&t.lt(n)){let r=(0,g.newSafeBN)(e+1<o.length?o[e+1].liquidity:o[e].liquidity);if(r.isZero())continue;let s=es(t,n,r,0);if(a.lt(s)){let e=el(n,r,a,!0),t=eu(e,n,r,1);i=i.add(t),n=e,a=(0,g.newSafeBN)(0);break}{let e=eu(t,n,r,1);i=i.add(e),n=t,a=a.sub(s)}}}let s=(0,g.newSafeBN)(o[0].liquidity);if(!a.isZero()&&!s.isZero()){let e=el(n,s,a,!0),t=eu(e,n,s,1);i=i.add(t),n=e}return i}(n,u,l):function(e,t,r){if(r.isZero())return(0,g.newSafeBN)(0);let i=(0,g.newSafeBN)(0),n=t,a=r,o=e.curve;for(let e=0;e<o.length;e++){let t=(0,g.newSafeBN)(o[e].sqrt_price),r=(0,g.newSafeBN)(o[e].liquidity);if(t.isZero()||r.isZero())break;if(!r.isZero()&&t.gt(n)){let e=eu(n,t,r,0);if(a.lt(e)){let e=el(n,r,a,!1),t=es(n,e,r,1);i=i.add(t),n=e,a=(0,g.newSafeBN)(0);break}{let o=es(n,t,r,1);i=i.add(o),n=t,a=a.sub(e)}}}if(!a.isZero())throw Error("Not enough liquidity to process the entire amount");return i}(n,u,l),o.feesOnInput?c:et(c,n,s)}function et(e,t,r){let i=ei(t,void 0,r,e);i.gt((0,g.newSafeBN)(en))&&(i=(0,g.newSafeBN)(en));let n=ec(e,i,new o.default(1e9),0);return e.sub(n)}function er(e,t){return Number(ei(e,t))/1e9*100}function ei(e,t,r,i){let n,a=e.pool_fees.base_fee,o=a.number_of_period,s=(0,g.newSafeBN)(a.reduction_factor),u=(0,g.newSafeBN)(a.cliff_fee_numerator),l=Number(a.period_frequency);if(0===l)return u;let c=0===e.activation_type?400:1e3,d=(0,g.newSafeBN)(Math.floor(Date.now()/c)),f=(0,g.newSafeBN)(Math.floor((e.created_at??0)/c));t=t??Date.now();let p=e.created_at??0;t<p&&t-p<-6e4&&(t=p),n=t<p?o:Math.min(parseInt(Math.floor(Math.floor((t-p)/c)/l).toString()),o);let h=a.fee_scheduler_mode;if(0===h){let e=(0,g.newSafeBN)(n).mul(s);return e.gt(u)?(0,g.newSafeBN)(0):u.sub(e)}if(1===h)return function(e,t,r){if(0===r)return e;if(1===r){let r=(0,g.newSafeBN)(eo);return ec(e,r.sub(t),r,1)}let i=(0,g.newSafeBN)(eo),n=(0,g.newSafeBN)(1).shln(64),a=t.shln(64).div(i),o=function(e,t,r=!0){let i=(0,g.newSafeBN)(1).shln(64);if(t.isZero())return i;if(e.isZero())return(0,g.newSafeBN)(0);if(e.eq(i))return i;let n=t.isNeg(),a=n?t.neg():t,o=i,s=e,u=a;for(;!u.isZero();)u.and((0,g.newSafeBN)(1)).eq((0,g.newSafeBN)(1))&&(o=o.mul(s).div(i)),s=s.mul(s).div(i),u=u.shrn(1);return n&&(o=i.mul(i).div(o)),r?o:o.div(i)}(n.sub(a),(0,g.newSafeBN)(r));return e.mul(o).div(n)}(u,s,n);if(2===h){let e=a.number_of_period,t=(0,g.newSafeBN)(a.period_frequency),n=(0,g.newSafeBN)(a.reduction_factor),o=0!==r&&d.gte(f)&&d.lte(f.add(t));if(d.lt(f))return(0,g.newSafeBN)(a.cliff_fee_numerator);let s=f.add(t);return d.gt(s)||!i?(0,g.newSafeBN)(a.cliff_fee_numerator):o?ea((0,g.newSafeBN)(a.cliff_fee_numerator),n,(0,g.newSafeBN)(e),i):(0,g.newSafeBN)(a.cliff_fee_numerator)}throw Error("Invalid fee scheduler mode")}let en=99e7,ea=(e,t,r,i)=>{let n,a,s;if(i.lte(t))return e;let u=i.sub(t),l=u.div(t),c=u.mod(t),d=(a=(0,g.newSafeBN)(en).sub(e),s=ec(r,(0,g.newSafeBN)(1e9),(0,g.newSafeBN)(eo),1),a.div(s)),f=ec(r,(0,g.newSafeBN)(1e9),(0,g.newSafeBN)(eo),1),p=(0,g.newSafeBN)(1),h=(0,g.newSafeBN)(2);if(l.lt(d)){let r=e.add(e.mul(l)).add(f.mul(l).mul(l.add(p)).div(h)),i=e.add(f.mul(l.add(p))),a=t.mul(r),o=c.mul(i);n=a.add(o)}else{let r=e.add(e.mul(d)).add(f.mul(d).mul(d.add(p)).div(h)),i=(0,g.newSafeBN)(en),a=t.mul(r),o=l.sub(d).mul(t).add(c).mul(i);n=a.add(o)}let m=(0,g.newSafeBN)(1e9),b=ec(n.add(m).sub(p).div(m),(0,g.newSafeBN)(1e9),i,0);return o.default.min(b,(0,g.newSafeBN)(en))},eo=1e4;function es(e,t,r,i){if(r.isZero())return(0,g.newSafeBN)(0);if(e.isZero()||t.isZero())throw Error("Sqrt price cannot be zero");return ec(r,t.sub(e),e.mul(t),i)}function eu(e,t,r,i){if(r.isZero())return(0,g.newSafeBN)(0);let n=t.sub(e),a=r.mul(n);if(0!==i)return a.shrn(128);{let e=(0,g.newSafeBN)(1).shln(128);return a.add(e.sub((0,g.newSafeBN)(1))).div(e)}}function el(e,t,r,i){if(e.isZero()||t.isZero())throw Error("Price or liquidity cannot be zero");return i?function(e,t,r){if(r.isZero())return e;let i=r.mul(e),n=t.add(i);return ec(t,e,n,0)}(e,t,r):function(e,t,r){if(r.isZero())return e;let i=r.shln(128).div(t);return e.add(i)}(e,t,r)}function ec(e,t,r,i){if(r.isZero())throw Error("MulDiv: division by zero");if(r.eq((0,g.newSafeBN)(1))||e.isZero()||t.isZero())return e.mul(t);let n=e.mul(t);return 0===i?n.add(r.sub((0,g.newSafeBN)(1))).div(r):n.div(r)}e.s(["getVirtualCurveTaxPercentage",()=>er,"swapQuote",()=>ee,"swapVirtualCurve",()=>X],432265);var ed=e.i(626914),ef=e.i(767714);function ep({protocol:e,percentage:t,tokenBalance:r,liquidityNative:i,liquidityToken:u,decimals:h,protocolDetails:b,supplementalData:y,usdPerNative:x}){try{let A;if(0===t||0===r)return 0;let v=t/100,S=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(10**h).toString()),k=(0,g.newSafeBN)((0,a.default)(u).multipliedBy(10**h).toString()),T=(0,g.newSafeBN)((0,a.default)(i).multipliedBy(1e9).toString());if("Pump V1"===e){let e=S;if(b.isMayhem){let t=(0,g.newSafeBN)(s.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(k);e=o.default.min(S,t)}A=e.mul(T).div(k.add(e)).mul((0,g.newSafeBN)(1e4-s.PUMP_FEE_BASIS_POINTS)).div((0,g.newSafeBN)(1e4)).add((0,g.newSafeBN)(1))}else if("Raydium V4"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else{let e=new o.default(25),t=new o.default(1e4),r=eg(S.mul(e),t),i=S.sub(r),n=k.add(i);A=T.mul(i).div(n)}else if("Raydium CPMM"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else{if(!b.tradeFeeRate)throw Error("tradeFeeRate is missing");let e=S.mul((0,g.newSafeBN)(b.tradeFeeRate)).div((0,g.newSafeBN)(1e6)),t=S.sub(e),r=k.mul(T),i=k.add(t),n=eg(r,i);A=T.sub(n)}else if("Meteora DLMM"===e||"Raydium CLMM"===e||"Orca"===e)A=b.isUsdc||b.isUsd1?(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString()):(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString());else if("Meteora AMM V2"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else try{if((0,l.isMeteoraAmmV2Data)(y)){let e=(0,c.calculateSwapSync)({amount:S,type:"sell",supplementalData:y});A=(0,g.newSafeBN)(e.minimumAmountOut)}else A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString())}catch(e){eb("Meteora AMM V2 Error",`(${r}, ${u}, ${t}, ${y})`,e),A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString())}else if("Virtual Curve"===e)if(b.isUsdc||b.isUsd1)A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString());else try{A=ee(S,!0,b,function(e){if(isNaN(e)||!isFinite(e))return(0,g.newSafeBN)(0);let t=Math.floor(Math.abs(e)),r=Math.abs(e)-t,i=(0,g.newSafeBN)(t).shln(64),n=(0,g.newSafeBN)(Math.round(0xffffffffffffffff*r)),a=i.add(n);return e<0&&(a=a.neg()),a}((0,a.default)(u).multipliedBy(1e9).dividedBy(10**h).sqrt().toNumber()))}catch(e){eb("Virtual Curve Error",`(${r}, ${u}, ${t}, ${b})`,e),A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).multipliedBy(1e9).toString())}else if("Pump AMM"===e)A=C(S,T,k,0).expectedLamportsFromSell;else if("LaunchLab"===e){let e=(0,p.getLaunchLabPoolInfo)(k,T,b);A=n.Curve.sellExactIn({poolInfo:e,amountA:S,protocolFeeRate:new o.default(p.LAUNCHLAB_PROTOCOL_FEE_RATE),platformFeeRate:new o.default(b.platformFee),curveType:0,shareFeeRate:new o.default(0)}).amountB}else if("Meteora AMM"===e)A=b.isUsdc||b.isUsd1?(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(u).dividedBy(x).multipliedBy(1e9).toString()):w(S,k,T,b);else if("Boop"===e)A=(0,d.calculateExpectedOutputSolAmount)(S,k,T,b);else if("Moonshot"===e)A=I(S,k,T,b);else if("Vertigo"===e)try{let{amountA:e}=(0,ef.vertigoTestSwapTokenForSol)(b,k,S);A=e}catch(e){eb("Vertigo Error",`(${r}, ${u}, ${t}, ${b})`,e),A=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(v).multipliedBy(i).dividedBy(u).multipliedBy(1e9).toString())}else if("Heaven"===e)A=(0,f.calculateSwapHeaven)("sell",S,b,k,T);else{if("Sugar"!==e)return 0;A=V("sell",S,k,T)}let E=(0,m.calculateAxiomFee)(A);return(0,g.fromSafeBN)(A.sub(E))/1e9}catch(n){return eb("Estimate Sell Error",`(${e}, ${t}, ${r}, ${i}, ${u}, ${h}, ${b}, ${x})`,n),0}}function eh({protocol:e,targetNativeAmount:t,liquidityNative:r,liquidityToken:i,decimals:u,protocolDetails:l,usdPerNative:c}){try{let d;if(0>=Number(t))return(0,g.newSafeBN)(0);let h=(0,g.newSafeBN)((0,a.default)(t).multipliedBy(1e9).toString()),m=(0,g.newSafeBN)((0,a.default)(i).multipliedBy(10**u).toString()),b=(0,g.newSafeBN)((0,a.default)(r).multipliedBy(1e9).toString()),y=(0,g.newSafeBN)(s.BASIS_POINTS_DIVISOR),x=h.mul(y).div(y.sub((0,g.newSafeBN)(s.AXIOM_FEE_BASIS_POINTS)));if("Pump V1"===e){let e=x.mul((0,g.newSafeBN)(1e4)).div((0,g.newSafeBN)(1e4-s.PUMP_FEE_BASIS_POINTS)),t=e.mul(m),r=b.sub(e);d=t.div(r)}else if("Raydium V4"===e)if(l.isUsdc||l.isUsd1)d=(0,g.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(c).multipliedBy(10**u).toString());else{let e=new o.default(25),t=new o.default(1e4),r=x.mul(m),i=b.sub(x),n=i.sub(i.mul(e).div(t));d=r.div(n)}else if("Raydium CPMM"===e)if(l.isUsdc||l.isUsd1)d=(0,g.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(c).multipliedBy(10**u).toString());else{if(!l.tradeFeeRate)throw Error("tradeFeeRate is missing");let e=(0,g.newSafeBN)(l.tradeFeeRate),t=(0,g.newSafeBN)(1e6).sub(e),r=t.mul(b).mul(m),i=b.sub(x),n=r.div(i).sub(t.mul(m)),a=t.sub(e);d=n.div(a)}else if("Meteora DLMM"===e||"Virtual Curve"===e||"Raydium CLMM"===e||"Meteora AMM V2"===e||"Orca"===e)d=l.isUsdc||l.isUsd1?(0,g.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(c).multipliedBy(10**u).toString()):h.mul((0,g.newSafeBN)(10**u)).div((0,g.newSafeBN)((0,a.default)(i).multipliedBy(1e9).toString()));else if("Pump AMM"===e){let e=x.mul((0,g.newSafeBN)(1e4)).add((0,g.newSafeBN)(9969)).div((0,g.newSafeBN)(9970));d=m.mul(e).add(b.sub(e).subn(1)).div(b.sub(e))}else if("LaunchLab"===e){let e=(0,p.getLaunchLabPoolInfo)(m,b,l);d=n.Curve.sellExactOut({poolInfo:e,amountB:h,protocolFeeRate:new o.default(p.LAUNCHLAB_PROTOCOL_FEE_RATE),platformFeeRate:new o.default(l.platformFee),curveType:0,shareFeeRate:new o.default(0)}).amountA}else if("Meteora AMM"===e)d=l.isUsdc||l.isUsd1?(0,g.newSafeBN)((0,a.default)(t).dividedBy(i).multipliedBy(c).multipliedBy(10**u).toString()):v(h,m,b,l);else if("Boop"===e)d=h.mul((0,g.newSafeBN)(10**u)).div((0,g.newSafeBN)(1e9*(0,ed.default)({protocol:e,liquidityNative:Number(r),liquidityToken:Number(i),protocolDetails:l})));else if("Moonshot"===e)d=N(h,m,b,l);else if("Vertigo"===e){let{amountB:e}=(0,ef.vertigoTestSwapSolForToken)(l,m,h);d=e}else if("Heaven"===e)d=(0,f.calculateSwapHeaven)("inverse-sell",h,l,m,b);else if("Sugar"===e)d=V("inverse-sell",h,m,b);else throw Error("Unsupported protocol for sell by SOL, try using % instead");return d}catch(n){return eb("Estimate Sell Inverse Error",`(${e}, ${t}, ${r}, ${i}, ${u}, ${l}, ${c})`,n),(0,g.newSafeBN)(0)}}function em(e,t,r){return"buy"===r?e.times(1e4).div(1e4+100*t).integerValue(a.default.ROUND_FLOOR):e.times(1e4-100*Math.min(t,100)).div(1e4).integerValue(a.default.ROUND_FLOOR)}function eg(e,t){let r=e.div(t);return e.mod(t).gt((0,g.newSafeBN)(0))&&(r=r.add((0,g.newSafeBN)(1))),r}let eb=async(e,t,r)=>{try{let i=r instanceof Error?`${r.name}
Message: ${r.message}
Stack: ${r.stack}`:JSON.stringify(r);await u.axiomApiV2.post("/report-error",{message:`${e}
${t}
${i}`})}catch(e){console.error("Failed to report error:",e)}};e.s(["applySlippage",()=>em,"estimateSell",()=>ep,"estimateSellInverse",()=>eh],181937)},735013,e=>{"use strict";var t=e.i(265172),r=e.i(639372);let i=(0,t.atomWithReset)([]),n=(0,r.atom)(e=>e(i).filter(e=>"Active"===e.status).length);e.s(["isUsdOrder",0,e=>e.isUsdc||e.isUsd1||!1,"numActiveOrdersAtom",0,n,"ordersAtom",0,i])},852388,e=>{"use strict";var t=e.i(127261),r=e.i(85026),i=e.i(467034),n=e.i(444610);e.i(559136);var a=e.i(150237),o=e.i(422876),s=e.i(717725),u=e.i(858010);let l=(0,n.struct)([(0,n.u8)("instruction"),(0,a.u64)("amount")]);var c=e.i(761405),d=e.i(103476);async function f(e,n,a){let f=e.tokenAccounts.find(e=>e.tokenAddress===n);if(!f)throw Error("Token account not found");let p=[],h=Number(f.balanceRaw);(0,r.addPriorityFeeInstructions)({instructions:p,computeUnits:8500,microLamports:1e6});let m=function(e,r,n,a,c=[],d=o.TOKEN_PROGRAM_ID){let f=(0,s.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}],n,c),p=i.Buffer.alloc(l.span);return l.encode({instruction:u.TokenInstruction.Burn,amount:BigInt(a)},p),new t.TransactionInstruction({keys:f,programId:d,data:p})}(new t.PublicKey(f.tokenAccountAddress),new t.PublicKey(n),new t.PublicKey(e.publicKey),h,void 0,new t.PublicKey(f.tokenProgram)),g=(0,c.createCloseAccountInstruction)(new t.PublicKey(f.tokenAccountAddress),new t.PublicKey(e.publicKey),new t.PublicKey(e.publicKey),void 0,new t.PublicKey(f.tokenProgram)),b=t.SystemProgram.transfer({fromPubkey:new t.PublicKey(e.publicKey),toPubkey:new t.PublicKey("AxiomDotTrade1111111111111111111111EventLog"),lamports:0});p.push(m,g,b);let y=t.Keypair.fromSecretKey(d.default.decode(e.privateKey)),{base64Tx:x}=await (0,r.compileTransaction)({signer:y,instructions:p,blockhash:a});return x}e.s(["createBurnDustTx",()=>f],852388)},542251,e=>{"use strict";e.i(465903);var t=e.i(767924),r=e.i(447800),i=e.i(290705),n=e.i(626914),a=e.i(973444);let o="1073000000000000",s="793100000000000",u="1045000000000000",l="780000000000000";function c(e,t,r){let i=e*t;return i===BigInt(0)?BigInt(0):(r*(t-e)+i/BigInt(2))/i}e.s(["calculateBondingCurve",0,e=>{let{liquidityToken:t,liquiditySol:n,tokenDecimals:d,protocol:f,protocolDetails:p,usdPerSol:h}=e;if("Pump V1"===f)return Number(((Number(o)/10**d-t)/(Number(s)/10**d)*100).toFixed(2));if("Sugar"===f)return Number(((Number(u)/10**d-t)/(Number(l)/10**d)*100).toFixed(2));if("Moonshot"===f){if(!p||p?.helioFee)return 0;let e=p?.curveType;if(3===e)return Math.min(100,Number(((n-30)/(Number(p?.collateralCollected)/1e9)*100).toFixed(2)));if(1!==e)return 0;{let e=Number(p.amount)/10**p.decimals;return Math.min(100,Number(((e-t)/(.8*e)*100).toFixed(2)))}}if("LaunchLab"===f){let e,n;if(!p)return 0;let a=Number(p.baseSupplyRaw)/10**d,o=Number(p.baseLockedRaw)/10**d,s=Number(p.baseSellRaw)/10**d;if(p.isUsd1){let t=h||r.FALLBACK_USD_PER_SOL;e=Number(p.quoteRaiseRaw)/1e6/t,n=Number(i.LAUNCHLAB_MIGRATE_FEE_RAW)/1e6/t}else e=Number(p.quoteRaiseRaw)/1e9,n=Number(i.LAUNCHLAB_MIGRATE_FEE_RAW)/1e9;let u=(e-n)/(a-o-s);return Number(((u*s*s/(u*s-e)-t)/s*100).toFixed(2))}if("Virtual Curve"===f){if(!p)return 0;let e=p.isUsdc||p.isUsd1?6:9,r=BigInt((0,a.newSafeBN)(0xffffffffffffffff*Math.sqrt(t/10**d*10**e)).toString());return Math.min(100,Number((Number(function(e,t,r){let i=BigInt(0);for(let n=0;n<r.length;n++){let a=0===n?e:BigInt(r[n-1].sqrt_price);if(BigInt(r[n].sqrt_price)>t){i+=c(a,t,BigInt(r[n].liquidity));break}i+=c(a,BigInt(r[n].sqrt_price),BigInt(r[n].liquidity))}return i}(BigInt(p.sqrt_start_price),BigInt(r),p.curve))/Number(p.swap_base_amount)*100).toFixed(2)))}else return"Boop"===f?Math.min(100,Number(((n-30)/86*100).toFixed(2))):"Heaven"!==f?0:Math.min(99.99,Number((n/t*1e9*(h??r.FALLBACK_USD_PER_SOL)/1e5*100).toFixed(2)))},"calculateMigrationPrice",0,e=>{let{tokenDecimals:r,protocol:a,protocolDetails:c,ammConstant:d,usdPerSol:f}=e;if("Pump V1"===a||"Sugar"===a){let e="Sugar"===a?u:o,t="Sugar"===a?l:s,i=Number(e)/10**r-Number(t)/10**r;return(d??0)/i/i}if("Moonshot"===a){if(!c||c?.helioFee)return 0;let e=c?.curveType;if(1===e){let e=Number(c.amount)/10**c.decimals*.19999999999999996;return(0,n.default)({protocol:a,liquidityToken:e,liquidityNative:(d??0)/e,protocolDetails:c})}if(3===e){let e=Number(c?.collateralCollected)/1e9;return(0,n.default)({protocol:a,liquidityToken:-1,liquidityNative:e+30,protocolDetails:c})}}else if("LaunchLab"===a){let e,t=Number(c.baseSupplyRaw)/10**r,n=Number(c.baseLockedRaw)/10**r,a=Number(c.baseSellRaw)/10**r;return c.isUsd1?((e=Number(c.quoteRaiseRaw)/1e6)-Number(i.LAUNCHLAB_MIGRATE_FEE_RAW)/1e6)/(t-n-a)/f:((e=Number(c.quoteRaiseRaw)/1e9)-Number(i.LAUNCHLAB_MIGRATE_FEE_RAW)/1e9)/(t-n-a)}else if("Virtual Curve"===a){if(!c)return 0;let e=BigInt(2)**BigInt(64),t=Number(c.migration_sqrt_price)/Number(e),i=c.isUsdc||c.isUsd1?f:1,n=c.isUsdc||c.isUsd1?6:9;return t*t/(10**(r-n)*i)}else if("Boop"===a)return(0,n.default)({protocol:a,liquidityToken:(d??0)/116,liquidityNative:116,protocolDetails:c});else if(a===t.PROTOCOL_HEAVEN)return c?.migrated?0:1e5/f/1e9;return 0}])},868904,223560,e=>{"use strict";e.s(["fillPairInfo",()=>tw,"generateSolMemeSwapTx",()=>tS,"validateSolMemeParams",()=>tv],868904);var t,r,i,n,a,o,s,u,l,c,d=e.i(946865),f=e.i(127261),p=e.i(268804),h=e.i(682382),m=e.i(592e3),g=e.i(447800),b=e.i(542251),y=e.i(181937),x=e.i(973444);e.i(465903);var A=e.i(767924),w=e.i(284456),v=e.i(408136),S=e.i(290705),k=e.i(726801),T=e.i(85026),E=e.i(517207),P=e.i(719387);let I="cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG";async function _({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,supplementalData:d,rewardsData:f,usdPerSol:p,tokenDecimals:m,liquidityToken:g}){let b=[],y=await (0,T.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:n.tokenProgramA,instructions:b,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,x.newSafeBN)(0),usdc:n.isUsdc,usd1:n.isUsd1}),A=(0,x.newSafeBN)(0);"buy"===e&&(A=(0,T.calculateAxiomFee)(t),t=t.sub(A));let{swapInstruction:w,expectedAmountOut:v}=await N({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:n,pairAddress:s,supplementalData:d,usdPerSol:p,userUsdcAccountAddress:y.userUsdcAccountAddress,userUsd1AccountAddress:y.userUsd1AccountAddress,tokenDecimals:m,liquidityToken:g,rewardsData:f});return b.push(w),n.isUsdc&&(0,T.isVanishSigner)(o)&&(0,T.addTokenAccountCloseInstruction)(o.publicKey,y.userUsdcAccountAddress,b),n.isUsd1&&(0,T.isVanishSigner)(o)&&(0,T.addTokenAccountCloseInstruction)(o.publicKey,y.userUsd1AccountAddress,b),await (0,T.handleMassSwapTxCreation)({instructions:b,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:n.isUsdc||n.isUsd1?2e5:15e4,isUsdc:n.isUsdc,isUsd1:n.isUsd1,isVanish:(0,T.isVanishSigner)(o)}),lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:f.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:v,tokenDecimals:m,sourceTokenAddress:"buy"===e?h.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,isUsd1:n.isUsd1??!1,amount:t,expectedAmountOut:v,tokenDecimals:m})}})}async function N({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,supplementalData:u,usdPerSol:l,userUsdcAccountAddress:c,userUsd1AccountAddress:d,tokenDecimals:f,liquidityToken:p,rewardsData:h}){if(o.isUsd1){if(o.tokenProgramA!==A.TOKEN_PROGRAM_ADDRESS||o.tokenProgramB!==A.TOKEN_PROGRAM_ADDRESS)throw Error("Trading Token 2022 pairs with USD1 is not supported yet.");let c=await (0,E.getFeeModes)(s,u),m=2===c.baseFeeMode,g=0===c.collectFeeMode&&"sell"===e||1===c.collectFeeMode&&o.tokenMintB===A.USD1_TOKEN_ADDRESS,b=R({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:d,userTokenAccountAddress:a,protocolDetails:o,useFee:g,isUsd1:!0,needSysVarAccount:m});return await (0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:d,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,rewardsData:h,steps:[{programAddress:I,accounts:b}]})}if(o.isUsdc){if(o.tokenProgramA!==A.TOKEN_PROGRAM_ADDRESS||o.tokenProgramB!==A.TOKEN_PROGRAM_ADDRESS)throw Error("Trading Token 2022 pairs with USDC is not supported yet.");let d=await (0,E.getFeeModes)(s,u),m=2===d.baseFeeMode,g=0===d.collectFeeMode&&"sell"===e||1===d.collectFeeMode&&o.tokenMintB===A.USDC_TOKEN_ADDRESS,b=R({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:c,userTokenAccountAddress:a,protocolDetails:o,useFee:g,isUsd1:!1,needSysVarAccount:m});return await (0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:c,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,rewardsData:h,steps:[{programAddress:I,accounts:b}]})}{let{minAmountOut:l,expectedAmountOut:c,collectFeeMode:d,baseFeeMode:f}=await O(e,t,r,s,u),p=0===d&&"sell"===e||1===d&&o.tokenMintB===A.WSOL_TOKEN_ADDRESS,m=R({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,useFee:p,isUsd1:!1,needSysVarAccount:2===f});return{swapInstruction:(0,P.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:I,accounts:m}],rewardsData:h}),expectedAmountOut:c}}}function R(e){let t=I;e.useFee&&(t=e.isUsd1?I:e.protocolDetails.isUsdc?(0,A.getAxiomUsdcFeeAddress)():(0,A.getAxiomWSolFeeAddress)());let r=[{pubkey:new f.PublicKey("HLnpSz9h2S4hiLQ43rnSD9XkcUThA7B8hQMKmDaiTLcC"),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===e.type?e.userQuoteAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===e.type?e.userTokenAccountAddress:e.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.protocolDetails.tokenVaultA),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.protocolDetails.tokenVaultB),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.protocolDetails.tokenMintA),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.protocolDetails.tokenMintB),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new f.PublicKey(e.protocolDetails.tokenProgramA),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.protocolDetails.tokenProgramB),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(t),isSigner:!1,isWritable:e.useFee&&!e.isUsd1},{pubkey:new f.PublicKey("3rmHSu74h1ZcmAisVcWerTCiRDQbUrBKmcwptYGjHfet"),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(I),isSigner:!1,isWritable:!1}];return e.needSysVarAccount&&r.push({pubkey:new f.PublicKey(A.SYSVAR_INSTRUCTIONS_ADDRESS),isSigner:!1,isWritable:!1}),r}let O=async(e,t,r,i,n)=>{let a,o,s=await (0,E.calculateSwap)({pairAddress:i,amount:t,type:e,supplementalData:n});if((o=(0,x.newSafeBN)(s.minimumAmountOut)).lte((0,x.newSafeBN)(0)))throw Error(`Would have received 0 ${"buy"===e?"tokens":"SOL"}`);if("buy"===e)a=o.mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+100*r));else if("sell"===e)a=o.mul((0,x.newSafeBN)(1e4-100*r)).div((0,x.newSafeBN)(1e4));else throw Error("Invalid type");return{minAmountOut:a,expectedAmountOut:o,collectFeeMode:s.collectFeeMode,baseFeeMode:s.baseFeeMode}};var B=e.i(467034),C=e.i(659341),D=e.i(458768);let F="LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo";async function U({amount:e,priorityFeeSol:t,wallet:r,preset:i,providers:n,blockhash:a,swapParams:o,nonceInstruction:s,protocolDetails:u,liquidityToken:l,usdPerSol:c,userTokenAccountAddress:d,tokenDecimals:m,rewardsData:g}){let b,y,w,v=[],S="buy"===o.type?e.mul(new C.default(99)).div(new C.default(100)):e;b="buy"===o.type&&u.isUsdc?e.mul((0,x.newSafeBN)(1e3*c)).div((0,x.newSafeBN)(1e6)):e;let k=await p.axiomApiV2.post("/generate-meteora-swap-tx-v2",{params:{type:o.type,amountRaw:b.toString(),pairAddress:o.pairAddress,tokenAddress:o.tokenAddress,priorityFee:t},slippage:i.slippage,walletAddress:r.publicKey,blockhash:a}),E=B.Buffer.from(k.serializedTx,"base64"),I=f.MessageV0.deserialize(E),_=f.TransactionMessage.decompile(I).instructions.find(e=>e.programId.toBase58()===F);if(!_)throw Error("Swap instruction not found");"buy"===o.type&&(_.keys[9]={pubkey:new f.PublicKey(u.isUsdc?(0,A.getAxiomUsdcFeeAddress)():(0,A.getAxiomWSolFeeAddress)()),isSigner:!1,isWritable:!0}),k.isPartial&&D.default.warn("This trade will only partially fill, executing...");let N=await (0,T.addTokenAccountInstructions)({userWalletAddress:r.publicKey,tokenAddress:o.tokenAddress,tokenProgramAddress:k.tokenProgram,instructions:v,userTokenAccountAddress:d,wsolAmount:"buy"===o.type?S:(0,x.newSafeBN)(0),usdc:u.isUsdc});"buy"===o.type?(_.keys[4].pubkey=new f.PublicKey(u.isUsdc?N.userUsdcAccountAddress:N.userWsolAccountAddress),_.keys[5].pubkey=new f.PublicKey(N.userTokenAccountAddress)):(_.keys[4].pubkey=new f.PublicKey(N.userTokenAccountAddress),_.keys[5].pubkey=new f.PublicKey(u.isUsdc?N.userUsdcAccountAddress:N.userWsolAccountAddress));let R=B.Buffer.concat([B.Buffer.alloc(2),_.data.subarray(24)]);if(R.writeUInt16LE(R.length-2,0),u.isUsdc){let{swapInstruction:e,expectedAmountOut:t}=await (0,P.buildUsdAxiomRouterInstruction)({type:o.type,stableCoin:"usdc",userAccountAddress:r.publicKey,userWsolAccountAddress:N.userWsolAccountAddress,userUsdAccountAddress:N.userUsdcAccountAddress,userTokenAccountAddress:N.userTokenAccountAddress,usdPerSol:c,amountIn:S,tokenDecimals:m,priceInUsdc:l,slippage:i.slippage,steps:[{programAddress:F,accounts:_.keys,extraData:R}],rewardsData:g});y=e,w=t}else y=(0,P.buildAxiomRouterInstruction)({type:o.type,amountIn:S,minAmountOut:new C.default(_.data.subarray(16,24),"le"),userWalletAddress:r.publicKey,inputTokenAccount:"buy"===o.type?N.userWsolAccountAddress:N.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:N.userWsolAccountAddress},steps:[{programAddress:F,accounts:_.keys,extraData:R}],rewardsData:g}),w=(0,x.newSafeBN)(k.expectedAmountOut);return v.push(y),u.isUsdc&&(0,T.isVanishSigner)(r)&&(0,T.addTokenAccountCloseInstruction)(r.publicKey,N.userUsdcAccountAddress,v),await (0,T.handleMassSwapTxCreation)({instructions:v,wallet:r,swapSettings:i,blockhash:a,nonceInstruction:s,providers:n,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:u.isUsdc,isVanish:(0,T.isVanishSigner)(r)}),lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:g.userRewardsPercentage,swapInfo:{amount:e,expectedAmountOut:w,tokenDecimals:m,sourceTokenAddress:"buy"===o.type?h.NATIVE_SOL_TOKEN_ADDRESS:o.tokenAddress,targetTokenAddress:"buy"===o.type?o.tokenAddress:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:o.type,isWsol:!0,isUsdc:u.isUsdc??!1,amount:e,expectedAmountOut:w,tokenDecimals:m})}})}var M=e.i(518152),L=e.i(412129),q=e.i(912440),K=e.i(654312);function W([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}e.i(247167);var V=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){const{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(W).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}},G=0n;function j(e){return!(null==e||"object"!=typeof e||Array.isArray(e))&&"jsonrpc"in e&&"2.0"===e.jsonrpc&&"method"in e&&"string"==typeof e.method&&"params"in e}var z=e.i(631985);function H([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var X=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){const{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(H).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function Q(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}function J({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:r,rpcEnumError:i},n){let a,o;"string"==typeof i?a=i:(a=Object.keys(i)[0],o=i[a]);let s=e+r.indexOf(a),u=t(s,a,o),l=new X(s,u);return Q(l,n),l}var Y=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"],Z=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function $(e){return"bigint"==typeof e?Number(e):e}var ee={};function et(e){return function t(r,i){if(Array.isArray(r))return r.map((e,r)=>t(e,{...i,keyPath:[...i.keyPath,r]}));if("object"!=typeof r||null===r)return e.reduce((e,t)=>t(e,i),r);{let e={};for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n))continue;let a={...i,keyPath:[...i.keyPath,n]};e[n]=t(r[n],a)}return e}}}function er(e,t){return r=>{let i=et(e);return Object.freeze({...r,params:i(r.params,t)})}}var ei={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1},en=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",ee,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",ee,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",ee,"state","preUpdateAverageRate"],["data","parsed","info","extensions",ee,"state","currentRate"]],ea=[...en,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",ee,"confirmationCount"]],eo=[["index"],["instructions",ee,"accounts",ee],["instructions",ee,"programIdIndex"],["instructions",ee,"stackHeight"]],es=[["addressTableLookups",ee,"writableIndexes",ee],["addressTableLookups",ee,"readonlyIndexes",ee],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",ee,"accounts",ee],["instructions",ee,"programIdIndex"],["instructions",ee,"stackHeight"]];function eu([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var el=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){const{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(eu).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}};function ec([e,t]){return`${e}=${function e(t){return Array.isArray(t)?"%5B"+t.map(e).join("%2C%20")+"%5D":"bigint"==typeof t?`${t}n`:encodeURIComponent(String(null!=t&&null===Object.getPrototypeOf(t)?{...t}:t))}(t)}`}var ed=class extends Error{cause=this.cause;context;constructor(...[e,t]){let r,i;if(t){const{cause:e,...n}=t;e&&(i={cause:e}),Object.keys(n).length>0&&(r=n)}super(function(e,t={}){{let r=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(r+=` '${btoa(Object.entries(t).map(ec).join("&"))}'`),`${r}\``}}(e,r),i),this.context={__code:e,...r},this.name="SolanaError"}},ef=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function ep(e){return j(e)&&ef.includes(e.method)}var eh=Object.prototype.toString,em=Object.keys||function(e){let t=[];for(let r in e)t.push(r);return t},eg={defaultCommitment:"confirmed",onIntegerOverflow(e,t,r){throw function e(t,r,i){let n="";if("number"==typeof r[0]){let e=r[0]+1,t=e%10,i=e%100;n=1==t&&11!=i?e+"st":2==t&&12!=i?e+"nd":3==t&&13!=i?e+"rd":e+"th"}else n=`\`${r[0].toString()}\``;let a=r.length>1?r.slice(1).map(e=>"number"==typeof e?`[${e}]`:e).join("."):void 0,o=new el(81e5,{argumentLabel:n,keyPath:r,methodName:t,optionalPathLabel:a?` at path \`${a}\``:"",value:i,...void 0!==a?{path:a}:void 0});return!function(...e){"captureStackTrace"in Error&&"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(...e)}(o,e),o}(e.methodName,t,r)}},eb=globalThis.AbortController;function ey(e){return j(e)?function(e){let t=function e(t,r){let i,n,a,o,s,u,l;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if("toJSON"in t&&"function"==typeof t.toJSON)return e(t.toJSON(),r);if("[object Array]"===(l=eh.call(t))){for(i=0,a="[",n=t.length-1;i<n;i++)a+=e(t[i],!0)+",";return n>-1&&(a+=e(t[i],!0)),a+"]"}if("[object Object]"!==l)return JSON.stringify(t);for(n=(o=em(t).sort()).length,a="",i=0;i<n;)void 0!==(u=e(t[s=o[i]],!1))&&(a&&(a+=","),a+=JSON.stringify(s)+":"+u),i++;return"{"+a+"}";case"function":case"undefined":return r?null:void 0;case"bigint":return`${t.toString()}n`;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}(e,!1);if(void 0!==t)return""+t}([e.method,e.params]):void 0}var ex=e.i(103476),eA=e.i(441960),ew=e.i(850631),ev=e.i(869208),eS=e.i(153252),ek=e.i(149499),eT=((t=eT||{})[t.AddMemo=0]="AddMemo",t),eE=e.i(291826),eP=e.i(686688),eI=e.i(696319);e.i(634583);var e_=((r=e_||{})[r.Little=0]="Little",r[r.Big=1]="Big",r),eN=((i=eN||{})[i.Uninitialized=0]="Uninitialized",i[i.Initialized=1]="Initialized",i[i.Frozen=2]="Frozen",i),eR=((n=eR||{})[n.MintTokens=0]="MintTokens",n[n.FreezeAccount=1]="FreezeAccount",n[n.AccountOwner=2]="AccountOwner",n[n.CloseAccount=3]="CloseAccount",n[n.TransferFeeConfig=4]="TransferFeeConfig",n[n.WithheldWithdraw=5]="WithheldWithdraw",n[n.CloseMint=6]="CloseMint",n[n.InterestRate=7]="InterestRate",n[n.PermanentDelegate=8]="PermanentDelegate",n[n.ConfidentialTransferMint=9]="ConfidentialTransferMint",n[n.TransferHookProgramId=10]="TransferHookProgramId",n[n.ConfidentialTransferFeeConfig=11]="ConfidentialTransferFeeConfig",n[n.MetadataPointer=12]="MetadataPointer",n[n.GroupPointer=13]="GroupPointer",n[n.GroupMemberPointer=14]="GroupMemberPointer",n[n.ScaledUiAmount=15]="ScaledUiAmount",n[n.Pause=16]="Pause",n);function eO(){return(0,ek.fixDecoderSize)((0,ev.getBytesDecoder)(),64)}var eB=((a=eB||{})[a.Uninitialized=0]="Uninitialized",a[a.TransferFeeConfig=1]="TransferFeeConfig",a[a.TransferFeeAmount=2]="TransferFeeAmount",a[a.MintCloseAuthority=3]="MintCloseAuthority",a[a.ConfidentialTransferMint=4]="ConfidentialTransferMint",a[a.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",a[a.DefaultAccountState=6]="DefaultAccountState",a[a.ImmutableOwner=7]="ImmutableOwner",a[a.MemoTransfer=8]="MemoTransfer",a[a.NonTransferable=9]="NonTransferable",a[a.InterestBearingConfig=10]="InterestBearingConfig",a[a.CpiGuard=11]="CpiGuard",a[a.PermanentDelegate=12]="PermanentDelegate",a[a.NonTransferableAccount=13]="NonTransferableAccount",a[a.TransferHook=14]="TransferHook",a[a.TransferHookAccount=15]="TransferHookAccount",a[a.ConfidentialTransferFee=16]="ConfidentialTransferFee",a[a.ConfidentialTransferFeeAmount=17]="ConfidentialTransferFeeAmount",a[a.ScaledUiAmountConfig=18]="ScaledUiAmountConfig",a[a.PausableConfig=19]="PausableConfig",a[a.PausableAccount=20]="PausableAccount",a[a.MetadataPointer=21]="MetadataPointer",a[a.TokenMetadata=22]="TokenMetadata",a[a.GroupPointer=23]="GroupPointer",a[a.TokenGroup=24]="TokenGroup",a[a.GroupMemberPointer=25]="GroupMemberPointer",a[a.TokenGroupMember=26]="TokenGroupMember",a);function eC(){return(0,ev.getStructDecoder)([["epoch",(0,eE.getU64Decoder)()],["maximumFee",(0,eE.getU64Decoder)()],["transferFeeBasisPoints",(0,eE.getU16Decoder)()]])}async function eD(e,t,r){let i=await eF(e,t,r);return(0,eI.assertAccountsExist)(i),i}async function eF(e,t,r){return(await (0,eI.fetchEncodedAccounts)(e,t,r)).map(e=>(0,eI.decodeAccount)(e,(0,ev.getStructDecoder)([["mintAuthority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:(0,eE.getU32Decoder)(),noneValue:"zeroes"})],["supply",(0,eE.getU64Decoder)()],["decimals",(0,eE.getU8Decoder)()],["isInitialized",(0,ev.getBooleanDecoder)()],["freezeAuthority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:(0,eE.getU32Decoder)(),noneValue:"zeroes"})],["extensions",(0,eP.getOptionDecoder)((0,ev.getHiddenPrefixDecoder)((0,ev.getArrayDecoder)((0,ev.getDiscriminatedUnionDecoder)([["Uninitialized",(0,ev.getUnitDecoder)()],["TransferFeeConfig",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["transferFeeConfigAuthority",(0,q.getAddressDecoder)()],["withdrawWithheldAuthority",(0,q.getAddressDecoder)()],["withheldAmount",(0,eE.getU64Decoder)()],["olderTransferFee",eC()],["newerTransferFee",eC()]]),(0,eE.getU16Decoder)())],["TransferFeeAmount",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["withheldAmount",(0,eE.getU64Decoder)()]]),(0,eE.getU16Decoder)())],["MintCloseAuthority",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["closeAuthority",(0,q.getAddressDecoder)()]]),(0,eE.getU16Decoder)())],["ConfidentialTransferMint",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",(0,ev.getBooleanDecoder)()],["auditorElgamalPubkey",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eE.getU16Decoder)())],["ConfidentialTransferAccount",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["approved",(0,ev.getBooleanDecoder)()],["elgamalPubkey",(0,q.getAddressDecoder)()],["pendingBalanceLow",eO()],["pendingBalanceHigh",eO()],["availableBalance",eO()],["decryptableAvailableBalance",(0,ek.fixDecoderSize)((0,ev.getBytesDecoder)(),36)],["allowConfidentialCredits",(0,ev.getBooleanDecoder)()],["allowNonConfidentialCredits",(0,ev.getBooleanDecoder)()],["pendingBalanceCreditCounter",(0,eE.getU64Decoder)()],["maximumPendingBalanceCreditCounter",(0,eE.getU64Decoder)()],["expectedPendingBalanceCreditCounter",(0,eE.getU64Decoder)()],["actualPendingBalanceCreditCounter",(0,eE.getU64Decoder)()]]),(0,eE.getU16Decoder)())],["DefaultAccountState",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["state",(0,ev.getEnumDecoder)(eN)]]),(0,eE.getU16Decoder)())],["ImmutableOwner",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([]),(0,eE.getU16Decoder)())],["MemoTransfer",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["requireIncomingTransferMemos",(0,ev.getBooleanDecoder)()]]),(0,eE.getU16Decoder)())],["NonTransferable",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([]),(0,eE.getU16Decoder)())],["InterestBearingConfig",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["rateAuthority",(0,q.getAddressDecoder)()],["initializationTimestamp",(0,eE.getU64Decoder)()],["preUpdateAverageRate",(0,eE.getI16Decoder)()],["lastUpdateTimestamp",(0,eE.getU64Decoder)()],["currentRate",(0,eE.getI16Decoder)()]]),(0,eE.getU16Decoder)())],["CpiGuard",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["lockCpi",(0,ev.getBooleanDecoder)()]]),(0,eE.getU16Decoder)())],["PermanentDelegate",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["delegate",(0,q.getAddressDecoder)()]]),(0,eE.getU16Decoder)())],["NonTransferableAccount",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([]),(0,eE.getU16Decoder)())],["TransferHook",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,q.getAddressDecoder)()],["programId",(0,q.getAddressDecoder)()]]),(0,eE.getU16Decoder)())],["TransferHookAccount",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["transferring",(0,ev.getBooleanDecoder)()]]),(0,eE.getU16Decoder)())],["ConfidentialTransferFee",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["elgamalPubkey",(0,q.getAddressDecoder)()],["harvestToMintEnabled",(0,ev.getBooleanDecoder)()],["withheldAmount",eO()]]),(0,eE.getU16Decoder)())],["ConfidentialTransferFeeAmount",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["withheldAmount",eO()]]),(0,eE.getU16Decoder)())],["MetadataPointer",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eE.getU16Decoder)())],["TokenMetadata",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["updateAuthority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["mint",(0,q.getAddressDecoder)()],["name",(0,ek.addDecoderSizePrefix)((0,eS.getUtf8Decoder)(),(0,eE.getU32Decoder)())],["symbol",(0,ek.addDecoderSizePrefix)((0,eS.getUtf8Decoder)(),(0,eE.getU32Decoder)())],["uri",(0,ek.addDecoderSizePrefix)((0,eS.getUtf8Decoder)(),(0,eE.getU32Decoder)())],["additionalMetadata",(0,ev.getMapDecoder)((0,ek.addDecoderSizePrefix)((0,eS.getUtf8Decoder)(),(0,eE.getU32Decoder)()),(0,ek.addDecoderSizePrefix)((0,eS.getUtf8Decoder)(),(0,eE.getU32Decoder)()))]]),(0,eE.getU16Decoder)())],["GroupPointer",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["groupAddress",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eE.getU16Decoder)())],["TokenGroup",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["updateAuthority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["mint",(0,q.getAddressDecoder)()],["size",(0,eE.getU64Decoder)()],["maxSize",(0,eE.getU64Decoder)()]]),(0,eE.getU16Decoder)())],["GroupMemberPointer",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["memberAddress",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})]]),(0,eE.getU16Decoder)())],["TokenGroupMember",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["mint",(0,q.getAddressDecoder)()],["group",(0,q.getAddressDecoder)()],["memberNumber",(0,eE.getU64Decoder)()]]),(0,eE.getU16Decoder)())],["ConfidentialMintBurn",(0,ev.getUnitDecoder)()],["ScaledUiAmountConfig",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,q.getAddressDecoder)()],["multiplier",(0,eE.getF64Decoder)()],["newMultiplierEffectiveTimestamp",(0,eE.getU64Decoder)()],["newMultiplier",(0,eE.getF64Decoder)()]]),(0,eE.getU16Decoder)())],["PausableConfig",(0,ek.addDecoderSizePrefix)((0,ev.getStructDecoder)([["authority",(0,eP.getOptionDecoder)((0,q.getAddressDecoder)(),{prefix:null,noneValue:"zeroes"})],["paused",(0,ev.getBooleanDecoder)()]]),(0,eE.getU16Decoder)())],["PausableAccount",(0,ev.getUnitDecoder)()]],{size:(0,eE.getU16Decoder)()}),{size:"remainder"}),[(0,ev.getConstantDecoder)((0,ek.padLeftEncoder)((0,eE.getU8Encoder)(),83).encode(1))]),{prefix:null})]])))}var eU=((o=eU||{})[o.CreateAssociatedToken=0]="CreateAssociatedToken",o[o.CreateAssociatedTokenIdempotent=1]="CreateAssociatedTokenIdempotent",o[o.RecoverNestedAssociatedToken=2]="RecoverNestedAssociatedToken",o),eM=((s=eM||{})[s.Mint=0]="Mint",s[s.Token=1]="Token",s[s.Multisig=2]="Multisig",s),eL=((u=eL||{})[u.InitializeMint=0]="InitializeMint",u[u.InitializeAccount=1]="InitializeAccount",u[u.InitializeMultisig=2]="InitializeMultisig",u[u.Transfer=3]="Transfer",u[u.Approve=4]="Approve",u[u.Revoke=5]="Revoke",u[u.SetAuthority=6]="SetAuthority",u[u.MintTo=7]="MintTo",u[u.Burn=8]="Burn",u[u.CloseAccount=9]="CloseAccount",u[u.FreezeAccount=10]="FreezeAccount",u[u.ThawAccount=11]="ThawAccount",u[u.TransferChecked=12]="TransferChecked",u[u.ApproveChecked=13]="ApproveChecked",u[u.MintToChecked=14]="MintToChecked",u[u.BurnChecked=15]="BurnChecked",u[u.InitializeAccount2=16]="InitializeAccount2",u[u.SyncNative=17]="SyncNative",u[u.InitializeAccount3=18]="InitializeAccount3",u[u.InitializeMultisig2=19]="InitializeMultisig2",u[u.InitializeMint2=20]="InitializeMint2",u[u.GetAccountDataSize=21]="GetAccountDataSize",u[u.InitializeImmutableOwner=22]="InitializeImmutableOwner",u[u.AmountToUiAmount=23]="AmountToUiAmount",u[u.UiAmountToAmount=24]="UiAmountToAmount",u[u.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",u[u.InitializeTransferFeeConfig=26]="InitializeTransferFeeConfig",u[u.TransferCheckedWithFee=27]="TransferCheckedWithFee",u[u.WithdrawWithheldTokensFromMint=28]="WithdrawWithheldTokensFromMint",u[u.WithdrawWithheldTokensFromAccounts=29]="WithdrawWithheldTokensFromAccounts",u[u.HarvestWithheldTokensToMint=30]="HarvestWithheldTokensToMint",u[u.SetTransferFee=31]="SetTransferFee",u[u.InitializeConfidentialTransferMint=32]="InitializeConfidentialTransferMint",u[u.UpdateConfidentialTransferMint=33]="UpdateConfidentialTransferMint",u[u.ConfigureConfidentialTransferAccount=34]="ConfigureConfidentialTransferAccount",u[u.ApproveConfidentialTransferAccount=35]="ApproveConfidentialTransferAccount",u[u.EmptyConfidentialTransferAccount=36]="EmptyConfidentialTransferAccount",u[u.ConfidentialDeposit=37]="ConfidentialDeposit",u[u.ConfidentialWithdraw=38]="ConfidentialWithdraw",u[u.ConfidentialTransfer=39]="ConfidentialTransfer",u[u.ApplyConfidentialPendingBalance=40]="ApplyConfidentialPendingBalance",u[u.EnableConfidentialCredits=41]="EnableConfidentialCredits",u[u.DisableConfidentialCredits=42]="DisableConfidentialCredits",u[u.EnableNonConfidentialCredits=43]="EnableNonConfidentialCredits",u[u.DisableNonConfidentialCredits=44]="DisableNonConfidentialCredits",u[u.ConfidentialTransferWithFee=45]="ConfidentialTransferWithFee",u[u.InitializeDefaultAccountState=46]="InitializeDefaultAccountState",u[u.UpdateDefaultAccountState=47]="UpdateDefaultAccountState",u[u.Reallocate=48]="Reallocate",u[u.EnableMemoTransfers=49]="EnableMemoTransfers",u[u.DisableMemoTransfers=50]="DisableMemoTransfers",u[u.CreateNativeMint=51]="CreateNativeMint",u[u.InitializeNonTransferableMint=52]="InitializeNonTransferableMint",u[u.InitializeInterestBearingMint=53]="InitializeInterestBearingMint",u[u.UpdateRateInterestBearingMint=54]="UpdateRateInterestBearingMint",u[u.EnableCpiGuard=55]="EnableCpiGuard",u[u.DisableCpiGuard=56]="DisableCpiGuard",u[u.InitializePermanentDelegate=57]="InitializePermanentDelegate",u[u.InitializeTransferHook=58]="InitializeTransferHook",u[u.UpdateTransferHook=59]="UpdateTransferHook",u[u.InitializeConfidentialTransferFee=60]="InitializeConfidentialTransferFee",u[u.WithdrawWithheldTokensFromMintForConfidentialTransferFee=61]="WithdrawWithheldTokensFromMintForConfidentialTransferFee",u[u.WithdrawWithheldTokensFromAccountsForConfidentialTransferFee=62]="WithdrawWithheldTokensFromAccountsForConfidentialTransferFee",u[u.HarvestWithheldTokensToMintForConfidentialTransferFee=63]="HarvestWithheldTokensToMintForConfidentialTransferFee",u[u.EnableHarvestToMint=64]="EnableHarvestToMint",u[u.DisableHarvestToMint=65]="DisableHarvestToMint",u[u.WithdrawExcessLamports=66]="WithdrawExcessLamports",u[u.InitializeMetadataPointer=67]="InitializeMetadataPointer",u[u.UpdateMetadataPointer=68]="UpdateMetadataPointer",u[u.InitializeGroupPointer=69]="InitializeGroupPointer",u[u.UpdateGroupPointer=70]="UpdateGroupPointer",u[u.InitializeGroupMemberPointer=71]="InitializeGroupMemberPointer",u[u.UpdateGroupMemberPointer=72]="UpdateGroupMemberPointer",u[u.InitializeScaledUiAmountMint=73]="InitializeScaledUiAmountMint",u[u.UpdateMultiplierScaledUiMint=74]="UpdateMultiplierScaledUiMint",u[u.InitializePausableConfig=75]="InitializePausableConfig",u[u.Pause=76]="Pause",u[u.Resume=77]="Resume",u[u.InitializeTokenMetadata=78]="InitializeTokenMetadata",u[u.UpdateTokenMetadataField=79]="UpdateTokenMetadataField",u[u.RemoveTokenMetadataKey=80]="RemoveTokenMetadataKey",u[u.UpdateTokenMetadataUpdateAuthority=81]="UpdateTokenMetadataUpdateAuthority",u[u.EmitTokenMetadata=82]="EmitTokenMetadata",u[u.InitializeTokenGroup=83]="InitializeTokenGroup",u[u.UpdateTokenGroupMaxSize=84]="UpdateTokenGroupMaxSize",u[u.UpdateTokenGroupUpdateAuthority=85]="UpdateTokenGroupUpdateAuthority",u[u.InitializeTokenGroupMember=86]="InitializeTokenGroupMember",u);new Uint8Array([250,166,180,250,13,12,184,70]),new Uint8Array([121,113,108,39,54,51,0,4]),new Uint8Array([152,32,222,176,223,237,116,134]),new Uint8Array([210,225,30,162,88,184,77,141]),new Uint8Array([234,18,32,56,89,141,37,181]),new Uint8Array([108,37,171,143,248,30,18,110]),new Uint8Array([161,105,88,1,237,221,216,203]),new Uint8Array([221,233,49,45,181,202,220,200]),new Uint8Array([215,228,166,228,84,100,86,123]);let eq="whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc";async function eK({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,usdPerSol:f,tokenDecimals:p,liquidityToken:m}){let g=[],b=n.tokenProgram===L.TokenProgram.TOKEN?A.TOKEN_PROGRAM_ADDRESS:A.TOKEN_PROGRAM_2022_ADDRESS,y=await (0,T.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:b,instructions:g,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,x.newSafeBN)(0),usdc:n.isUsdc});"buy"===e&&(t=t.sub((0,T.calculateAxiomFee)(t)));let{swapInstruction:w,expectedAmountOut:v}=await ez({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,tokenDecimals:p,liquidityToken:m,userUsdcAccountAddress:y.userUsdcAccountAddress,usdPerSol:f,rewardsData:d});return g.push(w),n.isUsdc&&(0,T.isVanishSigner)(o)&&(0,T.addTokenAccountCloseInstruction)(o.publicKey,y.userUsdcAccountAddress,g),n.isUsd1&&(0,T.isVanishSigner)(o)&&(0,T.addTokenAccountCloseInstruction)(o.publicKey,y.userUsd1AccountAddress,g),await (0,T.handleMassSwapTxCreation)({instructions:g,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:n.isUsdc,isVanish:(0,T.isVanishSigner)(o)}),lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:v,tokenDecimals:p,sourceTokenAddress:"buy"===e?h.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,amount:t,expectedAmountOut:v,tokenDecimals:p})}})}async function eW(e,t,r,i,n){try{let a,o=(0,q.address)(i);a="buy"===e?n?(0,q.address)(A.USDC_TOKEN_ADDRESS):(0,q.address)(A.WSOL_TOKEN_ADDRESS):(0,q.address)(r);let s=BigInt(t),{instructions:u,quote:l,aToB:c}=await eG({inputAmount:s,mint:a,poolAddress:o,slippageToleranceBps:1e4}),d=[],f="";for(let e of u)if(e.programAddress===eq){d=e.accounts?.map(e=>({pubkey:e.address.toString(),isWritable:e.role===eA.AccountRole.WRITABLE||e.role===eA.AccountRole.WRITABLE_SIGNER,isSigner:e.role===eA.AccountRole.READONLY_SIGNER||e.role===eA.AccountRole.WRITABLE_SIGNER}))??[],f=B.Buffer.from(e.data??[]).toString("base64");break}let p=l.tokenEstOut.toString();return{accounts:d,expectedAmountOut:p,dataB64:f,aToB:c}}catch(e){throw console.error(e),Error("Error calculating swap")}}function eV(e,t){if(null==e||"exists"in e&&!e.exists||"None"===e.data.extensions.__option)return;let r=e.data.extensions.value.find(e=>"TransferFeeConfig"===e.__kind);if(null==r)return;let i=t>=r.newerTransferFee.epoch?r.newerTransferFee:r.olderTransferFee;return{feeBps:i.transferFeeBasisPoints,maxFee:i.maximumFee}}async function eG(t){var r,i,n,a,o,s,u,d,f,p,h,m;let[{_TICK_ARRAY_SIZE:g,getTickArrayStartTickIndex:b,swapQuoteByInputToken:y,swapQuoteByOutputToken:x},{fetchWhirlpool:A,getOracleAddress:w,getSwapV2Instruction:v,getTickArrayAddress:S,fetchOracle:k,AccountsType:T,fetchAllMaybeTickArray:E}]=await Promise.all([e.A(668889),e.A(924874)]),{poolAddress:P,slippageToleranceBps:I}=t,_=function(e){let t;var r,i,n={api:(i={requestTransformer:(t=eg?.onIntegerOverflow,e=>(0,z.pipe)(e,t?e=>{var r;return er([(r=(...r)=>t(e,...r),(e,{keyPath:t})=>("bigint"==typeof e&&r&&(e>Number.MAX_SAFE_INTEGER||e<-Number.MAX_SAFE_INTEGER)&&r(t,e),e))],{keyPath:[]})(e)}:e=>e,er([$],{keyPath:[]}),function({defaultCommitment:e,optionsObjectPositionByMethod:t}){return r=>{let{params:i,methodName:n}=r;if(!Array.isArray(i))return r;let a=t[n];return null==a?r:Object.freeze({methodName:n,params:function({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:r,overrideCommitment:i}){let n=t[r];if(void 0===n||n&&"object"==typeof n&&!Array.isArray(n)){if(n&&e in n){if(!n[e]||"finalized"===n[e]){let i=[...t],{[e]:a,...o}=n;return Object.keys(o).length>0?i[r]=o:r===i.length-1?i.length--:i[r]=void 0,i}}else if("finalized"!==i){let a=[...t];return a[r]={...n,[e]:i},a}}return t}({commitmentPropertyName:"sendTransaction"===n?"preflightCommitment":"commitment",optionsObjectPositionInParams:a,overrideCommitment:e,params:i})})}}({defaultCommitment:eg?.defaultCommitment,optionsObjectPositionByMethod:ei}))),responseTransformer:(r={allowedNumericKeyPaths:(l||(l={getAccountInfo:ea.map(e=>["value",...e]),getBlock:[["transactions",ee,"meta","preTokenBalances",ee,"accountIndex"],["transactions",ee,"meta","preTokenBalances",ee,"uiTokenAmount","decimals"],["transactions",ee,"meta","postTokenBalances",ee,"accountIndex"],["transactions",ee,"meta","postTokenBalances",ee,"uiTokenAmount","decimals"],["transactions",ee,"meta","rewards",ee,"commission"],...eo.map(e=>["transactions",ee,"meta","innerInstructions",ee,...e]),...es.map(e=>["transactions",ee,"transaction","message",...e]),["rewards",ee,"commission"]],getClusterNodes:[[ee,"featureSet"],[ee,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[ee,"commission"]],getMultipleAccounts:ea.map(e=>["value",ee,...e]),getProgramAccounts:ea.flatMap(e=>[["value",ee,"account",...e],[ee,"account",...e]]),getRecentPerformanceSamples:[[ee,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:en.map(e=>["value",ee,"account",...e]),getTokenAccountsByOwner:en.map(e=>["value",ee,"account",...e]),getTokenLargestAccounts:[["value",ee,"decimals"],["value",ee,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",ee,"accountIndex"],["meta","preTokenBalances",ee,"uiTokenAmount","decimals"],["meta","postTokenBalances",ee,"accountIndex"],["meta","postTokenBalances",ee,"uiTokenAmount","decimals"],["meta","rewards",ee,"commission"],...eo.map(e=>["meta","innerInstructions",ee,...e]),...es.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",ee,"commission"],["delinquent",ee,"commission"]],simulateTransaction:[...ea.map(e=>["value","accounts",ee,...e]),...eo.map(e=>["value","innerInstructions",ee,...e])]}),l)},(e,t)=>{let i=t.methodName,n=r?.allowedNumericKeyPaths&&i?r.allowedNumericKeyPaths[i]:void 0;return(0,z.pipe)(e,e=>(e=>{if("error"in e)throw function e(t){var r;let i;if("object"==typeof(r=t)&&null!==r&&"code"in r&&"message"in r&&("number"==typeof r.code||"bigint"==typeof r.code)&&"string"==typeof r.message){let{code:e,data:r,message:n}=t,a=Number(e);if(-32002===a){let{err:e,...t}=r,n=e?{cause:function e(t){return"object"==typeof t&&"InstructionError"in t?function e(t,r){let i=Number(t);return J({errorCodeBaseOffset:4615001,getErrorContext:(e,t,r)=>4615e3===e?{errorName:t,index:i,...void 0!==r?{instructionErrorContext:r}:null}:4615026===e?{code:Number(r),index:i}:4615045===e?{encodedData:r,index:i}:{index:i},orderedErrorNames:Y,rpcEnumError:r},e)}(...t.InstructionError):J({errorCodeBaseOffset:7050001,getErrorContext:(e,t,r)=>705e4===e?{errorName:t,...void 0!==r?{transactionErrorContext:r}:null}:7050030===e?{index:Number(r)}:7050031===e||7050035===e?{accountIndex:Number(r.account_index)}:void 0,orderedErrorNames:Z,rpcEnumError:t},e)}(e)}:null;i=new X(-32002,{...t,...n})}else{let e;switch(a){case -32603:case -32602:case -32600:case -32601:case -32700:case -32012:case -32001:case -32004:case -32014:case -32010:case -32009:case -32007:case -32006:case -32015:e={__serverMessage:n};break;default:"object"!=typeof r||Array.isArray(r)||(e=r)}i=new X(a,e)}}else{let e="object"==typeof t&&null!==t&&"message"in t&&"string"==typeof t.message?t.message:"Malformed JSON-RPC error with no message attribute";i=new X(10,{error:t,message:e})}return Q(i,e),i}(e.error);return e})(e,t),e=>e.result,e=>{var r,i,a;return(i=[(r=n??[],function(e,{keyPath:t}){var i;return"number"==typeof e&&Number.isInteger(e)||"bigint"==typeof e?(i=t,r.some(e=>{if(e.length!==i.length)return!1;for(let t=i.length-1;t>=0;t--){let r=i[t],n=e[t];if(n!==r&&(n!==ee||"number"!=typeof r))return!1}return!0}))?Number(e):BigInt(e):e})],a={keyPath:[]},e=>et(i)(e,a))(e,t)})})},new Proxy({},{defineProperty:()=>!1,deleteProperty:()=>!1,get(...e){let[t,r]=e,n=r.toString();return function(...e){let t=Object.freeze({methodName:n,params:e}),r=i?.requestTransformer?i?.requestTransformer(t):t;return Object.freeze({execute:async({signal:e,transport:t})=>{let n,a={id:(n=G,G++,n.toString()),jsonrpc:"2.0",method:r.methodName,params:r.params},o=await t({payload:a,signal:e});return i?.responseTransformer?i.responseTransformer(o,r):o}})}}})),transport:e};return new Proxy(n.api,{defineProperty:()=>!1,deleteProperty:()=>!1,get(e,t,r){if("then"!==t)return function(...i){let a=t.toString(),o=Reflect.get(e,a,r);if(!o)throw new V(8100003,{method:a,params:i});return function({transport:e},t){return{send:async r=>await t.execute({signal:r?.abortSignal,transport:e})}}(n,o(...i))}}})}((r={url:"/api/orca-fetch",...void 0},(0,z.pipe)(function(e){let t,{fromJson:r,headers:i,toJson:n,url:a}=e,o=i&&function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(i);return async function({payload:e,signal:i}){let s=n?n(e):JSON.stringify(e),u={...t,body:s,headers:{...o,accept:"application/json","content-length":s.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:i},l=await fetch(a,u);if(!l.ok)throw new ed(8100002,{headers:l.headers,message:l.statusText,statusCode:l.status});return r?r(await l.text(),e):await l.json()}}({...{...r,headers:{...!1,...r.headers?function(e){let t={};for(let r in e)t[r.toLowerCase()]=e[r];return t}(r.headers):void 0,"solana-client":"js/2.3.0"}},fromJson:(e,t)=>ep(t)?JSON.parse(function(e){let t=[],r=!1;for(let n=0;n<e.length;n++){let a=!1;if("\\"===e[n]&&(t.push(e[n++]),a=!a),'"'===e[n]){t.push(e[n]),a||(r=!r);continue}if(!r){let r=function(e,t){if(!e[t]?.match(/[-\d]/))return null;let r=e.slice(t).match(/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/);return r?r[0]:null}(e,n);if(r?.length){var i;n+=r.length-1,r.match(/\.|[eE]-/)?t.push(r):t.push((i=r,`{"$n":"${i}"}`));continue}}t.push(e[n])}return t.join("")}(e),(e,t)=>{var r;return(r=t)&&"object"==typeof r&&"$n"in r&&"string"==typeof r.$n?function({$n:e}){if(e.match(/[eE]/)){let[t,r]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(r)}return BigInt(e)}(t):t}):JSON.parse(e),toJson:e=>ep(e)?JSON.stringify(e,(e,t)=>{var r;return"bigint"==typeof t?(r=t,{$n:`${r}`}):t},void 0).replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1"):JSON.stringify(e)}),e=>{let t;return async function(r){let{payload:i,signal:n}=r,a=ey(i);if(void 0===a)return await e(r);if(t||(queueMicrotask(()=>{t=void 0}),t={}),null==t[a]){let i=new eb,n=(async()=>{try{return await e({...r,signal:i.signal})}catch(e){if(e===(c||={}))return;throw e}})();t[a]={abortController:i,numConsumers:0,responsePromise:n}}let o=t[a];if(o.numConsumers++,!n)return await o.responsePromise;{let e=o.responsePromise;return await new Promise((t,r)=>{let i=e=>{n.removeEventListener("abort",i),o.numConsumers-=1,queueMicrotask(()=>{0===o.numConsumers&&o.abortController.abort(c||={})}),r(e.target.reason)};n.addEventListener("abort",i),e.then(t).catch(r).finally(()=>{n.removeEventListener("abort",i)})})}}}))),N=await A(_,P),R=async()=>{let e=await w(N.address).then(e=>e[0]);return{oracle:await eX(_,e,N.data,k),oracleAddress:e}},[[O,C],D,F,U,M]=await Promise.all([eD(_,[N.data.tokenMintA,N.data.tokenMintB]),(0,K.createKeyPairSignerFromBytes)(B.Buffer.from(ex.default.decode("YZet6abx8NWJ5gADzX6orPNdBCGRNekiLkJLohybapfmgDDZSv5wHazv5snBLArEcpJutaoYgtKKVti3pEtzCFh"))),eH(_,N,g,b,S,E),R(),_.getEpochInfo().send()]),{oracle:L,oracleAddress:W}=U,j=t.mint===N.data.tokenMintA,H="inputAmount"in t,eu=eV(O,M.epoch),el=eV(C,M.epoch),ec=BigInt(Math.floor(Date.now()/1e3)),ef=(i=t,n=N.data,a=eu,o=el,s=F.map(e=>e.data),u=L,d=j,f=I,p=ec,h=y,m=x,"inputAmount"in i?h(i.inputAmount,d,f,n,u,s,p,a,o):m(i.outputAmount,d,f,n,u,s,p,a,o)),eh=j===H,em=[],ew=t.inputAmount,ev=ef.tokenMinOut,eS=v({tokenProgramA:O.programAddress,tokenProgramB:C.programAddress,memoProgram:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",tokenAuthority:D,whirlpool:N.address,tokenMintA:N.data.tokenMintA,tokenMintB:N.data.tokenMintB,tokenOwnerAccountA:(0,q.address)("11111111111111111111111111111111"),tokenOwnerAccountB:(0,q.address)("11111111111111111111111111111111"),tokenVaultA:N.data.tokenVaultA,tokenVaultB:N.data.tokenVaultB,tickArray0:F[0].address,tickArray1:F[1].address,tickArray2:F[2].address,amount:ew,otherAmountThreshold:ev,sqrtPriceLimit:0,amountSpecifiedIsInput:H,aToB:eh,oracle:W,remainingAccountsInfo:{slices:[{accountsType:T.SupplementalTickArrays,length:2}]}});return eS.accounts.push({address:F[3].address,role:eA.AccountRole.WRITABLE},{address:F[4].address,role:eA.AccountRole.WRITABLE}),em.push(eS),{instructions:em,quote:ef,aToB:eh}}let ej=async(e,t,r,i,n,a,o,s,u)=>{let l,c,d=await eW(e,t.toString(),i,n,u),p=d.accounts.map(e=>({pubkey:new f.PublicKey(e.pubkey),isSigner:e.isSigner,isWritable:e.isWritable}));if("buy"===e)c=t,l=(l=(0,x.newSafeBN)(d.expectedAmountOut)).mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+100*r));else if("sell"===e)l=t,c=(0,x.newSafeBN)(d.expectedAmountOut).mul((0,x.newSafeBN)(1e4-100*r)).div((0,x.newSafeBN)(1e4));else throw Error("Invalid type");p[5].pubkey.toString()!==A.WSOL_TOKEN_ADDRESS||u?p[6].pubkey.toString()!==A.WSOL_TOKEN_ADDRESS||u?p[5].pubkey.toString()===A.USDC_TOKEN_ADDRESS&&u?(p[7].pubkey=new f.PublicKey(s),p[9].pubkey=new f.PublicKey(o)):p[6].pubkey.toString()===A.USDC_TOKEN_ADDRESS&&u&&(p[9].pubkey=new f.PublicKey(s),p[7].pubkey=new f.PublicKey(o)):(p[9].pubkey=new f.PublicKey(s),p[7].pubkey=new f.PublicKey(o)):(p[7].pubkey=new f.PublicKey(s),p[9].pubkey=new f.PublicKey(o)),p[3].pubkey=new f.PublicKey(a);let h=B.Buffer.from(d.dataB64,"base64"),m=B.Buffer.concat([B.Buffer.alloc(2),h.subarray(42)]);return m.writeUInt16LE(m.length-2,0),{extraData:m,minAmountOut:"buy"===e?l:c,expectedAmountOut:(0,x.newSafeBN)(d.expectedAmountOut),accounts:p,aToB:d.aToB}};async function ez({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,usdPerSol:l,userUsdcAccountAddress:c,tokenDecimals:d,liquidityToken:f,rewardsData:p}){if(o.isUsdc){let h;if("buy"===e&&o.isUsdc){let e=(0,x.fromSafeBN)(t);h=(0,x.newSafeBN)(e*l/1e3)}else h=t;let m=await ej(e,h,r,u,s,i,a,c,o.isUsdc);return(0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:c,userTokenAccountAddress:a,usdPerSol:l,amountIn:t,tokenDecimals:d,priceInUsdc:f,slippage:r,steps:[{programAddress:eq,accounts:m.accounts,extraData:m.extraData}],rewardsData:p})}{let{minAmountOut:l,expectedAmountOut:c,accounts:d,extraData:f}=await ej(e,t,r,u,s,i,a,n,o.isUsdc);return{swapInstruction:(0,P.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:eq,accounts:d,extraData:f}],rewardsData:p}),expectedAmountOut:c}}}async function eH(e,t,r,i,n,a){let o=i(t.data.tickCurrentIndex,t.data.tickSpacing),s=t.data.tickSpacing*r(),u=[o,o+s,o+2*s,o-s,o-2*s],l=await Promise.all(u.map(e=>n(t.address,e).then(e=>e[0]))),c=await a(e,l),d=[];for(let e=0;e<c.length;e++){let i=c[e];if(i.exists)d.push(i);else{var f,p,h;d.push((f=l[e],p=u[e],h=t.programAddress,{address:f,data:{startTickIndex:p,ticks:Array(r()).fill({initialized:!1,liquidityNet:BigInt(0),liquidityGross:BigInt(0),feeGrowthOutsideA:BigInt(0),feeGrowthOutsideB:BigInt(0),rewardGrowthsOutside:[BigInt(0),BigInt(0),BigInt(0)]})},space:BigInt(0),executable:!1,lamports:(0,ew.lamports)(BigInt(0)),programAddress:h}))}}return d}async function eX(e,t,r,i){let n=r.feeTierIndexSeed[0]+256*r.feeTierIndexSeed[1];if(r.tickSpacing!==n)return(await i(e,t)).data}let eQ="Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1",eJ=async(e,t)=>{let r=t.creator;r||(r=(await p.axiomApi.post("/pump-creator",{bondingCurve:e})).creator);let[i]=f.PublicKey.findProgramAddressSync([B.Buffer.from("creator-vault","utf8"),new f.PublicKey(r).toBuffer()],new f.PublicKey(A.PUMP_PROGRAM_ADDRESS));return i},eY=async e=>{let t,r,i=e.protocolDetails.tokenProgram===L.TokenProgram.TOKEN_2022?A.TOKEN_PROGRAM_2022_ADDRESS:A.TOKEN_PROGRAM_ADDRESS,n=[{pubkey:new f.PublicKey("4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf"),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.protocolDetails.isMayhem?(t=["GesfTA3X2arioaHp8bbKdjG9vJtskViWACZoYvxp4twS","4budycTjhs9fD6xw62VBducVTNgMgJJ5BgtKq7mAZwn6","8SBKzEQU4nLSzcwF4a74F2iaUDQyTfjGndn6qUWBnrpR","4UQeTP1T39KZ9Sfxzo3WR5skgsaP6NZa87BAkuazLEKH","8sNeir4QsLsJdYpc9RZacohhK1Y5FLU3nC5LXgYB4aa6","Fh9HmeLNUMVCvejxCtCL2DbYaRyBFVJ5xrWkLnMH6fdk","463MEnMeGyJekNZFQSTUABBEbLnvMTALbT6ZmsxAbAdq","6AUH3WEHucYZyC61hqpqYUWVto5qA5hjHuNQ32GNnNxA"])[Math.floor(Math.random()*t.length)]:(r=["CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM","62qc2CNXwrYqQScmEdiZFFAnJR262PxWEuNQtxfafNgV","7VtfL8fvgNfhz17qKRMjzQEXgbdpnHHHQRh54R9jP2RJ","7hTckgnGnLQR6sdH7YkqFTAA7VwTfYFaZ6EhEsU3saCX","9rPYyANsfQZw3DnDmKE3YCQF5E8oD89UXoHn9JFEhJUz","AVmoTthdrX6tKt4nDjco2D775W2YK3sDhxPcMmzUAmTY","FWsW1xNtWscwNmKv6wVsU1iTzRN6wmmk3MjxRP5tT7hz","G5UZAVbAf46s7cKWoyKu8kYTip9DGTpbLZ2qa9Aq69dP"])[Math.floor(Math.random()*r.length)]),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.tokenAddress),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.bondingCurve),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.protocolDetails.associatedBondingCurve),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new f.PublicKey(A.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];if("buy"===e.type)n.push({pubkey:new f.PublicKey(i),isSigner:!1,isWritable:!1}),n.push({pubkey:new f.PublicKey(await eJ(e.bondingCurve,e.protocolDetails)),isSigner:!1,isWritable:!0});else if("sell"===e.type)n.push({pubkey:new f.PublicKey(await eJ(e.bondingCurve,e.protocolDetails)),isSigner:!1,isWritable:!0}),n.push({pubkey:new f.PublicKey(i),isSigner:!1,isWritable:!1});else throw Error("Invalid type");n.push({pubkey:new f.PublicKey(eQ),isSigner:!1,isWritable:!1}),n.push({pubkey:new f.PublicKey(A.PUMP_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),"buy"===e.type&&(n.push({pubkey:new f.PublicKey(function(e=new f.PublicKey(e$)){return f.PublicKey.findProgramAddressSync([B.Buffer.from("global_volume_accumulator")],e)}()[0]),isSigner:!1,isWritable:!1}),n.push({pubkey:new f.PublicKey(e0(new f.PublicKey(e.userAccountAddress))[0]),isSigner:!1,isWritable:!0})),n.push({pubkey:new f.PublicKey("8Wf5TiAheLUqBrKXeYg2JtAFFMWtKdG2BSFgqUcPVwTt"),isSigner:!1,isWritable:!1}),n.push({pubkey:new f.PublicKey("pfeeUxB6jkeY1Hxd7CsFCAjcbHA9rWtchMGdZ6VojVZ"),isSigner:!1,isWritable:!1});let{amountIn:a,minimumAmountOut:o,expectedAmountOut:s}=((e,t,r,i,n,a)=>{let o,s,u,l=null;if("buy"===e){s=t;let e=t.mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+A.PUMP_FEE_BASIS_POINTS));o=(u=i.sub(r.mul(i).div(r.add(e)).add((0,x.newSafeBN)(1)))).mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+100*n));let a=(0,x.newSafeBN)(A.PUMP_V1_AVAILABLE_RESERVES_TOKEN_RAW).sub((0,x.newSafeBN)(A.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(i));return a.gt(new C.default(0))&&(o=C.default.min(o,a),u=C.default.min(u,a)),{amountIn:t,minimumAmountOut:o,expectedAmountOut:u}}if("sell"===e){if(l=t,a.isMayhem){let e=(0,x.newSafeBN)(A.PUMP_V1_INITIAL_VIRTUAL_LIQUIDITY_TOKEN_RAW).sub(i);if(e.lte(new C.default(0)))throw Error("Insufficient liquidity: pool is out of SOL due to Mayhem mode");l=C.default.min(t,e)}if(o=l,u=s=l.mul(r).div(i.add(l)).mul((0,x.newSafeBN)(1e4-A.PUMP_FEE_BASIS_POINTS)).div((0,x.newSafeBN)(1e4)).add((0,x.newSafeBN)(1)),s=s.mul((0,x.newSafeBN)(1e4-100*n)).div((0,x.newSafeBN)(1e4)),a.isMayhem&&l.lt(t)&&u.eq(new C.default(0)))throw Error("Insufficient liquidity: pool is out of SOL due to Mayhem mode");return{amountIn:l,minimumAmountOut:s,expectedAmountOut:u}}throw Error("Invalid type")})(e.type,e.amount,e.virtualLiquiditySol,e.virtualLiquidityToken,e.slippage,e.protocolDetails),u="buy"===e.type?"F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq":A.PUMP_PROGRAM_ADDRESS;return{pumpInstruction:(0,P.buildAxiomRouterInstruction)({type:e.type,amountIn:a,minAmountOut:o,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userAccountAddress:e.userTokenAccountAddress,solWrapperToken:null,steps:[{programAddress:u,accounts:n}],rewardsData:e.rewardsData}),amountIn:a,expectedAmountOut:s}},eZ=async({type:e,amount:t,virtualLiquiditySol:r,virtualLiquidityToken:i,tokenAddress:n,userTokenAccountAddress:a,protocolDetails:o,blockhash:s,wallet:u,bondingCurve:l,swapSettings:c,nonceInstruction:d,providers:p,rewardsData:m,tokenDecimals:g})=>{let b=[],y=await (0,T.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:n,tokenProgramAddress:o.tokenProgram===L.TokenProgram.TOKEN_2022?A.TOKEN_PROGRAM_2022_ADDRESS:A.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:a});"buy"===e&&(t=t.sub((0,T.calculateAxiomFee)(t)));let{pumpInstruction:w,amountIn:v,expectedAmountOut:S}=await eY({type:e,amount:t,slippage:c.slippage,virtualLiquiditySol:r,virtualLiquidityToken:i,tokenAddress:n,userAccountAddress:u.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,protocolDetails:o,bondingCurve:l,rewardsData:m});return b.push(w),"buy"===e&&(0,T.isVanishSigner)(u)&&b.push(new f.TransactionInstruction({keys:[{pubkey:new f.PublicKey(u.publicKey),isSigner:!0,isWritable:!0},{pubkey:new f.PublicKey(e0(new f.PublicKey(u.publicKey))[0]),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(eQ),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(A.PUMP_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],programId:new f.PublicKey(A.PUMP_PROGRAM_ADDRESS),data:B.Buffer.from([249,69,164,218,150,103,84,138])})),await (0,T.handleMassSwapTxCreation)({instructions:b,wallet:u,swapSettings:c,blockhash:s,nonceInstruction:d,providers:p,rewardsPercentage:m.userRewardsPercentage,lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,T.isVanishSigner)(u)}),swapInfo:{amount:"buy"===e?v.add((0,x.newSafeBN)(1)):v,expectedAmountOut:S,tokenDecimals:g,sourceTokenAddress:"buy"===e?h.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:e,isWsol:!1,isUsdc:!1,isUsd1:!1,amount:t,expectedAmountOut:S,tokenDecimals:g,extraLamports:(0,x.newSafeBN)(A.EXTENDED_PUMP_RENT_EXEMPTION_LAMPORTS+A.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+("buy"===e?A.PUMP_VOLUME_ACCUMULATOR_RENT_EXEMPTION_LAMPORTS:0))})}})},e$="6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P";function e0(e,t=new f.PublicKey(e$)){return f.PublicKey.findProgramAddressSync([B.Buffer.from("user_volume_accumulator"),e.toBuffer()],t)}var e1=e.i(233191);let e2=new C.default(25),e4=new C.default(1e4),e6=new C.default(1),e3=new C.default(0);async function e5({pairAddress:e,tokenAddress:t,type:r,amount:i,tokenDecimals:n,liquiditySol:a,liquidityToken:o,userTokenAccountAddress:s,protocolDetails:u,blockhash:l,swapSettings:c,wallet:d,nonceInstruction:f,providers:p,rewardsData:m,usdPerSol:g}){let b=[],y=await (0,T.addTokenAccountInstructions)({userWalletAddress:d.publicKey,tokenAddress:t,tokenProgramAddress:A.TOKEN_PROGRAM_ADDRESS,instructions:b,userTokenAccountAddress:s,wsolAmount:"buy"===r?i:e3,usdc:u.isUsdc,usd1:u.isUsd1}),w=(0,x.newSafeBN)(0);"buy"===r&&(w=(0,T.calculateAxiomFee)(i),i=i.sub(w));let{swapInstruction:v,expectedAmountOut:S}=await e8({type:r,amount:i,slippage:c.slippage,userAccountAddress:d.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:u,pairAddress:e,tokenDecimals:n,liquiditySol:a,liquidityToken:o,userUsdcAccountAddress:y.userUsdcAccountAddress,userUsd1AccountAddress:y.userUsd1AccountAddress,usdPerSol:g,rewardsData:m});return b.push(v),await (0,T.handleMassSwapTxCreation)({instructions:b,wallet:d,swapSettings:c,blockhash:l,nonceInstruction:f,providers:p,lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:u.isUsd1||u.isUsdc?15e4:1e5,isUsdc:u.isUsdc,isUsd1:u.isUsd1,isVanish:(0,T.isVanishSigner)(d)}),rewardsPercentage:m.userRewardsPercentage,swapInfo:{amount:i,sourceTokenAddress:"buy"===r?h.NATIVE_SOL_TOKEN_ADDRESS:t,targetTokenAddress:"buy"===r?t:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:r,isWsol:!0,isUsdc:u.isUsdc??!1,isUsd1:u.isUsd1??!1,amount:i,expectedAmountOut:S,tokenDecimals:n}),expectedAmountOut:S,tokenDecimals:n}})}async function e8({type:e,amount:t,slippage:r,userAccountAddress:i,userTokenAccountAddress:n,userSolAccountAddress:a,protocolDetails:o,pairAddress:s,tokenDecimals:u,liquiditySol:l,liquidityToken:c,userUsdcAccountAddress:d,userUsd1AccountAddress:f,usdPerSol:p,rewardsData:h}){if(o.isUsd1){let l=e7({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:f,userTokenAccountAddress:n,protocolDetails:o});return await (0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:a,userUsdAccountAddress:f,userTokenAccountAddress:n,usdPerSol:p,amountIn:t,tokenDecimals:u,priceInUsdc:c,slippage:r,steps:[{programAddress:A.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:l}],rewardsData:h})}if(o.isUsdc){let l=e7({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:d,userTokenAccountAddress:n,protocolDetails:o});return await (0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:a,userUsdAccountAddress:d,userTokenAccountAddress:n,usdPerSol:p,amountIn:t,tokenDecimals:u,priceInUsdc:c,slippage:r,steps:[{programAddress:A.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:l}],rewardsData:h})}{let d=e7({type:e,pairAddress:s,userAccountAddress:i,userQuoteAccountAddress:a,userTokenAccountAddress:n,protocolDetails:o}),{minAmountOut:f,expectedAmountOut:p}=e9({amountIn:t,slippage:r,liquiditySol:l,liquidityToken:c,decimals:u,type:e});return{swapInstruction:(0,P.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:f,userWalletAddress:i,inputTokenAccount:"buy"===e?a:n,solWrapperToken:{type:"wsol",userWrappedTokenAccount:a},steps:[{programAddress:A.RAYDIUM_V4_PROGRAM_ADDRESS,accounts:d}],rewardsData:h}),expectedAmountOut:p}}}function e7(e){let{type:t,pairAddress:r,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o}=e,s=[{pubkey:new f.PublicKey(A.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(r),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("5Q544fKrFoe6tsEbD7S8EmxGTJYAKtTVhAW5Q5pge4j1"),isSigner:!1,isWritable:!1}];return s.push({pubkey:new f.PublicKey(o.baseVault),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(o.quoteVault),isSigner:!1,isWritable:!0}),s.push({pubkey:new f.PublicKey("buy"===t?n:a),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===t?a:n),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(i),isSigner:!0,isWritable:!0}),s}let e9=({amountIn:e,slippage:t,liquiditySol:r,liquidityToken:i,decimals:n,type:a})=>{let o=e,s=e3;"buy"===a&&(s=(0,T.calculateAxiomFee)(o));let u=function(e,t){let{div:r,mod:i}=e.divmod(t);return i.gt(e3)?r.add(e6):r}((o=o.sub(s)).mul(e2),e4),l=(0,x.newSafeBN)(1e9*r),c=(0,x.newSafeBN)(i*10**n),d=o.sub(u),f=e3;if("buy"===a){let e=l.add(d);f=c.mul(d).div(e)}else if("sell"===a){let e=c.add(d);f=l.mul(d).div(e)}else throw Error("invalid type");return{minAmountOut:"buy"===a?f.mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+100*t)):f.mul((0,x.newSafeBN)(1e4-100*t)).div((0,x.newSafeBN)(1e4)),expectedAmountOut:f}};e.s(["swapRaydium",()=>e5],223560);var te=e.i(49498),tt=e.i(191476);async function tr({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,usdPerSol:f,tokenDecimals:p,liquidityToken:m}){let g=[],b=n.tokenMintA===A.WSOL_TOKEN_ADDRESS?n.tokenProgramB:n.tokenProgramA,y=await (0,T.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:b,instructions:g,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:te.ZERO,usdc:n.isUsdc,usd1:n.isUsd1});"buy"===e&&(t=t.sub((0,T.calculateAxiomFee)(t)));let{swapInstruction:x,expectedAmountOut:w}=await ta({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:y.userTokenAccountAddress,userSolAccountAddress:y.userWsolAccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,tokenDecimals:p,liquidityToken:m,userUsdcAccountAddress:y.userUsdcAccountAddress,userUsd1AccountAddress:y.userUsd1AccountAddress,usdPerSol:f,rewardsData:d});return g.push(x),n.isUsdc&&(0,T.isVanishSigner)(o)&&(0,T.addTokenAccountCloseInstruction)(o.publicKey,y.userUsdcAccountAddress,g),n.isUsd1&&(0,T.isVanishSigner)(o)&&(0,T.addTokenAccountCloseInstruction)(o.publicKey,y.userUsd1AccountAddress,g),await (0,T.handleMassSwapTxCreation)({instructions:g,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:2e5,isUsdc:n.isUsdc,isUsd1:n.isUsd1,isVanish:(0,T.isVanishSigner)(o)}),lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:w,tokenDecimals:p,sourceTokenAddress:"buy"===e?h.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:n.isUsdc??!1,isUsd1:n.isUsd1??!1,amount:t,expectedAmountOut:w,tokenDecimals:p})}})}async function ti(e,t,r,i,n,a,o){try{return await p.axiomApi.post("/swap-raydium-clmm",{type:e,amount:t,tokenAddress:r,pairAddress:i,isUsdc:n,isUsd1:a,isWsol:o})}catch(e){if(e instanceof tt.AxiosError&&"Invalid tick array"===e.response?.data?.error)throw Error("Not enough liquidity available");throw Error("Error calculating swap")}}let tn=async(e,t,r,i,n)=>{let a,o,s,u=await ti(e,t.toString(),i,n);if("buy"===e)o=t,a=(s=(0,x.newSafeBN)(u.minAmountOut)).mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+100*r));else if("sell"===e)a=t,o=(s=(0,x.newSafeBN)(u.minAmountOut)).mul((0,x.newSafeBN)(1e4-100*r)).div((0,x.newSafeBN)(1e4));else throw Error("Invalid type");return"buy"===e?{minAmountOut:a,expectedAmountOut:s,observationState:u.observationState,remainingAccounts:u.remainingAccounts}:{minAmountOut:o,expectedAmountOut:s,observationState:u.observationState,remainingAccounts:u.remainingAccounts}};async function ta({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,usdPerSol:l,userUsdcAccountAddress:c,userUsd1AccountAddress:d,tokenDecimals:f,liquidityToken:p,rewardsData:h}){if(o.isUsdc){let d;if("buy"===e&&o.isUsdc){let e=(0,x.fromSafeBN)(t);d=(0,x.newSafeBN)(e*l/1e3)}else d=t;let m=await ti(e,d.toString(),u,s,o.isUsdc),g=to({type:e,userAccountAddress:i,userQuoteAccountAddress:c,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,observationState:m.observationState,remainingAccounts:m.remainingAccounts,isUsdc:!0,isUsd1:!1});return(0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:c,userTokenAccountAddress:a,rewardsData:h,usdPerSol:l,amountIn:t,tokenDecimals:f,priceInUsdc:p,slippage:r,steps:[{programAddress:P.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:g}]})}if(o.isUsd1){let c,m;if("buy"===e&&o.isUsd1){let e=(0,x.fromSafeBN)(t);c=(0,x.newSafeBN)(e*l/1e3)}else c=t;m="buy"===e?await ti("buy",c.toString(),u,s,!1,!0):await ti("sell",c.toString(),u,s,!1,!0);let g=to({type:e,userAccountAddress:i,userQuoteAccountAddress:d,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,observationState:m.observationState,remainingAccounts:m.remainingAccounts,isUsdc:!1,isUsd1:!0});return await (0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:i,userWsolAccountAddress:n,userUsdAccountAddress:d,userTokenAccountAddress:a,amountIn:t,usdPerSol:l,tokenDecimals:f,priceInUsdc:p,slippage:r,steps:[{programAddress:P.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:g}],rewardsData:h})}{let{minAmountOut:l,expectedAmountOut:c,observationState:d,remainingAccounts:f}=await tn(e,t,r,u,s),p=to({type:e,userAccountAddress:i,userQuoteAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,observationState:d,remainingAccounts:f,isUsdc:!1,isUsd1:!1});return{swapInstruction:(0,P.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:P.RAYDIUM_CLMM_PROGRAM_ADDRESS,accounts:p}],rewardsData:h}),expectedAmountOut:c}}}function to(e){let t=e.protocolDetails.tokenMintA===e.tokenAddress,r=t?e.protocolDetails.tokenVaultB:e.protocolDetails.tokenVaultA,i=t?e.protocolDetails.tokenVaultA:e.protocolDetails.tokenVaultB,n=e.isUsdc?A.USDC_TOKEN_ADDRESS:e.isUsd1?A.USD1_TOKEN_ADDRESS:A.WSOL_TOKEN_ADDRESS,a=[{pubkey:new f.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new f.PublicKey(e.protocolDetails.configAddress),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(e.pairAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===e.type?e.userQuoteAccountAddress:e.userTokenAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===e.type?e.userTokenAccountAddress:e.userQuoteAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===e.type?r:i),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey("buy"===e.type?i:r),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(e.observationState),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(A.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];for(let t of(e.protocolDetails.isUsd1||a.push({pubkey:new f.PublicKey(A.TOKEN_PROGRAM_2022_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(P.MEMO_V2_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey("buy"===e.type?n:e.tokenAddress),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey("buy"===e.type?e.tokenAddress:n),isSigner:!1,isWritable:!1}),e.remainingAccounts))a.push({pubkey:new f.PublicKey(t),isSigner:!1,isWritable:!0});return a}let ts=(0,x.newSafeBN)(0),tu=async({pairAddress:e,tokenAddress:t,type:r,amount:i,liquiditySol:n,liquidityToken:a,userTokenAccountAddress:o,protocolDetails:s,blockhash:u,wallet:l,swapSettings:c,tokenDecimals:d,nonceInstruction:f,providers:p,rewardsData:m,usdPerSol:g})=>{var b,y,A;let w;"buy"===r&&(i=i.sub((0,T.calculateAxiomFee)(i)));let v=function(e,t,r,i,n,a){let o,s,u=(0,x.newSafeBN)(1e9*e),l=(0,x.newSafeBN)(t*10**a);if("buy"===i)o=u,s=l;else if("sell"===i)o=l,s=u;else throw Error("invalid type");let c=ts;"buy"===i&&(c=(0,T.calculateAxiomFee)(r));let d=r.mul((0,x.newSafeBN)(n)).div((0,x.newSafeBN)(1e6)),f=r.sub(c).sub(d),p=td(o.mul(s),o.add(f));return s.sub(p)}(n,a,i,r,s.tradeFeeRate,d),S=(b=v,y=c.slippage,A=r,w=(0,x.newSafeBN)(1e4),"buy"===A?td(b.mul(w),w.add((0,x.newSafeBN)(100*y))):td(b.mul((0,x.newSafeBN)((100-y)*100)),w)),k=[],E=await (0,T.addTokenAccountInstructions)({userWalletAddress:l.publicKey,tokenAddress:t,tokenProgramAddress:s.tokenProgram,instructions:k,userTokenAccountAddress:o,wsolAmount:"buy"===r?i:ts,psol:s.isPsol,usdc:s.isUsdc,usd1:s.isUsd1}),{swapInstruction:P,expectedAmountOut:I}=await tl({type:r,amount:i,minAmountOutRaw:S,slippage:c.slippage,userAccountAddress:l.publicKey,userTokenAccountAddress:E.userTokenAccountAddress,userSolAccountAddress:E.userWsolAccountAddress,userUsdcAccountAddress:E.userUsdcAccountAddress,userUsd1AccountAddress:E.userUsd1AccountAddress,protocolDetails:s,pairAddress:e,tokenAddress:t,tokenDecimals:d,liquidityToken:a,usdPerSol:g,amountOutRaw:v,rewardsData:m});return k.push(P),s.isUsdc&&(0,T.isVanishSigner)(l)&&(0,T.addTokenAccountCloseInstruction)(l.publicKey,E.userUsdcAccountAddress,k),s.isUsd1&&(0,T.isVanishSigner)(l)&&(0,T.addTokenAccountCloseInstruction)(l.publicKey,E.userUsd1AccountAddress,k),await (0,T.handleMassSwapTxCreation)({instructions:k,wallet:l,swapSettings:c,blockhash:u,nonceInstruction:f,providers:p,lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:m.userRewardsPercentage,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:s.isUsdc||s.isUsd1?2e5:145e3,isUsdc:s.isUsdc,isUsd1:s.isUsd1,isVanish:(0,T.isVanishSigner)(l)}),swapInfo:{amount:i,expectedAmountOut:I,tokenDecimals:d,sourceTokenAddress:"buy"===r?h.NATIVE_SOL_TOKEN_ADDRESS:t,targetTokenAddress:"buy"===r?t:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:r,isWsol:!0,isUsdc:s.isUsdc??!1,isUsd1:s.isUsd1??!1,amount:i,expectedAmountOut:I,tokenDecimals:d})}})};async function tl({type:e,amount:t,minAmountOutRaw:r,slippage:i,userAccountAddress:n,userSolAccountAddress:a,userTokenAccountAddress:o,userUsdcAccountAddress:s,userUsd1AccountAddress:u,protocolDetails:l,pairAddress:c,tokenAddress:d,tokenDecimals:p,liquidityToken:h,usdPerSol:m,amountOutRaw:g,rewardsData:b}){if(l.isUsdc){let r=tc(new f.PublicKey(n),l,new f.PublicKey(o),new f.PublicKey(s),c,d,e,!0,!1);return(0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usdc",userAccountAddress:n,userWsolAccountAddress:a,userUsdAccountAddress:s,userTokenAccountAddress:o,usdPerSol:m,amountIn:t,tokenDecimals:p,priceInUsdc:h,slippage:i,steps:[{programAddress:A.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:r}],rewardsData:b})}if(l.isUsd1){let r=tc(new f.PublicKey(n),l,new f.PublicKey(o),new f.PublicKey(u),c,d,e,!1,!0);return(0,P.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:n,userWsolAccountAddress:a,userUsdAccountAddress:u,userTokenAccountAddress:o,usdPerSol:m,amountIn:t,tokenDecimals:p,priceInUsdc:h,slippage:i,steps:[{programAddress:A.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:r}],rewardsData:b})}{let i=tc(new f.PublicKey(n),l,new f.PublicKey(o),new f.PublicKey(a),c,d,e,!1,!1);return{swapInstruction:(0,P.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:r,userWalletAddress:n,inputTokenAccount:"buy"===e?a:o,solWrapperToken:{type:l.isPsol?"psol":"wsol",userWrappedTokenAccount:a},steps:[{programAddress:A.RAYDIUM_CPMM_PROGRAM_ADDRESS,accounts:i}],rewardsData:b}),expectedAmountOut:g}}}let tc=(e,t,r,i,n,a,o,s=!1,u=!1)=>{let l=[],c="buy"===o,d=t.isPsol?T.PSOL_TOKEN_ADDRESS:s?A.USDC_TOKEN_ADDRESS:u?A.USD1_TOKEN_ADDRESS:A.WSOL_TOKEN_ADDRESS;return l.push({pubkey:e,isSigner:!0,isWritable:!0}),l.push({pubkey:new f.PublicKey(t.authority),isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(t.ammConfig),isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(n),isSigner:!1,isWritable:!0}),l.push({pubkey:c?i:r,isSigner:!1,isWritable:!0}),l.push({pubkey:c?r:i,isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(c?t.solVault:t.tokenVault),isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(c?t.tokenVault:t.solVault),isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(c?A.TOKEN_PROGRAM_ADDRESS:t.tokenProgram),isSigner:!1,isWritable:!1}),l.push({pubkey:new f.PublicKey(c?t.tokenProgram:A.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),l.push({pubkey:new f.PublicKey(c?d:a),isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(c?a:d),isSigner:!1,isWritable:!0}),l.push({pubkey:new f.PublicKey(t.observationState),isSigner:!1,isWritable:!0}),l};function td(e,t){let r=e.div(t);return e.mod(t).gt(ts)&&(r=r.add((0,x.newSafeBN)(1))),r}var tf=e.i(24010),tp=e.i(767714);let th="vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ",tm=async(e,t,r,i,n)=>{let a=((e,t,r,i)=>{if("buy"===e){let e=(0,tp.computeVertigoFees)(r,t),n=t.sub(e),{amountB:a}=(0,tp.vertigoTestSwapSolForToken)(r,i,n);if(a.lte((0,x.newSafeBN)(0)))throw Error("Would have received 0 tokens");return a}{let{amountA:e}=(0,tp.vertigoTestSwapTokenForSol)(r,i,t);if(e.lte((0,x.newSafeBN)(0)))throw Error("Would have received 0 SOL");let n=(0,tp.computeVertigoFees)(r,e);return e.sub(n)}})(e,t,i,n);if("buy"===e)return{minAmountOut:a.mul((0,x.newSafeBN)(1e4)).div((0,x.newSafeBN)(1e4+100*r)),expectedAmountOut:a};if("sell"===e)return{minAmountOut:a.mul((0,x.newSafeBN)(1e4-100*r)).div((0,x.newSafeBN)(1e4)),expectedAmountOut:a};throw Error("Invalid type")},tg=async({type:e,amount:t,slippage:r,userAccountAddress:i,userSolAccountAddress:n,userTokenAccountAddress:a,protocolDetails:o,pairAddress:s,tokenAddress:u,liquidityTokenRaw:l,rewardsData:c})=>{let{minAmountOut:d,expectedAmountOut:p}=await tm(e,t,r,o,l),[h]=f.PublicKey.findProgramAddressSync([new f.PublicKey(s).toBuffer(),new f.PublicKey(A.WSOL_TOKEN_ADDRESS).toBuffer()],new f.PublicKey(th)),[m]=f.PublicKey.findProgramAddressSync([new f.PublicKey(s).toBuffer(),new f.PublicKey(u).toBuffer()],new f.PublicKey(th)),g=[{pubkey:new f.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(i),isSigner:!0,isWritable:!0},{pubkey:new f.PublicKey(o.owner),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(A.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(u),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:new f.PublicKey(A.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(o.tokenProgram),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(A.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new f.PublicKey(th),isSigner:!1,isWritable:!1}];return{swapInstruction:(0,P.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:d,userWalletAddress:i,inputTokenAccount:"buy"===e?n:a,solWrapperToken:{type:"wsol",userWrappedTokenAccount:n},steps:[{programAddress:th,accounts:g}],rewardsData:c}),expectedAmountOut:p}},tb=async({type:e,amount:t,tokenAddress:r,userTokenAccountAddress:i,protocolDetails:n,blockhash:a,wallet:o,pairAddress:s,swapSettings:u,nonceInstruction:l,providers:c,rewardsData:d,liquidityTokenRaw:f,tokenDecimals:p})=>{let m=[],g=await (0,T.addTokenAccountInstructions)({userWalletAddress:o.publicKey,tokenAddress:r,tokenProgramAddress:n.tokenProgram,instructions:m,userTokenAccountAddress:i,wsolAmount:"buy"===e?t:(0,x.newSafeBN)(0)});"buy"===e&&(t=t.sub((0,T.calculateAxiomFee)(t)));let{swapInstruction:b,expectedAmountOut:y}=await tg({type:e,amount:t,slippage:u.slippage,userAccountAddress:o.publicKey,userTokenAccountAddress:g.userTokenAccountAddress,userSolAccountAddress:g.userWsolAccountAddress,protocolDetails:n,pairAddress:s,tokenAddress:r,liquidityTokenRaw:f,rewardsData:d});return m.push(b),await (0,T.handleMassSwapTxCreation)({instructions:m,wallet:o,swapSettings:u,blockhash:a,nonceInstruction:l,providers:c,computeUnits:(0,T.calculateComputeUnits)({baseComputeUnits:15e4,isVanish:(0,T.isVanishSigner)(o)}),lookupTables:T.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:d.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:y,tokenDecimals:p,sourceTokenAddress:"buy"===e?h.NATIVE_SOL_TOKEN_ADDRESS:r,targetTokenAddress:"buy"===e?r:h.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,T.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,amount:t,expectedAmountOut:y,tokenDecimals:p})}})};var ty=e.i(432265),tx=e.i(994447);let tA=["Raydium V4","Pump V1","Raydium CPMM","Meteora DLMM","Pump AMM","LaunchLab","Meteora AMM","Virtual Curve","Meteora AMM V2","Boop","Moonshot","Raydium CLMM",A.PROTOCOL_VERTIGO,"Orca","Heaven","Sugar"];async function tw(e){let t;if("full"===e.type)return e;if("pair"===e.type)t=await p.axiomApiV2.get("/swap-info",{pairAddress:e.pairAddress});else if("token"===e.type)t=await p.axiomApiV2.get("/swap-info",{tokenAddress:e.tokenAddress});else throw Error("Invalid pair info type");return e.fetchLiquidity?{type:"full",...t}:{type:"full",...t,liquiditySol:e.liquiditySol,liquidityToken:e.liquidityToken}}function tv(e,t,r,i,n){let a,{protocol:o,protocolDetails:s,liquiditySol:u,liquidityToken:l,tokenDecimals:c,tokenAddress:d}=e,{balanceSol:f,tokenAccounts:p}=i,{slippage:h,priorityFeeSol:m,bribeFeeSol:b,mevProtection:w,enhancedMevProtection:v}=r,{type:S}=t;if(!tA.includes(o))throw Error(`Unsupported protocol: ${o}`);if("buy"===S&&t.amountSol<=0)throw Error("Amount to buy must be greater than 0 SOL");if(h<0)throw Error("Slippage must be greater than 0");if(w&&!b)throw Error("Bribe is required with MEV reduction");if(v&&b<.001)throw Error("Minimum bribe with enhanced MEV protection is 0.001 SOL");let k=p.find(e=>e.tokenAddress.toString()===d)?.balanceRaw;if("sell"===S&&(void 0===k||"0"===k))throw Error("Token balance not found");if("sell"===S&&r.slippage>100)throw Error("Sell slippage must be less than or equal to 100");let T=0;"Moonshot"!==o&&"Pump V1"!==o&&T++,void 0===k&&T++;let E=(A.BASE_TRANSACTION_FEE_LAMPORTS+T*A.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS+A.WALLET_RENT_EXEMPTION_LAMPORTS)/1e9;if(f<("buy"===S?t.amountSol:0))throw Error("Insufficient SOL balance for buy amount");if(f<("buy"===S?t.amountSol:0)+m)throw Error("Insufficient SOL balance to cover priority fee");if(f<("buy"===S?t.amountSol:0)+m+b)throw Error("Insufficient SOL balance to cover priority fee and bribe fee");if(f<("buy"===S?t.amountSol:0)+E+b+m)throw Error("Insufficient SOL balance to cover all fees including Solana base tx fee and rent fees");if("buy"===S)a=(0,x.newSafeBN)(1e9*t.amountSol);else if("sell"===S){if(!k)throw Error("Token balance not found");let e=(0,x.newSafeBN)(k);if(e.isZero())throw Error("Your token balance is 0");let r=t.amount.units;if("percentage"===r){let r=t.amount.percentage;if(r>100)throw Error("Percentage to sell must be less than or equal to 100");if(r<=0)throw Error("Percentage to sell must be greater than 0");a=e.mul((0,x.newSafeBN)(100*r)).div((0,x.newSafeBN)(1e4))}else if("solana"===r){if((a=(0,y.estimateSellInverse)({protocol:o,targetNativeAmount:t.amount.amountSol,liquidityNative:u,liquidityToken:l,decimals:c,protocolDetails:s,usdPerNative:n??g.FALLBACK_USD_PER_SOL})).isZero())throw Error("Must sell more than 0 tokens");if(a.gt(e))if(a.gt(e.mul((0,x.newSafeBN)(10100)).div((0,x.newSafeBN)(1e4))))throw Error(`Not enough tokens to sell for ${t.amount.amountSol} SOL`);else a=e}else if("tokens"===r){if((a=(0,x.newSafeBN)(t.amount.amountTokens*10**c)).isZero())throw Error("Must sell more than 0 tokens");if(a.gt(e))if(a.gt(e.mul((0,x.newSafeBN)(10100)).div((0,x.newSafeBN)(1e4))))throw Error(`Not enough tokens to sell ${t.amount.amountTokens} tokens`);else a=e}else throw Error("Invalid units")}else throw Error("Invalid order type");return{amount:a,extraFees:E}}async function tS(e){let t,{swapParams:r,preset:i,wallet:n,blockhash:a,rewardsData:o}=e,{tokenAccounts:s}=n,{priorityFeeSol:u}=i,{type:l,pairInfo:c}=r;if("buy"===e.swapParams.type&&!e.skipLiquidityCheck&&c.liquiditySol<15&&c.protocol!==A.PROTOCOL_VERTIGO)throw Error("This pair has too little liquidity and buys are not permitted");if(r.pairInfo.tokenAddress===tx.AXIOM_LST_MINT)throw Error("You are not allowed to trade Axiom Staked SOL");let{pairAddress:p,tokenAddress:g,protocol:y,protocolDetails:T,liquiditySol:E,liquidityToken:P,tokenDecimals:I}=c,{amount:N}=tv(c,r,i,n,e.usdPerSol);if(A.LAUNCHPAD_PROTOCOLS.includes(y)&&"Heaven"!==y&&100===(0,b.calculateBondingCurve)({liquidityToken:P,liquiditySol:E,tokenDecimals:I,protocol:y,protocolDetails:T,usdPerSol:e.usdPerSol}))throw Error("Bonding curve is complete, wait for migration");let R=s.find(e=>e.tokenAddress.toString()===g)?.tokenAccountAddress,O=n;if(n.publicKey===h.VANISH_WALLET_ADDRESS){let e=m.vanishOneTimeWalletAddress?m.vanishOneTimeWalletAddress:await (0,m.fetchAndSetVanishOneTimeWallet)();if("sell"===l){let t=s.find(e=>e.tokenAddress.toString()===g)?.tokenProgram;if(!t)throw Error("Token program not found");R=(0,d.getAssociatedTokenAddressSync)(new f.PublicKey(g),new f.PublicKey(e),!1,new f.PublicKey(t),new f.PublicKey(A.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)).toString()}else R=void 0;let t=n.privateKey;if(!t)throw Error("Vanish key not found");O={publicKey:e,privateKey:"",vanishKey:t}}if("Pump V1"===y)try{t=await eZ({type:l,amount:N,virtualLiquiditySol:(0,x.newSafeBN)(1e9*E),virtualLiquidityToken:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,bondingCurve:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium V4"===y)try{t=await e5({pairAddress:p,amount:N,tokenAddress:g,userTokenAccountAddress:R,wallet:O,protocolDetails:T,liquiditySol:E,liquidityToken:P,tokenDecimals:I,type:l,blockhash:a,swapSettings:i,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,usdPerSol:e.usdPerSol})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium CPMM"===y)try{t=await tu({amount:N,tokenAddress:g,pairAddress:p,userTokenAccountAddress:R,wallet:O,protocolDetails:T,liquiditySol:E,liquidityToken:P,type:l,blockhash:a,swapSettings:i,tokenDecimals:I,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,usdPerSol:e.usdPerSol})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora DLMM"===y)try{t=await U({amount:N,priorityFeeSol:u,wallet:O,preset:i,providers:e.providers??[],blockhash:a,swapParams:{type:l,amount:N,pairAddress:p,tokenAddress:g},nonceInstruction:e.nonceInstruction,rewardsData:o,protocolDetails:T,liquidityToken:P,usdPerSol:e.usdPerSol,userTokenAccountAddress:R,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Pump AMM"===y)try{t=await (0,e1.swapPumpAmm)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("LaunchLab"===y)try{t=await (0,S.swapLaunchLab)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I,usdPerSol:e.usdPerSol,liquidityToken:P})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora AMM"===y)try{t=await (0,k.swapMeteoraAmm)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,usdPerSol:e.usdPerSol,tokenDecimals:I,liquidityToken:P})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Virtual Curve"===y)try{t=await (0,ty.swapVirtualCurve)({type:l,amount:N,sqrtPrice:(0,x.newSafeBN)(0xffffffffffffffff*Math.sqrt(P/10**I*1e9)),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,usdPerSol:e.usdPerSol,tokenDecimals:I,liquidityToken:P})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Meteora AMM V2"===y)try{t=await _({type:l,amount:N,liquiditySol:E,liquidityToken:P,tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,supplementalData:e.swapParams.supplementalData,rewardsData:o,usdPerSol:e.usdPerSol,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Boop"===y)try{t=await (0,w.swapBoop)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Moonshot"===y)try{t=await (0,M.swapMoonshot)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Raydium CLMM"===y)try{t=await tr({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,usdPerSol:e.usdPerSol,tokenDecimals:I,liquidityToken:P})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if(y===A.PROTOCOL_VERTIGO)try{t=await tb({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Orca"===y)try{t=await eK({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,usdPerSol:e.usdPerSol,tokenDecimals:I,liquidityToken:P})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Heaven"===y)try{t=await (0,v.swapHeaven)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else if("Sugar"===y)try{t=await (0,tf.swapSugar)({type:l,amount:N,liquiditySolRaw:(0,x.newSafeBN)(1e9*E),liquidityTokenRaw:(0,x.newSafeBN)(P*10**I),tokenAddress:g,userTokenAccountAddress:R,protocolDetails:T,swapSettings:i,blockhash:a,wallet:O,pairAddress:p,nonceInstruction:e.nonceInstruction,providers:e.providers,rewardsData:o,tokenDecimals:I})}catch(e){throw Error(`Transaction failed to generate: ${e}`)}else throw Error("Unsupported protocol");return t}},900087,e=>{"use strict";e.s(["useCancelOrder",()=>I,"useCancelOrders",()=>_,"useEditLimitOrder",()=>N,"useLimitOrderSolMeme",()=>E,"useRefreshOrders",()=>P]);var t=e.i(672464),r=e.i(750214),i=e.i(20164),n=e.i(385845),a=e.i(271645);e.i(465903);var o=e.i(700479),s=e.i(767924),u=e.i(247317),l=e.i(268804),c=e.i(447800),d=e.i(863568),f=e.i(682382),p=e.i(458768),h=e.i(626914),m=e.i(973444);e.i(490156);var g=e.i(754825),b=e.i(352120),y=e.i(542119),x=e.i(735013),A=e.i(342271),w=e.i(182781),v=e.i(43351),S=e.i(868904),k=e.i(350721);let T=["Raydium V4","Raydium CPMM","Pump AMM","Pump V1","Boop","LaunchLab","Virtual Curve","Meteora AMM","Meteora AMM V2",s.PROTOCOL_HEAVEN,s.PROTOCOL_SUGAR];function E(){let e=(0,r.useAtomCallback)(e=>e(g.tokenAccountsAtom)),s=(0,r.useAtomCallback)(e=>e(g.solBalancesAtom)),x=(0,A.useGetSolPreset)(),E=(0,d.useTurnkeyClient)(),P=(0,r.useAtomCallback)(e=>e(y.turnkeyOrgIdAtom)),I=(0,r.useAtomCallback)(e=>e(v.recommendedPriorityFeeAtom)),_=(0,r.useAtomCallback)(e=>e(v.recommendedBribeFeeAtom)),N=(0,r.useAtomCallback)(e=>e(v.usdPerSolAtom)),[O,B]=(0,b.useSnipePriorityFeeSol)(),[C,D]=(0,b.useSnipeBribeFeeSol)(),[F,U]=(0,b.useSnipeSlippage)(),[M]=(0,w.useSettings)("snipeMevProtection",!1,i.default),[L]=(0,w.useSettings)("snipeEnhancedMevProtection",!1,i.default),[q]=(0,w.useSettings)("snipeCustomRpcUrl","",n.default),K=(0,t.useSetAtom)(b.isSnipeModalOpenAtom),W=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(y.rewardsPercentageAtom),[])),V=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(y.referralDataAtom),[]));return(0,a.useCallback)(async t=>{if(t.walletAddresses.includes(f.VANISH_WALLET_ADDRESS))return void p.default.error("Limit orders for Vanish wallets are not supported",{duration:5e3});if(!E)return void p.default.error("Turnkey account not found, if this persists try logging out and in again",{duration:5e3});if("Pump V1"===t.pair.protocol){let e=new Date(t.pair.createdAt??0).getTime();if(new Date().getTime()-e>2592e7)return void p.default.error("Limit orders for old Pump pairs are not supported",{duration:5e3})}if("3fmHKhZUF9uazaLuU6GJYGSnyquSHxBMuAXBExdVCqSh"===t.pair.pairAddress)return void p.default.error("Limit orders for this Pump pair are not supported",{duration:5e3});if("Boop"===t.pair.protocol&&"2"!==t.pair.protocolDetails.version)return void p.default.error("Limit orders for this Boop pair are not supported",{duration:5e3});if("LaunchLab"===t.pair.protocol&&0===t.pair.protocolDetails.migrateType)return void p.default.error("Limit orders not supported for LaunchLab if migrating to Raydium V4",{duration:5e3});if("Raydium V4"===t.pair.protocol&&(t.pair.protocolDetails.isUsdc||t.pair.protocolDetails.isUsd1))return void p.default.error("Limit orders for Raydium V4 USDC/USD1 pair are not supported",{duration:5e3});if(!T.includes(t.pair.protocol))return void p.default.error(`Limit orders not supported for ${t.pair.protocol}`,{duration:5e3});if(["Meteora AMM V2","Meteora AMM"].includes(t.pair.protocol)&&t.pair.protocolDetails.isUsd1)return void p.default.error(`Limit orders not supported for ${t.pair.protocol} USD1 pairs`,{duration:5e3});let r=p.default.loading(t.isSniper?"Creating Sniper Task...":"Creating Limit Order...",{duration:1/0});try{let i,n,a,u=N()??c.FALLBACK_USD_PER_SOL,d=t.walletAddresses,f=d.length,g=e(),b=s(),y={...t.pair,...t.liquidity},A=t.isSniper?{priorityFeeSol:O,bribeFeeSol:C,slippage:F,mevProtection:M,customRpcUrl:q,enhancedMevProtection:L}:x(t.amount.type,t.presetType);if(A.bribeFeeSol<1e-6)throw Error("Bribe fee must be at least 0.000001 SOL");if(t.isSniper){let e=[];if((U??"")===""&&e.push("slippage"),(B??"")===""&&e.push("priority fee"),(D??"")===""&&e.push("bribe fee"),e.length>0){let i=2===e.length?e.join(" and "):e.slice(0,-1).join(", ")+", and "+e[e.length-1];p.default.error(`You must set sniper ${i}`,{toastId:r,duration:5e3}),K(!0),t.onComplete?.();return}}let w="advanced"===t.order.type&&"migration"===t.order.subType,v=I()??0,T=_()??0;if(w&&(A.bribeFeeSol<11*T||A.priorityFeeSol<11*v)&&p.default.warn(`Your snipe fees are low. Consider increasing the fees to at least ${(11*v).toPrecision(2)} priority fee and ${(11*T).toPrecision(2)} bribe fee for better performance.`,{duration:5e3}),"limit"===t.order.type&&(i=y.protocolDetails.isUsdc||y.protocolDetails.isUsd1?t.order.triggerPriceSol*u:t.order.triggerPriceSol),"limit"===t.order.type)n=t.amount.type+" "+t.order.direction;else if("advanced"===t.order.type)n=t.amount.type+" "+t.order.subType;else throw Error("Invalid order type");let G=[];for(let e of(console.log("selectedWallets",d),console.log("params.amount",t.amount),console.log("pairInfo",y),console.log("solBalances",b),console.log("tokenAccounts",g),d)){let r="buy"===t.amount.type?{type:"buy",amountSol:t.amount.amountSol/d.length}:"sell"===t.amount.type&&"tokens"===t.amount.amount.units?{type:"sell",amount:{units:"tokens",amountTokens:t.amount.amount.tokenAmountsMap.get(e)??0}}:"sell"===t.amount.type&&"percentage"===t.amount.amount.units?{type:"sell",amount:{units:"percentage",percentage:t.amount.amount.percentage}}:null;if(!r)throw Error("Invalid amount type");let i={publicKey:e,balanceSol:b.data.get(e)?.balanceSol??0,tokenAccounts:Array.from(g.data.get(e)?.values()??[])},{amount:n}=(0,S.validateSolMemeParams)(y,r,A,i,N());G.push({publicKey:e,amount:n})}let j=await l.axiomApiV2.post("/get-nonce-account-batched",{amount:f}),z=[];for(let e=0;e<f;e++){let{nonceAccountAddress:r,nonce:i}=j[e],{amount:n,publicKey:o}=G[e],s=n.toString();if("buy"===t.amount.type)a=n.div((0,m.newSafeBN)(50)).toString();else{let e=Number(s)/10**y.tokenDecimals,r="limit"===t.order.type?t.order.triggerPriceSol:(0,h.default)({protocol:y.protocol,liquidityNative:y.liquiditySol,liquidityToken:y.liquidityToken,protocolDetails:y.protocolDetails,usdPerNative:u}),i=e*r*1e7*2;a=(0,m.newSafeBN)(i).toString()}let l=(0,m.newSafeBN)(1e9*A.bribeFeeSol+1).toString();z.push({maxFeeLamports:a,nonce:i,bribeFeeLamports:l,nonceAccountAddress:r,solPublicKey:o})}let H=P();if(!H)return void p.default.error("Turnkey account not found, if this persists try logging out and in again",{duration:5e3});let X=await R(z,E),Q=[],J=V(),Y={userRewardsPercentage:W(),referralRewardsPercentage:J?.r??0,referralAddress:(0,k.getVaultPda)(J?.rs1),referralLevel2Address:(0,k.getVaultPda)(J?.rs2),referralLevel3Address:(0,k.getVaultPda)(J?.rs3),tokenReferralAddress:null};for(let e=0;e<f;e++){let{amount:r,publicKey:a}=G[e],o=r.toString(),{maxFeeLamports:s,nonce:u,nonceAccountAddress:l}=z[e],c=X[e];Q.push({amount:"buy"===t.amount.type?Number(o)/1e9:Number(o)/10**y.tokenDecimals,triggerPriceSol:i,type:n,orgId:H,walletAddress:a,pair:t.pair,preset:A,instructions:{amountString:o,maxFeeString:s,policyId:c,rewardsData:Y},nonceAccountAddress:l,nonce:u})}await l.axiomApiV2.post("/create-limit-order-batched",{orders:Q},{urlOverride:o.AXIOM_ORDERS_URL}),p.default.success(t.isSniper?"Sniper Task Created!":"Limit Order Placed!",{toastId:r}),t.onComplete?.()}catch(e){p.default.error(`Limit order creation failed: ${(0,u.getErrorMessage)(e)}`,{toastId:r}),t.onComplete?.()}},[e,s,x,O,C,F,M,q,L,I,_,N,P,U,B,D,K,E])}function P(){let e=(0,t.useSetAtom)(x.ordersAtom),i=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(y.isAuthedAtom),[]));return(0,a.useCallback)(async()=>{try{if(!i())return void e([]);let t=await l.axiomApiV2.post("/get-limit-orders");e(e=>0===e.length?t:(t.forEach(t=>{let r=e.find(e=>e.id===t.id);r&&(r.currentPriceSol=t.currentPriceSol)}),[...e]))}catch(e){p.default.error(`Error refreshing orders: ${(0,u.getErrorMessage)(e)}`)}},[i,e])}function I(){let e=(0,t.useSetAtom)(x.ordersAtom);return(0,a.useCallback)(async(t,r=!1)=>{try{await l.axiomApiV2.post("/cancel-limit-order",{id:t},{urlOverride:o.AXIOM_ORDERS_URL}),r||p.default.success("Order cancelled"),e(e=>e.map(e=>e.id===t?{...e,status:"Cancelled"}:e))}catch(e){p.default.error(`Error canceling order: ${(0,u.getErrorMessage)(e)}`)}},[e])}function _(){let e=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(x.ordersAtom),[])),i=(0,t.useSetAtom)(x.ordersAtom);return(0,a.useCallback)(async t=>{let r=e();if(0!==r.length)try{let e=t||r.filter(e=>"Active"===e.status).map(e=>e.id);if(0===e.length)return void p.default.error("No active orders to cancel");await l.axiomApiV2.post("/cancel-limit-orders",{ids:e},{urlOverride:o.AXIOM_ORDERS_URL}),t||p.default.success("All orders cancelled"),i(t=>t.map(t=>e.includes(t.id)?{...t,status:"Cancelled"}:t))}catch(e){p.default.error(`Error canceling order: ${(0,u.getErrorMessage)(e)}`)}},[e,i])}function N(){let e=(0,t.useSetAtom)(x.ordersAtom),i=(0,r.useAtomCallback)((0,a.useCallback)(e=>e(v.usdPerSolAtom),[]));return(0,a.useCallback)(async(t,r,n)=>{try{await l.axiomApiV2.post("/edit-limit-order",{id:t,newTriggerPriceSol:n?r*(i()??c.FALLBACK_USD_PER_SOL):r},{urlOverride:o.AXIOM_ORDERS_URL}),p.default.success("Order edited"),e(e=>e.map(e=>e.id===t?{...e,triggerPriceSol:r}:e))}catch(e){p.default.error(`Error editing limit order: ${(0,u.getErrorMessage)(e)}`)}},[e,i])}async function R(e,t){let r=e.map(e=>{let{maxFeeLamports:t,nonce:r,bribeFeeLamports:i,solPublicKey:n,nonceAccountAddress:a}=e,o=`
    solana.tx.recent_blockhash == '${r}' &&
    solana.tx.instructions[0].accounts[0].account_key == '${a}' &&
    solana.tx.account_keys[0] == '${n}' &&
    solana.tx.instructions.all(i, 
      i.program_key in [
        '675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8',
        'ComputeBudget111111111111111111111111111111',
        'CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C',
        '6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P',
        'ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL',
        'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA',
        'TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb',
        '11111111111111111111111111111111',
        'pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA',
        'AxiomxSitiyXyPjKgJ9XSrdhsydtZsskZTEDam3PxKcC',
        'AxiomfHaWDemCFBLBayqnEnNwE6b7B2Qz3UmzMpgbMG6',
        'boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4',
        'LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj',
        'dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN',
        'Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB',
        'cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG',
        'JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4',
        'HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o',
        'pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn',
        'deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS',
        'Cx2H5KxfZBYftxdHHjad6JRy77nLSLa85wyLeWshkgLo',
        'EiHuesmqxnjELhQRQCU2QDf8ZW7abVPdnHQE2hqSY793',
        'F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq',
        '6HB1VBBS8LrdQiR9MZcXV5VdpKFb7vjTMZuQQEQEPioC',
        'EGZ9xkUbgW4rFmHioHFdjs1TPvcsw41eqTi3AwVCUzvs',
        '9T9oKhVbCgHamXHRQoFqX7pTQJSnj47CaQojPtG2Q8N8',
        'FLASHX8DrLbgeR8FcfNV1F5krxYcYMUdBkrP1EPBtxB9'
      ]
    ) &&
    solana.tx.instructions.filter(i, i.program_key == '11111111111111111111111111111111')
      .all(i, i.instruction_data_hex[0..8] in ['02000000', '03000000', '04000000']) &&
    solana.tx.instructions.filter(i, i.program_key in ['TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb', 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'])
      .all(i, i.instruction_data_hex[0..2] == '01' || i.instruction_data_hex[0..2] == '09')
    `;return{policyName:crypto.randomUUID(),effect:"EFFECT_ALLOW",condition:o,notes:"Axiom Limit Order"}});try{let e=await t.createPolicies({policies:r});if(!e.policyIds.length)throw Error("Failed to create execution policy: Turnkey timed out");return e.policyIds}catch(e){if((0,d.isTurnkeySessionExpiryError)(e))throw Error("Turnkey session expired, please log out and in again");throw e}}},300223,e=>{"use strict";var t=e.i(472660),r=e.i(682382),i=e.i(672464),n=e.i(271645);e.s(["useVanishTxUtils",0,()=>{let e=(0,i.useSetAtom)(t.vanishTransactionSignaturesAtomSol),a=(0,n.useCallback)(t=>{e(e=>{let i=new Set(e);for(let e of t)if(e.publicKey===r.VANISH_WALLET_ADDRESS)for(let t of e.transactions)i.has(t.signature)||i.add(t.signature);return i})},[e]);return(0,n.useMemo)(()=>({monitorVanishTransactions:a}),[a])}])},514276,e=>{"use strict";let t={standard:e.i(375116).BNB_FRONTEND_RPC,mevProtection:{blockrazor:"https://bsc.blockrazor.xyz/1976844398427639808",merkle:"https://mempool.merkle.io/rpc/bsc/pk_mbs_e8dc342167e240db3bb20ef3fad302db",bloxrouteAxiom:"https://axiom-bnb.rpc.blxrbdn.com"},privateMevProtection:{blockrazorRelay:"https://tokyo.builder.blockrazor.io",fourtyEightClub:"https://axiom-private.48.club",bloxroute:"https://api.blxrbdn.com",bscGlobal:"http://global.bsc.dex.blxrbdn.com"},privateProxy:"/api/bsc-private-tx"};async function r(e,t){try{let r=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"eth_sendRawTransaction",params:[e]})});return(await r.json()).result||null}catch(e){return console.error("Transaction error:",e),null}}async function i(e,i){let n=[];for(let i of(n.push(r(e,t.mevProtection.blockrazor)),n.push(r(e,t.mevProtection.merkle)),n.push(r(e,t.mevProtection.bloxrouteAxiom)),await Promise.allSettled(n)))if("fulfilled"===i.status&&i.value)return i.value;throw Error("All MEV protection endpoints failed")}async function n(e){let r=await fetch(t.privateProxy,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tx:e})}),i=await r.json();if(i.error)throw Error(`Private Transaction Error: ${i.error}`);return i.result||i.result?.tx_hash}function a(e,a){a?i(e,!0).catch(e=>{console.error("MEV protected transaction send error:",e)}):(r(e,t.standard).catch(e=>{console.error("Standard transaction send error:",e)}),i(e,!1).catch(e=>{console.error("MEV protected transaction send error:",e)})),n(e).catch(e=>{console.error("Private transaction send error:",e)})}e.s(["BNB_RPCS",0,t,"sendBscTransaction",()=>a])},764335,e=>{"use strict";e.s(["ERC20_ABI",0,[{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}]])},430483,e=>{"use strict";var t=e.i(828073),r=e.i(656679),i=e.i(746256),n=e.i(764335),a=e.i(375116);e.s(["buildBnbTransferTx",0,({account:e,to:t,amountWei:r,nonce:n})=>({from:e.address,to:t,value:BigInt(r.toFixed(0)),gas:a.BNB_TRANSFER_GAS_CONFIG.bnbTransferGasLimit,gasPrice:a.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:n,chainId:i.bsc.id}),"buildErc20TransferTx",0,({account:e,tokenAddress:t,to:o,amountRaw:s,nonce:u})=>{let l=(0,r.encodeFunctionData)({abi:n.ERC20_ABI,functionName:"transfer",args:[o,BigInt(s.toFixed(0))]});return{from:e.address,to:t,data:l,value:BigInt(0),gas:a.BNB_TRANSFER_GAS_CONFIG.tokenTransferGasLimit,gasPrice:a.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:u,chainId:i.bsc.id}},"calculateGasCost",0,(e,r)=>(0,t.default)(e.toString()).multipliedBy(r.toString())])},781754,e=>{"use strict";async function t(e,n,a,o=100,s=12e3){n?await Promise.race([r(e,a,o,s),i(n.ws,a,s,n.wsOpenHandlers,n.wsMessageHandlers)]):await r(e,a,o,s)}async function r(e,t,r,i){let n=null,a=Date.now();for(;Date.now()-a<i;){try{if(n=await e.request({method:"eth_getTransactionReceipt",params:[t]}))break}catch{}await new Promise(e=>setTimeout(e,r))}if(!n)throw Error("Transaction timed out");if("0x1"!==n.status)throw Error("Transaction reverted");return n}async function i(e,t,r,i,n){let a=`bnb|${t}`;return new Promise((t,o)=>{let s=setTimeout(()=>{o(Error("Transaction timed out"))},r),u=()=>{e.send(JSON.stringify({action:"join",room:a}))};e.readyState===WebSocket.OPEN?u():i.push(u),n.push(e=>{try{JSON.parse(e.data).room===a&&(clearTimeout(s),t())}catch{}})})}e.s(["monitorTransaction",()=>t])},992744,e=>{"use strict";var t=e.i(608861),r=e.i(796516);function i(e){if("string"==typeof e){if(!(0,r.isAddress)(e,{strict:!1}))throw new t.InvalidAddressError({address:e});return{address:e,type:"json-rpc"}}if(!(0,r.isAddress)(e.address,{strict:!1}))throw new t.InvalidAddressError({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}e.s(["toAccount",()=>i])},890165,(e,t,r)=>{var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||e.g,n=function(){function e(){this.fetch=!1,this.DOMException=i.DOMException}return e.prototype=i,new e}();(function(t){var r=void 0!==n&&n||"undefined"!=typeof self&&self||e.g||{},i={searchParams:"URLSearchParams"in r,iterable:"Symbol"in r&&"iterator"in Symbol,blob:"FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in r,arrayBuffer:"ArrayBuffer"in r};if(i.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i.iterable&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function p(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(i.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;i.arrayBuffer&&i.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):i.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=h(e):this._bodyText=e=Object.prototype.toString.call(e)}else this._noBody=!0,this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=d(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(i.blob)return this.blob().then(p);throw Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,i,n,a=d(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),n=(i=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?i[1]:"utf-8",t.readAsText(e,n),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},i.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=s(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},i.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var g=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(e,t){if(!(this instanceof b))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var i,n,a=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new c(t.headers)),this.method=(n=(i=t.method||this.method||"GET").toUpperCase(),g.indexOf(n)>-1?n:i),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in r)return new AbortController().signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(a),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}}),t}function x(e,t){if(!(this instanceof x))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var A=[301,302,303,307,308];x.redirect=function(e,t){if(-1===A.indexOf(t))throw RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=r.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,n){return new Promise(function(a,o){var l=new b(e,n);if(l.signal&&l.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var d=new XMLHttpRequest;function f(){d.abort()}if(d.onload=function(){var e,t,r={statusText:d.statusText,headers:(e=d.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();try{t.append(i,n)}catch(e){console.warn("Response "+e.message)}}}),t)};0===l.url.indexOf("file://")&&(d.status<200||d.status>599)?r.status=200:r.status=d.status,r.url="responseURL"in d?d.responseURL:r.headers.get("X-Request-URL");var i="response"in d?d.response:d.responseText;setTimeout(function(){a(new x(i,r))},0)},d.onerror=function(){setTimeout(function(){o(TypeError("Network request failed"))},0)},d.ontimeout=function(){setTimeout(function(){o(TypeError("Network request timed out"))},0)},d.onabort=function(){setTimeout(function(){o(new t.DOMException("Aborted","AbortError"))},0)},d.open(l.method,function(e){try{return""===e&&r.location.href?r.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?d.withCredentials=!0:"omit"===l.credentials&&(d.withCredentials=!1),"responseType"in d&&(i.blob?d.responseType="blob":i.arrayBuffer&&(d.responseType="arraybuffer")),n&&"object"==typeof n.headers&&!(n.headers instanceof c||r.Headers&&n.headers instanceof r.Headers)){var p=[];Object.getOwnPropertyNames(n.headers).forEach(function(e){p.push(s(e)),d.setRequestHeader(e,u(n.headers[e]))}),l.headers.forEach(function(e,t){-1===p.indexOf(t)&&d.setRequestHeader(t,e)})}else l.headers.forEach(function(e,t){d.setRequestHeader(t,e)});l.signal&&(l.signal.addEventListener("abort",f),d.onreadystatechange=function(){4===d.readyState&&l.signal.removeEventListener("abort",f)}),d.send(void 0===l._bodyInit?null:l._bodyInit)})}w.polyfill=!0,r.fetch||(r.fetch=w,r.Headers=c,r.Request=b,r.Response=x),t.Headers=c,t.Request=b,t.Response=x,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})})({}),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var a=i.fetch?i:n;(r=a.fetch).default=a.fetch,r.fetch=a.fetch,r.Headers=a.Headers,r.Request=a.Request,r.Response=a.Response,t.exports=r},350721,930456,e=>{"use strict";e.s(["getVaultPda",()=>n3,"sendAndMonitorSimpleTx",()=>nY,"sendAndMonitorSwapBatched",()=>nX,"useBurnDust",()=>n0,"useMarketBuySolMeme",()=>n2,"useMarketSellSolMeme",()=>n6],350721);var t=e.i(247167),r=e.i(467034),i=e.i(127261),n=e.i(659341),a=e.i(103476),o=e.i(672464),s=e.i(265172),u=e.i(750214),l=e.i(20164),c=e.i(271645);e.i(465903);var d=e.i(700479),f=e.i(767924),p=e.i(247317),h=e.i(91204),m=e.i(942730),g=e.i(268804),b=e.i(682382),y=e.i(592e3),x=e.i(447800),A=e.i(592846),w=e.i(863568),v=e.i(354640),S=e.i(458768),k=e.i(401597),T=e.i(181937),E=e.i(245887),P=e.i(973444);e.i(490156);var I=e.i(616318),_=e.i(754825),N=e.i(542119),R=e.i(43351),O=e.i(735013),B=e.i(342271),C=e.i(944325),D=e.i(182781);e.i(255730);var F=e.i(852388),U=e.i(868904),M=e.i(900087),L=e.i(85026),q=e.i(300223),K=e.i(994447),W=e.i(918030),V=e.i(375116),G=e.i(514276),j=e.i(430483),z=e.i(885438),H=e.i(781754),X=e.i(569934),Q=e.i(796516),J=e.i(766816),Y=e.i(658765),Z=e.i(123847),$=e.i(643506),ee=e.i(450323),et=e.i(769936),er=e.i(992744),ei=e.i(457323),en=(e.i(952182),e.i(426667)),ea=e.i(353196),eo=e.i(396134),es=e.i(67654),eu=e.i(4809);let el=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ec=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ed=BigInt(1),ef=BigInt(2),ep=(e,t)=>(e+t/ef)/t,eh=(0,eo.Field)(el,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),i=BigInt(11),n=BigInt(22),a=BigInt(23),o=BigInt(44),s=BigInt(88),u=e*e*e%el,l=u*u*e%el,c=(0,eo.pow2)(l,t,el)*l%el,d=(0,eo.pow2)(c,t,el)*l%el,f=(0,eo.pow2)(d,ef,el)*u%el,p=(0,eo.pow2)(f,i,el)*f%el,h=(0,eo.pow2)(p,n,el)*p%el,m=(0,eo.pow2)(h,o,el)*h%el,g=(0,eo.pow2)(m,s,el)*m%el,b=(0,eo.pow2)(g,o,el)*h%el,y=(0,eo.pow2)(b,t,el)*l%el,x=(0,eo.pow2)(y,a,el)*p%el,A=(0,eo.pow2)(x,r,el)*u%el,w=(0,eo.pow2)(A,ef,el);if(!eh.eql(eh.sqr(w),e))throw Error("Cannot find square root");return w}}),em=(0,en.createCurve)({a:BigInt(0),b:BigInt(7),Fp:eh,n:ec,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ed*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),n=BigInt("0x100000000000000000000000000000000"),a=ep(t*e,ec),o=ep(-r*e,ec),s=(0,eo.mod)(e-a*t-o*i,ec),u=(0,eo.mod)(-a*r-o*t,ec),l=s>n,c=u>n;if(l&&(s=ec-s),c&&(u=ec-u),s>n||u>n)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:s,k2neg:c,k2:u}}}},ei.sha256),eg=(BigInt(0),{});em.ProjectivePoint;es.bytesToNumberBE;let eb=(0,ea.isogenyMap)(eh,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e)))),ey=(0,eu.mapToCurveSimpleSWU)(eh,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:eh.create(BigInt("-11"))});(0,ea.createHasher)(em.ProjectivePoint,e=>{let{x:t,y:r}=ey(eh.create(e[0]));return eb(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:eh.ORDER,m:1,k:128,expand:"xmd",hash:ei.sha256}),e.i(929544);var ex=e.i(660740);e.i(27527);let eA="undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof crypto&&void 0!==crypto.subtle,ew=void 0!==t.default&&null!=t.default.versions&&null!=t.default.versions.node,ev=async(t,r)=>{let i=r??(eA?"browser":ew?"node":"purejs");switch(i){case"browser":return(await e.A(706564)).signWithApiKey(t);case"node":return(await e.A(411590)).signWithApiKey(t);case"purejs":return(await e.A(74067)).signWithApiKey(t);default:throw Error(`Unsupported runtime: ${i}`)}},eS=e.i(890165).fetch;function ek(){return{apiPublicKey:eT(null,"apiPublicKey"),apiPrivateKey:eT(null,"apiPrivateKey"),baseUrl:eT(null,"baseUrl")}}function eT(e,t){if("string"!=typeof e||!e)throw Error(`"${t}" must be a non-empty string`);return e}function eE(e){let t=new Uint8Array(e),r="";for(let e of t)r+=String.fromCharCode(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}let eP="copy",eI="convert";function e_(e,t){return{required:!0,schema:e,derive:t}}function eN(e){return{required:!0,schema:e}}function eR(e){return{required:!1,schema:e}}let eO={appid:eR(eP),appidExclude:eR(eP),credProps:eR(eP)};eN(eP),eN(eP),eN(eI),eR(eP),eN({clientDataJSON:eN(eI),attestationObject:eN(eI),transports:e_(eP,e=>e.getTransports?.()||[])}),e_(eO,e=>e.getClientExtensionResults());let eB={type:eN(eP),id:eN(eP),rawId:eN(eI),authenticatorAttachment:eR(eP),response:eN({clientDataJSON:eN(eI),authenticatorData:eN(eI),signature:eN(eI),userHandle:eN(eI)}),clientExtensionResults:e_(eO,e=>e.getClientExtensionResults())};async function eC(e){let t=await navigator.credentials.get(e);return t.toJSON=()=>(function e(t,r,i){if(r===eP)return i;if(r===eI)return t(i);if(r instanceof Array)return i.map(i=>e(t,r[0],i));if(r instanceof Object){let n={};for(let[a,o]of Object.entries(r)){if(o.derive){let e=o.derive(i);void 0!==e&&(i[a]=e)}if(!(a in i)){if(o.required)throw Error(`Missing key: ${a}`);continue}if(null==i[a]){n[a]=null;continue}n[a]=e(t,o.schema,i[a])}return n}})(eE,eB,t),t}let eD={publicKey:{timeout:3e5,userVerification:"preferred"}};async function eF(e,t=eD){let r=await eU(e);return{...t,publicKey:{...eD.publicKey,...t.publicKey,challenge:r}}}async function eU(e){let t=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",t),n=r.Buffer.from(i).toString("hex");return new Uint8Array(r.Buffer.from(n,"utf8"))}async function eM(e,t){if(!window.PublicKeyCredential)throw Error("webauthn is not supported by this browser");let r=await eF(e,t),i=(await eC(r)).toJSON();return JSON.stringify({authenticatorData:i.response.authenticatorData,clientDataJson:i.response.clientDataJSON,credentialId:i.id,signature:i.response.signature})}let eL={},eq={redirect:"follow"};async function eK(e){let{uri:t,query:r={},substitution:i={},body:n={}}=e,a=eV({uri:t,query:r,substitution:i}),o=JSON.stringify(n),s=await eM(o,e.options);return{url:a.toString(),body:o,stamp:s}}async function eW(e){let{uri:t,method:r,headers:i={},query:n={},substitution:a={},body:o={}}=e,s=eV({uri:t,query:n,substitution:a}),{sealedBody:u,xStamp:l}=await ez({body:o}),c=await eS(s.toString(),{...eq,method:r,headers:{...eL,...i,"X-Stamp":l},body:u});if(!c.ok){let e;try{e=await c.json()}catch(e){throw Error(`${c.status} ${c.statusText}`)}throw new eX(e)}return await c.json()}function eV(e){let{uri:t,query:r,substitution:i}=e,n=function(){try{let{baseUrl:e}=ek();return e}catch(t){let{baseUrl:e}={baseUrl:eT(null,"baseUrl")};return e}}(),a=new URL(function(e,t){let r=e;for(let i of Object.keys(t)){let n=r.replaceAll(`{${i}}`,t[i]);eG(n!==r,`Substitution error: cannot find "${i}" in URI "${e}". \`substitutionMap\`: ${JSON.stringify(t)}`),r=n}return eG(!/\{.*\}/.test(r),`Substitution error: found unsubstituted components in "${r}"`),r}(t,i),n);for(let e in r){let t=r[e];if(Array.isArray(t))for(let r of t)a.searchParams.append(e,r);else a.searchParams.append(e,t??"")}return a}function eG(e,t){if(!e)throw Error(t)}function ej(e){return JSON.stringify(e)}async function ez(e){let{body:t}=e,{apiPublicKey:r,apiPrivateKey:i}=e;r||(r=ek().apiPublicKey),i||(i=ek().apiPrivateKey);let n=ej(t),a=await ev({content:n,privateKey:i,publicKey:r}),o=ej({publicKey:r,scheme:"SIGNATURE_SCHEME_TK_API_P256",signature:a});return{sealedBody:n,xStamp:(0,ex.stringToBase64urlString)(o)}}function eH(e){return e?.name==="TurnkeyClient"}class eX extends Error{constructor(e){let t=`Turnkey error ${e.code}: ${e.message}`;null!=e.details&&(t+=` (Details: ${JSON.stringify(e.details)})`),super(t),this.name="TurnkeyRequestError",this.details=e.details??null,this.code=e.code}}let eQ=e=>eW({uri:"/public/v1/query/get_activity",method:"POST",body:e.body}),eJ=(e,t)=>eK({uri:"/public/v1/query/get_activity",body:e.body,options:t}),eY=e=>eW({uri:"/public/v1/query/get_api_key",method:"POST",body:e.body}),eZ=(e,t)=>eK({uri:"/public/v1/query/get_api_key",body:e.body,options:t}),e$=e=>eW({uri:"/public/v1/query/get_api_keys",method:"POST",body:e.body}),e0=(e,t)=>eK({uri:"/public/v1/query/get_api_keys",body:e.body,options:t}),e1=e=>eW({uri:"/public/v1/query/get_attestation",method:"POST",body:e.body}),e2=(e,t)=>eK({uri:"/public/v1/query/get_attestation",body:e.body,options:t}),e4=e=>eW({uri:"/public/v1/query/get_authenticator",method:"POST",body:e.body}),e6=(e,t)=>eK({uri:"/public/v1/query/get_authenticator",body:e.body,options:t}),e3=e=>eW({uri:"/public/v1/query/get_authenticators",method:"POST",body:e.body}),e5=(e,t)=>eK({uri:"/public/v1/query/get_authenticators",body:e.body,options:t}),e8=e=>eW({uri:"/public/v1/query/get_boot_proof",method:"POST",body:e.body}),e7=(e,t)=>eK({uri:"/public/v1/query/get_boot_proof",body:e.body,options:t}),e9=e=>eW({uri:"/public/v1/query/get_gas_usage",method:"POST",body:e.body}),te=(e,t)=>eK({uri:"/public/v1/query/get_gas_usage",body:e.body,options:t}),tt=e=>eW({uri:"/public/v1/query/get_latest_boot_proof",method:"POST",body:e.body}),tr=(e,t)=>eK({uri:"/public/v1/query/get_latest_boot_proof",body:e.body,options:t}),ti=e=>eW({uri:"/public/v1/query/get_nonces",method:"POST",body:e.body}),tn=(e,t)=>eK({uri:"/public/v1/query/get_nonces",body:e.body,options:t}),ta=e=>eW({uri:"/public/v1/query/get_oauth2_credential",method:"POST",body:e.body}),to=(e,t)=>eK({uri:"/public/v1/query/get_oauth2_credential",body:e.body,options:t}),ts=e=>eW({uri:"/public/v1/query/get_oauth_providers",method:"POST",body:e.body}),tu=(e,t)=>eK({uri:"/public/v1/query/get_oauth_providers",body:e.body,options:t}),tl=e=>eW({uri:"/public/v1/query/get_onramp_transaction_status",method:"POST",body:e.body}),tc=(e,t)=>eK({uri:"/public/v1/query/get_onramp_transaction_status",body:e.body,options:t}),td=e=>eW({uri:"/public/v1/query/get_organization",method:"POST",body:e.body}),tf=(e,t)=>eK({uri:"/public/v1/query/get_organization",body:e.body,options:t}),tp=e=>eW({uri:"/public/v1/query/get_organization_configs",method:"POST",body:e.body}),th=(e,t)=>eK({uri:"/public/v1/query/get_organization_configs",body:e.body,options:t}),tm=e=>eW({uri:"/public/v1/query/get_policy",method:"POST",body:e.body}),tg=(e,t)=>eK({uri:"/public/v1/query/get_policy",body:e.body,options:t}),tb=e=>eW({uri:"/public/v1/query/get_policy_evaluations",method:"POST",body:e.body}),ty=(e,t)=>eK({uri:"/public/v1/query/get_policy_evaluations",body:e.body,options:t}),tx=e=>eW({uri:"/public/v1/query/get_private_key",method:"POST",body:e.body}),tA=(e,t)=>eK({uri:"/public/v1/query/get_private_key",body:e.body,options:t}),tw=e=>eW({uri:"/public/v1/query/get_send_transaction_status",method:"POST",body:e.body}),tv=(e,t)=>eK({uri:"/public/v1/query/get_send_transaction_status",body:e.body,options:t}),tS=e=>eW({uri:"/public/v1/query/get_smart_contract_interface",method:"POST",body:e.body}),tk=(e,t)=>eK({uri:"/public/v1/query/get_smart_contract_interface",body:e.body,options:t}),tT=e=>eW({uri:"/public/v1/query/get_user",method:"POST",body:e.body}),tE=(e,t)=>eK({uri:"/public/v1/query/get_user",body:e.body,options:t}),tP=e=>eW({uri:"/public/v1/query/get_wallet",method:"POST",body:e.body}),tI=(e,t)=>eK({uri:"/public/v1/query/get_wallet",body:e.body,options:t}),t_=e=>eW({uri:"/public/v1/query/get_wallet_account",method:"POST",body:e.body}),tN=(e,t)=>eK({uri:"/public/v1/query/get_wallet_account",body:e.body,options:t}),tR=e=>eW({uri:"/public/v1/query/list_activities",method:"POST",body:e.body}),tO=(e,t)=>eK({uri:"/public/v1/query/list_activities",body:e.body,options:t}),tB=e=>eW({uri:"/public/v1/query/list_app_proofs",method:"POST",body:e.body}),tC=(e,t)=>eK({uri:"/public/v1/query/list_app_proofs",body:e.body,options:t}),tD=e=>eW({uri:"/public/v1/query/list_fiat_on_ramp_credentials",method:"POST",body:e.body}),tF=(e,t)=>eK({uri:"/public/v1/query/list_fiat_on_ramp_credentials",body:e.body,options:t}),tU=e=>eW({uri:"/public/v1/query/list_oauth2_credentials",method:"POST",body:e.body}),tM=(e,t)=>eK({uri:"/public/v1/query/list_oauth2_credentials",body:e.body,options:t}),tL=e=>eW({uri:"/public/v1/query/list_policies",method:"POST",body:e.body}),tq=(e,t)=>eK({uri:"/public/v1/query/list_policies",body:e.body,options:t}),tK=e=>eW({uri:"/public/v1/query/list_private_key_tags",method:"POST",body:e.body}),tW=(e,t)=>eK({uri:"/public/v1/query/list_private_key_tags",body:e.body,options:t}),tV=e=>eW({uri:"/public/v1/query/list_private_keys",method:"POST",body:e.body}),tG=(e,t)=>eK({uri:"/public/v1/query/list_private_keys",body:e.body,options:t}),tj=e=>eW({uri:"/public/v1/query/list_smart_contract_interfaces",method:"POST",body:e.body}),tz=(e,t)=>eK({uri:"/public/v1/query/list_smart_contract_interfaces",body:e.body,options:t}),tH=e=>eW({uri:"/public/v1/query/list_suborgs",method:"POST",body:e.body}),tX=(e,t)=>eK({uri:"/public/v1/query/list_suborgs",body:e.body,options:t}),tQ=e=>eW({uri:"/public/v1/query/list_user_tags",method:"POST",body:e.body}),tJ=(e,t)=>eK({uri:"/public/v1/query/list_user_tags",body:e.body,options:t}),tY=e=>eW({uri:"/public/v1/query/list_users",method:"POST",body:e.body}),tZ=(e,t)=>eK({uri:"/public/v1/query/list_users",body:e.body,options:t}),t$=e=>eW({uri:"/public/v1/query/list_verified_suborgs",method:"POST",body:e.body}),t0=(e,t)=>eK({uri:"/public/v1/query/list_verified_suborgs",body:e.body,options:t}),t1=e=>eW({uri:"/public/v1/query/list_wallet_accounts",method:"POST",body:e.body}),t2=(e,t)=>eK({uri:"/public/v1/query/list_wallet_accounts",body:e.body,options:t}),t4=e=>eW({uri:"/public/v1/query/list_wallets",method:"POST",body:e.body}),t6=(e,t)=>eK({uri:"/public/v1/query/list_wallets",body:e.body,options:t}),t3=e=>eW({uri:"/public/v1/query/whoami",method:"POST",body:e.body}),t5=(e,t)=>eK({uri:"/public/v1/query/whoami",body:e.body,options:t}),t8=e=>eW({uri:"/public/v1/submit/approve_activity",method:"POST",body:e.body}),t7=(e,t)=>eK({uri:"/public/v1/submit/approve_activity",body:e.body,options:t}),t9=e=>eW({uri:"/public/v1/submit/create_api_keys",method:"POST",body:e.body}),re=(e,t)=>eK({uri:"/public/v1/submit/create_api_keys",body:e.body,options:t}),rt=e=>eW({uri:"/public/v1/submit/create_api_only_users",method:"POST",body:e.body}),rr=(e,t)=>eK({uri:"/public/v1/submit/create_api_only_users",body:e.body,options:t}),ri=e=>eW({uri:"/public/v1/submit/create_authenticators",method:"POST",body:e.body}),rn=(e,t)=>eK({uri:"/public/v1/submit/create_authenticators",body:e.body,options:t}),ra=e=>eW({uri:"/public/v1/submit/create_fiat_on_ramp_credential",method:"POST",body:e.body}),ro=(e,t)=>eK({uri:"/public/v1/submit/create_fiat_on_ramp_credential",body:e.body,options:t}),rs=e=>eW({uri:"/public/v1/submit/create_invitations",method:"POST",body:e.body}),ru=(e,t)=>eK({uri:"/public/v1/submit/create_invitations",body:e.body,options:t}),rl=e=>eW({uri:"/public/v1/submit/create_oauth2_credential",method:"POST",body:e.body}),rc=(e,t)=>eK({uri:"/public/v1/submit/create_oauth2_credential",body:e.body,options:t}),rd=e=>eW({uri:"/public/v1/submit/create_oauth_providers",method:"POST",body:e.body}),rf=(e,t)=>eK({uri:"/public/v1/submit/create_oauth_providers",body:e.body,options:t}),rp=e=>eW({uri:"/public/v1/submit/create_policies",method:"POST",body:e.body}),rh=(e,t)=>eK({uri:"/public/v1/submit/create_policies",body:e.body,options:t}),rm=e=>eW({uri:"/public/v1/submit/create_policy",method:"POST",body:e.body}),rg=(e,t)=>eK({uri:"/public/v1/submit/create_policy",body:e.body,options:t}),rb=e=>eW({uri:"/public/v1/submit/create_private_key_tag",method:"POST",body:e.body}),ry=(e,t)=>eK({uri:"/public/v1/submit/create_private_key_tag",body:e.body,options:t}),rx=e=>eW({uri:"/public/v1/submit/create_private_keys",method:"POST",body:e.body}),rA=(e,t)=>eK({uri:"/public/v1/submit/create_private_keys",body:e.body,options:t}),rw=e=>eW({uri:"/public/v1/submit/create_read_only_session",method:"POST",body:e.body}),rv=(e,t)=>eK({uri:"/public/v1/submit/create_read_only_session",body:e.body,options:t}),rS=e=>eW({uri:"/public/v1/submit/create_read_write_session",method:"POST",body:e.body}),rk=(e,t)=>eK({uri:"/public/v1/submit/create_read_write_session",body:e.body,options:t}),rT=e=>eW({uri:"/public/v1/submit/create_smart_contract_interface",method:"POST",body:e.body}),rE=(e,t)=>eK({uri:"/public/v1/submit/create_smart_contract_interface",body:e.body,options:t}),rP=e=>eW({uri:"/public/v1/submit/create_sub_organization",method:"POST",body:e.body}),rI=(e,t)=>eK({uri:"/public/v1/submit/create_sub_organization",body:e.body,options:t}),r_=e=>eW({uri:"/public/v1/submit/create_user_tag",method:"POST",body:e.body}),rN=(e,t)=>eK({uri:"/public/v1/submit/create_user_tag",body:e.body,options:t}),rR=e=>eW({uri:"/public/v1/submit/create_users",method:"POST",body:e.body}),rO=(e,t)=>eK({uri:"/public/v1/submit/create_users",body:e.body,options:t}),rB=e=>eW({uri:"/public/v1/submit/create_wallet",method:"POST",body:e.body}),rC=(e,t)=>eK({uri:"/public/v1/submit/create_wallet",body:e.body,options:t}),rD=e=>eW({uri:"/public/v1/submit/create_wallet_accounts",method:"POST",body:e.body}),rF=(e,t)=>eK({uri:"/public/v1/submit/create_wallet_accounts",body:e.body,options:t}),rU=e=>eW({uri:"/public/v1/submit/delete_api_keys",method:"POST",body:e.body}),rM=(e,t)=>eK({uri:"/public/v1/submit/delete_api_keys",body:e.body,options:t}),rL=e=>eW({uri:"/public/v1/submit/delete_authenticators",method:"POST",body:e.body}),rq=(e,t)=>eK({uri:"/public/v1/submit/delete_authenticators",body:e.body,options:t}),rK=e=>eW({uri:"/public/v1/submit/delete_fiat_on_ramp_credential",method:"POST",body:e.body}),rW=(e,t)=>eK({uri:"/public/v1/submit/delete_fiat_on_ramp_credential",body:e.body,options:t}),rV=e=>eW({uri:"/public/v1/submit/delete_invitation",method:"POST",body:e.body}),rG=(e,t)=>eK({uri:"/public/v1/submit/delete_invitation",body:e.body,options:t}),rj=e=>eW({uri:"/public/v1/submit/delete_oauth2_credential",method:"POST",body:e.body}),rz=(e,t)=>eK({uri:"/public/v1/submit/delete_oauth2_credential",body:e.body,options:t}),rH=e=>eW({uri:"/public/v1/submit/delete_oauth_providers",method:"POST",body:e.body}),rX=(e,t)=>eK({uri:"/public/v1/submit/delete_oauth_providers",body:e.body,options:t}),rQ=e=>eW({uri:"/public/v1/submit/delete_policies",method:"POST",body:e.body}),rJ=(e,t)=>eK({uri:"/public/v1/submit/delete_policies",body:e.body,options:t}),rY=e=>eW({uri:"/public/v1/submit/delete_policy",method:"POST",body:e.body}),rZ=(e,t)=>eK({uri:"/public/v1/submit/delete_policy",body:e.body,options:t}),r$=e=>eW({uri:"/public/v1/submit/delete_private_key_tags",method:"POST",body:e.body}),r0=(e,t)=>eK({uri:"/public/v1/submit/delete_private_key_tags",body:e.body,options:t}),r1=e=>eW({uri:"/public/v1/submit/delete_private_keys",method:"POST",body:e.body}),r2=(e,t)=>eK({uri:"/public/v1/submit/delete_private_keys",body:e.body,options:t}),r4=e=>eW({uri:"/public/v1/submit/delete_smart_contract_interface",method:"POST",body:e.body}),r6=(e,t)=>eK({uri:"/public/v1/submit/delete_smart_contract_interface",body:e.body,options:t}),r3=e=>eW({uri:"/public/v1/submit/delete_sub_organization",method:"POST",body:e.body}),r5=(e,t)=>eK({uri:"/public/v1/submit/delete_sub_organization",body:e.body,options:t}),r8=e=>eW({uri:"/public/v1/submit/delete_user_tags",method:"POST",body:e.body}),r7=(e,t)=>eK({uri:"/public/v1/submit/delete_user_tags",body:e.body,options:t}),r9=e=>eW({uri:"/public/v1/submit/delete_users",method:"POST",body:e.body}),ie=(e,t)=>eK({uri:"/public/v1/submit/delete_users",body:e.body,options:t}),it=e=>eW({uri:"/public/v1/submit/delete_wallet_accounts",method:"POST",body:e.body}),ir=(e,t)=>eK({uri:"/public/v1/submit/delete_wallet_accounts",body:e.body,options:t}),ii=e=>eW({uri:"/public/v1/submit/delete_wallets",method:"POST",body:e.body}),ia=(e,t)=>eK({uri:"/public/v1/submit/delete_wallets",body:e.body,options:t}),io=e=>eW({uri:"/public/v1/submit/email_auth",method:"POST",body:e.body}),is=(e,t)=>eK({uri:"/public/v1/submit/email_auth",body:e.body,options:t}),iu=e=>eW({uri:"/public/v1/submit/eth_send_raw_transaction",method:"POST",body:e.body}),il=(e,t)=>eK({uri:"/public/v1/submit/eth_send_raw_transaction",body:e.body,options:t}),ic=e=>eW({uri:"/public/v1/submit/eth_send_transaction",method:"POST",body:e.body}),id=(e,t)=>eK({uri:"/public/v1/submit/eth_send_transaction",body:e.body,options:t}),ip=e=>eW({uri:"/public/v1/submit/export_private_key",method:"POST",body:e.body}),ih=(e,t)=>eK({uri:"/public/v1/submit/export_private_key",body:e.body,options:t}),im=e=>eW({uri:"/public/v1/submit/export_wallet",method:"POST",body:e.body}),ig=(e,t)=>eK({uri:"/public/v1/submit/export_wallet",body:e.body,options:t}),ib=e=>eW({uri:"/public/v1/submit/export_wallet_account",method:"POST",body:e.body}),iy=(e,t)=>eK({uri:"/public/v1/submit/export_wallet_account",body:e.body,options:t}),ix=e=>eW({uri:"/public/v1/submit/import_private_key",method:"POST",body:e.body}),iA=(e,t)=>eK({uri:"/public/v1/submit/import_private_key",body:e.body,options:t}),iw=e=>eW({uri:"/public/v1/submit/import_wallet",method:"POST",body:e.body}),iv=(e,t)=>eK({uri:"/public/v1/submit/import_wallet",body:e.body,options:t}),iS=e=>eW({uri:"/public/v1/submit/init_fiat_on_ramp",method:"POST",body:e.body}),ik=(e,t)=>eK({uri:"/public/v1/submit/init_fiat_on_ramp",body:e.body,options:t}),iT=e=>eW({uri:"/public/v1/submit/init_import_private_key",method:"POST",body:e.body}),iE=(e,t)=>eK({uri:"/public/v1/submit/init_import_private_key",body:e.body,options:t}),iP=e=>eW({uri:"/public/v1/submit/init_import_wallet",method:"POST",body:e.body}),iI=(e,t)=>eK({uri:"/public/v1/submit/init_import_wallet",body:e.body,options:t}),i_=e=>eW({uri:"/public/v1/submit/init_otp",method:"POST",body:e.body}),iN=(e,t)=>eK({uri:"/public/v1/submit/init_otp",body:e.body,options:t}),iR=e=>eW({uri:"/public/v1/submit/init_otp_auth",method:"POST",body:e.body}),iO=(e,t)=>eK({uri:"/public/v1/submit/init_otp_auth",body:e.body,options:t}),iB=e=>eW({uri:"/public/v1/submit/init_user_email_recovery",method:"POST",body:e.body}),iC=(e,t)=>eK({uri:"/public/v1/submit/init_user_email_recovery",body:e.body,options:t}),iD=e=>eW({uri:"/public/v1/submit/oauth",method:"POST",body:e.body}),iF=(e,t)=>eK({uri:"/public/v1/submit/oauth",body:e.body,options:t}),iU=e=>eW({uri:"/public/v1/submit/oauth2_authenticate",method:"POST",body:e.body}),iM=(e,t)=>eK({uri:"/public/v1/submit/oauth2_authenticate",body:e.body,options:t}),iL=e=>eW({uri:"/public/v1/submit/oauth_login",method:"POST",body:e.body}),iq=(e,t)=>eK({uri:"/public/v1/submit/oauth_login",body:e.body,options:t}),iK=e=>eW({uri:"/public/v1/submit/otp_auth",method:"POST",body:e.body}),iW=(e,t)=>eK({uri:"/public/v1/submit/otp_auth",body:e.body,options:t}),iV=e=>eW({uri:"/public/v1/submit/otp_login",method:"POST",body:e.body}),iG=(e,t)=>eK({uri:"/public/v1/submit/otp_login",body:e.body,options:t}),ij=e=>eW({uri:"/public/v1/submit/recover_user",method:"POST",body:e.body}),iz=(e,t)=>eK({uri:"/public/v1/submit/recover_user",body:e.body,options:t}),iH=e=>eW({uri:"/public/v1/submit/reject_activity",method:"POST",body:e.body}),iX=(e,t)=>eK({uri:"/public/v1/submit/reject_activity",body:e.body,options:t}),iQ=e=>eW({uri:"/public/v1/submit/remove_organization_feature",method:"POST",body:e.body}),iJ=(e,t)=>eK({uri:"/public/v1/submit/remove_organization_feature",body:e.body,options:t}),iY=e=>eW({uri:"/public/v1/submit/set_organization_feature",method:"POST",body:e.body}),iZ=(e,t)=>eK({uri:"/public/v1/submit/set_organization_feature",body:e.body,options:t}),i$=e=>eW({uri:"/public/v1/submit/sign_raw_payload",method:"POST",body:e.body}),i0=(e,t)=>eK({uri:"/public/v1/submit/sign_raw_payload",body:e.body,options:t}),i1=e=>eW({uri:"/public/v1/submit/sign_raw_payloads",method:"POST",body:e.body}),i2=(e,t)=>eK({uri:"/public/v1/submit/sign_raw_payloads",body:e.body,options:t}),i4=e=>eW({uri:"/public/v1/submit/sign_transaction",method:"POST",body:e.body}),i6=(e,t)=>eK({uri:"/public/v1/submit/sign_transaction",body:e.body,options:t}),i3=e=>eW({uri:"/public/v1/submit/stamp_login",method:"POST",body:e.body}),i5=(e,t)=>eK({uri:"/public/v1/submit/stamp_login",body:e.body,options:t}),i8=e=>eW({uri:"/public/v1/submit/update_fiat_on_ramp_credential",method:"POST",body:e.body}),i7=(e,t)=>eK({uri:"/public/v1/submit/update_fiat_on_ramp_credential",body:e.body,options:t}),i9=e=>eW({uri:"/public/v1/submit/update_oauth2_credential",method:"POST",body:e.body}),ne=(e,t)=>eK({uri:"/public/v1/submit/update_oauth2_credential",body:e.body,options:t}),nt=e=>eW({uri:"/public/v1/submit/update_policy",method:"POST",body:e.body}),nr=(e,t)=>eK({uri:"/public/v1/submit/update_policy",body:e.body,options:t}),ni=e=>eW({uri:"/public/v1/submit/update_private_key_tag",method:"POST",body:e.body}),nn=(e,t)=>eK({uri:"/public/v1/submit/update_private_key_tag",body:e.body,options:t}),na=e=>eW({uri:"/public/v1/submit/update_root_quorum",method:"POST",body:e.body}),no=(e,t)=>eK({uri:"/public/v1/submit/update_root_quorum",body:e.body,options:t}),ns=e=>eW({uri:"/public/v1/submit/update_user",method:"POST",body:e.body}),nu=(e,t)=>eK({uri:"/public/v1/submit/update_user",body:e.body,options:t}),nl=e=>eW({uri:"/public/v1/submit/update_user_email",method:"POST",body:e.body}),nc=(e,t)=>eK({uri:"/public/v1/submit/update_user_email",body:e.body,options:t}),nd=e=>eW({uri:"/public/v1/submit/update_user_name",method:"POST",body:e.body}),nf=(e,t)=>eK({uri:"/public/v1/submit/update_user_name",body:e.body,options:t}),np=e=>eW({uri:"/public/v1/submit/update_user_phone_number",method:"POST",body:e.body}),nh=(e,t)=>eK({uri:"/public/v1/submit/update_user_phone_number",body:e.body,options:t}),nm=e=>eW({uri:"/public/v1/submit/update_user_tag",method:"POST",body:e.body}),ng=(e,t)=>eK({uri:"/public/v1/submit/update_user_tag",body:e.body,options:t}),nb=e=>eW({uri:"/public/v1/submit/update_wallet",method:"POST",body:e.body}),ny=(e,t)=>eK({uri:"/public/v1/submit/update_wallet",body:e.body,options:t}),nx=e=>eW({uri:"/public/v1/submit/verify_otp",method:"POST",body:e.body}),nA=(e,t)=>eK({uri:"/public/v1/submit/verify_otp",body:e.body,options:t}),nw=()=>eW({uri:"/tkhq/api/v1/noop-codegen-anchor",method:"POST"}),nv=()=>eK({uri:"/tkhq/api/v1/noop-codegen-anchor"}),nS=e=>eW({uri:"/tkhq/api/v1/test_rate_limits",method:"POST",body:e.body}),nk=(e,t)=>eK({uri:"/tkhq/api/v1/test_rate_limits",body:e.body,options:t});e.s(["approveActivity",()=>t8,"createApiKeys",()=>t9,"createApiOnlyUsers",()=>rt,"createAuthenticators",()=>ri,"createFiatOnRampCredential",()=>ra,"createInvitations",()=>rs,"createOauth2Credential",()=>rl,"createOauthProviders",()=>rd,"createPolicies",()=>rp,"createPolicy",()=>rm,"createPrivateKeyTag",()=>rb,"createPrivateKeys",()=>rx,"createReadOnlySession",()=>rw,"createReadWriteSession",()=>rS,"createSmartContractInterface",()=>rT,"createSubOrganization",()=>rP,"createUserTag",()=>r_,"createUsers",()=>rR,"createWallet",()=>rB,"createWalletAccounts",()=>rD,"deleteApiKeys",()=>rU,"deleteAuthenticators",()=>rL,"deleteFiatOnRampCredential",()=>rK,"deleteInvitation",()=>rV,"deleteOauth2Credential",()=>rj,"deleteOauthProviders",()=>rH,"deletePolicies",()=>rQ,"deletePolicy",()=>rY,"deletePrivateKeyTags",()=>r$,"deletePrivateKeys",()=>r1,"deleteSmartContractInterface",()=>r4,"deleteSubOrganization",()=>r3,"deleteUserTags",()=>r8,"deleteUsers",()=>r9,"deleteWalletAccounts",()=>it,"deleteWallets",()=>ii,"emailAuth",()=>io,"ethSendRawTransaction",()=>iu,"ethSendTransaction",()=>ic,"exportPrivateKey",()=>ip,"exportWallet",()=>im,"exportWalletAccount",()=>ib,"getActivities",()=>tR,"getActivity",()=>eQ,"getApiKey",()=>eY,"getApiKeys",()=>e$,"getAppProofs",()=>tB,"getAttestationDocument",()=>e1,"getAuthenticator",()=>e4,"getAuthenticators",()=>e3,"getBootProof",()=>e8,"getGasUsage",()=>e9,"getLatestBootProof",()=>tt,"getNonces",()=>ti,"getOauth2Credential",()=>ta,"getOauthProviders",()=>ts,"getOnRampTransactionStatus",()=>tl,"getOrganization",()=>td,"getOrganizationConfigs",()=>tp,"getPolicies",()=>tL,"getPolicy",()=>tm,"getPolicyEvaluations",()=>tb,"getPrivateKey",()=>tx,"getPrivateKeys",()=>tV,"getSendTransactionStatus",()=>tw,"getSmartContractInterface",()=>tS,"getSmartContractInterfaces",()=>tj,"getSubOrgIds",()=>tH,"getUser",()=>tT,"getUsers",()=>tY,"getVerifiedSubOrgIds",()=>t$,"getWallet",()=>tP,"getWalletAccount",()=>t_,"getWalletAccounts",()=>t1,"getWallets",()=>t4,"getWhoami",()=>t3,"importPrivateKey",()=>ix,"importWallet",()=>iw,"initFiatOnRamp",()=>iS,"initImportPrivateKey",()=>iT,"initImportWallet",()=>iP,"initOtp",()=>i_,"initOtpAuth",()=>iR,"initUserEmailRecovery",()=>iB,"listFiatOnRampCredentials",()=>tD,"listOauth2Credentials",()=>tU,"listPrivateKeyTags",()=>tK,"listUserTags",()=>tQ,"nOOPCodegenAnchor",()=>nw,"oauth",()=>iD,"oauth2Authenticate",()=>iU,"oauthLogin",()=>iL,"otpAuth",()=>iK,"otpLogin",()=>iV,"recoverUser",()=>ij,"rejectActivity",()=>iH,"removeOrganizationFeature",()=>iQ,"setOrganizationFeature",()=>iY,"signApproveActivity",()=>t7,"signCreateApiKeys",()=>re,"signCreateApiOnlyUsers",()=>rr,"signCreateAuthenticators",()=>rn,"signCreateFiatOnRampCredential",()=>ro,"signCreateInvitations",()=>ru,"signCreateOauth2Credential",()=>rc,"signCreateOauthProviders",()=>rf,"signCreatePolicies",()=>rh,"signCreatePolicy",()=>rg,"signCreatePrivateKeyTag",()=>ry,"signCreatePrivateKeys",()=>rA,"signCreateReadOnlySession",()=>rv,"signCreateReadWriteSession",()=>rk,"signCreateSmartContractInterface",()=>rE,"signCreateSubOrganization",()=>rI,"signCreateUserTag",()=>rN,"signCreateUsers",()=>rO,"signCreateWallet",()=>rC,"signCreateWalletAccounts",()=>rF,"signDeleteApiKeys",()=>rM,"signDeleteAuthenticators",()=>rq,"signDeleteFiatOnRampCredential",()=>rW,"signDeleteInvitation",()=>rG,"signDeleteOauth2Credential",()=>rz,"signDeleteOauthProviders",()=>rX,"signDeletePolicies",()=>rJ,"signDeletePolicy",()=>rZ,"signDeletePrivateKeyTags",()=>r0,"signDeletePrivateKeys",()=>r2,"signDeleteSmartContractInterface",()=>r6,"signDeleteSubOrganization",()=>r5,"signDeleteUserTags",()=>r7,"signDeleteUsers",()=>ie,"signDeleteWalletAccounts",()=>ir,"signDeleteWallets",()=>ia,"signEmailAuth",()=>is,"signEthSendRawTransaction",()=>il,"signEthSendTransaction",()=>id,"signExportPrivateKey",()=>ih,"signExportWallet",()=>ig,"signExportWalletAccount",()=>iy,"signGetActivities",()=>tO,"signGetActivity",()=>eJ,"signGetApiKey",()=>eZ,"signGetApiKeys",()=>e0,"signGetAppProofs",()=>tC,"signGetAttestationDocument",()=>e2,"signGetAuthenticator",()=>e6,"signGetAuthenticators",()=>e5,"signGetBootProof",()=>e7,"signGetGasUsage",()=>te,"signGetLatestBootProof",()=>tr,"signGetNonces",()=>tn,"signGetOauth2Credential",()=>to,"signGetOauthProviders",()=>tu,"signGetOnRampTransactionStatus",()=>tc,"signGetOrganization",()=>tf,"signGetOrganizationConfigs",()=>th,"signGetPolicies",()=>tq,"signGetPolicy",()=>tg,"signGetPolicyEvaluations",()=>ty,"signGetPrivateKey",()=>tA,"signGetPrivateKeys",()=>tG,"signGetSendTransactionStatus",()=>tv,"signGetSmartContractInterface",()=>tk,"signGetSmartContractInterfaces",()=>tz,"signGetSubOrgIds",()=>tX,"signGetUser",()=>tE,"signGetUsers",()=>tZ,"signGetVerifiedSubOrgIds",()=>t0,"signGetWallet",()=>tI,"signGetWalletAccount",()=>tN,"signGetWalletAccounts",()=>t2,"signGetWallets",()=>t6,"signGetWhoami",()=>t5,"signImportPrivateKey",()=>iA,"signImportWallet",()=>iv,"signInitFiatOnRamp",()=>ik,"signInitImportPrivateKey",()=>iE,"signInitImportWallet",()=>iI,"signInitOtp",()=>iN,"signInitOtpAuth",()=>iO,"signInitUserEmailRecovery",()=>iC,"signListFiatOnRampCredentials",()=>tF,"signListOauth2Credentials",()=>tM,"signListPrivateKeyTags",()=>tW,"signListUserTags",()=>tJ,"signNOOPCodegenAnchor",()=>nv,"signOauth",()=>iF,"signOauth2Authenticate",()=>iM,"signOauthLogin",()=>iq,"signOtpAuth",()=>iW,"signOtpLogin",()=>iG,"signRawPayload",()=>i$,"signRawPayloads",()=>i1,"signRecoverUser",()=>iz,"signRejectActivity",()=>iX,"signRemoveOrganizationFeature",()=>iJ,"signSetOrganizationFeature",()=>iZ,"signSignRawPayload",()=>i0,"signSignRawPayloads",()=>i2,"signSignTransaction",()=>i6,"signStampLogin",()=>i5,"signTestRateLimits",()=>nk,"signTransaction",()=>i4,"signUpdateFiatOnRampCredential",()=>i7,"signUpdateOauth2Credential",()=>ne,"signUpdatePolicy",()=>nr,"signUpdatePrivateKeyTag",()=>nn,"signUpdateRootQuorum",()=>no,"signUpdateUser",()=>nu,"signUpdateUserEmail",()=>nc,"signUpdateUserName",()=>nf,"signUpdateUserPhoneNumber",()=>nh,"signUpdateUserTag",()=>ng,"signUpdateWallet",()=>ny,"signVerifyOtp",()=>nA,"stampLogin",()=>i3,"testRateLimits",()=>nS,"updateFiatOnRampCredential",()=>i8,"updateOauth2Credential",()=>i9,"updatePolicy",()=>nt,"updatePrivateKeyTag",()=>ni,"updateRootQuorum",()=>na,"updateUser",()=>ns,"updateUserEmail",()=>nl,"updateUserName",()=>nd,"updateUserPhoneNumber",()=>np,"updateUserTag",()=>nm,"updateWallet",()=>nb,"verifyOtp",()=>nx],57264),e.i(57264);class nT extends Error{constructor(e){const{message:t,cause:r,activityId:i,activityStatus:n,activityType:a}=e;super(t),this.name="TurnkeyActivityError",this.activityId=i??void 0,this.activityStatus=n??void 0,this.activityType=a??void 0,this.cause=r??void 0}}class nE extends Error{constructor(e){const{message:t,cause:r,activityId:i,activityStatus:n,activityType:a}=e;super(t),this.name="TurnkeyActivityConsensusNeededError",this.activityId=i??void 0,this.activityStatus=n??void 0,this.activityType=a??void 0,this.cause=r??void 0}}function nP(e){let{id:t,status:r}=e;if("ACTIVITY_STATUS_CONSENSUS_NEEDED"===r)throw new nE({message:"Activity requires consensus",activityId:t,activityStatus:r});if("ACTIVITY_STATUS_COMPLETED"!==r)throw new nT({message:`Expected COMPLETED status, got ${r}`,activityId:t,activityStatus:r});return!0}function nI(e){if(null==e)throw Error(`Got unexpected ${JSON.stringify(e)}`);return e}class n_ extends X.BaseError{constructor({message:e="Turnkey activity requires consensus.",activityId:t,activityStatus:r}){super(e),this.name="TurnkeyConsensusNeededError",this.activityId=t,this.activityStatus=r}}class nN extends X.BaseError{constructor({message:e="Received unexpected Turnkey activity status.",activityId:t,activityStatus:r}){super(e),this.name="TurnkeyActivityError",this.activityId=t,this.activityStatus=r}}async function nR(e,t,r,i){let{chainId:n,nonce:a,to:o="object"}=t,s=t.contractAddress??t.address;if(!s)throw new nN({message:"Unable to sign authorization: address is undefined."});let u=await nU(e,JSON.stringify({address:s,chainId:n,nonce:a}),r,i,"PAYLOAD_ENCODING_EIP7702_AUTHORIZATION",o);return"object"===o?{address:s,chainId:n,nonce:a,r:`${u.r}`,s:`${u.s}`,v:BigInt(u.v),yParity:Number(u.v)}:u}async function nO(e,t,r,i){let n=await nU(e,t,r,i);return`${n}`}async function nB(e,t,r,i,n){let a="eip4844"===t.type?{...t,sidecars:!1}:t,o=(await r(a)).replace(/^0x/,""),s=await nD(e,o,i,n);if("eip4844"===t.type){let{r:e,s:r,v:i}=(0,Z.parseTransaction)(s);return(0,J.serializeTransaction)(t,{r:e,s:r,v:i})}return s}async function nC(e,t,r,i){return await nU(e,(0,$.serializeTypedData)(t),r,i,"PAYLOAD_ENCODING_EIP712","hex")}async function nD(e,t,r,i){let n;try{n=await nF(e,t,r,i)}catch(e){if(e instanceof nT)throw new nN({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});if(e instanceof nE)throw new n_({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});throw new nN({message:`Failed to sign: ${e.message}`})}return`0x${n}`}async function nF(e,t,r,i){if(eH(e)){let{activity:n}=await e.signTransaction({type:"ACTIVITY_TYPE_SIGN_TRANSACTION_V2",organizationId:r,parameters:{signWith:i,type:"TRANSACTION_TYPE_ETHEREUM",unsignedTransaction:t},timestampMs:String(Date.now())});return nP(n),nI(n?.result?.signTransactionResult?.signedTransaction)}{let{activity:n,signedTransaction:a}=await e.signTransaction({organizationId:r,signWith:i,type:"TRANSACTION_TYPE_ETHEREUM",unsignedTransaction:t});return nP(n),nI(a)}}async function nU(e,t,r,i,n="PAYLOAD_ENCODING_HEXADECIMAL",a="hex"){let o;try{o=await nM(e,t,r,i,n,a)}catch(e){if(e instanceof nT)throw new nN({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});if(e instanceof nE)throw new n_({message:e.message,activityId:e.activityId,activityStatus:e.activityStatus});throw new nN({message:`Failed to sign: ${e.message}`})}return o}async function nM(e,t,r,i,n,a){let o;if(eH(e)){let{activity:a}=await e.signRawPayload({type:"ACTIVITY_TYPE_SIGN_RAW_PAYLOAD_V2",organizationId:r,parameters:{signWith:i,payload:t,encoding:n,hashFunction:"HASH_FUNCTION_NO_OP"},timestampMs:String(Date.now())});nP(a),o=nI(a?.result?.signRawPayloadResult)}else{let{activity:a,r:s,s:u,v:l}=await e.signRawPayload({organizationId:r,signWith:i,payload:t,encoding:n,hashFunction:"HASH_FUNCTION_NO_OP"});nP(a),o={r:s,s:u,v:l}}return"object"===a?{r:`0x${o.r}`,s:`0x${o.s}`,v:BigInt(o.v)}:nI(function(e,t="hex"){let{r:r,s:i,v:n}=e,a=`0x${r}`,o=`0x${i}`,s=BigInt(n),u=`0x${new em.Signature((0,ee.hexToBigInt)(a),(0,ee.hexToBigInt)(o)).toCompactHex()}${0n===s?"1b":"1c"}`;return"hex"===t?u:(0,et.hexToBytes)(u)}(o,a))}var nL=e.i(828073),nq=e.i(309682),nK=e.i(823838),nW=e.i(110163),nV=e.i(831095),nG=e.i(746256);let nj="VAULTkV5rgY9WqZtvaMHvctrKMwQw8bCfSJF4nga2D4";function nz(){let e=(0,w.useTurnkeyClient)(),t=(0,o.useAtomValue)(z.evmPublicKeyAtom),r=(0,o.useAtomValue)(N.referralDataAtom),i=(0,o.useAtomValue)(N.turnkeyOrgIdAtom);return async()=>{let n=r?.re0;if(!e)throw Error("Turnkey client not found, please relogin and try again");try{if(!(await e.getWhoami()).userId)throw Error("Turnkey user ID not found, please relogin and try again")}catch(e){throw Error("Session expired, please relogin and try again")}async function a(){try{return await g.axiomApiV2.post("/claim-bnb-rewards",{walletAddress:t}),!0}catch{return!1}}async function o(){if(!n)throw Error("Account not registered for rewards, please RELOGIN");if(!e)throw Error("Turnkey client not found, please relogin and try again");if(!i)throw Error("Turnkey credentials not found, please relogin and try again");if(!t)throw Error("Target wallet address not found");let r=(0,nK.getAddress)(n),a=(0,nK.getAddress)(t),o=(0,nq.createPublicClient)({chain:nG.bsc,transport:(0,nW.http)(V.BNB_FRONTEND_RPC)}),s=null;try{let e=await g.axiomApiV2.post("/withdraw-bnb-rewards-account");await (0,H.monitorTransaction)(o,null,e.txHash,250,3e4)}catch(e){s=e}let u=await o.getBalance({address:r}),l=(0,nL.default)(u.toString());if(l.lt((0,nL.default)("1000000000000000")))throw s??Error("Minimum claim amount is 0.001 BNB");let c=await o.estimateGas({account:r,to:a,value:BigInt(1)}),d=(0,j.calculateGasCost)(V.BNB_TRANSFER_GAS_CONFIG.gasPrice,c),f=l.minus(d).minus((0,nL.default)(1));if(f.lte(0))throw Error("Insufficient balance for transfer and gas");let p=function(e){let{client:t,organizationId:r,signWith:i}=e,{ethereumAddress:n}=e;if(!i)throw new nT({message:"Missing signWith parameter"});if((0,Q.isAddress)(i))n=i;else if(!n)throw new nN({message:"Missing ethereumAddress parameter"});return(0,er.toAccount)({address:n,sign:function({hash:e}){return nO(t,e,r,i)},signMessage:function({message:e}){return nO(t,(0,Y.hashMessage)(e),r,i)},signTransaction:function(e,n){return nB(t,e,n?.serializer??J.serializeTransaction,r,i)},signTypedData:function(e){return nC(t,e,r,i)},signAuthorization:function(e){return nR(t,e,r,i)}})}({client:e,organizationId:i,signWith:r,ethereumAddress:r}),h=await o.getTransactionCount({address:r,blockTag:"latest"}),m={to:a,value:BigInt(f.toFixed(0)),gas:c,gasPrice:V.BNB_TRANSFER_GAS_CONFIG.gasPrice,nonce:h,chainId:nG.bsc.id},b=await p.signTransaction(m,{serializer:J.serializeTransaction}),y=(0,nV.keccak256)(b);(0,G.sendBscTransaction)(b,!1),await (0,H.monitorTransaction)(o,null,y,250,3e4)}let[s,u]=await Promise.allSettled([a(),o()]),l="rejected"===s.status||!1===s.value,c="rejected"===u.status;if(l&&c){if("rejected"===u.status)throw u.reason;throw Error("Failed to claim rewards")}}}function nH(){let e=(0,w.useTurnkeyClient)(),t=(0,o.useAtomValue)(_.solPublicKeyAtom),n=(0,o.useAtomValue)(N.referralDataAtom),s=(0,o.useAtomValue)(N.turnkeyOrgIdAtom),u=(0,I.useGetSafeBlockhash)();return async()=>{let o=n?.rs0;if(!e)throw Error("Turnkey client not found, please relogin and try again");try{if(!(await e.getWhoami()).userId)throw Error("Turnkey user ID not found, please relogin and try again")}catch(e){throw Error("Session expired, please relogin and try again")}async function l(){try{await g.axiomApiV2.post("/claim-sol-rewards",{walletAddress:t});return}catch(e){throw e}}async function c(){if(!o)throw Error("Account not registered for rewards, please RELOGIN");if(!e)throw Error("Turnkey client not found, please relogin and try again");if(!s)throw Error("Turnkey credentials not found, please relogin and try again");if(!t)throw Error("Target wallet address not found");let n=i.PublicKey.findProgramAddressSync([r.Buffer.from("vault"),new i.PublicKey(o).toBuffer()],new i.PublicKey(nj)),l=new i.Connection(d.HELIUS_FRONTEND_RPC_URL,"confirmed");if(await l.getBalance(n[0])/1e9-89784e-8<.001)throw Error("Minimum referral rewards claim amount is 0.001 SOL");let c=[];(0,L.addPriorityFeeInstructions)({instructions:c,computeUnits:2176,microLamports:1e6}),c.push(new i.TransactionInstruction({keys:[{pubkey:new i.PublicKey(o),isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey(t),isSigner:!1,isWritable:!0},{pubkey:n[0],isSigner:!1,isWritable:!0}],programId:new i.PublicKey(nj),data:r.Buffer.from([1])}));let f=new i.PublicKey("AxiomRYAid8ZDhS1bJUAzEaNSr69aTWB9ATfdDLfUbnc"),p=await u();if(!p)throw Error("Failed to get blockhash");let h=new i.TransactionMessage({payerKey:f,recentBlockhash:p,instructions:c}),m=new i.VersionedTransaction(h.compileToLegacyMessage()).message.serialize(),b=await e.signRawPayload({signWith:o,payload:r.Buffer.from(m).toString("hex"),encoding:"PAYLOAD_ENCODING_HEXADECIMAL",hashFunction:"HASH_FUNCTION_NOT_APPLICABLE"}),y=r.Buffer.from(b.r+b.s,"hex"),x=a.default.encode(y),A=await g.axiomApiV2.post("/withdraw-sol-rewards-account",{blockhash:p,signature:x,targetWalletAddress:t});await l.confirmTransaction(A.txHash,"confirmed")}let[f,p]=await Promise.allSettled([l(),c()]),h="rejected"===f.status,m="rejected"===p.status;if(h&&m){if("rejected"===p.status){if(p.reason?.message?.includes("Account not registered for rewards")&&"rejected"===f.status)throw f.reason;throw p.reason}throw Error("Failed to claim rewards")}}}async function nX({walletTransactions:e,numWallets:t,preset:r,toastId:n,onComplete:o,onSuccess:s,region:u,timeout:l=16,isSell:c=!1,originalTime:f,enableProcessedMonitor:h=!1,protocol:m,transactionDelayMs:y=0,pairAddress:x,refreshVanishBalances:A,refreshVanishTransactions:w}){let v,k=[],T=Math.floor(y*e.length/1e3),E=l+T,P=new Map,I=new Set,_=new Map,N=f?Date.now()-f:void 0,R=Date.now(),O=new Map;for(let t of e)t.nonceInfo&&O.set(t.nonceInfo.cachedNonce,{...t,nonceInfo:t.nonceInfo});let B=e.some(e=>e.nonceInfo);B?S.default.turboToast(`Turbo transaction in progress (${E}s)`,{toastId:n}):S.default.loading(`Attempting transaction (${E}s)`,{toastId:n});let{ws:C,wsOpenHandlers:D,wsMessageHandlers:F,cleanup:U}=nQ(),M=!1,q=async()=>{let e=[];for(let{privateKey:t,nonceInfo:r}of O.values()){let n=i.Keypair.fromSecretKey(a.default.decode(t)),o=[];(0,L.addPriorityFeeInstructions)({instructions:o,computeUnits:450,microLamports:2e7}),o.unshift(i.SystemProgram.nonceAdvance({authorizedPubkey:n.publicKey,noncePubkey:new i.PublicKey(r.account.account)}));let{base64Tx:s,signature:u}=await (0,L.compileTransaction)({instructions:o,blockhash:r.cachedNonce,signer:n}),l=O.get(r.cachedNonce);l&&l.transactions.push({base64Tx:s,provider:"none",signature:u}),e.push({base64Tx:s,signature:u,cachedNonce:r.cachedNonce}),I.add(u)}if(0===e.length)return;let t=e.map(e=>({transactions:[{base64Tx:e.base64Tx,provider:"none"}]}));for(let{signature:r,cachedNonce:i}of((0,L.sendSwapTransactionBatched)(t,{mevProtection:!1,bribeFeeSol:0,enhancedMevProtection:!1},void 0,!0),e)){let e=()=>{X(r,!1,"Transaction timed out and was cancelled",i)};(0,L.customTxMonitor)(r,e,C,D,F),k.push((0,L.monitorTransactionSignature)({signature:r,callback:e,connection:Q}))}},K=setTimeout(()=>{O.size>0&&q().catch(e=>S.default.error(`Failed to cancel: ${(0,p.getErrorMessage)(e)}`))},3e3+1e3*T),W=setTimeout(()=>{O.size>0&&q().catch(e=>S.default.error(`Second cancel failed: ${(0,p.getErrorMessage)(e)}`))},6e3+1e3*T),V=!1,G=setInterval(async()=>{if(--E>=0)V||(B?S.default.turboToast(`Turbo transaction in progress (${E}s)`,{toastId:n}):S.default.loading(`Attempting transaction (${E}s)`,{toastId:n}));else if(6===l&&E>=-3)V||S.default.turboToast(`Attempting to cancel (${3+E}s)`,{toastId:n});else{if(-4===E){S.default.warn("A transaction failed to cancel and may still be active.");let e=Array.from(O.values()).map(e=>e.nonceInfo.account);g.axiomApiV2.post("/update-nonce-accounts",{nonceAccounts:e}).catch(()=>{})}clearInterval(G),X("",!1,"Transaction timed out, try increasing priority fee/bribe/slippage",void 0,!0)}},1e3),j=e.filter(e=>e.publicKey!==b.VANISH_WALLET_ADDRESS);y>0&&j.length>1?j.forEach((e,t)=>{setTimeout(()=>{(0,L.sendSwapTransactionBatched)([{transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))}],r,u)},t*y)}):(0,L.sendSwapTransactionBatched)(j.map(e=>({transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))})),r,u);let z=new Set;function H(e,r){V||(z.add(r),z.size===t&&(V=!0,1===t?c?S.default.txSellSuccess(e,{toastId:n}):S.default.txSuccess(e,{toastId:n}):c?S.default.txSellSuccess(`All ${t} transactions succeeded`,{toastId:n}):S.default.txSuccess(`All ${t} transactions succeeded`,{toastId:n}),v=setTimeout(()=>{S.default.warn("One or more transactions may have reverted on chain."),V=!1},1e3)))}function X(i,a,l,d,f){if(!f&&(_.set(i,Date.now()),P.set(i,a),d&&O.delete(d)),(f||P.size===e.length)&&!M){for(let e of(M=!0,v&&clearTimeout(v),clearTimeout(K),clearTimeout(W),clearInterval(G),o?.(),U?.(),k))Q.removeSignatureListener(e).catch(()=>{});let i=Array.from(P.keys()).filter(e=>!0===P.get(e));i.length===t?(V||(1===t?c?S.default.txSellSuccess(l,{toastId:n}):S.default.txSuccess(l,{toastId:n}):c?S.default.txSellSuccess(`All ${t} transactions succeeded`,{toastId:n}):S.default.txSuccess(`All ${t} transactions succeeded`,{toastId:n}),V=!0),s?.(i)):i.length>0?(V&&S.default.error("One or more transactions reverted on chain."),S.default.warn(`${i.length}/${t} transactions succeeded: ${l}`,{toastId:n}),V=!0,s?.(i)):(V&&S.default.error("All transactions reverted on chain."),1===t?S.default.error(l,{toastId:n}):f?S.default.error("All transactions failed or timed out, try increasing priority fee/bribe/slippage",{toastId:n}):S.default.error(`All transactions failed and priority fees were consumed: ${l}`,{toastId:n}),V=!0),nJ(e,A,w).catch(()=>{});let a=e.map(e=>{let i=e.transactions.find(e=>P.has(e.signature)),n=i?_.get(i.signature):Date.now(),a=!!e.nonceInfo,o="";return i&&I.has(i.signature)?(o&&(o+="|"),o+="cancel"):i||(o&&(o+="|"),o+="timeout"),o=o||void 0,{signature:i?i.signature:e.transactions[0].signature,timeTakenMs:n-R,success:!!i&&P.get(i.signature),preset:r,provider:i?i.provider:e.transactions[0].provider,region:u,isTurbo:a,numWallets:t,testFlag:o,preStartTimeTakenMs:N,nonceAccount:e.nonceInfo?.account.account}});g.axiomApiV2.post("/log-tx-v3",{logs:a}).catch(()=>{})}}let Q=new i.Connection(d.HELIUS_FRONTEND_RPC_URL);try{for(let t of e)for(let e of t.transactions)(0,L.customTxMonitor)(e.signature,(r,i)=>X(e.signature,r,i,t.nonceInfo?.cachedNonce),C,D,F),k.push((0,L.monitorTransactionSignature)({signature:e.signature,callback:(r,i)=>X(e.signature,r,i,t.nonceInfo?.cachedNonce),connection:Q,protocol:m,pairAddress:x})),h&&((0,L.customTxMonitor)(e.signature+"-fast",(t,r)=>{t&&H(r,e.signature)},C,D,F),k.push((0,L.monitorTransactionSignature)({signature:e.signature,callback:(t,r)=>{t&&H(r,e.signature)},connection:Q,commitment:"processed",protocol:m,pairAddress:x})))}catch(e){S.default.error(`Error monitoring transactions: ${(0,p.getErrorMessage)(e)}`)}}function nQ(){let e=(()=>{try{let e=JSON.parse(localStorage.getItem("regionsV4")??"{}");return(0,C.getRegionUrl)(e.name)}catch{return(0,C.getRegionUrl)(C.Region.GLOBAL)}})(),r=new WebSocket(t.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD?e+"?localhost-password="+t.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD:e),i=[],n=[];return r.onopen=()=>{for(let e of i)e()},r.onmessage=e=>{for(let t of n)t(e)},{ws:r,wsOpenHandlers:i,wsMessageHandlers:n,cleanup:()=>{try{(r.readyState===WebSocket.OPEN||r.readyState===WebSocket.CONNECTING)&&r.close()}catch{}}}}async function nJ(e,t,r){try{let i=[];for(let t of e){if(t.publicKey!==b.VANISH_WALLET_ADDRESS)continue;let e=t.transactions[0];i.push((0,y.safeCommitVanishAction)(e.signature).catch(()=>{}))}i.length>0&&(await Promise.all(i),t&&await Promise.all([t(),r?.()]))}catch(e){S.default.error(`Error handling Vanish confirmations: ${(0,p.getErrorMessage)(e)}`)}}async function nY(e,t,r,i){let n,{ws:a,wsOpenHandlers:o,wsMessageHandlers:s,cleanup:u}=nQ(),l=16;S.default.loading(`Attempting transaction (${l}s)`,{toastId:t});let c=setInterval(()=>{--l>=0?S.default.loading(`Attempting transaction (${l}s)`,{toastId:t}):(S.default.error("Transaction timed out",{toastId:t}),r?.(),u?.(),clearInterval(c))},1e3);try{n=await (0,L.sendSimpleSolTransaction)(e)}catch(e){S.default.error(`Transaction failed while sending: ${(0,p.getErrorMessage)(e)}`,{toastId:t}),clearInterval(c),r?.();return}let d=!1;function f(e,a){d||(clearInterval(c),e?(S.default.success(a,{toastId:t}),i?.(n)):S.default.error(a,{toastId:t}),d=!0,r?.(),u?.())}try{(0,L.customTxMonitor)(n,f,a,o,s),(0,L.monitorTransactionSignature)({signature:n,callback:f})}catch(e){S.default.error(`Error monitoring transaction: ${(0,p.getErrorMessage)(e)}`)}}e.s(["VAULT_PROGRAM_ADDRESS",0,nj,"useClaimBnbRewards",()=>nz,"useClaimSolRewards",()=>nH],930456);let nZ=(e,t,r)=>{if(!e)throw Error("Wallet could not be found");if(!e.publicKey)throw Error("Wallet public key could not be found");if(!e.privateKey)throw Error("Wallet details could not be found. Re-login if this issue persists.");return{publicKey:e.publicKey,privateKey:e.privateKey,balanceSol:r?.balanceSol??0,tokenAccounts:Array.from(t?.values()??[])}};function n$(e){return async()=>{e(),await (0,h.sleep)(1e3),e()}}function n0(){let e=(0,o.useAtomValue)(I.blockhashAtom),t=(0,v.useRefreshBalancesSol)(),r=(0,o.useAtomValue)(_.monitoredSolWalletsAtom),i=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.tokenAccountsAtom),[])),n=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.solBalancesAtom),[])),{t:a}=(0,A.useTranslation)();return async function(o){let s=async()=>{await n$(()=>t(o.walletAddress))(),o.onComplete?.()};if("pumpCmXqMfrsAkQ5r49WcJnRayYRqmXz6ae8H7H9Dfn"===o.tokenAddress||o.tokenAddress===f.WSOL_TOKEN_ADDRESS||o.tokenAddress===f.USDC_TOKEN_ADDRESS||o.tokenAddress===f.USD1_TOKEN_ADDRESS||o.tokenAddress===f.USDT_TOKEN_ADDRESS||o.tokenAddress===K.AXIOM_LST_MINT)return void S.default.error(a("You are not allowed to burn this token"));let u=[],l=S.default.loading("Attempting to burn dust...",{duration:1/0});for(let t of o.walletAddress)try{let a=r.find(e=>e.publicKey===t);if(!a)throw Error("Wallet could not be found");let s=await (0,E.getSafeBlockhash)(e);if(!s)throw Error("Blockhash could not be found");let l=i();if(0===Number(l.data.get(a.publicKey)?.get(o.tokenAddress)?.balanceRaw??0))continue;let c=n(),d=await (0,F.createBurnDustTx)(nZ(a,l.data.get(a.publicKey),c.data.get(a.publicKey)),o.tokenAddress,s);u.push(d)}catch(e){S.default.error(`A transaction failed to generate: ${(0,p.getErrorMessage)(e)}`)}if(0===u.length)return void S.default.error(a("No burns executed"),{toastId:l});let c=[];for(let e of u){let t=await (0,L.sendSimpleSolTransaction)(e);if(!t)throw Error(a("Failed to send transaction"));c.push(t)}let d=new Promise((e,t)=>{setTimeout(()=>{t(Error(a("One or more transactions timed out")))},6e4)});try{await Promise.race([Promise.all(c.map(e=>new Promise((t,r)=>{(0,L.monitorTransactionSignature)({signature:e,callback:(e,i)=>{e?t(!0):r(Error(i))}})}))),d]),S.default.success(a("Dust burned successfully"),{toastId:l})}catch(e){S.default.error(`Error burning dust: ${(0,p.getErrorMessage)(e)}`,{toastId:l})}s()}}let n1=(e,t)=>{if(e.bribeFeeSol>=.001)if(t){let t=[];e.enhancedMevProtection||e.mevProtection,t.push("0xslot","temporal");let r=e.bribeFeeSol+e.priorityFeeSol;return r>=.002&&e.bribeFeeSol/r<L.BRIBE_PREFERED_RATIO&&t.push("temporal-bribe"),t}else if(e.enhancedMevProtection)if(.001!==e.bribeFeeSol)return["temporal"];else return .95>Math.random()?["temporal"]:["0xslot"];else if(e.mevProtection)if(.001!==e.bribeFeeSol)return["temporal"];else return .95>Math.random()?["temporal"]:["0xslot"];else if(.001!==e.bribeFeeSol)return["temporal"];else return .95>Math.random()?["temporal"]:["0xslot"];if(e.bribeFeeSol>=1e-4)if(!t)return["0xslot"];else if(e.mevProtection)return["0xslot","jito","astralane"];else return["0xslot","jito","astralane"];if(e.bribeFeeSol>=1e-5)if(t)return["astralane","jito"];else return["astralane"];return e.bribeFeeSol>=1e-6?["jito"]:["none"]};function n2(){let e=(0,v.useRefreshBalancesSol)(),t=(0,B.useGetSolPreset)(),r=(0,o.useSetAtom)(_.recentSignaturesAtom),n=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.recentSignaturesAtom),[])),a=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.selectedSolWalletsAtom),[])),s=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.buyVarianceAtom),[])),d=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.transactionDelayMultiWalletAtom),[])),f=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.monitoredSolWalletsAtom),[])),h=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(C.regionInfoAtom),[])),g=(0,I.useGetSafeBlockhash)(),y=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.turboWalletsAtom),[])),A=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.solNoncesAtom),[])),w=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.tokenAccountsAtom),[])),T=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.solBalancesAtom),[])),E=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(N.rewardsPercentageAtom),[])),P=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(N.referralDataAtom),[])),O=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(W.referredTokenAtom),[])),[F]=(0,D.useSettingsStable)("disableTradeWarnings",!1,l.default),[M]=(0,D.useSettingsStable)("enableProcessedMonitor",!0,l.default),L=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(R.usdPerSolAtom),[])),K=(0,m.useVanishRefresh)(),V=(0,m.useVanishTransactionsRefresh)(),{monitorVanishTransactions:G}=(0,q.useVanishTxUtils)();return(0,c.useCallback)(async o=>{let u,l=Date.now();if(o.amountSol<1e-4){S.default.error("Minimum buy amount is 0.0001 SOL"),o.onComplete?.();return}let c=a(),m=f(),v=y(),I=A(),_=h(),N=w(),R=T(),B=new Map,C=!1,D=!1;for(let e of c)v.includes(e)&&(C=!0),e===b.VANISH_WALLET_ADDRESS&&(D=!0);for(let e of c){if(!v.includes(e))continue;let t=I.get(e)?.filter(e=>e.available)||[];if(t.length>0){let r=Math.floor(Math.random()*t.length),i=t[r];B.set(e,{account:i,cachedNonce:i.nonce,used:!1}),i.available=!1}}let q=()=>{for(let e of(o.onComplete?.(),B.values()))e.cachedNonce!==e.account.nonce||e.used||(e.account.available=!0)},W=async()=>{q(),await n$(()=>e(c.filter(e=>e!==b.VANISH_WALLET_ADDRESS)))()},j=t("buy",o.presetType),z=B.size===c.length?6:D?60:16,H=C&&B.size>0?S.default.turboToast(`Turbo transaction in progress (${z}s)`,{duration:1/0}):S.default.loading(`Attempting transaction (${z}s)`,{duration:1/0}),X=await g();if(!X){S.default.error("Blockhash could not be found",{toastId:H}),q();return}if(o.amountSol<=0){S.default.error("Amount must be greater than 0",{toastId:H}),q();return}try{u=await (0,U.fillPairInfo)(o.pairInfo)}catch(e){S.default.error(`Error filling pair info: ${(0,p.getErrorMessage)(e)}`,{toastId:H}),q();return}let Q=new Set(n()),J=P(),Y=O(),Z={userRewardsPercentage:E(),referralRewardsPercentage:J?.r??0,referralAddress:n3(J?.rs1),referralLevel2Address:n3(J?.rs2),referralLevel3Address:n3(J?.rs3),tokenReferralAddress:u.tokenAddress===Y?.tokenAddress?n3(Y?.referrerSolAddress):null},$=async(e,t)=>{let r=null;try{let n=m.find(t=>t.publicKey===e);if(!n)throw Error("Wallet could not be found");r=nZ(n,N.data.get(n.publicKey),R.data.get(n.publicKey));let a=B.get(e)?.account,s=a?i.SystemProgram.nonceAdvance({authorizedPubkey:new i.PublicKey(e),noncePubkey:new i.PublicKey(a.account)}):void 0,l=n1(j,!!a),c=await (0,U.generateSolMemeSwapTx)({swapParams:{type:"buy",amountSol:t,pairInfo:u,supplementalData:o.supplementalData},preset:j,wallet:r,blockhash:a?a.nonce:X,providers:l,nonceInstruction:s,skipLiquidityCheck:F(),rewardsData:Z,usdPerSol:L()??x.FALLBACK_USD_PER_SOL}),d=[];for(let e=0;e<c.length;e++){let{base64Tx:t,signature:r}=c[e];if(Q.has(r))throw Error("Transaction already sending...");d.push({base64Tx:t,signature:r,provider:l[e]})}if(a){let t=B.get(e);t&&(t.used=!0)}return{walletTransactions:{transactions:d,privateKey:r.privateKey,publicKey:e,nonceInfo:a?{account:a,cachedNonce:a.nonce}:void 0}}}catch(e){return{error:(0,p.getErrorMessage)(e)}}},ee=new Map;try{let e=new Map(c.map(e=>[e,(R.data.get(e)?.balanceSol??0)*1e9]));if((ee=(0,k.distributeAmount)(Math.floor(1e9*o.amountSol),e,s())).size!==c.length)throw Error("Amounts and selected wallets length mismatch")}catch(e){S.default.error(`Error distributing amount: ${(0,p.getErrorMessage)(e)}`,{toastId:H}),q();return}let et=[],er=[],ei=Array.from(ee.entries()).map(([e,t])=>({walletAddress:e,amount:t/1e9})).filter(({amount:e})=>e>0).sort((e,t)=>t.amount-e.amount);if(await Promise.all(ei.map(async({walletAddress:e,amount:t})=>{let r=await $(e,t);"error"in r?er.push(r.error):et.push(r.walletTransactions)})),Q=new Set(n()),r(e=>[...e,...et.flatMap(({transactions:e})=>e.filter(({signature:e})=>!Q.has(e)).map(({signature:e})=>e))]),0===et.length){0===er.length?S.default.error("No transactions to send",{toastId:H}):1===er.length?S.default.error(`Transaction failed to send: ${er[0]}`,{toastId:H}):S.default.error(`Transactions failed to send: ${er.join(", ")}`,{toastId:H}),q();return}G(et),nX({walletTransactions:et,numWallets:c.length,preset:j,toastId:H,timeout:z,onComplete:W,onSuccess:o.onSuccess,region:_.name,isSell:!1,originalTime:l,enableProcessedMonitor:M(),protocol:u.protocol,transactionDelayMs:d(),pairAddress:u.pairAddress,refreshVanishBalances:K,refreshVanishTransactions:()=>V(u.tokenAddress,u.pairAddress)})},[a,L,K,V,f,y,A,h,w,T,t,g,n,r,e,F,E,M,s,d,G])}let n4=(0,s.atomWithStorage)("fp1",!1,void 0,{getOnInit:!0});function n6(){let e=(0,B.useGetSolPreset)(),t=(0,v.useRefreshBalancesSol)(),r=(0,o.useAtomValue)(N.turnkeyOrgIdAtom),a=(0,w.useTurnkeyClient)(),s=(0,o.useAtomValue)(n4),d=(0,o.useSetAtom)(n4),f=(0,o.useSetAtom)(_.recentSignaturesAtom),y=(0,u.useAtomCallback)(e=>e(_.recentSignaturesAtom)),A=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.selectedSolWalletsAtom),[])),k=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.monitoredSolWalletsAtom),[])),E=(0,I.useGetSafeBlockhash)(),F=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(C.regionInfoAtom),[])),L=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.turboWalletsAtom),[])),K=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.solNoncesAtom),[])),V=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.tokenAccountsAtom),[])),G=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(_.solBalancesAtom),[])),j=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(N.rewardsPercentageAtom),[])),z=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(N.referralDataAtom),[])),H=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(W.referredTokenAtom),[])),[X]=(0,D.useSettingsStable)("enableProcessedMonitor",!0,l.default),Q=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(R.usdPerSolAtom),[])),J=(0,m.useVanishRefresh)(),Y=(0,m.useVanishTransactionsRefresh)(),Z=(0,u.useAtomCallback)((0,c.useCallback)(e=>e(O.ordersAtom),[])),$=(0,M.useCancelOrders)(),{monitorVanishTransactions:ee}=(0,q.useVanishTxUtils)();return(0,c.useCallback)(async o=>{let u,l=e("sell"),c=Date.now(),m=o.overrideWallets?o.overrideWallets:A(),w=k(),v=L(),I=K(),_=F(),N=V(),R=G(),O=new Map,B=!1,C=!1;for(let e of m)v.includes(e)&&(B=!0),e===b.VANISH_WALLET_ADDRESS&&(C=!0);let D=o.overrideWallets?.filter(e=>m.includes(e))??m;if(0===D.length){S.default.error("No wallets selected"),o.onComplete?.();return}try{u=await (0,U.fillPairInfo)(o.pairInfo)}catch(e){S.default.error(`Error filling pair info: ${(0,p.getErrorMessage)(e)}`),o.onComplete?.();return}let M=null;if("percentage"!==o.amount.units)try{M=function(e,t,r,i,a){let o,s=new Map;if("solana"===e.units)try{o=(0,T.estimateSellInverse)({protocol:t.protocol,targetNativeAmount:e.amountSol,liquidityNative:t.liquiditySol,liquidityToken:t.liquidityToken,decimals:t.tokenDecimals,protocolDetails:t.protocolDetails,usdPerNative:r})}catch(e){throw e}else o=(0,P.newSafeBN)(e.amountTokens*10**t.tokenDecimals);if(o.isZero())throw Error("Must sell more than 0 tokens");let u=new n.default(0);for(let e of a){let r=i.get(e),n=r?.get(t.tokenAddress),a=(0,P.newSafeBN)(n?.balanceRaw??"0");u=u.add(a)}if(o.gt(u))if(o.gt(u.mul((0,P.newSafeBN)(10100)).div((0,P.newSafeBN)(1e4))))if("solana"===e.units)throw Error(`Not enough tokens to sell for ${e.amountSol} SOL`);else throw Error(`Not enough tokens to sell for ${e.amountTokens} tokens`);else o=u;for(let e of a){if(o.isZero())break;let r=i.get(e),n=r?.get(t.tokenAddress),a=(0,P.newSafeBN)(n?.balanceRaw??"0"),u=a.gt(o)?o:a;if(s.set(e,(0,P.fromSafeBN)(u)/10**t.tokenDecimals),u.lt(o))o=o.sub(u);else break}return s}(o.amount,u,Q()??x.FALLBACK_USD_PER_SOL,N.data,D),D=Array.from(M.keys())}catch(e){S.default.error(`Error getting tokens to sell: ${(0,p.getErrorMessage)(e)}`),o.onComplete?.();return}for(let e of D){if(!v.includes(e))continue;let t=I.get(e)?.filter(e=>e.available)||[];if(t.length>0){let r=Math.floor(Math.random()*t.length),i=t[r];O.set(e,{account:i,cachedNonce:i.nonce,used:!1}),i.available=!1}}let q=()=>{for(let e of(o.onComplete?.(),O.values()))e.cachedNonce!==e.account.nonce||e.used||(e.account.available=!0)},W=O.size===D.length?6:C?60:16,et=B&&O.size>0?S.default.turboToast(`Turbo transaction in progress (${W}s)`,{duration:1/0}):S.default.loading(`Attempting transaction (${W}s)`,{duration:1/0}),er=async()=>{q(),n$(()=>t(D.filter(e=>e!==b.VANISH_WALLET_ADDRESS)))().catch(()=>{});try{if(a&&!s){let e=await a.getPolicies();e.policies.find(e=>"Solana Close Positions V2"===e.policyName)||await a.createPolicy({policyName:"Solana Close Positions V2",effect:"EFFECT_ALLOW",condition:`solana.tx.account_keys[0] == 'AxiomRYAid8ZDhS1bJUAzEaNSr69aTWB9ATfdDLfUbnc' &&
                solana.tx.instructions.all(inst,
                  (
                    inst.program_key in ['TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA', 'TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb'] &&
                    inst.instruction_data_hex[0..2] == '09'
                  ) ||
                  inst.program_key == 'ComputeBudget111111111111111111111111111111'
                )`,notes:"Allows any user to close empty Solana token accounts via AxiomR"});let t=e.policies.find(e=>"Solana Close Positions"===e.policyName);t&&await a.deletePolicy({policyId:t.policyId}),d(!0)}}catch{}g.axiomApiV2.post("/handle-position-close-v2",{walletAddresses:D,subOrgId:r}).catch(()=>{}),await (0,h.sleep)(750);let e=Z(),i=u.tokenAddress,n=[];for(let t of e)if("Active"===t.status&&t.tokenAddress===i&&D.includes(t.walletAddress)){let e=N.data.get(t.walletAddress),r=e?.get(i),a=Number(r?.balanceRaw??0);t.uiType.startsWith("Sell")&&0===a&&n.push(t.id)}n.length>0&&(S.default.loading("Cancelling open orders for token",{toastId:"cancel-open-orders",duration:1/0}),await $(n),S.default.success("Open orders for token cancelled",{toastId:"cancel-open-orders"}))},ei=await E();if(!ei){S.default.error("Blockhash could not be found",{toastId:et}),q();return}let en=new Set(y()),ea=z(),eo=H(),es={userRewardsPercentage:j(),referralRewardsPercentage:ea?.r??0,referralAddress:n3(ea?.rs1),referralLevel2Address:n3(ea?.rs2),referralLevel3Address:n3(ea?.rs3),tokenReferralAddress:u.tokenAddress===eo?.tokenAddress?n3(eo?.referrerSolAddress):null},eu=async e=>{try{let r,n=async t=>{let r=t.find(t=>t.publicKey===e);if(!r)throw Error("Wallet could not be found");let n="percentage"===o.amount.units?o.amount:{units:"tokens",amountTokens:M?.get(e)??0},a=nZ(r,N.data.get(r.publicKey),R.data.get(r.publicKey)),s=O.get(e)?.account,c=n1(l,!!s),d=s?i.SystemProgram.nonceAdvance({authorizedPubkey:new i.PublicKey(e),noncePubkey:new i.PublicKey(s.account)}):void 0,f=await (0,U.generateSolMemeSwapTx)({swapParams:{...o,type:"sell",pairInfo:u,amount:n},preset:l,wallet:a,blockhash:s?s.nonce:ei,providers:c,nonceInstruction:d,rewardsData:es,usdPerSol:Q()??x.FALLBACK_USD_PER_SOL}),p=[];for(let e=0;e<f.length;e++){let{base64Tx:t,signature:r}=f[e];if(en.has(r))throw Error("Transaction already sending...");p.push({base64Tx:t,signature:r,provider:c[e]})}if(s){let t=O.get(e);t&&(t.used=!0)}return{walletTransactions:{transactions:p,privateKey:a.privateKey,publicKey:e,nonceInfo:s?{account:s,cachedNonce:s.nonce}:void 0}}};try{r=await n(w)}catch(i){if("Token balance not found"===(0,p.getErrorMessage)(i))if(1===m.length){if(!await t([e],!0))throw Error("You have 0 tokens");r=await n(w)}else throw t([e]).catch(()=>{}),i;else throw i}return r}catch(e){return{error:(0,p.getErrorMessage)(e)}}},el=[],ec=[];if(await Promise.all(D.map(async e=>{let t=await eu(e);"error"in t?ec.push(t.error):el.push(t.walletTransactions)})),en=new Set(y()),f(e=>[...e,...el.flatMap(({transactions:e})=>e.filter(({signature:e})=>!en.has(e)).map(({signature:e})=>e))]),0===el.length){0===ec.length?S.default.error("No transactions to send",{toastId:et}):1===ec.length?S.default.error(`Transaction failed to send: ${ec[0]}`,{toastId:et}):S.default.error(`Transactions failed to send: ${ec.join(", ")}`,{toastId:et}),q();return}ee(el),nX({walletTransactions:el,numWallets:D.length,preset:l,toastId:et,timeout:W,onComplete:er,onSuccess:o.onSuccess,region:_.name,isSell:!0,originalTime:c,enableProcessedMonitor:X(),refreshVanishBalances:J,refreshVanishTransactions:()=>Y(u.tokenAddress,u.pairAddress),protocol:u.protocol,pairAddress:u.pairAddress})},[e,A,k,L,K,F,V,G,E,y,f,X,J,Y,r,Z,t,a,s,d,$,j,Q,ee])}function n3(e){return e?i.PublicKey.findProgramAddressSync([r.Buffer.from("vault"),new i.PublicKey(e).toBuffer()],new i.PublicKey(nj))[0].toBase58():null}},12917,e=>{"use strict";var t=e.i(843476),r=e.i(271645),i=e.i(657688);e.s(["GlobalInputBoxLarge",0,({labelLeft:e,labelRight:n,placeholder:a,onChange:o,value:s,displayValue:u,bgColor:l="bg-transparent",rightElement:c,token:d,tokenIcon:f,disabled:p=!1})=>{let h=r.default.useRef(null),m=()=>c||(d&&f?(0,t.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,t.jsx)(i.default,{src:f,alt:d,width:18,height:18}),(0,t.jsx)("span",{className:"text-textPrimary text-[18px] leading-[23px] font-normal whitespace-nowrap truncate max-w-[100px]",children:d})]}):null);return(0,t.jsxs)("div",{className:`${l} hover:cursor-text border-[1px] border-secondaryStroke flex flex-col w-full h-[64px] p-[8px] justify-between items-center rounded-[4px] hover:bg-secondaryStroke/20 hover:border-secondaryStroke/80 focus-within:bg-secondaryStroke/20 focus-within:border-secondaryStroke/80 transition-all duration-[150ms] ease-in-out`,onClick:()=>h.current?.focus(),children:[(0,t.jsxs)("div",{className:"flex flex-row w-full justify-start items-center",children:[(0,t.jsx)("div",{className:"flex flex-row flex-1 h-full justify-start items-center",children:(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal",children:e})}),(0,t.jsx)("div",{className:"flex flex-row h-full justify-center items-center",children:(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:n})})]}),(0,t.jsxs)("div",{className:"flex flex-row w-full justify-start items-center",children:[(0,t.jsx)("div",{className:"flex flex-row flex-1 min-w-0 justify-start items-center",children:(0,t.jsx)("input",{ref:h,className:"bg-transparent w-full min-w-0 text-textPrimary text-[18px] leading-[23px] font-normal focus:outline-none placeholder:text-textTertiary placeholder:text-[18px] placeholder:leading-[16px] disabled:opacity-50 disabled:cursor-not-allowed",placeholder:a,value:u||s||"",onChange:e=>o(e.target.value),disabled:p})}),m()&&(0,t.jsx)("div",{className:"flex flex-row gap-[4px] justify-end items-center flex-shrink-0 ml-2",children:m()})]})]})}])},31943,e=>{"use strict";e.s(["default",()=>N,"fromNotifAtom",()=>_,"getTokenBalanceWeb3",()=>I]);var t=e.i(843476),r=e.i(127261),i=e.i(659341),n=e.i(846932),a=e.i(639372),o=e.i(672464),s=e.i(750214),u=e.i(657688),l=e.i(271645);e.i(465903);var c=e.i(700479),d=e.i(994447),f=e.i(268804),p=e.i(592846),h=e.i(542119),m=e.i(43351);e.i(255730);var g=e.i(754825),b=e.i(350721),y=e.i(223560),x=e.i(12917),A=e.i(458768),w=e.i(181937),v=e.i(973444),S=e.i(879197);let k=new i.default(25),T=new i.default(1e4),E="swap-usdc-toast",P=new r.Connection(c.HELIUS_FRONTEND_RPC_URL);async function I(e){try{let t=await P.getTokenAccountBalance(e);if(null==t.value.uiAmount)return -1;return t.value.uiAmount}catch{return -1}}let _=(0,a.atom)(!1);function N({onClose:e}){let{t:a}=(0,p.useTranslation)(),v=(0,o.useAtomValue)(g.solPrivateKeyAtom),k=(0,o.useAtomValue)(g.solPublicKeyAtom),T=(0,o.useAtomValue)(g.solBalanceAtom),P=(0,o.useAtomValue)(m.usdPerSolAtom),I=(0,s.useAtomCallback)(e=>e(h.rewardsPercentageAtom)),N=(0,s.useAtomCallback)(e=>e(h.referralDataAtom)),[O,B]=(0,o.useAtom)(_),[C,D]=(0,l.useState)(null),[F,U]=(0,l.useState)(""),[M,L]=(0,l.useState)(""),[q,K]=(0,l.useState)(!1),W=new r.Connection(c.HELIUS_FRONTEND_RPC_URL),V=(0,o.useAtomValue)(g.tokenAccountsAtom),G=(0,l.useMemo)(()=>Number(V.data.get(k)?.get(d.USDC_MINT)?.balanceRaw??0)/1e6,[V,k]),[j,z]=(0,l.useState)(!1),H=(0,o.useSetAtom)(g.recentSignaturesAtom),X=(0,s.useAtomCallback)(e=>e(g.recentSignaturesAtom));(0,l.useEffect)(()=>{(async()=>{try{let e=await f.axiomApiV2.get("/swap-info",{tokenAddress:"So11111111111111111111111111111111111111112",pairAddress:"58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2"});D(e)}catch(e){console.error(a("Error fetching swap info:"),e)}})()},[a]);let Q=e=>{if(""===e){U(e),L("");return}if(!/^\d*\.?\d*$/.test(e)){U(""),L("");return}if("."===e){U("0."),L("0.");return}if(!P||null===G||null===T||!C){U(""),L("");return}O?Number(e)>Number(G)?(U(G.toString().replace(/\.?0+$/,"")),L(Math.max(0,.99*(0,w.estimateSell)({protocol:C.protocol,percentage:100,tokenBalance:Number(G),liquidityNative:C.liquiditySol,liquidityToken:C.liquidityToken,decimals:6,protocolDetails:C.protocolDetails,supplementalData:null,usdPerNative:P})).toFixed(9).replace(/\.?0+$/,""))):(U(e),L(Math.max(0,.99*(0,w.estimateSell)({protocol:C.protocol,percentage:100,tokenBalance:Number(e),liquidityNative:C.liquiditySol,liquidityToken:C.liquidityToken,decimals:6,protocolDetails:C.protocolDetails,supplementalData:null,usdPerNative:P})).toFixed(9).replace(/\.?0+$/,""))):Number(e)>T-.0067-.001105?(U(Math.max(0,T-.0067-.001105).toFixed(9).replace(/\.?0+$/,"")),L(Math.max(0,.99*R(T-.0067-.001105,C.liquiditySol,C.liquidityToken)).toFixed(6).replace(/\.?0+$/,""))):(U(e),L(Math.max(0,.99*R(Number(e),C.liquiditySol,C.liquidityToken)).toFixed(6).replace(/\.?0+$/,"")))},J=async()=>{if(!C)return void A.default.error(a("Swap info not yet loaded, try again in a second."),{toastId:E});if(!v||!k||!P||null===G||null===T)return void A.default.error(a("Something went wrong, please try again."),{toastId:E});if(!Number(F)||!Number(M))return void A.default.error(a("Invalid input"),{toastId:E});if(T<.0067)return void A.default.error(a("Insufficient SOL to pay for gas"),{toastId:E});if(O&&Number(F)>Number(G))return void A.default.error(a("Insufficient USDC balance"),{toastId:E});if(!O&&Number(F)>Number(T))return void A.default.error(a("Insufficient SOL balance"),{toastId:E});K(!0);let t=O?"sell":"buy",r="buy"===t?9:6;if(("buy"===t?Number(F)-.0067:Number(F))<=0){A.default.error(a("Not enough tokens to proceed after gas deduction."),{toastId:E}),K(!1);return}let n=new i.default((Number(F)*10**r).toFixed(0)),o={slippage:1,priorityFeeSol:1e-4,bribeFeeSol:.001,mevProtection:!0,enhancedMevProtection:!0,customRpcUrl:""},s=15;A.default.loading(`${a("Swapping on Raydium...")} (${s}s)`,{toastId:E});let u=setInterval(()=>{--s>0?A.default.loading(`${a("Swapping on Raydium...")} (${s}s)`,{toastId:E}):(clearInterval(u),A.default.error(a("Timed out while trying to initiate swap"),{toastId:E}))},1e3),l=N(),c={userRewardsPercentage:I(),referralRewardsPercentage:l?.r??0,referralAddress:(0,b.getVaultPda)(l?.rs1),referralLevel2Address:(0,b.getVaultPda)(l?.rs2),referralLevel3Address:(0,b.getVaultPda)(l?.rs3),tokenReferralAddress:null};try{let r=await W.getLatestBlockhash(),[i]=await (0,y.swapRaydium)({pairAddress:C.pairAddress,tokenAddress:C.tokenAddress,type:t,amount:n,tokenDecimals:C.tokenDecimals,liquiditySol:C.liquiditySol,liquidityToken:C.liquidityToken,userTokenAccountAddress:V.data.get(k)?.get(C.tokenAddress)?.tokenAccountAddress,protocolDetails:C.protocolDetails,blockhash:r.blockhash,swapSettings:o,wallet:{publicKey:k,privateKey:v},rewardsData:c,usdPerSol:P}),{signature:s,base64Tx:u}=i,l=X();if(l.includes(s))return void A.default.error(a("Transaction already sending..."),{toastId:E});H([...l.slice(-25),s]),await (0,b.sendAndMonitorSwapBatched)({walletTransactions:[{transactions:[{base64Tx:u,provider:"jito",signature:s}],privateKey:v,publicKey:k}],preset:o,toastId:E,numWallets:1,onComplete:()=>{K(!1)},onSuccess:()=>{A.default.success(a("Swap completed!"),{toastId:E}),e()},protocol:C.protocol})}catch(e){console.error(a("Swap failed:"),e),A.default.error(a("Raydium swap failed"),{toastId:E})}finally{clearInterval(u)}},Y=0>=Number(F)||0>=Number(M),Z=O&&T<.0067;return(0,t.jsx)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 bg-[#090909]/80 backdrop-blur-[2px] flex items-center justify-center z-[100]",onClick:t=>{j&&t.target===t.currentTarget&&e()},onMouseDown:e=>{e.target===e.currentTarget&&z(!0)},onMouseUp:()=>{requestAnimationFrame(()=>{z(!1)})},children:(0,t.jsxs)(n.motion.div,{initial:{scale:.98,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.98,opacity:0},transition:{duration:.15,ease:"easeInOut"},className:"flex flex-col w-[364px] h-[448px] bg-backgroundTertiary border-[1px] border-secondaryStroke rounded-[4px] shadow-[0_4px_4px_0_rgba(0,0,0,0.30),0_8px_8px_0_rgba(0,0,0,0.45)]",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex flex-row w-full h-[44px] pl-[16px] pr-[12px] justify-between items-center border-b-[1px] border-b-secondaryStroke",children:[(0,t.jsx)("span",{className:"text-textPrimary text-[14px] leading-[20px] tracking-[-0.02em] font-medium",children:a("Swap")}),(0,t.jsx)("button",{className:"group flex flex-row p-[4px] w-[24px] h-[24px] justify-center items-center hover:bg-secondaryStroke/20 rounded-[4px] transition-colors duration-150 ease-in-out",onClick:e,children:(0,t.jsx)("i",{className:"ri-close-line text-textSecondary text-[16px] group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 w-full p-[16px] pb-[20px] gap-[16px] min-h-[200px]",children:[(0,t.jsxs)("div",{className:"flex flex-row w-full gap-[8px]",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsxs)("div",{className:"group border-secondaryStroke/50 border-[1px] flex flex-row w-full h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)(u.default,{src:O?"/images/usdc-sol.svg":"/images/sol-fill.svg",alt:O?"USDC":"SOL",width:16,height:16}),(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal flex-1 text-left",children:O?"USDC":"SOL"})]})}),(0,t.jsxs)("div",{className:"flex-1 border-secondaryStroke/50 border-[1px] flex flex-row h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal flex-1",children:a("Balance:")}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:O?`${(0,S.getFormattedNumber)(G??0,4)} USDC`:`${(0,S.getFormattedNumber)(T??0,4)} SOL`}})]})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(x.GlobalInputBoxLarge,{bgColor:"bg-transparent",labelLeft:(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("From")}),token:O?"USDC":"SOL",tokenIcon:O?"/images/usdc-sol.svg":"/images/sol-fill.svg",placeholder:"0.0",value:F,onChange:Q,disabled:q}),(0,t.jsx)("button",{className:"absolute top-2 right-2 text-xs text-primaryBlue hover:text-primaryBlueHover transition-colors duration-125 ease-in-out",onClick:()=>{P&&null!==G&&null!==T&&Q(O?G.toString():T.toString())},disabled:q,children:a("Max")})]}),(0,t.jsxs)("div",{className:"relative flex flex-row w-full justify-center items-center",children:[(0,t.jsxs)("span",{className:"absolute right-0 top-0 text-textTertiary text-[10px] leading-[13px] font-normal border-b border-dashed border-textTertiary/50 hover:border-textTertiary transition-colors duration-150",children:["$",P?(.001105*P).toFixed(2):"--"," ",(0,t.jsx)("i",{className:"ri-gas-station-line text-[12px]"})]}),(0,t.jsx)("button",{className:"border-secondaryStroke/50 border-[1px] group flex flex-row w-[32px] h-[32px] justify-center items-center rounded-full bg-secondaryStroke/50 hover:bg-secondaryStroke/80 transition-all duration-[150ms] ease-in-out cursor-pointer",onClick:()=>{B(!O),U(M),L(F)},disabled:q,children:(0,t.jsx)("i",{className:"ri-arrow-up-down-line text-[18px] text-textSecondary group-hover:text-textPrimary"})})]}),(0,t.jsxs)("div",{className:"flex flex-row w-full gap-[8px]",children:[(0,t.jsx)("div",{className:"w-1/2",children:(0,t.jsxs)("div",{className:"group border-secondaryStroke/50 border-[1px] flex flex-row w-full h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)(u.default,{src:O?"/images/sol-fill.svg":"/images/usdc-sol.svg",alt:O?"SOL":"USDC",width:16,height:16}),(0,t.jsx)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal flex-1 text-left",children:O?"SOL":"USDC"})]})}),(0,t.jsxs)("div",{className:"flex-1 border-secondaryStroke/50 border-[1px] flex flex-row h-[32px] gap-[8px] px-[12px] rounded-[4px] justify-start items-center",children:[(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal flex-1",children:a("Balance:")}),(0,t.jsx)("span",{className:"text-textSecondary text-[12px] leading-[16px] font-normal",dangerouslySetInnerHTML:{__html:O?`${(0,S.getFormattedNumber)(T??0,4)} SOL`:`${(0,S.getFormattedNumber)(G??0,4)} USDC`}})]})]}),(0,t.jsx)(x.GlobalInputBoxLarge,{bgColor:"bg-transparent",labelLeft:(0,t.jsx)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal",children:a("To (Estimated)")}),token:O?"SOL":"USDC",tokenIcon:O?"/images/sol-fill.svg":"/images/usdc-sol.svg",placeholder:"0.0",value:M,onChange:e=>{if(""===e){U(""),L(e);return}if(!/^\d*\.?\d*$/.test(e)){U(""),L("");return}if("."===e){U("0."),L("0.");return}if(!P||null===G||null===T||!C){U(""),L("");return}let t=O?R(Number(e)/99*100,C.liquiditySol,C.liquidityToken):(0,w.estimateSell)({protocol:C.protocol,percentage:100,tokenBalance:Number(e)/99*100,liquidityNative:C.liquiditySol,liquidityToken:C.liquidityToken,decimals:6,protocolDetails:C.protocolDetails,supplementalData:null,usdPerNative:P})-.001105;Number(t)>(O?Number(G):T-.0067)?Q(O?G.toFixed(6).replace(/\.?0+$/,""):(T-.0067).toFixed(9).replace(/\.?0+$/,"")):(U(t.toFixed(O?6:9).replace(/\.?0+$/,"")),L(e))},disabled:q})]}),(0,t.jsx)("div",{className:"border-t border-secondaryStroke/50 flex flex-row w-full h-[68px] justify-end items-center p-[16px] pb-[20px]",children:(0,t.jsx)("button",{disabled:q||Y||Z,className:"bg-primaryBlue flex flex-row flex-1 h-[32px] px-[12px] gap-[8px] justify-center items-center rounded-full hover:bg-primaryBlue/80 hover:brightness-110 transition-all duration-[150ms] cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",onClick:J,children:(0,t.jsx)("span",{className:"text-[14px] font-bold text-background",children:q?a("Loading..."):Z?a("Insufficient SOL"):a("Confirm Swap")})})})]})})}function R(e,t,r){var i,n;let a,o=(0,v.newSafeBN)(1e9*e),s=(0,v.newSafeBN)(1e9*t),u=(0,v.newSafeBN)(1e6*r),l=(i=o.mul(k),n=T,a=i.div(n),i.mod(n).gt((0,v.newSafeBN)(0))&&(a=a.add((0,v.newSafeBN)(1))),a),c=o.sub(l),d=s.add(c);return Number(u.mul(c).div(d))/1e6}},740626,e=>{"use strict";e.s(["default",()=>h]);var t=e.i(843476),r=e.i(672464),i=e.i(657688),n=e.i(618566),a=e.i(271645),o=e.i(592846),s=e.i(542119),u=e.i(741124),l=e.i(718646),c=e.i(953312),d=e.i(31943),f=e.i(973444),p=e.i(879197);let h=({title:e,timestamp:h,message:m,icon:g,id:b,meta:y,type:x,onClose:A})=>{let w=(0,r.useAtomValue)(c.nowAtom),v=(0,l.useDeleteNotification)(),S=(0,n.useRouter)(),k=(0,r.useSetAtom)(s.isSwapModalOpenAtom),T=(0,r.useSetAtom)(d.fromNotifAtom),{t:E}=(0,o.useTranslation)(),P=(0,r.useAtomValue)(u.currentChainAtom),I=(0,a.useCallback)(e=>{e?.preventDefault(),A?.(),setTimeout(()=>{switch(x){case"sol-usdc":T(!0),k(!0);break;case"referral":case"claim-sol":case"claim-points":S.push("/rewards?chain=sol");break;case"meme-limit-order":case"pair-alert":S.push(`/meme/${y}?chain=${P}`)}},100)},[A,x,T,k,S,y,P]),_=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),v(b)},[v,b]),N=(0,a.useMemo)(()=>{if("pair-alert"===x){let t=e.match(/Price Alert for (.+)/),r=t?t[1]:e,i=m.match(/\$?([\d,]+(?:\.\d+)?)\s*([KMB])?/),n=i?i[1]:"",a=i?i[2]:"",o=0;if(n){let e=parseFloat(n.replace(/,/g,""));o="K"===a?1e3*e:"M"===a?1e6*e:"B"===a?1e9*e:e}let s=m.includes("crossed above");return{ticker:r,isUp:s,isDown:m.includes("dipped below"),isMigrated:m.includes("migrated"),formattedValue:(0,p.getFormattedNumber)(o,4)}}return null},[x,e,m]),R=(0,a.useMemo)(()=>({referral:{text:E("View")},"sol-usdc":{text:E("Convert")},"claim-sol":{text:E("Claim")},"claim-points":{text:E("Claim")},"meme-limit-order":{text:E("View")},"pair-alert":{text:E("View")}}),[E]),O=["sol-usdc","referral","claim-sol","claim-points","meme-limit-order","pair-alert"].includes(x);return(0,t.jsxs)("div",{className:`w-full text-left border-b-secondaryStroke/50 border-b-[1px] flex flex-col px-[16px] justify-start items-center min-h-[44px] flex-shrink-0 group relative transition-all duration-150 ease-in-out ${O?"hover:bg-secondaryStroke/20 cursor-pointer":"cursor-default"}`,onClick:O?I:void 0,children:[(0,t.jsxs)("div",{className:"flex flex-row w-full h-[44px] min-h-[44px] justify-start items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row flex-1 gap-[8px] justify-start items-center",children:[(0,t.jsx)("div",{className:"relative",children:g.startsWith("/")||g.startsWith("http")?(0,t.jsxs)("div",{className:"relative min-w-[18px] min-h-[18px] w-[18px] h-[18px]",children:[(0,t.jsx)(i.default,{src:g,alt:e,width:18,height:18,className:"rounded-[4px] relative z-10 object-cover w-full h-full"}),"pair-alert"===x&&(0,t.jsx)("div",{className:"absolute inset-0 border border-white/10 rounded-[4px] z-20 pointer-events-none"})]}):(0,t.jsx)("i",{className:`${g} text-[18px] text-textPrimary`})}),(0,t.jsx)("span",{className:"text-textPrimary text-[14px] leading-[20px] tracking-[-0.02em] font-normal flex items-center gap-[4px]",children:"pair-alert"===x&&N?(0,t.jsxs)(t.Fragment,{children:[N.ticker,N.isMigrated?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("i",{className:"ri-arrow-right-double-line text-[13px] text-primaryBlueHover"}),(0,t.jsx)("span",{className:"text-primaryBlueHover",children:E("Migrated")})]}):N.isUp||N.isDown?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)("i",{className:`${N.isUp?"ri-arrow-up-line text-increase":"ri-arrow-down-line text-decrease"} text-[13px]`}),(0,t.jsx)("span",{className:N.isUp?"text-increase":"text-decrease",children:N.isUp?E("Above"):E("Below")})," ",(0,t.jsxs)("span",{children:["$",N.formattedValue," ",E("MC")]})]}):(0,t.jsxs)(t.Fragment,{children:[" ",e]})]}):e})]}),(0,t.jsxs)("span",{className:"text-textTertiary text-[12px] leading-[16px] font-normal transition-opacity duration-150 opacity-100 group-hover:opacity-0",children:[(0,f.getRelativeAge)(new Date(h),w)," ",E("ago")]}),(0,t.jsx)("button",{className:"flex flex-row p-[4px] w-[20px] h-[20px] justify-center items-center hover:bg-primaryStroke/60 absolute right-[16px] transition-opacity duration-150 ease-in-out opacity-0 group-hover:opacity-100 cursor-pointer rounded-[4px]",onClick:_,children:(0,t.jsx)("i",{className:"ri-close-line text-[16px] text-textSecondary"})})]}),(0,t.jsx)("div",{className:"flex flex-col w-full pb-[16px]",children:(0,t.jsx)("div",{className:"flex flex-row items-center",children:(0,t.jsxs)("span",{className:"text-textPrimary text-[12px] leading-[16px] font-normal",children:[m,R[x]?.text&&(0,t.jsx)("span",{className:"text-primaryBlue ml-1 hover:underline hover:brightness-110 transition-all duration-150",children:R[x]?.text})]})})})]})}},363071,e=>{"use strict";var t=e.i(271645);e.s(["default",0,()=>{let[e,r]=(0,t.useState)(!1),i=(0,t.useRef)(!1),n=(0,t.useCallback)(()=>{r(!0),i.current=!0},[]),a=(0,t.useCallback)(()=>{r(!1),i.current=!1},[]),o=(0,t.useCallback)(()=>{i.current?a():n()},[n,a]),s=(0,t.useCallback)(()=>i.current||e,[e]);return(0,t.useMemo)(()=>({uiLocked:e,isLocked:s,lock:n,unlock:a,toggle:o}),[e,s,n,a,o])}])},736837,e=>{"use strict";var t=e.i(337575),r=e.i(675107),i=e.i(992744),n=e.i(704433),a=e.i(880841),o=e.i(769936),s=e.i(913091);async function u({hash:e,privateKey:i,to:n="object"}){let{r:u,s:l,recovery:c}=t.secp256k1.sign(e.slice(2),i.slice(2),{lowS:!0,extraEntropy:!!(0,a.isHex)(!1,{strict:!1})&&(0,o.hexToBytes)(!1)}),d={r:(0,r.numberToHex)(u,{size:32}),s:(0,r.numberToHex)(l,{size:32}),v:c?28n:27n,yParity:c};return"bytes"===n||"hex"===n?(0,s.serializeSignature)({...d,to:n}):d}var l=e.i(656450);async function c(e){let{chainId:t,nonce:r,privateKey:i,to:n="object"}=e,a=e.contractAddress??e.address,o=await u({hash:(0,l.hashAuthorization)({address:a,chainId:t,nonce:r}),privateKey:i,to:n});return"object"===n?{address:a,chainId:t,nonce:r,...o}:o}var d=e.i(658765);async function f({message:e,privateKey:t}){return await u({hash:(0,d.hashMessage)(e),privateKey:t,to:"hex"})}var p=e.i(831095),h=e.i(766816);async function m(e){let{privateKey:t,transaction:r,serializer:i=h.serializeTransaction}=e,n="eip4844"===r.type?{...r,sidecars:!1}:r,a=await u({hash:(0,p.keccak256)(await i(n)),privateKey:t});return await i(r,a)}var g=e.i(995062);async function b(e){let{privateKey:t,...r}=e;return await u({hash:(0,g.hashTypedData)(r),privateKey:t,to:"hex"})}function y(e,a={}){let{nonceManager:o}=a,s=(0,r.toHex)(t.secp256k1.getPublicKey(e.slice(2),!1)),l=(0,n.publicKeyToAddress)(s);return{...(0,i.toAccount)({address:l,nonceManager:o,sign:async({hash:t})=>u({hash:t,privateKey:e,to:"hex"}),signAuthorization:async t=>c({...t,privateKey:e}),signMessage:async({message:t})=>f({message:t,privateKey:e}),signTransaction:async(t,{serializer:r}={})=>m({privateKey:e,transaction:t,serializer:r}),signTypedData:async t=>b({...t,privateKey:e})}),publicKey:s,source:"privateKey"}}e.s(["privateKeyToAccount",()=>y],736837)},699247,(e,t,r)=>{"use strict";t.exports=function(e,t){if(!e)throw Error("Invariant failed")}},875353,e=>{"use strict";var t,r,i,n;let a=!1,o=!1,s={debug:1,default:2,info:2,warning:3,error:4,off:5},u=s.default,l=null,c=function(){try{let e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw Error("broken implementation")}catch(e){return e.message}return null}();(i=t||(t={})).DEBUG="DEBUG",i.INFO="INFO",i.WARNING="WARNING",i.ERROR="ERROR",i.OFF="OFF",(n=r||(r={})).UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED",n.ACTION_REJECTED="ACTION_REJECTED";let d="0123456789abcdef";class f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){let r=e.toLowerCase();null==s[r]&&this.throwArgumentError("invalid log level name","logLevel",e),u>s[r]||console.log.apply(console,t)}debug(...e){this._log(f.levels.DEBUG,e)}info(...e){this._log(f.levels.INFO,e)}warn(...e){this._log(f.levels.WARNING,e)}makeError(e,t,i){if(o)return this.makeError("censored error",t,{});t||(t=f.errors.UNKNOWN_ERROR),i||(i={});let n=[];Object.keys(i).forEach(e=>{let t=i[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=d[t[e]>>4],r+=d[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(i[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);let a=e,s="";switch(t){case r.NUMERIC_FAULT:{s="NUMERIC_FAULT";let t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case r.CALL_EXCEPTION:case r.INSUFFICIENT_FUNDS:case r.MISSING_NEW:case r.NONCE_EXPIRED:case r.REPLACEMENT_UNDERPRICED:case r.TRANSACTION_REPLACED:case r.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");let u=Error(e);return u.reason=a,u.code=t,Object.keys(i).forEach(function(e){u[e]=i[e]}),u}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,i){e||this.throwError(t,r,i)}assertArgument(e,t,r,i){e||this.throwArgumentError(t,r,i)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),c&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=0x1fffffffffffff)&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||null==e)&&this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||null==e)&&this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return l||(l=new f("logger/5.8.0")),l}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),a){if(!e)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o=!!e,a=!!t}static setLogLevel(e){let t=s[e.toLowerCase()];null==t?f.globalLogger().warn("invalid log level - "+e):u=t}static from(e){return new f(e)}}f.errors=r,f.levels=t,e.s(["ErrorCode",()=>r,"LogLevel",()=>t,"Logger",()=>f],875353)},403011,e=>{"use strict";let t=new(e.i(875353)).Logger("bytes/5.8.0");function r(e){return!!e.toHexString}function i(e){return e.slice||(e.slice=function(){let t=Array.prototype.slice.call(arguments);return i(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function n(e){return d(e)&&!(e.length%2)||o(e)}function a(e){return"number"==typeof e&&e==e&&e%1==0}function o(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e||!a(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){let r=e[t];if(!a(r)||r<0||r>=256)return!1}return!0}function s(e,n){if(n||(n={}),"number"==typeof e){t.checkSafeUint53(e,"invalid arrayify value");let r=[];for(;e;)r.unshift(255&e),e=parseInt(String(e/256));return 0===r.length&&r.push(0),i(new Uint8Array(r))}if(n.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),r(e)&&(e=e.toHexString()),d(e)){let r=e.substring(2);r.length%2&&("left"===n.hexPad?r="0"+r:"right"===n.hexPad?r+="0":t.throwArgumentError("hex data is odd-length","value",e));let a=[];for(let e=0;e<r.length;e+=2)a.push(parseInt(r.substring(e,e+2),16));return i(new Uint8Array(a))}return o(e)?i(new Uint8Array(e)):t.throwArgumentError("invalid arrayify value","value",e)}function u(e){let t=e.map(e=>s(e)),r=new Uint8Array(t.reduce((e,t)=>e+t.length,0));return t.reduce((e,t)=>(r.set(t,e),e+t.length),0),i(r)}function l(e){let t=s(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function c(e,r){(e=s(e)).length>r&&t.throwArgumentError("value out of range","value",arguments[0]);let n=new Uint8Array(r);return n.set(e,r-e.length),i(n)}function d(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(!t||e.length===2+2*t)}let f="0123456789abcdef";function p(e,i){if(i||(i={}),"number"==typeof e){t.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=f[15&e]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(i.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),r(e))return e.toHexString();if(d(e))return e.length%2&&("left"===i.hexPad?e="0x0"+e.substring(2):"right"===i.hexPad?e+="0":t.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(o(e)){let t="0x";for(let r=0;r<e.length;r++){let i=e[r];t+=f[(240&i)>>4]+f[15&i]}return t}return t.throwArgumentError("invalid hexlify value","value",e)}function h(e){if("string"!=typeof e)e=p(e);else if(!d(e)||e.length%2)return null;return(e.length-2)/2}function m(e,r,i){return("string"!=typeof e?e=p(e):(!d(e)||e.length%2)&&t.throwArgumentError("invalid hexData","value",e),r=2+2*r,null!=i)?"0x"+e.substring(r,2+2*i):"0x"+e.substring(r)}function g(e){let t="0x";return e.forEach(e=>{t+=p(e).substring(2)}),t}function b(e){let t=y(p(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function y(e){"string"!=typeof e&&(e=p(e)),d(e)||t.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let r=0;for(;r<e.length&&"0"===e[r];)r++;return"0x"+e.substring(r)}function x(e,r){for("string"!=typeof e?e=p(e):d(e)||t.throwArgumentError("invalid hex string","value",e),e.length>2*r+2&&t.throwArgumentError("value out of range","value",arguments[1]);e.length<2*r+2;)e="0x0"+e.substring(2);return e}function A(e){let r={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(n(e)){let i=s(e);64===i.length?(r.v=27+(i[32]>>7),i[32]&=127,r.r=p(i.slice(0,32)),r.s=p(i.slice(32,64))):65===i.length?(r.r=p(i.slice(0,32)),r.s=p(i.slice(32,64)),r.v=i[64]):t.throwArgumentError("invalid signature string","signature",e),r.v<27&&(0===r.v||1===r.v?r.v+=27:t.throwArgumentError("signature invalid v byte","signature",e)),r.recoveryParam=1-r.v%2,r.recoveryParam&&(i[32]|=128),r._vs=p(i.slice(32,64))}else{if(r.r=e.r,r.s=e.s,r.v=e.v,r.recoveryParam=e.recoveryParam,r._vs=e._vs,null!=r._vs){let i=c(s(r._vs),32);r._vs=p(i);let n=+(i[0]>=128);null==r.recoveryParam?r.recoveryParam=n:r.recoveryParam!==n&&t.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),i[0]&=127;let a=p(i);null==r.s?r.s=a:r.s!==a&&t.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==r.recoveryParam)null==r.v?t.throwArgumentError("signature missing v and recoveryParam","signature",e):0===r.v||1===r.v?r.recoveryParam=r.v:r.recoveryParam=1-r.v%2;else if(null==r.v)r.v=27+r.recoveryParam;else{let i=0===r.v||1===r.v?r.v:1-r.v%2;r.recoveryParam!==i&&t.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=r.r&&d(r.r)?r.r=x(r.r,32):t.throwArgumentError("signature missing or invalid r","signature",e),null!=r.s&&d(r.s)?r.s=x(r.s,32):t.throwArgumentError("signature missing or invalid s","signature",e);let i=s(r.s);i[0]>=128&&t.throwArgumentError("signature s out of range","signature",e),r.recoveryParam&&(i[0]|=128);let n=p(i);r._vs&&(d(r._vs)||t.throwArgumentError("signature invalid _vs","signature",e),r._vs=x(r._vs,32)),null==r._vs?r._vs=n:r._vs!==n&&t.throwArgumentError("signature _vs mismatch v and s","signature",e)}return r.yParityAndS=r._vs,r.compact=r.r+r.yParityAndS.substring(2),r}function w(e){return p(u([(e=A(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}e.s(["arrayify",()=>s,"concat",()=>u,"hexConcat",()=>g,"hexDataLength",()=>h,"hexDataSlice",()=>m,"hexStripZeros",()=>y,"hexValue",()=>b,"hexZeroPad",()=>x,"hexlify",()=>p,"isBytes",()=>o,"isBytesLike",()=>n,"isHexString",()=>d,"joinSignature",()=>w,"splitSignature",()=>A,"stripZeros",()=>l,"zeroPad",()=>c],403011)},839341,994284,e=>{"use strict";var t=e.i(659341),r=e.i(403011),i=e.i(875353);let n="bignumber/5.8.0";e.s(["version",0,n],994284);var a=t.default.BN;let o=new i.Logger(n),s={};function u(e){return null!=e&&(c.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||(0,r.isHexString)(e)||"bigint"==typeof e||(0,r.isBytes)(e))}let l=!1;class c{constructor(e,t){e!==s&&o.throwError("cannot call constructor directly; use BigNumber.from",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return f(p(this).fromTwos(e))}toTwos(e){return f(p(this).toTwos(e))}abs(){return"-"===this._hex[0]?c.from(this._hex.substring(1)):this}add(e){return f(p(this).add(p(e)))}sub(e){return f(p(this).sub(p(e)))}div(e){return c.from(e).isZero()&&h("division-by-zero","div"),f(p(this).div(p(e)))}mul(e){return f(p(this).mul(p(e)))}mod(e){let t=p(e);return t.isNeg()&&h("division-by-zero","mod"),f(p(this).umod(t))}pow(e){let t=p(e);return t.isNeg()&&h("negative-power","pow"),f(p(this).pow(t))}and(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","and"),f(p(this).and(t))}or(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","or"),f(p(this).or(t))}xor(e){let t=p(e);return(this.isNegative()||t.isNeg())&&h("unbound-bitwise-result","xor"),f(p(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&h("negative-width","mask"),f(p(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&h("negative-width","shl"),f(p(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&h("negative-width","shr"),f(p(this).shrn(e))}eq(e){return p(this).eq(p(e))}lt(e){return p(this).lt(p(e))}lte(e){return p(this).lte(p(e))}gt(e){return p(this).gt(p(e))}gte(e){return p(this).gte(p(e))}isNegative(){return"-"===this._hex[0]}isZero(){return p(this).isZero()}toNumber(){try{return p(this).toNumber()}catch(e){h("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return o.throwError("this platform does not support BigInt",i.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?l||(l=!0,o.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?o.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",i.Logger.errors.UNEXPECTED_ARGUMENT,{}):o.throwError("BigNumber.toString does not accept parameters",i.Logger.errors.UNEXPECTED_ARGUMENT,{})),p(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof c)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new c(s,d(e)):e.match(/^-?[0-9]+$/)?new c(s,d(new a(e))):o.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&h("underflow","BigNumber.from",e),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&h("overflow","BigNumber.from",e),c.from(String(e));if("bigint"==typeof e)return c.from(e.toString());if((0,r.isBytes)(e))return c.from((0,r.hexlify)(e));if(e)if(e.toHexString){let t=e.toHexString();if("string"==typeof t)return c.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&((0,r.isHexString)(t)||"-"===t[0]&&(0,r.isHexString)(t.substring(1))))return c.from(t)}return o.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function d(e){if("string"!=typeof e)return d(e.toString(16));if("-"===e[0])return("-"===(e=e.substring(1))[0]&&o.throwArgumentError("invalid hex","value",e),"0x00"===(e=d(e)))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function f(e){return c.from(d(e))}function p(e){let t=c.from(e).toHexString();return"-"===t[0]?new a("-"+t.substring(3),16):new a(t.substring(2),16)}function h(e,t,r){let n={fault:e,operation:t};return null!=r&&(n.value=r),o.throwError(e,i.Logger.errors.NUMERIC_FAULT,n)}function m(e){return new a(e,36).toString(16)}function g(e){return new a(e,16).toString(36)}e.s(["BigNumber",()=>c,"_base16To36",()=>g,"_base36To16",()=>m,"isBigNumberish",()=>u],839341)},526579,e=>{"use strict";let t=new(e.i(875353)).Logger("properties/5.8.0");function r(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function i(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function n(e){var t,r,i,n;return t=this,r=void 0,i=void 0,n=function*(){let t=Object.keys(e).map(t=>Promise.resolve(e[t]).then(e=>({key:t,value:e})));return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})},new(i||(i=Promise))(function(e,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(o,s)}u((n=n.apply(t,r||[])).next())})}function a(e,r){e&&"object"==typeof e||t.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(i=>{r[i]||t.throwArgumentError("invalid object key - "+i,"transaction:"+i,e)})}function o(e){let t={};for(let r in e)t[r]=e[r];return t}let s={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function u(e){if(function e(r){if(null==r||s[typeof r])return!0;if(Array.isArray(r)||"object"==typeof r){if(!Object.isFrozen(r))return!1;let t=Object.keys(r);for(let i=0;i<t.length;i++){let n=null;try{n=r[t[i]]}catch(e){continue}if(!e(n))return!1}return!0}return t.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>u(e)));if("object"==typeof e){let t={};for(let i in e){let n=e[i];void 0!==n&&r(t,i,u(n))}return t}return t.throwArgumentError(`Cannot deepCopy ${typeof e}`,"object",e)}class l{constructor(e){for(const t in e)this[t]=u(e[t])}}e.s(["Description",()=>l,"checkProperties",()=>a,"deepCopy",()=>u,"defineReadOnly",()=>r,"getStatic",()=>i,"resolveProperties",()=>n,"shallowCopy",()=>o],526579)},326953,e=>{"use strict";e.s(["version",0,"abi/5.8.0"])},791078,e=>{"use strict";var t=e.i(839341),r=e.i(526579),i=e.i(875353),n=e.i(326953);let a=new i.Logger(n.version),o={},s={calldata:!0,memory:!0,storage:!0},u={calldata:!0,memory:!0};function l(e,t){if("bytes"===e||"string"===e){if(s[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&u[t])return!0;return(s[t]||"payable"===t)&&a.throwArgumentError("invalid modifier","name",t),!1}function c(e,t){for(let i in t)(0,r.defineReadOnly)(e,i,t[i])}let d=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),f=new RegExp(/^(.*)\[([0-9]*)\]$/);class p{constructor(e,t){e!==o&&a.throwError("use fromString",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),c(this,t);let r=this.type.match(f);r?c(this,{arrayLength:parseInt(r[2]||"-1"),arrayChildren:p.fromObject({type:r[1],components:this.components}),baseType:"array"}):c(this,{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==d.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===d.full?", ":",")+")"):t+=this.type,e!==d.sighash&&(!0===this.indexed&&(t+=" indexed"),e===d.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?p.fromString(e,t):p.fromObject(e)}static fromObject(e){return p.isParamType(e)?e:new p(o,{name:e.name||null,type:k(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(p.fromObject):null})}static fromString(e,t){var r;return r=function(e,t){let r=e;function i(t){a.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function n(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<e.length;r++){let a=e[r];switch(a){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||i(r),s.state.allowType=!1,s.type=k(s.type),s.components=[n(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||i(r),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=k(s.type);let o=s;(s=s.parent)||i(r),delete o.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||i(r),s.indexed=!0,s.name=""),l(s.type,s.name)&&(s.name=""),s.type=k(s.type);let u=n(s.parent);s.parent.components.push(u),delete s.parent,s=u;break;case" ":s.state.allowType&&""!==s.type&&(s.type=k(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||i(r),s.indexed&&i(r),s.indexed=!0,s.name=""):l(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||i(r),s.type+=a,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||i(r),s.type+=a,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=a,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=a,delete s.state.allowArray):s.state.readArray?s.type+=a:i(r)}}return s.parent&&a.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||i(r.length-7),s.indexed&&i(r.length-7),s.indexed=!0,s.name=""):l(s.type,s.name)&&(s.name=""),o.type=k(o.type),o}(e,!!t),p.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components})}static isParamType(e){return!!(null!=e&&e._isParamType)}}function h(e,t){return(function(e){e=e.trim();let t=[],r="",i=0;for(let n=0;n<e.length;n++){let o=e[n];","===o&&0===i?(t.push(r),r=""):(r+=o,"("===o?i++:")"===o&&-1==--i&&a.throwArgumentError("unbalanced parenthesis","value",e))}return r&&t.push(r),t})(e).map(e=>p.fromString(e,t))}class m{constructor(e,t){e!==o&&a.throwError("use a static from method",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),c(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return m.isFragment(e)?e:"string"==typeof e?m.fromString(e):m.fromObject(e)}static fromObject(e){if(m.isFragment(e))return e;switch(e.type){case"function":return w.fromObject(e);case"event":return g.fromObject(e);case"constructor":return A.fromObject(e);case"error":return S.fromObject(e);case"fallback":case"receive":return null}return a.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?g.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?w.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?A.fromString(e.trim()):"error"===e.split(" ")[0]?S.fromString(e.substring(5).trim()):a.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class g extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ",e!==d.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?g.fromString(e):g.fromObject(e)}static fromObject(e){return g.isEventFragment(e)?e:("event"!==e.type&&a.throwArgumentError("invalid event object","value",e),new g(o,{name:E(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(p.fromObject):[],type:"event"}))}static fromString(e){let t=e.match(P);t||a.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:a.warn("unknown modifier: "+e)}}),g.fromObject({name:t[1].trim(),anonymous:r,inputs:h(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function b(e,r){r.gas=null;let i=e.split("@");return 1!==i.length?(i.length>2&&a.throwArgumentError("invalid human-readable ABI signature","value",e),i[1].match(/^[0-9]+$/)||a.throwArgumentError("invalid human-readable ABI signature gas","value",e),r.gas=t.BigNumber.from(i[1]),i[0]):e}function y(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function x(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&a.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&a.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||a.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&a.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&a.throwArgumentError("unable to determine stateMutability","value",e),t}class A extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===d.sighash&&a.throwError("cannot format a constructor for sighash",i.Logger.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?A.fromString(e):A.fromObject(e)}static fromObject(e){if(A.isConstructorFragment(e))return e;"constructor"!==e.type&&a.throwArgumentError("invalid constructor object","value",e);let r=x(e);return r.constant&&a.throwArgumentError("constructor cannot be constant","value",e),new A(o,{name:null,type:e.type,inputs:e.inputs?e.inputs.map(p.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.BigNumber.from(e.gas):null})}static fromString(e){let t={type:"constructor"},r=(e=b(e,t)).match(P);return r&&"constructor"===r[1].trim()||a.throwArgumentError("invalid constructor string","value",e),t.inputs=h(r[2].trim(),!1),y(r[3].trim(),t),A.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class w extends A{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ",e!==d.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?w.fromString(e):w.fromObject(e)}static fromObject(e){if(w.isFunctionFragment(e))return e;"function"!==e.type&&a.throwArgumentError("invalid function object","value",e);let r=x(e);return new w(o,{type:e.type,name:E(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(p.fromObject):[],outputs:e.outputs?e.outputs.map(p.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?t.BigNumber.from(e.gas):null})}static fromString(e){let t={type:"function"},r=(e=b(e,t)).split(" returns ");r.length>2&&a.throwArgumentError("invalid function string","value",e);let i=r[0].match(P);if(i||a.throwArgumentError("invalid function signature","value",e),t.name=i[1].trim(),t.name&&E(t.name),t.inputs=h(i[2],!1),y(i[3].trim(),t),r.length>1){let i=r[1].match(P);(""!=i[1].trim()||""!=i[3].trim())&&a.throwArgumentError("unexpected tokens","value",e),t.outputs=h(i[2],!1)}else t.outputs=[];return w.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function v(e){let t=e.format();return("Error(string)"===t||"Panic(uint256)"===t)&&a.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class S extends m{format(e){if(e||(e=d.sighash),d[e]||a.throwArgumentError("invalid format type","format",e),e===d.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==d.sighash&&(t+="error "),(t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===d.full?", ":",")+") ").trim()}static from(e){return"string"==typeof e?S.fromString(e):S.fromObject(e)}static fromObject(e){return S.isErrorFragment(e)?e:("error"!==e.type&&a.throwArgumentError("invalid error object","value",e),v(new S(o,{type:e.type,name:E(e.name),inputs:e.inputs?e.inputs.map(p.fromObject):[]})))}static fromString(e){let t={type:"error"},r=e.match(P);return r||a.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&E(t.name),t.inputs=h(r[2],!1),v(S.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function k(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}let T=RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function E(e){return e&&e.match(T)||a.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}let P=RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");e.s(["ConstructorFragment",()=>A,"ErrorFragment",()=>S,"EventFragment",()=>g,"FormatTypes",0,d,"Fragment",()=>m,"FunctionFragment",()=>w,"ParamType",()=>p])},223439,(e,t,r)=>{var i=e.i(247167);!function(){"use strict";var r="input is invalid type",n="object"==typeof window,a=n?window:{};a.JS_SHA3_NO_WINDOW&&(n=!1);var o=!n&&"object"==typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"==typeof i.default&&i.default.versions&&i.default.versions.node?a=e.g:o&&(a=self);var s=!a.JS_SHA3_NO_COMMON_JS&&t.exports,u="function"==typeof define&&define.amd,l=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),d=[4,1024,262144,0x4000000],f=[0,8,16,24],p=[1,0,32898,0,32906,0x80000000,0x80008000,0x80000000,32907,0,0x80000001,0,0x80008081,0x80000000,32777,0x80000000,138,0,136,0,0x80008009,0,0x8000000a,0,0x8000808b,0,139,0x80000000,32905,0x80000000,32771,0x80000000,32770,0x80000000,128,0x80000000,32778,0,0x8000000a,0x80000000,0x80008081,0x80000000,32896,0x80000000,0x80000001,0,0x80008008,0x80000000],h=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};(a.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),l&&(a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var y=function(e,t,r){return function(i){return new B(e,t,e).update(i)[r]()}},x=function(e,t,r){return function(i,n){return new B(e,t,n).update(i)[r]()}},A=function(e,t,r){return function(t,i,n,a){return T["cshake"+e].update(t,i,n,a)[r]()}},w=function(e,t,r){return function(t,i,n,a){return T["kmac"+e].update(t,i,n,a)[r]()}},v=function(e,t,r,i){for(var n=0;n<g.length;++n){var a=g[n];e[a]=t(r,i,a)}return e},S=function(e,t){var r=y(e,t,"hex");return r.create=function(){return new B(e,t,e)},r.update=function(e){return r.create().update(e)},v(r,y,e,t)},k=[{name:"keccak",padding:[1,256,65536,0x1000000],bits:h,createMethod:S},{name:"sha3",padding:[6,1536,393216,0x6000000],bits:h,createMethod:S},{name:"shake",padding:[31,7936,2031616,0x1f000000],bits:m,createMethod:function(e,t){var r=x(e,t,"hex");return r.create=function(r){return new B(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},v(r,x,e,t)}},{name:"cshake",padding:d,bits:m,createMethod:function(e,t){var r=b[e],i=A(e,t,"hex");return i.create=function(i,n,a){return n||a?new B(e,t,i).bytepad([n,a],r):T["shake"+e].create(i)},i.update=function(e,t,r,n){return i.create(t,r,n).update(e)},v(i,A,e,t)}},{name:"kmac",padding:d,bits:m,createMethod:function(e,t){var r=b[e],i=w(e,t,"hex");return i.create=function(i,n,a){return new C(e,t,n).bytepad(["KMAC",a],r).bytepad([i],r)},i.update=function(e,t,r,n){return i.create(e,r,n).update(t)},v(i,w,e,t)}}],T={},E=[],P=0;P<k.length;++P)for(var I=k[P],_=I.bits,N=0;N<_.length;++N){var R=I.name+"_"+_[N];if(E.push(R),T[R]=I.createMethod(_[N],I.padding),"sha3"!==I.name){var O=I.name+_[N];E.push(O),T[O]=T[R]}}function B(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var i=0;i<50;++i)this.s[i]=0}function C(e,t,r){B.call(this,e,t,r)}B.prototype.update=function(e){if(this.finalized)throw Error("finalize already called");var t,i=typeof e;if("string"!==i){if("object"===i){if(null===e)throw Error(r);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}for(var n,a,o=this.blocks,s=this.byteCount,u=e.length,c=this.blockCount,d=0,p=this.s;d<u;){if(this.reset)for(n=1,this.reset=!1,o[0]=this.block;n<c+1;++n)o[n]=0;if(t)for(n=this.start;d<u&&n<s;++d)o[n>>2]|=e[d]<<f[3&n++];else for(n=this.start;d<u&&n<s;++d)(a=e.charCodeAt(d))<128?o[n>>2]|=a<<f[3&n++]:(a<2048?o[n>>2]|=(192|a>>6)<<f[3&n++]:(a<55296||a>=57344?o[n>>2]|=(224|a>>12)<<f[3&n++]:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++d)),o[n>>2]|=(240|a>>18)<<f[3&n++],o[n>>2]|=(128|a>>12&63)<<f[3&n++]),o[n>>2]|=(128|a>>6&63)<<f[3&n++]),o[n>>2]|=(128|63&a)<<f[3&n++]);if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=o[c],n=0;n<c;++n)p[n]^=o[n];D(p),this.reset=!0}else this.start=n}return this},B.prototype.encode=function(e,t){var r=255&e,i=1,n=[r];for(e>>=8,r=255&e;r>0;)n.unshift(r),e>>=8,r=255&e,++i;return t?n.push(i):n.unshift(i),this.update(n),n.length},B.prototype.encodeString=function(e){var t,i=typeof e;if("string"!==i){if("object"===i){if(null===e)throw Error(r);else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw Error(r)}else throw Error(r);t=!0}var n=0,a=e.length;if(t)n=a;else for(var o=0;o<e.length;++o){var s=e.charCodeAt(o);s<128?n+=1:s<2048?n+=2:s<55296||s>=57344?n+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},B.prototype.bytepad=function(e,t){for(var r=this.encode(t),i=0;i<e.length;++i)r+=this.encodeString(e[i]);var n=[];return n.length=t-r%t,this.update(n),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,i=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(t=1,e[0]=e[r];t<r+1;++t)e[t]=0;for(e[r-1]|=0x80000000,t=0;t<r;++t)i[t]^=e[t];D(i)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,a=0,o=0,s="";o<i;){for(a=0;a<t&&o<i;++a,++o)s+=c[(e=r[a])>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15];o%t==0&&(D(r),a=0)}return n&&(s+=c[(e=r[a])>>4&15]+c[15&e],n>1&&(s+=c[e>>12&15]+c[e>>8&15]),n>2&&(s+=c[e>>20&15]+c[e>>16&15])),s},B.prototype.arrayBuffer=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,i=this.outputBlocks,n=this.extraBytes,a=0,o=0,s=this.outputBits>>3,u=new Uint32Array(e=new ArrayBuffer(n?i+1<<2:s));o<i;){for(a=0;a<t&&o<i;++a,++o)u[o]=r[a];o%t==0&&D(r)}return n&&(u[a]=r[a],e=e.slice(0,s)),e},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,i=this.s,n=this.outputBlocks,a=this.extraBytes,o=0,s=0,u=[];s<n;){for(o=0;o<r&&s<n;++o,++s)e=s<<2,t=i[o],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%r==0&&D(i)}return a&&(e=s<<2,t=i[o],u[e]=255&t,a>1&&(u[e+1]=t>>8&255),a>2&&(u[e+2]=t>>16&255)),u},C.prototype=new B,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var D=function(e){var t,r,i,n,a,o,s,u,l,c,d,f,h,m,g,b,y,x,A,w,v,S,k,T,E,P,I,_,N,R,O,B,C,D,F,U,M,L,q,K,W,V,G,j,z,H,X,Q,J,Y,Z,$,ee,et,er,ei,en,ea,eo,es,eu,el,ec;for(i=0;i<48;i+=2)n=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],h=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(o<<1|s>>>31),r=h^(s<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=n^(u<<1|l>>>31),r=a^(l<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(c<<1|d>>>31),r=s^(d<<1|c>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(f<<1|h>>>31),r=l^(h<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=c^(n<<1|a>>>31),r=d^(a<<1|n>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,m=e[0],g=e[1],H=e[11]<<4|e[10]>>>28,X=e[10]<<4|e[11]>>>28,_=e[20]<<3|e[21]>>>29,N=e[21]<<3|e[20]>>>29,es=e[31]<<9|e[30]>>>23,eu=e[30]<<9|e[31]>>>23,V=e[40]<<18|e[41]>>>14,G=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,F=e[3]<<1|e[2]>>>31,b=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Q=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,R=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,el=e[42]<<2|e[43]>>>30,ec=e[43]<<2|e[42]>>>30,et=e[5]<<30|e[4]>>>2,er=e[4]<<30|e[5]>>>2,U=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,x=e[25]<<11|e[24]>>>21,A=e[24]<<11|e[25]>>>21,Y=e[34]<<15|e[35]>>>17,Z=e[35]<<15|e[34]>>>17,B=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,E=e[7]<<28|e[6]>>>4,ei=e[17]<<23|e[16]>>>9,en=e[16]<<23|e[17]>>>9,L=e[26]<<25|e[27]>>>7,q=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,v=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,j=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,P=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,ea=e[29]<<7|e[28]>>>25,eo=e[28]<<7|e[29]>>>25,K=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=m^~b&x,e[1]=g^~y&A,e[10]=T^~P&_,e[11]=E^~I&N,e[20]=D^~U&L,e[21]=F^~M&q,e[30]=j^~H&Q,e[31]=z^~X&J,e[40]=et^~ei&ea,e[41]=er^~en&eo,e[2]=b^~x&w,e[3]=y^~A&v,e[12]=P^~_&R,e[13]=I^~N&O,e[22]=U^~L&K,e[23]=M^~q&W,e[32]=H^~Q&Y,e[33]=X^~J&Z,e[42]=ei^~ea&es,e[43]=en^~eo&eu,e[4]=x^~w&S,e[5]=A^~v&k,e[14]=_^~R&B,e[15]=N^~O&C,e[24]=L^~K&V,e[25]=q^~W&G,e[34]=Q^~Y&$,e[35]=J^~Z&ee,e[44]=ea^~es&el,e[45]=eo^~eu&ec,e[6]=w^~S&m,e[7]=v^~k&g,e[16]=R^~B&T,e[17]=O^~C&E,e[26]=K^~V&D,e[27]=W^~G&F,e[36]=Y^~$&j,e[37]=Z^~ee&z,e[46]=es^~el&et,e[47]=eu^~ec&er,e[8]=S^~m&b,e[9]=k^~g&y,e[18]=B^~T&P,e[19]=C^~E&I,e[28]=V^~D&U,e[29]=G^~F&M,e[38]=$^~j&H,e[39]=ee^~z&X,e[48]=el^~et&ei,e[49]=ec^~er&en,e[0]^=p[i],e[1]^=p[i+1]};if(s)t.exports=T;else{for(P=0;P<E.length;++P)a[E[P]]=T[E[P]];u&&(e.r,void 0!==T&&e.v(T))}}()},447172,e=>{"use strict";var t=e.i(223439),r=e.i(403011);function i(e){return"0x"+t.default.keccak_256((0,r.arrayify)(e))}e.s(["keccak256",()=>i])},222223,e=>{"use strict";var t=e.i(403011),r=e.i(875353);let i=new r.Logger("rlp/5.8.0");function n(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function a(e,t,r){let i=0;for(let n=0;n<r;n++)i=256*i+e[t+n];return i}function o(e){return(0,t.hexlify)(function e(r){if(Array.isArray(r)){let t=[];if(r.forEach(function(r){t=t.concat(e(r))}),t.length<=55)return t.unshift(192+t.length),t;let i=n(t.length);return i.unshift(247+i.length),i.concat(t)}(0,t.isBytesLike)(r)||i.throwArgumentError("RLP object must be BytesLike","object",r);let a=Array.prototype.slice.call((0,t.arrayify)(r));if(1===a.length&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;let o=n(a.length);return o.unshift(183+o.length),o.concat(a)}(e))}function s(e,t,n,a){let o=[];for(;n<t+1+a;){let s=u(e,n);o.push(s.result),(n+=s.consumed)>t+1+a&&i.throwError("child data too short",r.Logger.errors.BUFFER_OVERRUN,{})}return{consumed:1+a,result:o}}function u(e,n){if(0===e.length&&i.throwError("data too short",r.Logger.errors.BUFFER_OVERRUN,{}),e[n]>=248){let t=e[n]-247;n+1+t>e.length&&i.throwError("data short segment too short",r.Logger.errors.BUFFER_OVERRUN,{});let o=a(e,n+1,t);return n+1+t+o>e.length&&i.throwError("data long segment too short",r.Logger.errors.BUFFER_OVERRUN,{}),s(e,n,n+1+t,t+o)}if(e[n]>=192){let t=e[n]-192;return n+1+t>e.length&&i.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{}),s(e,n,n+1,t)}if(e[n]>=184){let o=e[n]-183;n+1+o>e.length&&i.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{});let s=a(e,n+1,o);n+1+o+s>e.length&&i.throwError("data array too short",r.Logger.errors.BUFFER_OVERRUN,{});let u=(0,t.hexlify)(e.slice(n+1+o,n+1+o+s));return{consumed:1+o+s,result:u}}if(e[n]>=128){let a=e[n]-128;n+1+a>e.length&&i.throwError("data too short",r.Logger.errors.BUFFER_OVERRUN,{});let o=(0,t.hexlify)(e.slice(n+1,n+1+a));return{consumed:1+a,result:o}}return{consumed:1,result:(0,t.hexlify)(e[n])}}function l(e){let r=(0,t.arrayify)(e),n=u(r,0);return n.consumed!==r.length&&i.throwArgumentError("invalid rlp data","data",e),n.result}e.s(["decode",()=>l,"encode",()=>o],222223)},47771,e=>{"use strict";var t=e.i(403011),r=e.i(839341),i=e.i(447172),n=e.i(222223);let a=new(e.i(875353)).Logger("address/5.8.0");function o(e){(0,t.isHexString)(e,20)||a.throwArgumentError("invalid address","address",e);let r=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let e=0;e<40;e++)n[e]=r[e].charCodeAt(0);let o=(0,t.arrayify)((0,i.keccak256)(n));for(let e=0;e<40;e+=2)o[e>>1]>>4>=8&&(r[e]=r[e].toUpperCase()),(15&o[e>>1])>=8&&(r[e+1]=r[e+1].toUpperCase());return"0x"+r.join("")}let s={};for(let e=0;e<10;e++)s[String(e)]=String(e);for(let e=0;e<26;e++)s[String.fromCharCode(65+e)]=String(10+e);let u=Math.floor(Math.log10?Math.log10(0x1fffffffffffff):Math.log(0x1fffffffffffff)/Math.LN10);function l(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>s[e]).join("");for(;t.length>=u;){let e=t.substring(0,u);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function c(e){let t=null;if("string"!=typeof e&&a.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=o(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&a.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==l(e)&&a.throwArgumentError("bad icap checksum","address",e),t=(0,r._base36To16)(e.substring(4));t.length<40;)t="0"+t;t=o("0x"+t)}else a.throwArgumentError("invalid address","address",e);return t}function d(e){try{return c(e),!0}catch(e){}return!1}function f(e){let t=(0,r._base16To36)(c(e).substring(2)).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+l("XE00"+t)+t}function p(e){let o=null;try{o=c(e.from)}catch(t){a.throwArgumentError("missing from address","transaction",e)}let s=(0,t.stripZeros)((0,t.arrayify)(r.BigNumber.from(e.nonce).toHexString()));return c((0,t.hexDataSlice)((0,i.keccak256)((0,n.encode)([o,s])),12))}function h(e,r,n){return 32!==(0,t.hexDataLength)(r)&&a.throwArgumentError("salt must be 32 bytes","salt",r),32!==(0,t.hexDataLength)(n)&&a.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",n),c((0,t.hexDataSlice)((0,i.keccak256)((0,t.concat)(["0xff",c(e),r,n])),12))}e.s(["getAddress",()=>c,"getContractAddress",()=>p,"getCreate2Address",()=>h,"getIcapAddress",()=>f,"isAddress",()=>d],47771)},25363,e=>{"use strict";var t=e.i(839341);let r=t.BigNumber.from(-1),i=t.BigNumber.from(0),n=t.BigNumber.from(1),a=t.BigNumber.from(2),o=t.BigNumber.from("1000000000000000000"),s=t.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),u=t.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),l=t.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");e.s(["MaxInt256",()=>l,"MaxUint256",()=>s,"MinInt256",()=>u,"NegativeOne",()=>r,"One",()=>n,"Two",()=>a,"WeiPerEther",()=>o,"Zero",()=>i])},840858,e=>{"use strict";var t,r,i,n,a=e.i(403011);let o=new(e.i(875353)).Logger("strings/5.8.0");function s(e,t,r,i,a){if(e===n.BAD_PREFIX||e===n.UNEXPECTED_CONTINUE){let e=0;for(let i=t+1;i<r.length&&r[i]>>6==2;i++)e++;return e}return e===n.OVERRUN?r.length-t-1:0}(t=i||(i={})).current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",(r=n||(n={})).UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation";let u=Object.freeze({error:function(e,t,r,i,n){return o.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:s,replace:function(e,t,r,i,a){return e===n.OVERLONG?(i.push(a),0):(i.push(65533),s(e,t,r,i,a))}});function l(e,t){null==t&&(t=u.error),e=(0,a.arrayify)(e);let r=[],i=0;for(;i<e.length;){let a=e[i++];if(a>>7==0){r.push(a);continue}let o=null,s=null;if((224&a)==192)o=1,s=127;else if((240&a)==224)o=2,s=2047;else if((248&a)==240)o=3,s=65535;else{(192&a)==128?i+=t(n.UNEXPECTED_CONTINUE,i-1,e,r):i+=t(n.BAD_PREFIX,i-1,e,r);continue}if(i-1+o>=e.length){i+=t(n.OVERRUN,i-1,e,r);continue}let u=a&(1<<8-o-1)-1;for(let a=0;a<o;a++){let a=e[i];if((192&a)!=128){i+=t(n.MISSING_CONTINUE,i,e,r),u=null;break}u=u<<6|63&a,i++}if(null!==u){if(u>1114111){i+=t(n.OUT_OF_RANGE,i-1-o,e,r,u);continue}if(u>=55296&&u<=57343){i+=t(n.UTF16_SURROGATE,i-1-o,e,r,u);continue}if(u<=s){i+=t(n.OVERLONG,i-1-o,e,r,u);continue}r.push(u)}}return r}function c(e,t=i.current){t!=i.current&&(o.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){t++;let n=e.charCodeAt(t);if(t>=e.length||(64512&n)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&i)<<10)+(1023&n);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,a.arrayify)(r)}function d(e){let t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function f(e,t){return'"'+l(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?d(e):d(((e-=65536)>>10&1023)+55296)+d((1023&e)+56320)}).join("")+'"'}function p(e){return e.map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function h(e,t){return p(l(e,t))}function m(e,t=i.current){return l(c(e,t))}e.s(["UnicodeNormalizationForm",()=>i,"Utf8ErrorFuncs",0,u,"Utf8ErrorReason",()=>n,"_toEscapedUtf8String",()=>f,"_toUtf8String",()=>p,"toUtf8Bytes",()=>c,"toUtf8CodePoints",()=>m,"toUtf8String",()=>h],840858)},735381,471705,634709,725148,469198,191657,791761,727707,465726,50227,e=>{"use strict";var t=e.i(403011),r=e.i(839341),i=e.i(526579),n=e.i(875353),a=e.i(326953);let o=new n.Logger(a.version);function s(e){let t=[],r=function(e,i){if(Array.isArray(i))for(let n in i){let a=e.slice();a.push(n);try{r(a,i[n])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}class u{constructor(e,t,r,i){this.name=e,this.type=t,this.localName=r,this.dynamic=i}_throwError(e,t){o.throwArgumentError(e,this.localName,t)}}class l{constructor(e){(0,i.defineReadOnly)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,t.hexConcat)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,t.concat)(e._data))}writeBytes(e){let r=(0,t.arrayify)(e),i=r.length%this.wordSize;return i&&(r=(0,t.concat)([r,this._padding.slice(i)])),this._writeData(r)}_getValue(e){let i=(0,t.arrayify)(r.BigNumber.from(e));return i.length>this.wordSize&&o.throwError("value out-of-bounds",n.Logger.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:i.length}),i.length%this.wordSize&&(i=(0,t.concat)([this._padding.slice(i.length%this.wordSize),i])),i}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){let e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class c{constructor(e,r,n,a){(0,i.defineReadOnly)(this,"_data",(0,t.arrayify)(e)),(0,i.defineReadOnly)(this,"wordSize",r||32),(0,i.defineReadOnly)(this,"_coerceFunc",n),(0,i.defineReadOnly)(this,"allowLoose",a),this._offset=0}get data(){return(0,t.hexlify)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&48>=parseInt(r[1])&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):c.coerce(e,t)}_peekBytes(e,t,r){let i=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?i=t:o.throwError("data out-of-bounds",n.Logger.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new c(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return r.BigNumber.from(this.readBytes(this.wordSize))}}e.s(["Coder",()=>u,"Reader",()=>c,"Writer",()=>l,"checkResultErrors",()=>s],735381);var d=e.i(47771);class f extends u{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,d.getAddress)(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return(0,d.getAddress)((0,t.hexZeroPad)(e.readValue().toHexString(),20))}}e.s(["AddressCoder",()=>f],471705);class p extends u{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}let h=new n.Logger(a.version);function m(e,t,r){let i=null;if(Array.isArray(r))i=r;else if(r&&"object"==typeof r){let e={};i=t.map(t=>{let i=t.localName;return i||h.throwError("cannot encode object for signature with missing names",n.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[i]&&h.throwError("cannot encode object for signature with duplicate names",n.Logger.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[i]=!0,r[i]})}else h.throwArgumentError("invalid tuple value","tuple",r);t.length!==i.length&&h.throwArgumentError("types/value length mismatch","tuple",r);let a=new l(e.wordSize),o=new l(e.wordSize),s=[];t.forEach((e,t)=>{let r=i[t];if(e.dynamic){let t=o.length;e.encode(o,r);let i=a.writeUpdatableValue();s.push(e=>{i(e+t)})}else e.encode(a,r)}),s.forEach(e=>{e(a.length)});let u=e.appendWriter(a);return u+e.appendWriter(o)}function g(e,t){let r=[],i=e.subReader(0);t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readValue(),o=i.subReader(r.toNumber());try{a=t.decode(o)}catch(e){if(e.code===n.Logger.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(e.code===n.Logger.errors.BUFFER_OVERRUN)throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}void 0!=a&&r.push(a)});let a=t.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let i=e.localName;if(!i||1!==a[i]||("length"===i&&(i="_length"),null!=r[i]))return;let n=r[t];n instanceof Error?Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw n}}):r[i]=n});for(let e=0;e<r.length;e++){let t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class b extends u{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),h.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<t.length;e++)i.push(this.coder);return m(e,i,t)}decode(e){let t=this.length;-1===t&&32*(t=e.readValue().toNumber())>e._data.length&&h.throwError("insufficient data length",n.Logger.errors.BUFFER_OVERRUN,{length:e._data.length,count:t});let r=[];for(let e=0;e<t;e++)r.push(new p(this.coder));return e.coerce(this.name,g(e,r))}}e.s(["ArrayCoder",()=>b,"pack",()=>m,"unpack",()=>g],634709);class y extends u{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(+!!t)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}e.s(["BooleanCoder",()=>y],725148);class x extends u{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,r){r=(0,t.arrayify)(r);let i=e.writeValue(r.length);return i+e.writeBytes(r)}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class A extends x{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,t.hexlify)(super.decode(e)))}}e.s(["BytesCoder",()=>A,"DynamicBytesCoder",()=>x],469198);class w extends u{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,r){let i=(0,t.arrayify)(r);return i.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(i)}decode(e){return e.coerce(this.name,(0,t.hexlify)(e.readBytes(this.size)))}}e.s(["FixedBytesCoder",()=>w],191657);class v extends u{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}e.s(["NullCoder",()=>v],791761);var S=e.i(25363);class k extends u{constructor(e,t,r){const i=(t?"int":"uint")+8*e;super(i,i,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let i=r.BigNumber.from(t),n=S.MaxUint256.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(i.gt(e)||i.lt(e.add(S.One).mul(S.NegativeOne)))&&this._throwError("value out-of-bounds",t)}else(i.lt(S.Zero)||i.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return i=i.toTwos(8*this.size).mask(8*this.size),this.signed&&(i=i.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(i)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}e.s(["NumberCoder",()=>k],727707);var T=e.i(840858);class E extends x{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,T.toUtf8Bytes)(t))}decode(e){return(0,T.toUtf8String)(super.decode(e))}}e.s(["StringCoder",()=>E],465726);class P extends u{constructor(e,t){let r=!1;const i=[];e.forEach(e=>{e.dynamic&&(r=!0),i.push(e.type)}),super("tuple","tuple("+i.join(",")+")",t,r),this.coders=e}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,i)=>{let n=r.localName;n&&1===t[n]&&("length"===n&&(n="_length"),null==e[n]&&(e[n]=e[i]))}),Object.freeze(e)}encode(e,t){return m(e,this.coders,t)}decode(e){return e.coerce(this.name,g(e,this.coders))}}e.s(["TupleCoder",()=>P],50227)},83090,e=>{"use strict";var t=e.i(447172),r=e.i(840858);function i(e){return(0,t.keccak256)((0,r.toUtf8Bytes)(e))}e.s(["id",()=>i])},246383,144180,e=>{"use strict";var t=e.i(47771),r=e.i(839341),i=e.i(403011),n=e.i(83090),a=e.i(447172),o=e.i(526579),s=e.i(875353),u=e.i(326953),l=e.i(735381),c=e.i(471705),d=e.i(634709),f=e.i(725148),p=e.i(469198),h=e.i(191657),m=e.i(791761),g=e.i(727707),b=e.i(465726),y=e.i(50227),x=e.i(791078);let A=new s.Logger(u.version),w=new RegExp(/^bytes([0-9]*)$/),v=new RegExp(/^(u?int)([0-9]*)$/);class S{constructor(e){(0,o.defineReadOnly)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new c.AddressCoder(e.name);case"bool":return new f.BooleanCoder(e.name);case"string":return new b.StringCoder(e.name);case"bytes":return new p.BytesCoder(e.name);case"array":return new d.ArrayCoder(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new y.TupleCoder((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new m.NullCoder(e.name)}let t=e.type.match(v);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&A.throwArgumentError("invalid "+t[1]+" bit length","param",e),new g.NumberCoder(r/8,"int"===t[1],e.name)}if(t=e.type.match(w)){let r=parseInt(t[1]);return(0===r||r>32)&&A.throwArgumentError("invalid bytes length","param",e),new h.FixedBytesCoder(r,e.name)}return A.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new l.Reader(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new l.Writer(this._getWordSize())}getDefaultValue(e){let t=e.map(e=>this._getCoder(x.ParamType.from(e)));return new y.TupleCoder(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&A.throwError("types/values length mismatch",s.Logger.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});let r=e.map(e=>this._getCoder(x.ParamType.from(e))),i=new y.TupleCoder(r,"_"),n=this._getWriter();return i.encode(n,t),n.data}decode(e,t,r){let n=e.map(e=>this._getCoder(x.ParamType.from(e)));return new y.TupleCoder(n,"_").decode(this._getReader((0,i.arrayify)(t),r))}}let k=new S;e.s(["AbiCoder",()=>S,"defaultAbiCoder",0,k],144180);let T=new s.Logger(u.version);class E extends o.Description{}class P extends o.Description{}class I extends o.Description{}class _ extends o.Description{static isIndexed(e){return!!(e&&e._isIndexed)}}let N={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function R(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class O{constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,(0,o.defineReadOnly)(this,"fragments",t.map(e=>x.Fragment.from(e)).filter(e=>null!=e)),(0,o.defineReadOnly)(this,"_abiCoder",(0,o.getStatic)(new.target,"getAbiCoder")()),(0,o.defineReadOnly)(this,"functions",{}),(0,o.defineReadOnly)(this,"errors",{}),(0,o.defineReadOnly)(this,"events",{}),(0,o.defineReadOnly)(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":if(this.deploy)return void T.warn("duplicate definition - constructor");(0,o.defineReadOnly)(this,"deploy",e);return;case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?T.warn("duplicate definition - "+r):t[r]=e}),this.deploy||(0,o.defineReadOnly)(this,"deploy",x.ConstructorFragment.from({payable:!1,type:"constructor"})),(0,o.defineReadOnly)(this,"_isInterface",!0)}format(e){e||(e=x.FormatTypes.full),e===x.FormatTypes.sighash&&T.throwArgumentError("interface does not support formatting sighash","format",e);let t=this.fragments.map(t=>t.format(e));return e===x.FormatTypes.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return k}static getAddress(e){return(0,t.getAddress)(e)}static getSighash(e){return(0,i.hexDataSlice)((0,n.id)(e.format()),0,4)}static getEventTopic(e){return(0,n.id)(e.format())}getFunction(e){if((0,i.isHexString)(e)){for(let t in this.functions)if(e===this.getSighash(t))return this.functions[t];T.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?T.throwArgumentError("no matching function","name",t):r.length>1&&T.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}let t=this.functions[x.FunctionFragment.fromString(e).format()];return t||T.throwArgumentError("no matching function","signature",e),t}getEvent(e){if((0,i.isHexString)(e)){let t=e.toLowerCase();for(let e in this.events)if(t===this.getEventTopic(e))return this.events[e];T.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?T.throwArgumentError("no matching event","name",t):r.length>1&&T.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}let t=this.events[x.EventFragment.fromString(e).format()];return t||T.throwArgumentError("no matching event","signature",e),t}getError(e){if((0,i.isHexString)(e)){let t=(0,o.getStatic)(this.constructor,"getSighash");for(let r in this.errors)if(e===t(this.errors[r]))return this.errors[r];T.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){let t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?T.throwArgumentError("no matching error","name",t):r.length>1&&T.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}let t=this.errors[x.FunctionFragment.fromString(e).format()];return t||T.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return(0,o.getStatic)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),(0,o.getStatic)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));let r=(0,i.arrayify)(t);return(0,i.hexlify)(r.slice(0,4))!==this.getSighash(e)&&T.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,i.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),(0,i.hexlify)((0,i.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,i.arrayify)(t);return(0,i.hexlify)(r.slice(0,4))!==this.getSighash(e)&&T.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,i.hexlify)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,i.hexlify)((0,i.concat)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=(0,i.arrayify)(t),n=null,a="",o=null,u=null,l=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{let e=(0,i.hexlify)(r.slice(0,4)),t=N[e];if(t)o=this._abiCoder.decode(t.inputs,r.slice(4)),u=t.name,l=t.signature,t.reason&&(n=o[0]),"Error"===u?a=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:"Panic"===u&&(a=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{let t=this.getError(e);o=this._abiCoder.decode(t.inputs,r.slice(4)),u=t.name,l=t.format()}catch(e){}}}return T.throwError("call revert exception"+a,s.Logger.errors.CALL_EXCEPTION,{method:e.format(),data:(0,i.hexlify)(t),errorArgs:o,errorName:u,errorSignature:l,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),(0,i.hexlify)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&T.throwError("too many arguments for "+e.format(),s.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let o=[];e.anonymous||o.push(this.getEventTopic(e));let u=(e,t)=>"string"===e.type?(0,n.id)(t):"bytes"===e.type?(0,a.keccak256)((0,i.hexlify)(t)):("bool"===e.type&&"boolean"==typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=r.BigNumber.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,i.hexZeroPad)((0,i.hexlify)(t),32));for(t.forEach((t,r)=>{let i=e.inputs[r];if(!i.indexed){null!=t&&T.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t);return}null==t?o.push(null):"array"===i.baseType||"tuple"===i.baseType?T.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?o.push(t.map(e=>u(i,e))):o.push(u(i,t))});o.length&&null===o[o.length-1];)o.pop();return o}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));let r=[],i=[],o=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&T.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{let u=t[s];if(e.indexed)if("string"===e.type)r.push((0,n.id)(u));else if("bytes"===e.type)r.push((0,a.keccak256)(u));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this._abiCoder.encode([e.type],[u]));else i.push(e),o.push(u)}),{data:this._abiCoder.encode(i,o),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);(0,i.isHexString)(r[0],32)&&r[0].toLowerCase()===t||T.throwError("fragment/topic mismatch",s.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],a=[],o=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(x.ParamType.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(n.push(e),o.push(!1)):(a.push(e),o.push(!1))});let u=null!=r?this._abiCoder.decode(n,(0,i.concat)(r)):null,l=this._abiCoder.decode(a,t,!0),c=[],d=0,f=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==u)c[t]=new _({_isIndexed:!0,hash:null});else if(o[t])c[t]=new _({_isIndexed:!0,hash:u[f++]});else try{c[t]=u[f++]}catch(e){c[t]=e}else try{c[t]=l[d++]}catch(e){c[t]=e}if(e.name&&null==c[e.name]){let r=c[t];r instanceof Error?Object.defineProperty(c,e.name,{enumerable:!0,get:()=>{throw R(`property ${JSON.stringify(e.name)}`,r)}}):c[e.name]=r}});for(let e=0;e<c.length;e++){let t=c[e];t instanceof Error&&Object.defineProperty(c,e,{enumerable:!0,get:()=>{throw R(`index ${e}`,t)}})}return Object.freeze(c)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new P({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:r.BigNumber.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new E({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){let t=(0,i.hexlify)(e),r=this.getError(t.substring(0,10).toLowerCase());return r?new I({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!!(e&&e._isInterface)}}e.s(["Indexed",()=>_,"Interface",()=>O,"LogDescription",()=>E,"TransactionDescription",()=>P],246383)},811874,e=>{"use strict";var t=e.i(791078),r=e.i(144180),i=e.i(735381),n=e.i(246383);e.s([],44412),e.i(44412),e.s(["AbiCoder",()=>r.AbiCoder,"ConstructorFragment",()=>t.ConstructorFragment,"ErrorFragment",()=>t.ErrorFragment,"EventFragment",()=>t.EventFragment,"FormatTypes",()=>t.FormatTypes,"Fragment",()=>t.Fragment,"FunctionFragment",()=>t.FunctionFragment,"Indexed",()=>n.Indexed,"Interface",()=>n.Interface,"LogDescription",()=>n.LogDescription,"ParamType",()=>t.ParamType,"TransactionDescription",()=>n.TransactionDescription,"checkResultErrors",()=>i.checkResultErrors,"defaultAbiCoder",()=>r.defaultAbiCoder],811874)},252646,(e,t,r)=>{function i(e,t){if(!e)throw Error(t||"Assertion failed")}t.exports=i,i.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)}},988935,(e,t,r)=>{"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},109460,(e,t,r)=>{"use strict";var i=e.r(252646);function n(e){return(e>>>24|e>>>8&65280|e<<8&0xff0000|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function o(e){if(7===e.length)return"0"+e;if(6===e.length)return"00"+e;if(5===e.length)return"000"+e;if(4===e.length)return"0000"+e;if(3===e.length)return"00000"+e;else if(2===e.length)return"000000"+e;else if(1===e.length)return"0000000"+e;else return e}r.inherits=e.r(988935),r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var a,o,s=e.charCodeAt(n);s<128?r[i++]=s:(s<2048?r[i++]=s>>6|192:((a=e,o=n,(64512&a.charCodeAt(o))!=55296||o<0||o+1>=a.length?1:(64512&a.charCodeAt(o+1))!=56320)?r[i++]=s>>12|224:(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++n)),r[i++]=s>>18|240,r[i++]=s>>12&63|128),r[i++]=s>>6&63|128),r[i++]=63&s|128)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},r.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},r.htonl=n,r.toHex32=function(e,t){for(var r="",i=0;i<e.length;i++){var a=e[i];"little"===t&&(a=n(a)),r+=o(a.toString(16))}return r},r.zero2=a,r.zero8=o,r.join32=function(e,t,r,n){var a,o=r-t;i(o%4==0);for(var s=Array(o/4),u=0,l=t;u<s.length;u++,l+=4)a="big"===n?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[u]=a>>>0;return s},r.split32=function(e,t){for(var r=Array(4*e.length),i=0,n=0;i<e.length;i++,n+=4){var a=e[i];"big"===t?(r[n]=a>>>24,r[n+1]=a>>>16&255,r[n+2]=a>>>8&255,r[n+3]=255&a):(r[n+3]=a>>>24,r[n+2]=a>>>16&255,r[n+1]=a>>>8&255,r[n]=255&a)}return r},r.rotr32=function(e,t){return e>>>t|e<<32-t},r.rotl32=function(e,t){return e<<t|e>>>32-t},r.sum32=function(e,t){return e+t>>>0},r.sum32_3=function(e,t,r){return e+t+r>>>0},r.sum32_4=function(e,t,r,i){return e+t+r+i>>>0},r.sum32_5=function(e,t,r,i,n){return e+t+r+i+n>>>0},r.sum64=function(e,t,r,i){var n=e[t],a=i+e[t+1]>>>0;e[t]=+(a<i)+r+n>>>0,e[t+1]=a},r.sum64_hi=function(e,t,r,i){return+(t+i>>>0<t)+e+r>>>0},r.sum64_lo=function(e,t,r,i){return t+i>>>0},r.sum64_4_hi=function(e,t,r,i,n,a,o,s){var u,l=t;return e+r+n+o+(u=0+ +((l=l+i>>>0)<t)+ +((l=l+a>>>0)<a)+ +((l=l+s>>>0)<s))>>>0},r.sum64_4_lo=function(e,t,r,i,n,a,o,s){return t+i+a+s>>>0},r.sum64_5_hi=function(e,t,r,i,n,a,o,s,u,l){var c,d=t;return e+r+n+o+u+(c=0+ +((d=d+i>>>0)<t)+ +((d=d+a>>>0)<a)+ +((d=d+s>>>0)<s)+ +((d=d+l>>>0)<l))>>>0},r.sum64_5_lo=function(e,t,r,i,n,a,o,s,u,l){return t+i+a+s+l>>>0},r.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},r.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},r.shr64_hi=function(e,t,r){return e>>>r},r.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},425078,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(252646);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}r.BlockHash=a,a.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),n(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=255&e}else for(a=8,i[n++]=255&e,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0;a<this.padLength;a++)i[n++]=0;return i}},144944,(e,t,r)=>{"use strict";var i=e.r(109460).rotr32;function n(e,t,r){return e&t^e&r^t&r}r.ft_1=function(e,t,r,i){var a;return 0===e?(a=t)&r^~a&i:1===e||3===e?t^r^i:2===e?n(t,r,i):void 0},r.ch32=function(e,t,r){return e&t^~e&r},r.maj32=n,r.p32=function(e,t,r){return e^t^r},r.s0_256=function(e){return i(e,2)^i(e,13)^i(e,22)},r.s1_256=function(e){return i(e,6)^i(e,11)^i(e,25)},r.g0_256=function(e){return i(e,7)^i(e,18)^e>>>3},r.g1_256=function(e){return i(e,17)^i(e,19)^e>>>10}},360205,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=e.r(144944),o=i.rotl32,s=i.sum32,u=i.sum32_5,l=a.ft_1,c=n.BlockHash,d=[0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xca62c1d6];function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.W=Array(80)}i.inherits(f,c),t.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=o(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],a=this.h[1],c=this.h[2],f=this.h[3],p=this.h[4];for(i=0;i<r.length;i++){var h=~~(i/20),m=u(o(n,5),l(h,a,c,f),p,r[i],d[h]);p=f,f=c,c=o(a,30),a=n,n=m}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],c),this.h[3]=s(this.h[3],f),this.h[4]=s(this.h[4],p)},f.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},249891,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=e.r(144944),o=e.r(252646),s=i.sum32,u=i.sum32_4,l=i.sum32_5,c=a.ch32,d=a.maj32,f=a.s0_256,p=a.s1_256,h=a.g0_256,m=a.g1_256,g=n.BlockHash,b=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2];function y(){if(!(this instanceof y))return new y;g.call(this),this.h=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],this.k=b,this.W=Array(64)}i.inherits(y,g),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=u(m(r[i-2]),r[i-7],h(r[i-15]),r[i-16]);var n=this.h[0],a=this.h[1],g=this.h[2],b=this.h[3],y=this.h[4],x=this.h[5],A=this.h[6],w=this.h[7];for(o(this.k.length===r.length),i=0;i<r.length;i++){var v=l(w,p(y),c(y,x,A),this.k[i],r[i]),S=s(f(n),d(n,a,g));w=A,A=x,x=y,y=s(b,v),b=g,g=a,a=n,n=s(v,S)}this.h[0]=s(this.h[0],n),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],g),this.h[3]=s(this.h[3],b),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],x),this.h[6]=s(this.h[6],A),this.h[7]=s(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},365498,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(249891);function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]}i.inherits(a,n),t.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},845007,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=e.r(252646),o=i.rotr64_hi,s=i.rotr64_lo,u=i.shr64_hi,l=i.shr64_lo,c=i.sum64,d=i.sum64_hi,f=i.sum64_lo,p=i.sum64_4_hi,h=i.sum64_4_lo,m=i.sum64_5_hi,g=i.sum64_5_lo,b=n.BlockHash,y=[0x428a2f98,0xd728ae22,0x71374491,0x23ef65cd,0xb5c0fbcf,0xec4d3b2f,0xe9b5dba5,0x8189dbbc,0x3956c25b,0xf348b538,0x59f111f1,0xb605d019,0x923f82a4,0xaf194f9b,0xab1c5ed5,0xda6d8118,0xd807aa98,0xa3030242,0x12835b01,0x45706fbe,0x243185be,0x4ee4b28c,0x550c7dc3,0xd5ffb4e2,0x72be5d74,0xf27b896f,0x80deb1fe,0x3b1696b1,0x9bdc06a7,0x25c71235,0xc19bf174,0xcf692694,0xe49b69c1,0x9ef14ad2,0xefbe4786,0x384f25e3,0xfc19dc6,0x8b8cd5b5,0x240ca1cc,0x77ac9c65,0x2de92c6f,0x592b0275,0x4a7484aa,0x6ea6e483,0x5cb0a9dc,0xbd41fbd4,0x76f988da,0x831153b5,0x983e5152,0xee66dfab,0xa831c66d,0x2db43210,0xb00327c8,0x98fb213f,0xbf597fc7,0xbeef0ee4,0xc6e00bf3,0x3da88fc2,0xd5a79147,0x930aa725,0x6ca6351,0xe003826f,0x14292967,0xa0e6e70,0x27b70a85,0x46d22ffc,0x2e1b2138,0x5c26c926,0x4d2c6dfc,0x5ac42aed,0x53380d13,0x9d95b3df,0x650a7354,0x8baf63de,0x766a0abb,0x3c77b2a8,0x81c2c92e,0x47edaee6,0x92722c85,0x1482353b,0xa2bfe8a1,0x4cf10364,0xa81a664b,0xbc423001,0xc24b8b70,0xd0f89791,0xc76c51a3,0x654be30,0xd192e819,0xd6ef5218,0xd6990624,0x5565a910,0xf40e3585,0x5771202a,0x106aa070,0x32bbd1b8,0x19a4c116,0xb8d2d0c8,0x1e376c08,0x5141ab53,0x2748774c,0xdf8eeb99,0x34b0bcb5,0xe19b48a8,0x391c0cb3,0xc5c95a63,0x4ed8aa4a,0xe3418acb,0x5b9cca4f,0x7763e373,0x682e6ff3,0xd6b2b8a3,0x748f82ee,0x5defb2fc,0x78a5636f,0x43172f60,0x84c87814,0xa1f0ab72,0x8cc70208,0x1a6439ec,0x90befffa,0x23631e28,0xa4506ceb,0xde82bde9,0xbef9a3f7,0xb2c67915,0xc67178f2,0xe372532b,0xca273ece,0xea26619c,0xd186b8c7,0x21c0c207,0xeada7dd6,0xcde0eb1e,0xf57d4f7f,0xee6ed178,0x6f067aa,0x72176fba,0xa637dc5,0xa2c898a6,0x113f9804,0xbef90dae,0x1b710b35,0x131c471b,0x28db77f5,0x23047d84,0x32caab7b,0x40c72493,0x3c9ebe0a,0x15c9bebc,0x431d67c4,0x9c100d4c,0x4cc5d4be,0xcb3e42b6,0x597f299c,0xfc657e2a,0x5fcb6fab,0x3ad6faec,0x6c44198c,0x4a475817];function x(){if(!(this instanceof x))return new x;b.call(this),this.h=[0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179],this.k=y,this.W=Array(160)}i.inherits(x,b),t.exports=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=function(e,t){var r=o(e,t,19)^o(t,e,29)^u(e,t,6);return r<0&&(r+=0x100000000),r}(r[i-4],r[i-3]),a=function(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=0x100000000),r}(r[i-4],r[i-3]),c=r[i-14],d=r[i-13],f=function(e,t){var r=o(e,t,1)^o(e,t,8)^u(e,t,7);return r<0&&(r+=0x100000000),r}(r[i-30],r[i-29]),m=function(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=0x100000000),r}(r[i-30],r[i-29]),g=r[i-32],b=r[i-31];r[i]=p(n,a,c,d,f,m,g,b),r[i+1]=h(n,a,c,d,f,m,g,b)}},x.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],u=this.h[2],l=this.h[3],p=this.h[4],h=this.h[5],b=this.h[6],y=this.h[7],x=this.h[8],A=this.h[9],w=this.h[10],v=this.h[11],S=this.h[12],k=this.h[13],T=this.h[14],E=this.h[15];a(this.k.length===r.length);for(var P=0;P<r.length;P+=2){var I=T,_=E,N=function(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=0x100000000),r}(x,A),R=function(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=0x100000000),r}(x,A),O=function(e,t,r,i,n){var a=e&r^~e&n;return a<0&&(a+=0x100000000),a}(x,0,w,0,S,k),B=function(e,t,r,i,n,a){var o=t&i^~t&a;return o<0&&(o+=0x100000000),o}(0,A,0,v,0,k),C=this.k[P],D=this.k[P+1],F=r[P],U=r[P+1],M=m(I,_,N,R,O,B,C,D,F,U),L=g(I,_,N,R,O,B,C,D,F,U);I=function(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=0x100000000),r}(i,n),_=function(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=0x100000000),r}(i,n);var q=d(I,_,N=function(e,t,r,i,n){var a=e&r^e&n^r&n;return a<0&&(a+=0x100000000),a}(i,0,u,0,p,h),R=function(e,t,r,i,n,a){var o=t&i^t&a^i&a;return o<0&&(o+=0x100000000),o}(0,n,0,l,0,h)),K=f(I,_,N,R);T=S,E=k,S=w,k=v,w=x,v=A,x=d(b,y,M,L),A=f(y,y,M,L),b=p,y=h,p=u,h=l,u=i,l=n,i=d(M,L,q,K),n=f(M,L,q,K)}c(this.h,0,i,n),c(this.h,2,u,l),c(this.h,4,p,h),c(this.h,6,b,y),c(this.h,8,x,A),c(this.h,10,w,v),c(this.h,12,S,k),c(this.h,14,T,E)},x.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},263098,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(845007);function a(){if(!(this instanceof a))return new a;n.call(this),this.h=[0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]}i.inherits(a,n),t.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},105490,(e,t,r)=>{"use strict";r.sha1=e.r(360205),r.sha224=e.r(365498),r.sha256=e.r(249891),r.sha384=e.r(263098),r.sha512=e.r(845007)},133916,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(425078),a=i.rotl32,o=i.sum32,s=i.sum32_3,u=i.sum32_4,l=n.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[0x67452301,0xefcdab89,0x98badcfe,0x10325476,0xc3d2e1f0],this.endian="little"}function d(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}i.inherits(c,l),r.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],l=this.h[3],c=this.h[4],g=r,b=i,y=n,x=l,A=c,w=0;w<80;w++){var v,S,k=o(a(u(r,d(w,i,n,l),e[f[w]+t],(v=w)<=15?0:v<=31?0x5a827999:v<=47?0x6ed9eba1:v<=63?0x8f1bbcdc:0xa953fd4e),h[w]),c);r=c,c=l,l=a(n,10),n=i,i=k,k=o(a(u(g,d(79-w,b,y,x),e[p[w]+t],(S=w)<=15?0x50a28be6:S<=31?0x5c4dd124:S<=47?0x6d703ef3:0x7a6d76e9*!!(S<=63)),m[w]),A),g=A,A=x,x=a(y,10),y=b,b=k}k=s(this.h[1],n,x),this.h[1]=s(this.h[2],l,A),this.h[2]=s(this.h[3],c,g),this.h[3]=s(this.h[4],r,b),this.h[4]=s(this.h[0],i,y),this.h[0]=k},c.prototype._digest=function(e){return"hex"===e?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},564141,(e,t,r)=>{"use strict";var i=e.r(109460),n=e.r(252646);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(t,r))}t.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),n(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(t=0,this.inner=new this.Hash().update(e);t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},70148,(e,t,r)=>{r.utils=e.r(109460),r.common=e.r(425078),r.sha=e.r(105490),r.ripemd=e.r(133916),r.hmac=e.r(564141),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},346469,e=>{"use strict";var t=e.i(659341),r=e.i(70148);function i(e,t,r){return e(r={path:t,exports:{},require:function(e,t){throw null==t&&r.path,Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}},r.exports),r.exports}"undefined"!=typeof globalThis||("undefined"!=typeof window?window:e.g);var n=a;function a(e,t){if(!e)throw Error(t||"Assertion failed")}a.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var o=i(function(e,t){function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",i=0;i<e.length;i++)t+=r(e[i].toString(16));return t}t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var i=0;i<e.length;i++)r[i]=0|e[i];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/ig,"")).length%2!=0&&(e="0"+e);for(var i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var i=0;i<e.length;i++){var n=e.charCodeAt(i),a=n>>8,o=255&n;a?r.push(a,o):r.push(o)}return r},t.zero2=r,t.toHex=i,t.encode=function(e,t){return"hex"===t?i(e):e}}),s=i(function(e,r){r.assert=n,r.toArray=o.toArray,r.zero2=o.zero2,r.toHex=o.toHex,r.encode=o.encode,r.getNAF=function(e,t,r){var i=Array(Math.max(e.bitLength(),r)+1);for(o=0;o<i.length;o+=1)i[o]=0;var n=1<<t+1,a=e.clone();for(o=0;o<i.length;o++){var o,s,u=a.andln(n-1);a.isOdd()?(s=u>(n>>1)-1?(n>>1)-u:u,a.isubn(s)):s=0,i[o]=s,a.iushrn(1)}return i},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var i=0,n=0;e.cmpn(-i)>0||t.cmpn(-n)>0;){var a,o,s,u=e.andln(3)+i&3,l=t.andln(3)+n&3;3===u&&(u=-1),3===l&&(l=-1),o=(1&u)==0?0:(3==(a=e.andln(7)+i&7)||5===a)&&2===l?-u:u,r[0].push(o),s=(1&l)==0?0:(3==(a=t.andln(7)+n&7)||5===a)&&2===u?-l:l,r[1].push(s),2*i===o+1&&(i=1-i),2*n===s+1&&(n=1-n),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var i="_"+t;e.prototype[t]=function(){return void 0!==this[i]?this[i]:this[i]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new t.default(e,"hex","le")}}),u=s.getNAF,l=s.getJSF,c=s.assert;function d(e,r){this.type=e,this.p=new t.default(r.p,16),this.red=r.prime?t.default.red(r.prime):t.default.mont(this.p),this.zero=new t.default(0).toRed(this.red),this.one=new t.default(1).toRed(this.red),this.two=new t.default(2).toRed(this.red),this.n=r.n&&new t.default(r.n,16),this.g=r.g&&this.pointFromJSON(r.g,r.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,],this._bitLength=this.n?this.n.bitLength():0;var i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(e,t){this.curve=e,this.type=t,this.precomputed=null}d.prototype.point=function(){throw Error("Not implemented")},d.prototype.validate=function(){throw Error("Not implemented")},d.prototype._fixedNafMul=function(e,t){c(e.precomputed);var r,i,n=e._getDoubles(),a=u(t,1,this._bitLength),o=(1<<n.step+1)-(n.step%2==0?2:1);o/=3;var s=[];for(r=0;r<a.length;r+=n.step){i=0;for(var l=r+n.step-1;l>=r;l--)i=(i<<1)+a[l];s.push(i)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=o;p>0;p--){for(r=0;r<s.length;r++)(i=s[r])===p?f=f.mixedAdd(n.points[r]):i===-p&&(f=f.mixedAdd(n.points[r].neg()));d=d.add(f)}return d.toP()},d.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,a=u(t,r,this._bitLength),o=this.jpoint(null,null,null),s=a.length-1;s>=0;s--){for(var l=0;s>=0&&0===a[s];s--)l++;if(s>=0&&l++,o=o.dblp(l),s<0)break;var d=a[s];c(0!==d),o="affine"===e.type?d>0?o.mixedAdd(n[d-1>>1]):o.mixedAdd(n[-d-1>>1].neg()):d>0?o.add(n[d-1>>1]):o.add(n[-d-1>>1].neg())}return"affine"===e.type?o.toP():o},d.prototype._wnafMulAdd=function(e,t,r,i,n){var a,o,s,c=this._wnafT1,d=this._wnafT2,f=this._wnafT3,p=0;for(a=0;a<i;a++){var h=(s=t[a])._getNAFPoints(e);c[a]=h.wnd,d[a]=h.points}for(a=i-1;a>=1;a-=2){var m=a-1,g=a;if(1!==c[m]||1!==c[g]){f[m]=u(r[m],c[m],this._bitLength),f[g]=u(r[g],c[g],this._bitLength),p=Math.max(f[m].length,p),p=Math.max(f[g].length,p);continue}var b=[t[m],null,null,t[g]];0===t[m].y.cmp(t[g].y)?(b[1]=t[m].add(t[g]),b[2]=t[m].toJ().mixedAdd(t[g].neg())):0===t[m].y.cmp(t[g].y.redNeg())?(b[1]=t[m].toJ().mixedAdd(t[g]),b[2]=t[m].add(t[g].neg())):(b[1]=t[m].toJ().mixedAdd(t[g]),b[2]=t[m].toJ().mixedAdd(t[g].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],x=l(r[m],r[g]);for(o=0,p=Math.max(x[0].length,p),f[m]=Array(p),f[g]=Array(p);o<p;o++){var A=0|x[0][o],w=0|x[1][o];f[m][o]=y[(A+1)*3+(w+1)],f[g][o]=0,d[m]=b}}var v=this.jpoint(null,null,null),S=this._wnafT4;for(a=p;a>=0;a--){for(var k=0;a>=0;){var T=!0;for(o=0;o<i;o++)S[o]=0|f[o][a],0!==S[o]&&(T=!1);if(!T)break;k++,a--}if(a>=0&&k++,v=v.dblp(k),a<0)break;for(o=0;o<i;o++){var E=S[o];0!==E&&(E>0?s=d[o][E-1>>1]:E<0&&(s=d[o][-E-1>>1].neg()),v="affine"===s.type?v.mixedAdd(s):v.add(s))}}for(a=0;a<i;a++)d[a]=null;return n?v:v.toP()},d.BasePoint=f,f.prototype.eq=function(){throw Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},d.prototype.decodePoint=function(e,t){e=s.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?c(e[e.length-1]%2==0):7===e[0]&&c(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},f.prototype.encodeCompressed=function(e){return this.encode(e,!0)},f.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},f.prototype.encode=function(e,t){return s.encode(this._encode(t),e)},f.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},f.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},f.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var a=0;a<e;a++)i=i.dbl();r.push(i)}return{step:e,points:r}},f.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=1===r?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var p=i(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),h=s.assert;function m(e){d.call(this,"short",e),this.a=new t.default(e.a,16).toRed(this.red),this.b=new t.default(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}function g(e,r,i,n){d.BasePoint.call(this,e,"affine"),null===r&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new t.default(r,16),this.y=new t.default(i,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function b(e,r,i,n){d.BasePoint.call(this,e,"jacobian"),null===r&&null===i&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new t.default(0)):(this.x=new t.default(r,16),this.y=new t.default(i,16),this.z=new t.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p(m,d),m.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){if(e.beta)r=new t.default(e.beta,16).toRed(this.red);else{var r,i,n,a=this._getEndoRoots(this.p);r=(r=0>a[0].cmp(a[1])?a[0]:a[1]).toRed(this.red)}if(e.lambda)i=new t.default(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(r))?i=o[0]:(i=o[1],h(0===this.g.mul(i).x.cmp(this.g.x.redMul(r))))}return n=e.basis?e.basis.map(function(e){return{a:new t.default(e.a,16),b:new t.default(e.b,16)}}):this._getEndoBasis(i),{beta:r,lambda:i,basis:n}}},m.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:t.default.mont(e),i=new t.default(2).toRed(r).redInvm(),n=i.redNeg(),a=new t.default(3).toRed(r).redNeg().redSqrt().redMul(i);return[n.redAdd(a).fromRed(),n.redSub(a).fromRed()]},m.prototype._getEndoBasis=function(e){for(var r,i,n,a,o,s,u,l,c,d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,p=this.n.clone(),h=new t.default(1),m=new t.default(0),g=new t.default(0),b=new t.default(1),y=0;0!==f.cmpn(0);){var x=p.div(f);l=p.sub(x.mul(f)),c=g.sub(x.mul(h));var A=b.sub(x.mul(m));if(!n&&0>l.cmp(d))r=u.neg(),i=h,n=l.neg(),a=c;else if(n&&2==++y)break;u=l,p=f,f=l,g=h,h=c,b=m,m=A}o=l.neg(),s=c;var w=n.sqr().add(a.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=r,s=i),n.negative&&(n=n.neg(),a=a.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:n,b:a},{a:o,b:s}]},m.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),o=n.mul(r.a),s=a.mul(i.a),u=n.mul(r.b),l=a.mul(i.b);return{k1:e.sub(o).sub(s),k2:u.add(l).neg()}},m.prototype.pointFromX=function(e,r){(e=new t.default(e,16)).red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw Error("invalid point");var a=n.fromRed().isOdd();return(r&&!a||!r&&a)&&(n=n.redNeg()),this.point(e,n)},m.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return 0===r.redSqr().redISub(n).cmpn(0)},m.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(t[a]),s=e[a],u=s._getBeta();o.k1.negative&&(o.k1.ineg(),s=s.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[2*a]=s,i[2*a+1]=u,n[2*a]=o.k1,n[2*a+1]=o.k2}for(var l=this._wnafMulAdd(1,i,n,2*a,r),c=0;c<2*a;c++)i[c]=null,n[c]=null;return l},p(g,d.BasePoint),m.prototype.point=function(e,t,r){return new g(this,e,t,r)},m.prototype.pointFromJSON=function(e,t){return g.fromJSON(this,e,t)},g.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},g.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},g.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(t){return e.point(t[0],t[1],r)}var a=t[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(n))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(n))}},i},g.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},g.prototype.isInfinity=function(){return this.inf},g.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e)||0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},g.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),a=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)},g.prototype.getX=function(){return this.x.fromRed()},g.prototype.getY=function(){return this.y.fromRed()},g.prototype.mul=function(e){return(e=new t.default(e,16),this.isInfinity())?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},g.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},g.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},g.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},g.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},g.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},p(b,d.BasePoint),m.prototype.jpoint=function(e,t,r){return new b(this,e,t,r)},b.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},b.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},b.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),s=i.redSub(n),u=a.redSub(o);if(0===s.cmpn(0))if(0!==u.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var l=s.redSqr(),c=l.redMul(s),d=i.redMul(l),f=u.redSqr().redIAdd(c).redISub(d).redISub(d),p=u.redMul(d.redISub(f)).redISub(a.redMul(c)),h=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,p,h)},b.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,a=e.y.redMul(t).redMul(this.z),o=r.redSub(i),s=n.redSub(a);if(0===o.cmpn(0))if(0!==s.cmpn(0))return this.curve.jpoint(null,null,null);else return this.dbl();var u=o.redSqr(),l=u.redMul(o),c=r.redMul(u),d=s.redSqr().redIAdd(l).redISub(c).redISub(c),f=s.redMul(c.redISub(d)).redISub(n.redMul(l)),p=this.z.redMul(o);return this.curve.jpoint(d,f,p)},b.prototype.dblp=function(e){if(0===e||this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){var t,r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,a=this.x,o=this.y,s=this.z,u=s.redSqr().redSqr(),l=o.redAdd(o);for(t=0;t<e;t++){var c=a.redSqr(),d=l.redSqr(),f=d.redSqr(),p=c.redAdd(c).redIAdd(c).redIAdd(i.redMul(u)),h=a.redMul(d),m=p.redSqr().redISub(h.redAdd(h)),g=h.redISub(m),b=p.redMul(g);b=b.redIAdd(b).redISub(f);var y=l.redMul(s);t+1<e&&(u=u.redMul(f)),a=m,s=y,l=b}return this.curve.jpoint(a,l.redMul(n),s)},b.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},b.prototype._zeroDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i),u=s.redSqr().redISub(o).redISub(o),l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),e=u,t=s.redMul(o.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),f=d.redSqr(),p=this.x.redAdd(d).redSqr().redISub(c).redISub(f);p=p.redIAdd(p);var h=c.redAdd(c).redIAdd(c),m=h.redSqr(),g=f.redIAdd(f);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(p).redISub(p),t=h.redMul(p.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},b.prototype._threeDbl=function(){if(this.zOne){var e,t,r,i=this.x.redSqr(),n=this.y.redSqr(),a=n.redSqr(),o=this.x.redAdd(n).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var s=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=s.redSqr().redISub(o).redISub(o);e=u;var l=a.redIAdd(a);l=(l=l.redIAdd(l)).redIAdd(l),t=s.redMul(o.redISub(u)).redISub(l),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),f=this.x.redMul(d),p=this.x.redSub(c).redMul(this.x.redAdd(c));p=p.redAdd(p).redIAdd(p);var h=f.redIAdd(f),m=(h=h.redIAdd(h)).redAdd(h);e=p.redSqr().redISub(m),r=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=p.redMul(h.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},b.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),a=t.redSqr(),o=r.redSqr(),s=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(n)),u=t.redAdd(t),l=(u=u.redIAdd(u)).redMul(o),c=s.redSqr().redISub(l.redAdd(l)),d=l.redISub(c),f=o.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=s.redMul(d).redISub(f),h=r.redAdd(r).redMul(i);return this.curve.jpoint(c,p,h)},b.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),a=n.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(i),s=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(a)).redSqr(),u=i.redIAdd(i);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var l=n.redIAdd(o).redSqr().redISub(a).redISub(s).redISub(u),c=t.redMul(l);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(s).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var f=this.y.redMul(l.redMul(u.redISub(l)).redISub(o.redMul(s)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var p=this.z.redAdd(o).redSqr().redISub(r).redISub(s);return this.curve.jpoint(d,f,p)},b.prototype.mul=function(e,r){return e=new t.default(e,r),this.curve._wnafMul(this,e)},b.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return 0===this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)},b.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),0===this.x.cmp(r))return!0}},b.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},b.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var y=i(function(e,t){t.base=d,t.short=m,t.mont=null,t.edwards=null}),x=i(function(e,t){var i,n=s.assert;function a(e){"short"===e.type?this.curve=new y.short(e):"edwards"===e.type?this.curve=new y.edwards(e):this.curve=new y.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var i=new a(r);return Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:i}),i}})}t.PresetCurve=a,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.default.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=null.crash()}catch(e){i=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})});function A(e){if(!(this instanceof A))return new A(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc||"hex"),r=o.toArray(e.nonce,e.nonceEnc||"hex"),i=o.toArray(e.pers,e.persEnc||"hex");n(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}A.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=0x1000000000000},A.prototype._hmac=function(){return new r.default.hmac(this.hash,this.K)},A.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},A.prototype.reseed=function(e,t,r,i){"string"!=typeof t&&(i=r,r=t,t=null),e=o.toArray(e,t),r=o.toArray(r,i),n(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},A.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(i=r,r=t,t=null),r&&(r=o.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var a=n.slice(0,e);return this._update(r),this._reseed++,o.encode(a,t)};var w=s.assert;function v(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}v.fromPublic=function(e,t,r){return t instanceof v?t:new v(e,{pub:t,pubEnc:r})},v.fromPrivate=function(e,t,r){return t instanceof v?t:new v(e,{priv:t,privEnc:r})},v.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},v.prototype.getPublic=function(e,t){return("string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t)?this.pub.encode(t,e):this.pub},v.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},v.prototype._importPrivate=function(e,r){this.priv=new t.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)},v.prototype._importPublic=function(e,t){if(e.x||e.y){"mont"===this.ec.curve.type?w(e.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&w(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},v.prototype.derive=function(e){return e.validate()||w(e.validate(),"public point not validated"),e.mul(this.priv).getX()},v.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},v.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},v.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var S=s.assert;function k(e,r){if(e instanceof k)return e;this._importDER(e,r)||(S(e.r&&e.s,"Signature without r or s"),this.r=new t.default(e.r,16),this.s=new t.default(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function T(){this.place=0}function E(e,t){var r=e[t.place++];if(!(128&r))return r;var i=15&r;if(0===i||i>4||0===e[t.place])return!1;for(var n=0,a=0,o=t.place;a<i;a++,o++)n<<=8,n|=e[o],n>>>=0;return!(n<=127)&&(t.place=o,n)}function P(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function I(e,t){if(t<128)return void e.push(t);var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}k.prototype._importDER=function(e,r){e=s.toArray(e,r);var i=new T;if(48!==e[i.place++])return!1;var n=E(e,i);if(!1===n||n+i.place!==e.length||2!==e[i.place++])return!1;var a=E(e,i);if(!1===a||(128&e[i.place])!=0)return!1;var o=e.slice(i.place,a+i.place);if(i.place+=a,2!==e[i.place++])return!1;var u=E(e,i);if(!1===u||e.length!==u+i.place||(128&e[i.place])!=0)return!1;var l=e.slice(i.place,u+i.place);if(0===o[0])if(!(128&o[1]))return!1;else o=o.slice(1);if(0===l[0])if(!(128&l[1]))return!1;else l=l.slice(1);return this.r=new t.default(o),this.s=new t.default(l),this.recoveryParam=null,!0},k.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=P(t),r=P(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var i=[2];I(i,t.length),(i=i.concat(t)).push(2),I(i,r.length);var n=i.concat(r),a=[48];return I(a,n.length),a=a.concat(n),s.encode(a,e)};var _=function(){throw Error("unsupported")},N=s.assert;function R(e){if(!(this instanceof R))return new R(e);"string"==typeof e&&(N(Object.prototype.hasOwnProperty.call(x,e),"Unknown curve "+e),e=x[e]),e instanceof x.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}R.prototype.keyPair=function(e){return new v(this,e)},R.prototype.keyFromPrivate=function(e,t){return v.fromPrivate(this,e,t)},R.prototype.keyFromPublic=function(e,t){return v.fromPublic(this,e,t)},R.prototype.genKeyPair=function(e){e||(e={});for(var r=new A({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||_(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new t.default(2));;){var a=new t.default(r.generate(i));if(!(a.cmp(n)>0))return a.iaddn(1),this.keyFromPrivate(a)}},R.prototype._truncateToN=function(e,r,i){if(t.default.isBN(e)||"number"==typeof e)n=(e=new t.default(e,16)).byteLength();else if("object"==typeof e)n=e.length,e=new t.default(e,16);else{var n,a=e.toString();n=a.length+1>>>1,e=new t.default(a,16)}"number"!=typeof i&&(i=8*n);var o=i-this.n.bitLength();return(o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0)?e.sub(this.n):e},R.prototype.sign=function(e,r,i,n){if("object"==typeof i&&(n=i,i=null),n||(n={}),"string"!=typeof e&&"number"!=typeof e&&!t.default.isBN(e)){N("object"==typeof e&&e&&"number"==typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),N(e.length>>>0===e.length);for(var a=0;a<e.length;a++)N((255&e[a])===e[a])}r=this.keyFromPrivate(r,i),N(!(e=this._truncateToN(e,!1,n.msgBitLength)).isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),s=r.getPrivate().toArray("be",o),u=e.toArray("be",o);N(new t.default(u).eq(e),"Can not sign message");for(var l=new A({hash:this.hash,entropy:s,nonce:u,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new t.default(1)),d=0;;d++){var f=n.k?n.k(d):new t.default(l.generate(this.n.byteLength()));if(0>=(f=this._truncateToN(f,!0)).cmpn(1)||f.cmp(c)>=0)continue;var p=this.g.mul(f);if(!p.isInfinity()){var h=p.getX(),m=h.umod(this.n);if(0!==m.cmpn(0)){var g=f.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var b=!!p.getY().isOdd()|2*(0!==h.cmp(m));return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),b^=1),new k({r:m,s:g,recoveryParam:b})}}}}},R.prototype.verify=function(e,t,r,i,n){n||(n={}),e=this._truncateToN(e,!1,n.msgBitLength),r=this.keyFromPublic(r,i);var a,o=(t=new k(t,"hex")).r,s=t.s;if(0>o.cmpn(1)||o.cmp(this.n)>=0||0>s.cmpn(1)||s.cmp(this.n)>=0)return!1;var u=s.invm(this.n),l=u.mul(e).umod(this.n),c=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(l,r.getPublic(),c)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(l,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},R.prototype.recoverPubKey=function(e,r,i,n){N((3&i)===i,"The recovery param is more than two bits"),r=new k(r,n);var a=this.n,o=new t.default(e),s=r.r,u=r.s,l=1&i,c=i>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw Error("Unable to find sencond key candinate");s=c?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var d=r.r.invm(a),f=a.sub(o).mul(d).umod(a),p=u.mul(d).umod(a);return this.g.mulAdd(f,s,p)},R.prototype.getKeyRecoveryParam=function(e,t,r,i){if(null!==(t=new k(t,i)).recoveryParam)return t.recoveryParam;for(var n,a=0;a<4;a++){try{n=this.recoverPubKey(e,t,a)}catch(e){continue}if(n.eq(r))return a}throw Error("Unable to find valid recovery factor")};var O=i(function(e,t){t.version="6.6.1",t.utils=s,t.rand=function(){throw Error("unsupported")},t.curve=y,t.curves=x,t.ec=R,t.eddsa=null}).ec,B=e.i(403011),C=e.i(526579);let D=new(e.i(875353)).Logger("signing-key/5.8.0"),F=null;function U(){return F||(F=new O("secp256k1")),F}class M{constructor(e){(0,C.defineReadOnly)(this,"curve","secp256k1"),(0,C.defineReadOnly)(this,"privateKey",(0,B.hexlify)(e)),32!==(0,B.hexDataLength)(this.privateKey)&&D.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=U().keyFromPrivate((0,B.arrayify)(this.privateKey));(0,C.defineReadOnly)(this,"publicKey","0x"+t.getPublic(!1,"hex")),(0,C.defineReadOnly)(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),(0,C.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){let t=U().keyFromPublic((0,B.arrayify)(this.publicKey)),r=U().keyFromPublic((0,B.arrayify)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){let t=U().keyFromPrivate((0,B.arrayify)(this.privateKey)),r=(0,B.arrayify)(e);32!==r.length&&D.throwArgumentError("bad digest length","digest",e);let i=t.sign(r,{canonical:!0});return(0,B.splitSignature)({recoveryParam:i.recoveryParam,r:(0,B.hexZeroPad)("0x"+i.r.toString(16),32),s:(0,B.hexZeroPad)("0x"+i.s.toString(16),32)})}computeSharedSecret(e){let t=U().keyFromPrivate((0,B.arrayify)(this.privateKey)),r=U().keyFromPublic((0,B.arrayify)(q(e)));return(0,B.hexZeroPad)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function L(e,t){let r=(0,B.splitSignature)(t),i={r:(0,B.arrayify)(r.r),s:(0,B.arrayify)(r.s)};return"0x"+U().recoverPubKey((0,B.arrayify)(e),i,r.recoveryParam).encode("hex",!1)}function q(e,t){let r=(0,B.arrayify)(e);if(32===r.length){let e=new M(r);return t?"0x"+U().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?(0,B.hexlify)(r):"0x"+U().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+U().keyFromPublic(r).getPublic(!0,"hex"):(0,B.hexlify)(r):D.throwArgumentError("invalid public or private key","key","[REDACTED]")}e.s(["SigningKey",()=>M,"computePublicKey",()=>q,"recoverPublicKey",()=>L],346469)},840722,e=>{"use strict";var t,r,i=e.i(47771),n=e.i(839341),a=e.i(403011),o=e.i(25363),s=e.i(447172),u=e.i(526579),l=e.i(222223),c=e.i(346469),d=e.i(875353);let f=new d.Logger("transactions/5.8.0");function p(e){return"0x"===e?null:(0,i.getAddress)(e)}function h(e){return"0x"===e?o.Zero:n.BigNumber.from(e)}(t=r||(r={}))[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559";let m=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],g={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function b(e){let t=(0,c.computePublicKey)(e);return(0,i.getAddress)((0,a.hexDataSlice)((0,s.keccak256)((0,a.hexDataSlice)(t,1)),12))}function y(e,t){return b((0,c.recoverPublicKey)((0,a.arrayify)(e),t))}function x(e,t){let r=(0,a.stripZeros)(n.BigNumber.from(e).toHexString());return r.length>32&&f.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function A(e,t){return{address:(0,i.getAddress)(e),storageKeys:(t||[]).map((t,r)=>(32!==(0,a.hexDataLength)(t)&&f.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function w(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&f.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),A(e[0],e[1])):A(e.address,e.storageKeys));let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return A(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function v(e){return w(e).map(e=>[e.address,e.storageKeys])}function S(e,t){if(null!=e.gasPrice){let t=n.BigNumber.from(e.gasPrice),r=n.BigNumber.from(e.maxFeePerGas||0);t.eq(r)||f.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}let r=[x(e.chainId||0,"chainId"),x(e.nonce||0,"nonce"),x(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),x(e.maxFeePerGas||0,"maxFeePerGas"),x(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.getAddress)(e.to):"0x",x(e.value||0,"value"),e.data||"0x",v(e.accessList||[])];if(t){let e=(0,a.splitSignature)(t);r.push(x(e.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(e.r)),r.push((0,a.stripZeros)(e.s))}return(0,a.hexConcat)(["0x02",l.encode(r)])}function k(e,t){let r=[x(e.chainId||0,"chainId"),x(e.nonce||0,"nonce"),x(e.gasPrice||0,"gasPrice"),x(e.gasLimit||0,"gasLimit"),null!=e.to?(0,i.getAddress)(e.to):"0x",x(e.value||0,"value"),e.data||"0x",v(e.accessList||[])];if(t){let e=(0,a.splitSignature)(t);r.push(x(e.recoveryParam,"recoveryParam")),r.push((0,a.stripZeros)(e.r)),r.push((0,a.stripZeros)(e.s))}return(0,a.hexConcat)(["0x01",l.encode(r)])}function T(e,t){if(null==e.type||0===e.type){null!=e.accessList&&f.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e);(0,u.checkProperties)(e,g);let r=[];m.forEach(function(t){let i=e[t.name]||[],n={};t.numeric&&(n.hexPad="left"),i=(0,a.arrayify)((0,a.hexlify)(i,n)),t.length&&i.length!==t.length&&i.length>0&&f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,i),t.maxLength&&(i=(0,a.stripZeros)(i)).length>t.maxLength&&f.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,i),r.push((0,a.hexlify)(i))});let i=0;if(null!=e.chainId?"number"!=typeof(i=e.chainId)&&f.throwArgumentError("invalid transaction.chainId","transaction",e):t&&!(0,a.isBytesLike)(t)&&t.v>28&&(i=Math.floor((t.v-35)/2)),0!==i&&(r.push((0,a.hexlify)(i)),r.push("0x"),r.push("0x")),!t)return l.encode(r);let n=(0,a.splitSignature)(t),o=27+n.recoveryParam;return 0!==i?(r.pop(),r.pop(),r.pop(),o+=2*i+8,n.v>28&&n.v!==o&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):n.v!==o&&f.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push((0,a.hexlify)(o)),r.push((0,a.stripZeros)((0,a.arrayify)(n.r))),r.push((0,a.stripZeros)((0,a.arrayify)(n.s))),l.encode(r)}switch(e.type){case 1:return k(e,t);case 2:return S(e,t)}return f.throwError(`unsupported transaction type: ${e.type}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function E(e,t,r){try{let r=h(t[0]).toNumber();if(0!==r&&1!==r)throw Error("bad recid");e.v=r}catch(e){f.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=(0,a.hexZeroPad)(t[1],32),e.s=(0,a.hexZeroPad)(t[2],32);try{let t=(0,s.keccak256)(r(e));e.from=y(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){}}function P(e){let t=(0,a.arrayify)(e);if(t[0]>127)return function(e){let t=l.decode(e);9!==t.length&&6!==t.length&&f.throwArgumentError("invalid raw transaction","rawTransaction",e);let r={nonce:h(t[0]).toNumber(),gasPrice:h(t[1]),gasLimit:h(t[2]),to:p(t[3]),value:h(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=n.BigNumber.from(t[6]).toNumber()}catch(e){return r}if(r.r=(0,a.hexZeroPad)(t[7],32),r.s=(0,a.hexZeroPad)(t[8],32),n.BigNumber.from(r.r).isZero()&&n.BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27,n=t.slice(0,6);0!==r.chainId&&(n.push((0,a.hexlify)(r.chainId)),n.push("0x"),n.push("0x"),i-=2*r.chainId+8);let o=(0,s.keccak256)(l.encode(n));try{r.from=y(o,{r:(0,a.hexlify)(r.r),s:(0,a.hexlify)(r.s),recoveryParam:i})}catch(e){}r.hash=(0,s.keccak256)(e)}return r.type=null,r}(t);switch(t[0]){case 1:let r,i;return 8!==(r=l.decode(t.slice(1))).length&&11!==r.length&&f.throwArgumentError("invalid component count for transaction type: 1","payload",(0,a.hexlify)(t)),i={type:1,chainId:h(r[0]).toNumber(),nonce:h(r[1]).toNumber(),gasPrice:h(r[2]),gasLimit:h(r[3]),to:p(r[4]),value:h(r[5]),data:r[6],accessList:w(r[7])},8===r.length||(i.hash=(0,s.keccak256)(t),E(i,r.slice(8),k)),i;case 2:let o,u,c,m;return 9!==(o=l.decode(t.slice(1))).length&&12!==o.length&&f.throwArgumentError("invalid component count for transaction type: 2","payload",(0,a.hexlify)(t)),u=h(o[2]),c=h(o[3]),m={type:2,chainId:h(o[0]).toNumber(),nonce:h(o[1]).toNumber(),maxPriorityFeePerGas:u,maxFeePerGas:c,gasPrice:null,gasLimit:h(o[4]),to:p(o[5]),value:h(o[6]),data:o[7],accessList:w(o[8])},9===o.length||(m.hash=(0,s.keccak256)(t),E(m,o.slice(9),S)),m}return f.throwError(`unsupported transaction type: ${t[0]}`,d.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}e.s(["TransactionTypes",()=>r,"accessListify",()=>w,"computeAddress",()=>b,"parse",()=>P,"recoverAddress",()=>y,"serialize",()=>T],840722)},142621,849266,407224,e=>{"use strict";var t=e.i(403011),r=e.i(447172),i=e.i(840858);let n="\x19Ethereum Signed Message:\n";function a(e){return"string"==typeof e&&(e=(0,i.toUtf8Bytes)(e)),(0,r.keccak256)((0,t.concat)([(0,i.toUtf8Bytes)(n),(0,i.toUtf8Bytes)(String(e.length)),e]))}e.s(["hashMessage",()=>a,"messagePrefix",0,n],142621);var o=e.i(47771),s=e.i(839341),u=e.i(526579),l=e.i(875353);let c="hash/5.8.0";e.s(["version",0,c],849266);var d=e.i(83090);let f=new l.Logger(c),p=new Uint8Array(32);p.fill(0);let h=s.BigNumber.from(-1),m=s.BigNumber.from(0),g=s.BigNumber.from(1),b=s.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),y=(0,t.hexZeroPad)(g.toHexString(),32),x=(0,t.hexZeroPad)(m.toHexString(),32),A={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},w=["name","version","chainId","verifyingContract","salt"];function v(e){return function(t){return"string"!=typeof t&&f.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let S={name:v("name"),version:v("version"),chainId:function(e){try{return s.BigNumber.from(e).toString()}catch(e){}return f.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return(0,o.getAddress)(e).toLowerCase()}catch(e){}return f.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{let r=(0,t.arrayify)(e);if(32!==r.length)throw Error("bad length");return(0,t.hexlify)(r)}catch(e){}return f.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function k(e){{let r=e.match(/^(u?)int(\d*)$/);if(r){let i=""===r[1],n=parseInt(r[2]||"256");(n%8!=0||n>256||r[2]&&r[2]!==String(n))&&f.throwArgumentError("invalid numeric width","type",e);let a=b.mask(i?n-1:n),o=i?a.add(g).mul(h):m;return function(r){let i=s.BigNumber.from(r);return(i.lt(o)||i.gt(a))&&f.throwArgumentError(`value out-of-bounds for ${e}`,"value",r),(0,t.hexZeroPad)(i.toTwos(256).toHexString(),32)}}}{let r=e.match(/^bytes(\d+)$/);if(r){let i=parseInt(r[1]);return(0===i||i>32||r[1]!==String(i))&&f.throwArgumentError("invalid bytes width","type",e),function(r){let n,a;return(0,t.arrayify)(r).length!==i&&f.throwArgumentError(`invalid length for ${e}`,"value",r),(a=(n=(0,t.arrayify)(r)).length%32)?(0,t.hexConcat)([n,p.slice(a)]):(0,t.hexlify)(n)}}}switch(e){case"address":return function(e){return(0,t.hexZeroPad)((0,o.getAddress)(e),32)};case"bool":return function(e){return e?y:x};case"bytes":return function(e){return(0,r.keccak256)(e)};case"string":return function(e){return(0,d.id)(e)}}return null}function T(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class E{constructor(e){(0,u.defineReadOnly)(this,"types",Object.freeze((0,u.deepCopy)(e))),(0,u.defineReadOnly)(this,"_encoderCache",{}),(0,u.defineReadOnly)(this,"_types",{});const t={},r={},i={};for(const n in Object.keys(e).forEach(e=>{t[e]={},r[e]=[],i[e]={}}),e){const i={};e[n].forEach(a=>{i[a.name]&&f.throwArgumentError(`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(n)}`,"types",e),i[a.name]=!0;let o=a.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===n&&f.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),k(o)||(r[o]||f.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(n),t[n][o]=!0)})}const n=Object.keys(r).filter(e=>0===r[e].length);for(const a in 0===n.length?f.throwArgumentError("missing primary type","types",e):n.length>1&&f.throwArgumentError(`ambiguous primary types or unused types: ${n.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,u.defineReadOnly)(this,"primaryType",n[0]),!function n(a,o){o[a]&&f.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),o[a]=!0,Object.keys(t[a]).forEach(e=>{r[e]&&(n(e,o),Object.keys(o).forEach(t=>{i[t][e]=!0}))}),delete o[a]}(this.primaryType,{}),i){const t=Object.keys(i[a]);t.sort(),this._types[a]=T(a,e[a])+t.map(t=>T(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{let t=k(e);if(t)return t}let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let e=i[1],n=this.getEncoder(e),a=parseInt(i[3]);return i=>{a>=0&&i.length!==a&&f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",i);let o=i.map(n);return this._types[e]&&(o=o.map(r.keccak256)),(0,r.keccak256)((0,t.hexConcat)(o))}}let n=this.types[e];if(n){let i=(0,d.id)(this._types[e]);return e=>{let a=n.map(({name:t,type:i})=>{let n=this.getEncoder(i)(e[t]);return this._types[i]?(0,r.keccak256)(n):n});return a.unshift(i),(0,t.hexConcat)(a)}}return f.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){let t=this._types[e];return t||f.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return(0,r.keccak256)(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(k(e))return r(e,t);let i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){let e=i[1],n=parseInt(i[3]);return n>=0&&t.length!==n&&f.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}let n=this.types[e];return n?n.reduce((e,{name:i,type:n})=>(e[i]=this._visit(n,t[i],r),e),{}):f.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new E(e)}static getPrimaryType(e){return E.from(e).primaryType}static hashStruct(e,t,r){return E.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){let i=A[r];i||f.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((e,t)=>w.indexOf(e.name)-w.indexOf(t.name)),E.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,r,i){return(0,t.hexConcat)(["0x1901",E.hashDomain(e),E.from(r).hash(i)])}static hash(e,t,i){return(0,r.keccak256)(E.encode(e,t,i))}static resolveNames(e,r,i,n){var a,o,s,l;return a=this,o=void 0,s=void 0,l=function*(){e=(0,u.shallowCopy)(e);let a={};e.verifyingContract&&!(0,t.isHexString)(e.verifyingContract,20)&&(a[e.verifyingContract]="0x");let o=E.from(r);for(let e in o.visit(i,(e,r)=>("address"!==e||(0,t.isHexString)(r,20)||(a[r]="0x"),r)),a)a[e]=yield n(e);return e.verifyingContract&&a[e.verifyingContract]&&(e.verifyingContract=a[e.verifyingContract]),i=o.visit(i,(e,t)=>"address"===e&&a[t]?a[t]:t),{domain:e,value:i}},new(s||(s=Promise))(function(e,t){function r(e){try{n(l.next(e))}catch(e){t(e)}}function i(e){try{n(l.throw(e))}catch(e){t(e)}}function n(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,i)}n((l=l.apply(a,o||[])).next())})}static getPayload(e,r,i){E.hashDomain(e);let n={},a=[];w.forEach(t=>{let r=e[t];null!=r&&(n[t]=S[t](r),a.push({name:t,type:A[t]}))});let o=E.from(r),l=(0,u.shallowCopy)(r);return l.EIP712Domain?f.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):l.EIP712Domain=a,o.encode(i),{types:l,domain:n,primaryType:o.primaryType,message:o.visit(i,(e,r)=>{if(e.match(/^bytes(\d*)/))return(0,t.hexlify)((0,t.arrayify)(r));if(e.match(/^u?int/))return s.BigNumber.from(r).toString();switch(e){case"address":return r.toLowerCase();case"bool":return!!r;case"string":return"string"!=typeof r&&f.throwArgumentError("invalid string","value",r),r}return f.throwArgumentError("unsupported type","type",e)})}}}e.s(["TypedDataEncoder",()=>E],407224)},206641,e=>{"use strict";var t=e.i(403011),r=e.i(526579);class i{constructor(e){(0,r.defineReadOnly)(this,"alphabet",e),(0,r.defineReadOnly)(this,"base",e.length),(0,r.defineReadOnly)(this,"_alphabetMap",{}),(0,r.defineReadOnly)(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let r=(0,t.arrayify)(e);if(0===r.length)return"";let i=[0];for(let e=0;e<r.length;++e){let t=r[e];for(let e=0;e<i.length;++e)t+=i[e]<<8,i[e]=t%this.base,t=t/this.base|0;for(;t>0;)i.push(t%this.base),t=t/this.base|0}let n="";for(let e=0;0===r[e]&&e<r.length-1;++e)n+=this._leader;for(let e=i.length-1;e>=0;--e)n+=this.alphabet[i[e]];return n}decode(e){if("string"!=typeof e)throw TypeError("Expected String");let r=[];if(0===e.length)return new Uint8Array(r);r.push(0);for(let t=0;t<e.length;t++){let i=this._alphabetMap[e[t]];if(void 0===i)throw Error("Non-base"+this.base+" character");let n=i;for(let e=0;e<r.length;++e)n+=r[e]*this.base,r[e]=255&n,n>>=8;for(;n>0;)r.push(255&n),n>>=8}for(let t=0;e[t]===this._leader&&t<e.length-1;++t)r.push(0);return(0,t.arrayify)(new Uint8Array(r.reverse()))}}let n=new i("abcdefghijklmnopqrstuvwxyz234567"),a=new i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");e.s(["Base32",()=>n,"Base58",()=>a,"BaseX",()=>i])},942558,691846,e=>{"use strict";var t,r,i=e.i(70148),n=e.i(403011);(t=r||(r={})).sha256="sha256",t.sha512="sha512",e.s(["SupportedAlgorithm",()=>r],691846);var a=e.i(875353);let o=new a.Logger("sha2/5.8.0");function s(e){return"0x"+i.default.ripemd160().update((0,n.arrayify)(e)).digest("hex")}function u(e){return"0x"+i.default.sha256().update((0,n.arrayify)(e)).digest("hex")}function l(e){return"0x"+i.default.sha512().update((0,n.arrayify)(e)).digest("hex")}function c(e,t,s){return r[e]||o.throwError("unsupported algorithm "+e,a.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+i.default.hmac(i.default[e],(0,n.arrayify)(t)).update((0,n.arrayify)(s)).digest("hex")}e.s(["computeHmac",()=>c,"ripemd160",()=>s,"sha256",()=>u,"sha512",()=>l],942558)},891368,957508,422955,309302,e=>{"use strict";var t=e.i(206641),r=e.i(403011),i=e.i(839341),n=e.i(840858),a=e.i(942558);function o(e,t,i,n,o){let s,u,l;e=(0,r.arrayify)(e),t=(0,r.arrayify)(t);let c=1,d=new Uint8Array(n),f=new Uint8Array(t.length+4);f.set(t);for(let p=1;p<=c;p++){f[t.length]=p>>24&255,f[t.length+1]=p>>16&255,f[t.length+2]=p>>8&255,f[t.length+3]=255&p;let h=(0,r.arrayify)((0,a.computeHmac)(o,e,f));s||(l=new Uint8Array(s=h.length),c=Math.ceil(n/s),u=n-(c-1)*s),l.set(h);for(let t=1;t<i;t++){h=(0,r.arrayify)((0,a.computeHmac)(o,e,h));for(let e=0;e<s;e++)l[e]^=h[e]}let m=(p-1)*s,g=p===c?u:s;d.set((0,r.arrayify)(l).slice(0,g),m)}return(0,r.hexlify)(d)}e.s(["pbkdf2",()=>o],957508);var s=e.i(526579),u=e.i(346469),l=e.i(691846),c=e.i(840722),d=e.i(83090),f=e.i(875353);let p=new f.Logger("wordlists/5.8.0");class h{constructor(e){p.checkAbstract(new.target,h),(0,s.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let t=[];for(let r=0;r<2048;r++){let i=e.getWord(r);if(r!==e.getWordIndex(i))return"0x";t.push(i)}return(0,d.id)(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}e.s(["Wordlist",()=>h],422955);let m=null;function g(e){if(null==m&&(m="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==h.check(e)))throw m=null,Error("BIP39 Wordlist for en (English) FAILED")}let b=new class extends h{constructor(){super("en")}getWord(e){return g(this),m[e]}getWordIndex(e){return g(this),m.indexOf(e)}};h.register(b);let y={en:b};e.s(["wordlists",0,y],309302);let x=new f.Logger("hdnode/5.8.0"),A=i.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),w=(0,n.toUtf8Bytes)("Bitcoin seed");function v(e){return(1<<e)-1<<8-e}function S(e){return(0,r.hexZeroPad)((0,r.hexlify)(e),32)}function k(e){return t.Base58.encode((0,r.concat)([e,(0,r.hexDataSlice)((0,a.sha256)((0,a.sha256)(e)),0,4)]))}function T(e){if(null==e)return y.en;if("string"==typeof e){let t=y[e];return null==t&&x.throwArgumentError("unknown locale","wordlist",e),t}return e}let E={};class P{constructor(e,t,i,n,o,l,d,f){if(e!==E)throw Error("HDNode constructor cannot be called directly");if(t){const e=new u.SigningKey(t);(0,s.defineReadOnly)(this,"privateKey",e.privateKey),(0,s.defineReadOnly)(this,"publicKey",e.compressedPublicKey)}else(0,s.defineReadOnly)(this,"privateKey",null),(0,s.defineReadOnly)(this,"publicKey",(0,r.hexlify)(i));(0,s.defineReadOnly)(this,"parentFingerprint",n),(0,s.defineReadOnly)(this,"fingerprint",(0,r.hexDataSlice)((0,a.ripemd160)((0,a.sha256)(this.publicKey)),0,4)),(0,s.defineReadOnly)(this,"address",(0,c.computeAddress)(this.publicKey)),(0,s.defineReadOnly)(this,"chainCode",o),(0,s.defineReadOnly)(this,"index",l),(0,s.defineReadOnly)(this,"depth",d),null==f?((0,s.defineReadOnly)(this,"mnemonic",null),(0,s.defineReadOnly)(this,"path",null)):"string"==typeof f?((0,s.defineReadOnly)(this,"mnemonic",null),(0,s.defineReadOnly)(this,"path",f)):((0,s.defineReadOnly)(this,"mnemonic",f),(0,s.defineReadOnly)(this,"path",f.path))}get extendedKey(){if(this.depth>=256)throw Error("Depth too large!");return k((0,r.concat)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",(0,r.hexlify)(this.depth),this.parentFingerprint,(0,r.hexZeroPad)((0,r.hexlify)(this.index),4),this.chainCode,null!=this.privateKey?(0,r.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new P(E,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>0xffffffff)throw Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(0x7fffffff&e));let n=new Uint8Array(37);if(0x80000000&e){if(!this.privateKey)throw Error("cannot derive child of neutered node");n.set((0,r.arrayify)(this.privateKey),1),t&&(t+="'")}else n.set((0,r.arrayify)(this.publicKey));for(let t=24;t>=0;t-=8)n[33+(t>>3)]=e>>24-t&255;let o=(0,r.arrayify)((0,a.computeHmac)(l.SupportedAlgorithm.sha512,this.chainCode,n)),s=o.slice(0,32),c=o.slice(32),d=null,f=null;this.privateKey?d=S(i.BigNumber.from(s).add(this.privateKey).mod(A)):f=new u.SigningKey((0,r.hexlify)(s))._addPoint(this.publicKey);let p=t,h=this.mnemonic;return h&&(p=Object.freeze({phrase:h.phrase,path:t,locale:h.locale||"en"})),new P(E,d,f,this.fingerprint,S(c),e,this.depth+1,p)}derivePath(e){let t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){let i=t[e];if(i.match(/^[0-9]+'$/)){let e=parseInt(i.substring(0,i.length-1));if(e>=0x80000000)throw Error("invalid path index - "+i);r=r._derive(0x80000000+e)}else if(i.match(/^[0-9]+$/)){let e=parseInt(i);if(e>=0x80000000)throw Error("invalid path index - "+i);r=r._derive(e)}else throw Error("invalid path component - "+i)}return r}static _fromSeed(e,t){let i=(0,r.arrayify)(e);if(i.length<16||i.length>64)throw Error("invalid seed");let n=(0,r.arrayify)((0,a.computeHmac)(l.SupportedAlgorithm.sha512,w,i));return new P(E,S(n.slice(0,32)),null,"0x00000000",S(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return r=T(r),e=N(_(e,r),r),P._fromSeed(I(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return P._fromSeed(e,null)}static fromExtendedKey(e){let i=t.Base58.decode(e);(82!==i.length||k(i.slice(0,78))!==e)&&x.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=i[4],a=(0,r.hexlify)(i.slice(5,9)),o=parseInt((0,r.hexlify)(i.slice(9,13)).substring(2),16),s=(0,r.hexlify)(i.slice(13,45)),u=i.slice(45,78);switch((0,r.hexlify)(i.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new P(E,null,(0,r.hexlify)(u),a,s,o,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==u[0])break;return new P(E,(0,r.hexlify)(u.slice(1)),null,a,s,o,n,null)}return x.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function I(e,t){t||(t="");let r=(0,n.toUtf8Bytes)("mnemonic"+t,n.UnicodeNormalizationForm.NFKD);return o((0,n.toUtf8Bytes)(e,n.UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function _(e,t){t=T(t),x.checkNormalize();let i=t.split(e);if(i.length%3!=0)throw Error("invalid mnemonic");let n=(0,r.arrayify)(new Uint8Array(Math.ceil(11*i.length/8))),o=0;for(let e=0;e<i.length;e++){let r=t.getWordIndex(i[e].normalize("NFKD"));if(-1===r)throw Error("invalid mnemonic");for(let e=0;e<11;e++)r&1<<10-e&&(n[o>>3]|=1<<7-o%8),o++}let s=32*i.length/3,u=v(i.length/3);if(((0,r.arrayify)((0,a.sha256)(n.slice(0,s/8)))[0]&u)!=(n[n.length-1]&u))throw Error("invalid checksum");return(0,r.hexlify)(n.slice(0,s/8))}function N(e,t){if(t=T(t),(e=(0,r.arrayify)(e)).length%4!=0||e.length<16||e.length>32)throw Error("invalid entropy");let i=[0],n=11;for(let t=0;t<e.length;t++)n>8?(i[i.length-1]<<=8,i[i.length-1]|=e[t],n-=8):(i[i.length-1]<<=n,i[i.length-1]|=e[t]>>8-n,i.push(e[t]&(1<<8-n)-1),n+=3);let o=e.length/4,s=(0,r.arrayify)((0,a.sha256)(e))[0]&v(o);return i[i.length-1]<<=o,i[i.length-1]|=s>>8-o,t.join(i.map(e=>t.getWord(e)))}function R(e,t){try{return _(e,t),!0}catch(e){}return!1}function O(e){return("number"!=typeof e||e<0||e>=0x80000000||e%1)&&x.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}e.s(["HDNode",()=>P,"defaultPath",0,"m/44'/60'/0'/0/0","entropyToMnemonic",()=>N,"getAccountPath",()=>O,"isValidMnemonic",()=>R,"mnemonicToEntropy",()=>_,"mnemonicToSeed",()=>I],891368)},666843,e=>{"use strict";var t=e.i(403011),r=e.i(875353);let i=new r.Logger("random/5.8.0"),n="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,a=n.crypto||n.msCrypto;function o(e){(e<=0||e>1024||e%1||e!=e)&&i.throwArgumentError("invalid length","length",e);let r=new Uint8Array(e);return a.getRandomValues(r),(0,t.arrayify)(r)}a&&a.getRandomValues||(i.warn("WARNING: Missing strong random number source"),a={getRandomValues:function(e){return i.throwError("no secure random source avaialble",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}}),e.s(["randomBytes",()=>o],666843)},317865,(e,t,r)=>{"use strict";!function(e){function r(e){return parseInt(e)===e}function i(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function n(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!i(e))throw Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&i(e))return new Uint8Array(e);throw Error("unsupported array-like object")}function a(e){return new Uint8Array(e)}function o(e,t,r,i,n){(null!=i||null!=n)&&(e=e.slice?e.slice(i,n):Array.prototype.slice.call(e,i,n)),t.set(e,r)}var s,u=(s="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];t.push(s[(240&i)>>4]+s[15&i])}return t.join("")}}),l={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],h=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],m=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],g=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],b=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],y=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],x=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],A=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],w=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],v=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],S=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],k=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function T(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var E=function(e){if(!(this instanceof E))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(e,!0)}),this._prepare()};E.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var r=(e+1)*4,i=this.key.length/4,n=T(this.key),t=0;t<i;t++)a=t>>2,this._Ke[a][t%4]=n[t],this._Kd[e-a][t%4]=n[t];for(var a,o,s=0,u=i;u<r;){if(o=n[i-1],n[0]^=d[o>>16&255]<<24^d[o>>8&255]<<16^d[255&o]<<8^d[o>>24&255]^c[s]<<24,s+=1,8!=i)for(var t=1;t<i;t++)n[t]^=n[t-1];else{for(var t=1;t<i/2;t++)n[t]^=n[t-1];o=n[i/2-1],n[i/2]^=d[255&o]^d[o>>8&255]<<8^d[o>>16&255]<<16^d[o>>24&255]<<24;for(var t=i/2+1;t<i;t++)n[t]^=n[t-1]}for(var f,p,t=0;t<i&&u<r;)f=u>>2,p=u%4,this._Ke[f][p]=n[t],this._Kd[e-f][p]=n[t++],u++}for(var f=1;f<e;f++)for(var p=0;p<4;p++)o=this._Kd[f][p],this._Kd[f][p]=w[o>>24&255]^v[o>>16&255]^S[o>>8&255]^k[255&o]},E.prototype.encrypt=function(e){if(16!=e.length)throw Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],i=T(e),n=0;n<4;n++)i[n]^=this._Ke[0][n];for(var o=1;o<t;o++){for(var n=0;n<4;n++)r[n]=p[i[n]>>24&255]^h[i[(n+1)%4]>>16&255]^m[i[(n+2)%4]>>8&255]^g[255&i[(n+3)%4]]^this._Ke[o][n];i=r.slice()}for(var s,u=a(16),n=0;n<4;n++)s=this._Ke[t][n],u[4*n]=(d[i[n]>>24&255]^s>>24)&255,u[4*n+1]=(d[i[(n+1)%4]>>16&255]^s>>16)&255,u[4*n+2]=(d[i[(n+2)%4]>>8&255]^s>>8)&255,u[4*n+3]=(d[255&i[(n+3)%4]]^s)&255;return u},E.prototype.decrypt=function(e){if(16!=e.length)throw Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],i=T(e),n=0;n<4;n++)i[n]^=this._Kd[0][n];for(var o=1;o<t;o++){for(var n=0;n<4;n++)r[n]=b[i[n]>>24&255]^y[i[(n+3)%4]>>16&255]^x[i[(n+2)%4]>>8&255]^A[255&i[(n+1)%4]]^this._Kd[o][n];i=r.slice()}for(var s,u=a(16),n=0;n<4;n++)s=this._Kd[t][n],u[4*n]=(f[i[n]>>24&255]^s>>24)&255,u[4*n+1]=(f[i[(n+3)%4]>>16&255]^s>>16)&255,u[4*n+2]=(f[i[(n+2)%4]>>8&255]^s>>8)&255,u[4*n+3]=(f[255&i[(n+1)%4]]^s)&255;return u};var P=function(e){if(!(this instanceof P))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new E(e)};P.prototype.encrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16)o(e,r,0,i,i+16),o(r=this._aes.encrypt(r),t,i);return t},P.prototype.decrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16)o(e,r,0,i,i+16),o(r=this._aes.decrypt(r),t,i);return t};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastCipherblock=n(t,!0),this._aes=new E(e)};I.prototype.encrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16){o(e,r,0,i,i+16);for(var s=0;s<16;s++)r[s]^=this._lastCipherblock[s];this._lastCipherblock=this._aes.encrypt(r),o(this._lastCipherblock,t,i)}return t},I.prototype.decrypt=function(e){if((e=n(e)).length%16!=0)throw Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=a(e.length),r=a(16),i=0;i<e.length;i+=16){o(e,r,0,i,i+16),r=this._aes.decrypt(r);for(var s=0;s<16;s++)t[i+s]=r[s]^this._lastCipherblock[s];o(e,this._lastCipherblock,0,i,i+16)}return t};var _=function(e,t,r){if(!(this instanceof _))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 size)")}else t=a(16);r||(r=1),this.segmentSize=r,this._shiftRegister=n(t,!0),this._aes=new E(e)};_.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=n(e,!0),i=0;i<r.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[i+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(r,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r},_.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=n(e,!0),i=0;i<r.length;i+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var a=0;a<this.segmentSize;a++)r[i+a]^=t[a];o(this._shiftRegister,this._shiftRegister,0,this.segmentSize),o(e,this._shiftRegister,16-this.segmentSize,i,i+this.segmentSize)}return r};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw Error("invalid initialation vector size (must be 16 bytes)")}else t=a(16);this._lastPrecipher=n(t,!0),this._lastPrecipherIndex=16,this._aes=new E(e)};N.prototype.encrypt=function(e){for(var t=n(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},N.prototype.decrypt=N.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=a(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=n(e,!0)).length)throw Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--)if(255===this._counter[e])this._counter[e]=0;else{this._counter[e]++;break}};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new E(e)};O.prototype.encrypt=function(e){for(var t=n(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},O.prototype.decrypt=O.prototype.encrypt,t.exports={AES:E,Counter:R,ModeOfOperation:{ecb:P,cbc:I,cfb:_,ofb:N,ctr:O},utils:{hex:u,utf8:{toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var i=e.charCodeAt(r++);37===i?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(i)}return n(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var i=e[r];i<128?(t.push(String.fromCharCode(i)),r++):i>191&&i<224?(t.push(String.fromCharCode((31&i)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&i)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}}},padding:{pkcs7:{pad:function(e){var t=16-(e=n(e,!0)).length%16,r=a(e.length+t);o(e,r);for(var i=e.length;i<r.length;i++)r[i]=t;return r},strip:function(e){if((e=n(e,!0)).length<16)throw Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw Error("PKCS#7 padding byte out of range");for(var r=e.length-t,i=0;i<t;i++)if(e[r+i]!==t)throw Error("PKCS#7 invalid padding byte");var s=a(r);return o(e,s,0,0,r),s}}},_arrayTest:{coerceArray:n,createArray:a,copyArray:o}}}(e.e)},47913,(e,t,r)=>{"use strict";!function(e){function r(e){let t=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),r=0x6a09e667,i=0xbb67ae85,n=0x3c6ef372,a=0xa54ff53a,o=0x510e527f,s=0x9b05688c,u=0x1f83d9ab,l=0x5be0cd19,c=new Uint32Array(64);function d(e){let d=0,f=e.length;for(;f>=64;){let p=r,h=i,m=n,g=a,b=o,y=s,x=u,A=l,w,v,S,k,T;for(v=0;v<16;v++)S=d+4*v,c[v]=(255&e[S])<<24|(255&e[S+1])<<16|(255&e[S+2])<<8|255&e[S+3];for(v=16;v<64;v++)k=((w=c[v-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10,T=((w=c[v-15])>>>7|w<<25)^(w>>>18|w<<14)^w>>>3,c[v]=(k+c[v-7]|0)+(T+c[v-16]|0)|0;for(v=0;v<64;v++)k=(((b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&y^~b&x)|0)+(A+(t[v]+c[v]|0)|0)|0,T=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&h^p&m^h&m)|0,A=x,x=y,y=b,b=g+k|0,g=m,m=h,h=p,p=k+T|0;r=r+p|0,i=i+h|0,n=n+m|0,a=a+g|0,o=o+b|0,s=s+y|0,u=u+x|0,l=l+A|0,d+=64,f-=64}}d(e);let f,p=e.length%64,h=e.length/0x20000000|0,m=e.length<<3,g=p<56?56:120,b=e.slice(e.length-p,e.length);for(b.push(128),f=p+1;f<g;f++)b.push(0);return b.push(h>>>24&255),b.push(h>>>16&255),b.push(h>>>8&255),b.push(h>>>0&255),b.push(m>>>24&255),b.push(m>>>16&255),b.push(m>>>8&255),b.push(m>>>0&255),d(b),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255]}function i(e,t,i){let n;e=e.length<=64?e:r(e);let a=64+t.length+4,o=Array(a),s=Array(64),u=[];for(n=0;n<64;n++)o[n]=54;for(n=0;n<e.length;n++)o[n]^=e[n];for(n=0;n<t.length;n++)o[64+n]=t[n];for(n=a-4;n<a;n++)o[n]=0;for(n=0;n<64;n++)s[n]=92;for(n=0;n<e.length;n++)s[n]^=e[n];function l(){for(let e=a-1;e>=a-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;i>=32;)l(),u=u.concat(r(s.concat(r(o)))),i-=32;return i>0&&(l(),u=u.concat(r(s.concat(r(o))).slice(0,i))),u}function n(e,t,r,i,n){let u;for(s(e,(2*r-1)*16,n,0,16),u=0;u<2*r;u++)o(e,16*u,n,16),function(e,t){s(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=a(t[0]+t[12],7),t[8]^=a(t[4]+t[0],9),t[12]^=a(t[8]+t[4],13),t[0]^=a(t[12]+t[8],18),t[9]^=a(t[5]+t[1],7),t[13]^=a(t[9]+t[5],9),t[1]^=a(t[13]+t[9],13),t[5]^=a(t[1]+t[13],18),t[14]^=a(t[10]+t[6],7),t[2]^=a(t[14]+t[10],9),t[6]^=a(t[2]+t[14],13),t[10]^=a(t[6]+t[2],18),t[3]^=a(t[15]+t[11],7),t[7]^=a(t[3]+t[15],9),t[11]^=a(t[7]+t[3],13),t[15]^=a(t[11]+t[7],18),t[1]^=a(t[0]+t[3],7),t[2]^=a(t[1]+t[0],9),t[3]^=a(t[2]+t[1],13),t[0]^=a(t[3]+t[2],18),t[6]^=a(t[5]+t[4],7),t[7]^=a(t[6]+t[5],9),t[4]^=a(t[7]+t[6],13),t[5]^=a(t[4]+t[7],18),t[11]^=a(t[10]+t[9],7),t[8]^=a(t[11]+t[10],9),t[9]^=a(t[8]+t[11],13),t[10]^=a(t[9]+t[8],18),t[12]^=a(t[15]+t[14],7),t[13]^=a(t[12]+t[15],9),t[14]^=a(t[13]+t[12],13),t[15]^=a(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}(n,i),s(n,0,e,t+16*u,16);for(u=0;u<r;u++)s(e,t+2*u*16,e,16*u,16);for(u=0;u<r;u++)s(e,t+(2*u+1)*16,e,(u+r)*16,16)}function a(e,t){return e<<t|e>>>32-t}function o(e,t,r,i){for(let n=0;n<i;n++)r[n]^=e[t+n]}function s(e,t,r,i,n){for(;n--;)r[i++]=e[t++]}function u(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){let r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function l(e,t){if("number"!=typeof e||e%1)throw Error("invalid "+t);return e}function c(e,t,r,a,c,d,f){let p;if(r=l(r,"N"),a=l(a,"r"),c=l(c,"p"),d=l(d,"dkLen"),0===r||(r&r-1)!=0)throw Error("N must be power of 2");if(r>0x7fffffff/128/a)throw Error("N too large");if(a>0x7fffffff/128/c)throw Error("r too large");if(!u(e))throw Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!u(t))throw Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let h=i(e,t,128*c*a),m=new Uint32Array(32*c*a);for(let e=0;e<m.length;e++){let t=4*e;m[e]=(255&h[t+3])<<24|(255&h[t+2])<<16|(255&h[t+1])<<8|255&h[t+0]}let g=new Uint32Array(64*a),b=new Uint32Array(32*a*r),y=32*a,x=new Uint32Array(16),A=new Uint32Array(16),w=c*r*2,v=0,S=null,k=!1,T=0,E=0,P,I=f?parseInt(1e3/a):0xffffffff,_="undefined"!=typeof setImmediate?setImmediate:setTimeout,N=function(){let t;if(k)return f(Error("cancelled"),v/w);switch(T){case 0:s(m,p=32*E*a,g,0,y),T=1,P=0;case 1:(t=r-P)>I&&(t=I);for(let e=0;e<t;e++)s(g,0,b,(P+e)*y,y),n(g,y,a,x,A);if(P+=t,v+=t,f){let e=parseInt(1e3*v/w);if(e!==S){if(k=f(null,v/w))break;S=e}}if(P<r)break;P=0,T=2;case 2:(t=r-P)>I&&(t=I);for(let e=0;e<t;e++)o(b,(g[(2*a-1)*16]&r-1)*y,g,y),n(g,y,a,x,A);if(P+=t,v+=t,f){let e=parseInt(1e3*v/w);if(e!==S){if(k=f(null,v/w))break;S=e}}if(P<r)break;if(s(g,0,m,p,y),++E<c){T=0;break}h=[];for(let e=0;e<m.length;e++)h.push(255&m[e]),h.push(m[e]>>8&255),h.push(m[e]>>16&255),h.push(m[e]>>24&255);let u=i(e,h,d);return f&&f(null,1,u),u}f&&_(N)};if(!f)for(;;){let e=N();if(void 0!=e)return e}N()}t.exports={scrypt:function(e,t,r,i,n,a,o){return new Promise(function(s,u){let l=0;o&&o(0),c(e,t,r,i,n,a,function(e,t,r){if(e)u(e);else if(r)o&&1!==l&&o(1),s(new Uint8Array(r));else if(o&&t!==l)return l=t,o(t)})})},syncScrypt:function(e,t,r,i,n,a){return new Uint8Array(c(e,t,r,i,n,a))}}}(e.e)},896350,828054,407351,592875,e=>{"use strict";var t=e.i(317865),r=e.i(47771),i=e.i(403011),n=e.i(447172),a=e.i(957508),o=e.i(840858),s=e.i(526579),u=e.i(875353);let l="json-wallets/5.8.0";function c(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),(0,i.arrayify)(e)}function d(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function f(e){return"string"==typeof e?(0,o.toUtf8Bytes)(e,o.UnicodeNormalizationForm.NFKC):(0,i.arrayify)(e)}function p(e,t){let r=e,i=t.toLowerCase().split("/");for(let e=0;e<i.length;e++){let t=null;for(let n in r)if(n.toLowerCase()===i[e]){t=r[n];break}if(null===t)return null;r=t}return r}let h=new u.Logger(l);class m extends s.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function g(e,s){let u=JSON.parse(e);s=f(s);let l=(0,r.getAddress)(p(u,"ethaddr")),d=c(p(u,"encseed"));d&&d.length%16==0||h.throwArgumentError("invalid encseed","json",e);let g=(0,i.arrayify)((0,a.pbkdf2)(s,s,2e3,32,"sha256")).slice(0,16),b=d.slice(0,16),y=d.slice(16),x=new t.default.ModeOfOperation.cbc(g,b),A=t.default.padding.pkcs7.strip((0,i.arrayify)(x.decrypt(y))),w="";for(let e=0;e<A.length;e++)w+=String.fromCharCode(A[e]);let v=(0,o.toUtf8Bytes)(w);return new m({_isCrowdsaleAccount:!0,address:l,privateKey:(0,n.keccak256)(v)})}function b(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function y(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!!t.version&&parseInt(t.version)===t.version&&3===parseInt(t.version)}function x(e){if(b(e))try{return(0,r.getAddress)(JSON.parse(e).ethaddr)}catch(e){return null}if(y(e))try{return(0,r.getAddress)(JSON.parse(e).address)}catch(e){}return null}e.s(["decrypt",()=>g],828054),e.s(["getJsonWalletAddress",()=>x,"isCrowdsaleWallet",()=>b,"isKeystoreWallet",()=>y],407351);var A=e.i(47913),w=e.i(891368),v=e.i(666843),S=s,k=e.i(840722);let T=new u.Logger(l);function E(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class P extends S.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function I(e,a){let o=c(p(e,"crypto/ciphertext"));if((0,i.hexlify)((0,n.keccak256)((0,i.concat)([a.slice(16,32),o]))).substring(2)!==p(e,"crypto/mac").toLowerCase())throw Error("invalid password");let s=function(e,r,n){if("aes-128-ctr"===p(e,"crypto/cipher")){let a=c(p(e,"crypto/cipherparams/iv")),o=new t.default.Counter(a),s=new t.default.ModeOfOperation.ctr(r,o);return(0,i.arrayify)(s.decrypt(n))}return null}(e,a.slice(0,16),o);s||T.throwError("unsupported cipher",u.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let l=a.slice(32,64),d=(0,k.computeAddress)(s);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),(0,r.getAddress)(t)!==d)throw Error("address mismatch")}let f={_isKeystoreAccount:!0,address:d,privateKey:(0,i.hexlify)(s)};if("0.1"===p(e,"x-ethers/version")){let r=c(p(e,"x-ethers/mnemonicCiphertext")),n=c(p(e,"x-ethers/mnemonicCounter")),a=new t.default.Counter(n),o=new t.default.ModeOfOperation.ctr(l,a),s=p(e,"x-ethers/path")||w.defaultPath,d=p(e,"x-ethers/locale")||"en",h=(0,i.arrayify)(o.decrypt(r));try{let e=(0,w.entropyToMnemonic)(h,d),t=w.HDNode.fromMnemonic(e,null,d).derivePath(s);if(t.privateKey!=f.privateKey)throw Error("mnemonic mismatch");f.mnemonic=t.mnemonic}catch(e){if(e.code!==u.Logger.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new P(f)}function _(e,t,r,n,o){return(0,i.arrayify)((0,a.pbkdf2)(e,t,r,n,o))}function N(e,t,r,i,n){return Promise.resolve(_(e,t,r,i,n))}function R(e,t,r,i,n){let a=f(t),o=p(e,"crypto/kdf");if(o&&"string"==typeof o){let t=function(e,t){return T.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===o.toLowerCase()){let r=c(p(e,"crypto/kdfparams/salt")),s=parseInt(p(e,"crypto/kdfparams/n")),u=parseInt(p(e,"crypto/kdfparams/r")),l=parseInt(p(e,"crypto/kdfparams/p"));s&&u&&l||t("kdf",o),(s&s-1)!=0&&t("N",s);let d=parseInt(p(e,"crypto/kdfparams/dklen"));return 32!==d&&t("dklen",d),i(a,r,s,u,l,64,n)}if("pbkdf2"===o.toLowerCase()){let i=c(p(e,"crypto/kdfparams/salt")),n=null,o=p(e,"crypto/kdfparams/prf");"hmac-sha256"===o?n="sha256":"hmac-sha512"===o?n="sha512":t("prf",o);let s=parseInt(p(e,"crypto/kdfparams/c")),u=parseInt(p(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(a,i,s,u,n)}}return T.throwArgumentError("unsupported key-derivation function","kdf",o)}function O(e,t){let r=JSON.parse(e),i=R(r,t,_,A.default.syncScrypt);return I(r,i)}function B(e,t,r){var i,n,a,o;return i=this,n=void 0,a=void 0,o=function*(){let i=JSON.parse(e),n=yield R(i,t,N,A.default.scrypt,r);return I(i,n)},new(a||(a=Promise))(function(e,t){function r(e){try{u(o.next(e))}catch(e){t(e)}}function s(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,s)}u((o=o.apply(i,n||[])).next())})}function C(e,a,o,s){try{if((0,r.getAddress)(e.address)!==(0,k.computeAddress)(e.privateKey))throw Error("address/privateKey mismatch");if(E(e)){let t=e.mnemonic;if(w.HDNode.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||w.defaultPath).privateKey!=e.privateKey)throw Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof o||s||(s=o,o={}),o||(o={});let u=(0,i.arrayify)(e.privateKey),l=f(a),c=null,p=null,h=null;if(E(e)){let t=e.mnemonic;c=(0,i.arrayify)((0,w.mnemonicToEntropy)(t.phrase,t.locale||"en")),p=t.path||w.defaultPath,h=t.locale||"en"}let m=o.client;m||(m="ethers.js");let g=null;g=o.salt?(0,i.arrayify)(o.salt):(0,v.randomBytes)(32);let b=null;if(o.iv){if(16!==(b=(0,i.arrayify)(o.iv)).length)throw Error("invalid iv")}else b=(0,v.randomBytes)(16);let y=null;if(o.uuid){if(16!==(y=(0,i.arrayify)(o.uuid)).length)throw Error("invalid uuid")}else y=(0,v.randomBytes)(16);let x=131072,S=8,T=1;return o.scrypt&&(o.scrypt.N&&(x=o.scrypt.N),o.scrypt.r&&(S=o.scrypt.r),o.scrypt.p&&(T=o.scrypt.p)),A.default.scrypt(l,g,x,S,T,64,s).then(r=>{var a;let o,s,l=(r=(0,i.arrayify)(r)).slice(0,16),f=r.slice(16,32),A=r.slice(32,64),w=new t.default.Counter(b),k=new t.default.ModeOfOperation.ctr(l,w),E=(0,i.arrayify)(k.encrypt(u)),P=(0,n.keccak256)((0,i.concat)([f,E])),I={address:e.address.substring(2).toLowerCase(),id:(a=y,(o=(0,i.arrayify)(a))[6]=15&o[6]|64,o[8]=63&o[8]|128,[(s=(0,i.hexlify)(o)).substring(2,10),s.substring(10,14),s.substring(14,18),s.substring(18,22),s.substring(22,34)].join("-")),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,i.hexlify)(b).substring(2)},ciphertext:(0,i.hexlify)(E).substring(2),kdf:"scrypt",kdfparams:{salt:(0,i.hexlify)(g).substring(2),n:x,dklen:32,p:T,r:S},mac:P.substring(2)}};if(c){let e=(0,v.randomBytes)(16),r=new t.default.Counter(e),n=new t.default.ModeOfOperation.ctr(A,r),a=(0,i.arrayify)(n.encrypt(c)),o=new Date,s=o.getUTCFullYear()+"-"+d(o.getUTCMonth()+1,2)+"-"+d(o.getUTCDate(),2)+"T"+d(o.getUTCHours(),2)+"-"+d(o.getUTCMinutes(),2)+"-"+d(o.getUTCSeconds(),2)+".0Z";I["x-ethers"]={client:m,gethFilename:"UTC--"+s+"--"+I.address,mnemonicCounter:(0,i.hexlify)(e).substring(2),mnemonicCiphertext:(0,i.hexlify)(a).substring(2),path:p,locale:h,version:"0.1"}}return JSON.stringify(I)})}function D(e,t,r){if(b(e)){r&&r(0);let i=g(e,t);return r&&r(1),Promise.resolve(i)}return y(e)?B(e,t,r):Promise.reject(Error("invalid JSON wallet"))}function F(e,t){if(b(e))return g(e,t);if(y(e))return O(e,t);throw Error("invalid JSON wallet")}e.s(["decrypt",()=>B,"decryptSync",()=>O,"encrypt",()=>C],592875),e.s(["decryptJsonWallet",()=>D,"decryptJsonWalletSync",()=>F],896350)},341591,90413,123795,508663,e=>{"use strict";var t=e.i(839341),r=e.i(403011),i=e.i(526579),n=e.i(875353);let a=new n.Logger("abstract-provider/5.8.0");class o extends i.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class s{constructor(){a.checkAbstract(new.target,s),(0,i.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){var e,r,n,a;return e=this,r=void 0,n=void 0,a=function*(){let{block:e,gasPrice:r}=yield(0,i.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)}),n=null,a=null,o=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,o=t.BigNumber.from("1500000000"),a=e.baseFeePerGas.mul(2).add(o)),{lastBaseFeePerGas:n,maxFeePerGas:a,maxPriorityFeePerGas:o,gasPrice:r}},new(n||(n=Promise))(function(t,i){function o(e){try{u(a.next(e))}catch(e){i(e)}}function s(e){try{u(a.throw(e))}catch(e){i(e)}}function u(e){var r;e.done?t(e.value):((r=e.value)instanceof n?r:new n(function(e){e(r)})).then(o,s)}u((a=a.apply(e,r||[])).next())})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}e.s(["ForkEvent",()=>o,"Provider",()=>s],341591);var u=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let l=new n.Logger("abstract-signer/5.8.0"),c=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],d=[n.Logger.errors.INSUFFICIENT_FUNDS,n.Logger.errors.NONCE_EXPIRED,n.Logger.errors.REPLACEMENT_UNDERPRICED];class f{constructor(){l.checkAbstract(new.target,f),(0,i.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return u(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return u(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return u(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let t=yield(0,i.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return u(this,void 0,void 0,function*(){this._checkProvider("call");let r=yield(0,i.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return u(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return u(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return u(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return u(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return u(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let t in e)-1===c.indexOf(t)&&l.throwArgumentError("invalid transaction key: "+t,"transaction",e);let t=(0,i.shallowCopy)(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&l.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return u(this,void 0,void 0,function*(){let t=yield(0,i.resolveProperties)(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>u(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.resolveName(e);return null==t&&l.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));let r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null!=t.gasPrice&&(2===t.type||r)?l.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(0===t.type||1===t.type)&&r&&l.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(2===t.type||null==t.type)&&null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)t.type=2;else if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{let e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){let e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&l.throwError("network does not support EIP-1559",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):l.throwError("failed to get consistent fee data",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(d.indexOf(e.code)>=0)throw e;return l.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",n.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&l.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield(0,i.resolveProperties)(t)})}_checkProvider(e){this.provider||l.throwError("missing provider",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class p extends f{constructor(e,t){super(),(0,i.defineReadOnly)(this,"address",e),(0,i.defineReadOnly)(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{l.throwError(e,n.Logger.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new p(this.address,e)}}e.s(["Signer",()=>f,"VoidSigner",()=>p],90413);var h=e.i(47771),m=e.i(142621),g=e.i(407224);e.s(["_TypedDataEncoder",()=>g.TypedDataEncoder],123795);var g=g,b=e.i(891368),y=e.i(447172),x=e.i(666843),A=e.i(346469),w=e.i(896350),v=e.i(592875),v=v,S=e.i(840722),k=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let T=new n.Logger("wallet/5.8.0");class E extends f{constructor(e,t){if(super(),function(e){return null!=e&&(0,r.isHexString)(e.privateKey,32)&&null!=e.address}(e)){const t=new A.SigningKey(e.privateKey);if((0,i.defineReadOnly)(this,"_signingKey",()=>t),(0,i.defineReadOnly)(this,"address",(0,S.computeAddress)(this.publicKey)),this.address!==(0,h.getAddress)(e.address)&&T.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){let t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;(0,i.defineReadOnly)(this,"_mnemonic",()=>({phrase:t.phrase,path:t.path||b.defaultPath,locale:t.locale||"en"}));const r=this.mnemonic,n=b.HDNode.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path);(0,S.computeAddress)(n.privateKey)!==this.address&&T.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,i.defineReadOnly)(this,"_mnemonic",()=>null)}else{if(A.SigningKey.isSigningKey(e))"secp256k1"!==e.curve&&T.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,i.defineReadOnly)(this,"_signingKey",()=>e);else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new A.SigningKey(e);(0,i.defineReadOnly)(this,"_signingKey",()=>t)}(0,i.defineReadOnly)(this,"_mnemonic",()=>null),(0,i.defineReadOnly)(this,"address",(0,S.computeAddress)(this.publicKey))}t&&!s.isProvider(t)&&T.throwArgumentError("invalid provider","provider",t),(0,i.defineReadOnly)(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new E(this,e)}signTransaction(e){return(0,i.resolveProperties)(e).then(t=>{null!=t.from&&((0,h.getAddress)(t.from)!==this.address&&T.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);let r=this._signingKey().signDigest((0,y.keccak256)((0,S.serialize)(t)));return(0,S.serialize)(t,r)})}signMessage(e){return k(this,void 0,void 0,function*(){return(0,r.joinSignature)(this._signingKey().signDigest((0,m.hashMessage)(e)))})}_signTypedData(e,t,i){return k(this,void 0,void 0,function*(){let a=yield g.TypedDataEncoder.resolveNames(e,t,i,e=>(null==this.provider&&T.throwError("cannot resolve ENS names without a provider",n.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));return(0,r.joinSignature)(this._signingKey().signDigest(g.TypedDataEncoder.hash(a.domain,t,a.value)))})}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw Error("invalid callback");return t||(t={}),(0,v.encrypt)(this,e,t,r)}static createRandom(e){let t=(0,x.randomBytes)(16);e||(e={}),e.extraEntropy&&(t=(0,r.arrayify)((0,r.hexDataSlice)((0,y.keccak256)((0,r.concat)([t,e.extraEntropy])),0,16)));let i=(0,b.entropyToMnemonic)(t,e.locale);return E.fromMnemonic(i,e.path,e.locale)}static fromEncryptedJson(e,t,r){return(0,w.decryptJsonWallet)(e,t,r).then(e=>new E(e))}static fromEncryptedJsonSync(e,t){return new E((0,w.decryptJsonWalletSync)(e,t))}static fromMnemonic(e,t,r){return t||(t=b.defaultPath),new E(b.HDNode.fromMnemonic(e,null,r).derivePath(t))}}function P(e,t){return(0,S.recoverAddress)((0,m.hashMessage)(e),t)}function I(e,t,r,i){return(0,S.recoverAddress)(g.TypedDataEncoder.hash(e,t,r),i)}e.s(["Wallet",()=>E,"verifyMessage",()=>P,"verifyTypedData",()=>I],508663)},545004,e=>{"use strict";var t=e.i(403011);function r(e){e=atob(e);let r=[];for(let t=0;t<e.length;t++)r.push(e.charCodeAt(t));return(0,t.arrayify)(r)}function i(e){e=(0,t.arrayify)(e);let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}e.s(["decode",()=>r,"encode",()=>i])},857518,e=>{"use strict";let t,r;var i,n=e.i(403011),a=e.i(840858),o=e.i(447172),s=e.i(875353),u=e.i(849266),l=e.i(545004);function c(e,t){null==t&&(t=1);let r=[],i=r.forEach,n=function(e,t){i.call(e,function(e){t>0&&Array.isArray(e)?n(e,t-1):r.push(e)})};return n(e,t),r}function d(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function f(e,t){let r=d(e(),e),i=e(),n=d(i,e),a=function(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}(i,e);for(let e=0;e<i;e++)for(let t=0;t<a[e];t++)r.push(n[e]+t);return t?r.map(e=>t[e]):r}function p(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)(function(e,t){let r=Array(e);for(let n=0,a=0;n<e;n++){var i;r[n]=a+=1&(i=t())?~i>>1:i>>1}return r})(e,r).forEach((e,t)=>i[t].push(e));return i}let h=(i=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,a=[0,1];for(let e=1;e<i;e++)a.push(n+=r());let o=r(),s=t;t+=o;let u=0,l=0;function c(){return 0==u&&(l=l<<8|e[t++],u=8),l>>--u&1}let d=0;for(let e=0;e<31;e++)d=d<<1|c();let f=[],p=0,h=0x80000000;for(;;){let e=Math.floor(((d-p+1)*n-1)/h),t=0,r=i;for(;r-t>1;){let i=t+r>>>1;e<a[i]?r=i:t=i}if(0==t)break;f.push(t);let o=p+Math.floor(h*a[t]/n),s=p+Math.floor(h*a[t+1]/n)-1;for(;((o^s)&0x40000000)==0;)d=d<<1&0x7fffffff|c(),o=o<<1&0x7fffffff,s=s<<1&0x7fffffff|1;for(;o&~s&0x20000000;)d=0x40000000&d|d<<1&0x3fffffff|c(),o=o<<1^0x40000000,s=(0x40000000^s)<<1|0x40000001;p=o,h=1+s-o}let m=i-4;return f.map(t=>{switch(t-m){case 3:return m+65792+(e[s++]<<16|e[s++]<<8|e[s++]);case 2:return m+256+(e[s++]<<8|e[s++]);case 1:return m+e[s++];default:return t-1}})}((0,l.decode)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),r=0,()=>i[r++]),m=new Set(f(h)),g=new Set(f(h)),b=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),i=t(),n=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return c(p(n.length,1+e,t).map((e,t)=>{let a=e[0],o=e.slice(1);return Array(n[t]).fill(void 0).map((e,t)=>{let n=t*i;return[a+t*r,o.map(e=>e+n)]})}))}(r,e))}for(;;){var r,i;let n=e()-1;if(n<0)break;t.push((r=n,p(1+(i=e)(),1+r,i).map(e=>[e[0],e.slice(1)])))}return function(e){let t={};for(let r=0;r<e.length;r++){let i=e[r];t[i[0]]=i[1]}return t}(c(t))}(h),y=(t=f(h).sort((e,t)=>e-t),function e(){let r=[];for(;;){let i=f(h,t);if(0==i.length)break;r.push({set:new Set(i),node:e()})}r.sort((e,t)=>t.set.size-e.set.size);let i=h(),n=i%3;return{branches:r,valid:n,fe0f:!!(1&(i=i/3|0)),save:1==(i>>=1),check:2==i}}());function x(e){return(0,a.toUtf8CodePoints)(e)}function A(e){return e.filter(e=>65039!=e)}function w(e){for(let t of e.split(".")){let e=x(t);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw Error("invalid label extension")}catch(e){throw Error(`Invalid label "${t}": ${e.message}`)}}return e}let v=new s.Logger(u.version),S=new Uint8Array(32);function k(e){if(0===e.length)throw Error("invalid ENS name; empty component");return e}function T(e){let t=(0,a.toUtf8Bytes)(w(function(e,t){let r=x(e).reverse(),i=[];for(;r.length;){let e=function(e,t){var r;let i,n,a=y,o=[],s=e.length;for(;s;){let t=e[--s];if(!(a=null==(r=a.branches.find(e=>e.set.has(t)))?void 0:r.node))break;if(a.save)n=t;else if(a.check&&t===n)break;o.push(t),a.fe0f&&(o.push(65039),s>0&&65039==e[s-1]&&s--),a.valid&&(i=o.slice(),2==a.valid&&i.splice(1,1),e.length=s)}return i}(r);if(e){i.push(...t(e));continue}let n=r.pop();if(m.has(n)){i.push(n);continue}if(g.has(n))continue;let a=b[n];if(a){i.push(...a);continue}throw Error(`Disallowed codepoint: 0x${n.toString(16).toUpperCase()}`)}return w(String.fromCodePoint(...i).normalize("NFC"))}(e,A))),r=[];if(0===e.length)return r;let i=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(k(t.slice(i,e))),i=e+1);if(i>=t.length)throw Error("invalid ENS name; empty component");return r.push(k(t.slice(i))),r}function E(e){return T(e).map(e=>(0,a.toUtf8String)(e)).join(".")}function P(e){try{return 0!==T(e).length}catch(e){}return!1}function I(e){"string"!=typeof e&&v.throwArgumentError("invalid ENS name; not a string","name",e);let t=S,r=T(e);for(;r.length;)t=(0,o.keccak256)((0,n.concat)([t,(0,o.keccak256)(r.pop())]));return(0,n.hexlify)(t)}function _(e){return(0,n.hexlify)((0,n.concat)(T(e).map(e=>{if(e.length>63)throw Error("invalid DNS encoded entry; length exceeds 63 bytes");let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}S.fill(0),e.s(["dnsEncode",()=>_,"ensNormalize",()=>E,"isValidName",()=>P,"namehash",()=>I],857518)},367933,e=>{"use strict";var t=e.i(545004),r=e.i(403011),i=e.i(526579),n=e.i(840858),a=e.i(875353);let o=new a.Logger("web/5.8.0");function s(e){return new Promise(t=>{setTimeout(t,e)})}function u(e,t){if(null==e)return null;if("string"==typeof e)return e;if((0,r.isBytesLike)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return(0,n.toUtf8String)(e)}catch(e){}return(0,r.hexlify)(e)}return e}function l(e,l,c){let d,f="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;o.assertArgument(f>0&&f%1==0,"invalid connection throttle limit","connection.throttleLimit",f);let p="object"==typeof e?e.throttleCallback:null,h="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;o.assertArgument(h>0&&h%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",h);let m="object"==typeof e&&!!e.errorPassThrough,g={},b=null,y={method:"GET"},x=!1,A=12e4;if("string"==typeof e)b=e;else if("object"==typeof e){if((null==e||null==e.url)&&o.throwArgumentError("missing URL","connection.url",e),b=e.url,"number"==typeof e.timeout&&e.timeout>0&&(A=e.timeout),e.headers)for(let t in e.headers)g[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(x=!0);if(y.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==b.substring(0,6)&&!0!==e.allowInsecureAuthentication&&o.throwError("basic authentication requires a secure https url",a.Logger.errors.INVALID_ARGUMENT,{argument:"url",url:b,user:e.user,password:"[REDACTED]"});let r=e.user+":"+e.password;g.authorization={key:"Authorization",value:"Basic "+(0,t.encode)((0,n.toUtf8Bytes)(r))}}null!=e.skipFetchSetup&&(y.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(y.fetchOptions=(0,i.shallowCopy)(e.fetchOptions))}let w=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),v=b?b.match(w):null;if(v)try{var S;let e={statusCode:200,statusMessage:"OK",headers:{"content-type":v[1]||"text/plain"},body:v[2]?(0,t.decode)(v[3]):(S=v[3],(0,n.toUtf8Bytes)(S.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))},r=e.body;return c&&(r=c(e.body,e)),Promise.resolve(r)}catch(e){o.throwError("processing response error",a.Logger.errors.SERVER_ERROR,{body:u(v[1],v[2]),error:e,requestBody:null,requestMethod:"GET",url:b})}l&&(y.method="POST",y.body=l,null==g["content-type"]&&(g["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==g["content-length"]&&(g["content-length"]={key:"Content-Length",value:String(l.length)}));let k={};Object.keys(g).forEach(e=>{let t=g[e];k[t.key]=t.value}),y.headers=k;let T=(d=null,{promise:new Promise(function(e,t){A&&(d=setTimeout(()=>{null!=d&&(d=null,t(o.makeError("timeout",a.Logger.errors.TIMEOUT,{requestBody:u(y.body,k["content-type"]),requestMethod:y.method,timeout:A,url:b})))},A))}),cancel:function(){null!=d&&(clearTimeout(d),d=null)}}),E=function(){var e,t,i,n;return e=this,t=void 0,i=void 0,n=function*(){for(let e=0;e<f;e++){let t=null;try{if(t=yield function(e,t){var i,n,a,o;return i=this,n=void 0,a=void 0,o=function*(){null==t&&(t={});let i={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(i.mode="cors",i.cache="no-cache",i.credentials="same-origin",i.redirect="follow",i.referrer="client"),null!=t.fetchOptions){let e=t.fetchOptions;e.mode&&(i.mode=e.mode),e.cache&&(i.cache=e.cache),e.credentials&&(i.credentials=e.credentials),e.redirect&&(i.redirect=e.redirect),e.referrer&&(i.referrer=e.referrer)}let n=yield fetch(e,i),a=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((e,t)=>{o[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{o[e.toLowerCase()]=n.headers.get(e)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:(0,r.arrayify)(new Uint8Array(a))}},new(a||(a=Promise))(function(e,t){function r(e){try{u(o.next(e))}catch(e){t(e)}}function s(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,s)}u((o=o.apply(i,n||[])).next())})}(b,y),e<f){if(301===t.statusCode||302===t.statusCode){let e=t.headers.location||"";if("GET"===y.method&&e.match(/^https:/)){b=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(p&&(r=yield p(e,b)),r){let r=0,i=t.headers["retry-after"];r="string"==typeof i&&i.match(/^[1-9][0-9]*$/)?1e3*parseInt(i):h*parseInt(String(Math.random()*Math.pow(2,e))),yield s(r);continue}}}}catch(e){null==(t=e.response)&&(T.cancel(),o.throwError("missing response",a.Logger.errors.SERVER_ERROR,{requestBody:u(y.body,k["content-type"]),requestMethod:y.method,serverError:e,url:b}))}let i=t.body;if(x&&304===t.statusCode?i=null:!m&&(t.statusCode<200||t.statusCode>=300)&&(T.cancel(),o.throwError("bad response",a.Logger.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:u(i,t.headers?t.headers["content-type"]:null),requestBody:u(y.body,k["content-type"]),requestMethod:y.method,url:b})),c)try{let e=yield c(i,t);return T.cancel(),e}catch(r){if(r.throttleRetry&&e<f){let t=!0;if(p&&(t=yield p(e,b)),t){let t=h*parseInt(String(Math.random()*Math.pow(2,e)));yield s(t);continue}}T.cancel(),o.throwError("processing response error",a.Logger.errors.SERVER_ERROR,{body:u(i,t.headers?t.headers["content-type"]:null),error:r,requestBody:u(y.body,k["content-type"]),requestMethod:y.method,url:b})}return T.cancel(),i}return o.throwError("failed response",a.Logger.errors.SERVER_ERROR,{requestBody:u(y.body,k["content-type"]),requestMethod:y.method,url:b})},new(i||(i=Promise))(function(r,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof i?t:new i(function(e){e(t)})).then(o,s)}u((n=n.apply(e,t||[])).next())})}();return Promise.race([T.promise,E])}function c(e,t,r){let s=null;if(null!=t){s=(0,n.toUtf8Bytes)(t);let r="string"==typeof e?{url:e}:(0,i.shallowCopy)(e);r.headers?0===Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length&&(r.headers=(0,i.shallowCopy)(r.headers),r.headers["content-type"]="application/json"):r.headers={"content-type":"application/json"},e=r}return l(e,s,(e,t)=>{let i=null;if(null!=e)try{i=JSON.parse((0,n.toUtf8String)(e))}catch(t){o.throwError("invalid JSON",a.Logger.errors.SERVER_ERROR,{body:e,error:t})}return r&&(i=r(i,t)),i})}function d(e,t){return t||(t={}),null==(t=(0,i.shallowCopy)(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,i){let n=null,a=!1,o=()=>!a&&(a=!0,n&&clearTimeout(n),!0);t.timeout&&(n=setTimeout(()=>{o()&&i(Error("timeout"))},t.timeout));let s=t.retryLimit,u=0;!function n(){return e().then(function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",n);else if(t.onceBlock)t.onceBlock.once("block",n);else if(!a){if(++u>s){o()&&i(Error("retry limit reached"));return}let e=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(n,e)}return null},function(e){o()&&i(e)})}()})}e.s(["_fetchData",()=>l,"fetchJson",()=>c,"poll",()=>d],367933)},971501,(e,t,r)=>{"use strict";for(var i="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={},a=0;a<i.length;a++){var o=i.charAt(a);if(void 0!==n[o])throw TypeError(o+" is ambiguous");n[o]=a}function s(e){var t=e>>25;return(0x1ffffff&e)<<5^0x3b6a57b2&-(1&t)^0x26508e6d&-(t>>1&1)^0x1ea119fa&-(t>>2&1)^0x3d4233dd&-(t>>3&1)^0x2a1462b3&-(t>>4&1)}function u(e){for(var t=1,r=0;r<e.length;++r){var i=e.charCodeAt(r);if(i<33||i>126)return"Invalid prefix ("+e+")";t=s(t)^i>>5}for(r=0,t=s(t);r<e.length;++r){var n=e.charCodeAt(r);t=s(t)^31&n}return t}function l(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),i=e.toUpperCase();if(e!==r&&e!==i)return"Mixed-case string "+e;var a=(e=r).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var o=e.slice(0,a),l=e.slice(a+1);if(l.length<6)return"Data too short";var c=u(o);if("string"==typeof c)return c;for(var d=[],f=0;f<l.length;++f){var p=l.charAt(f),h=n[p];if(void 0===h)return"Unknown character "+p;c=s(c)^h,f+6>=l.length||d.push(h)}return 1!==c?"Invalid checksum for "+e:{prefix:o,words:d}}function c(e,t,r,i){for(var n=0,a=0,o=(1<<r)-1,s=[],u=0;u<e.length;++u)for(n=n<<t|e[u],a+=t;a>=r;)s.push(n>>(a-=r)&o);if(i)a>0&&s.push(n<<r-a&o);else{if(a>=t)return"Excess padding";if(n<<r-a&o)return"Non-zero padding"}return s}t.exports={decodeUnsafe:function(){var e=l.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=l.apply(null,arguments);if("object"==typeof t)return t;throw Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw TypeError("Exceeds length limit");var n=u(e=e.toLowerCase());if("string"==typeof n)throw Error(n);for(var a=e+"1",o=0;o<t.length;++o){var l=t[o];if(l>>5!=0)throw Error("Non 5-bit word");n=s(n)^l,a+=i.charAt(l)}for(o=0;o<6;++o)n=s(n);for(n^=1,o=0;o<6;++o){var c=n>>(5-o)*5&31;a+=i.charAt(c)}return a},toWordsUnsafe:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=c(e,8,5,!0);if(Array.isArray(t))return t;throw Error(t)},fromWordsUnsafe:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=c(e,5,8,!1);if(Array.isArray(t))return t;throw Error(t)}}},216368,e=>{"use strict";function t(e){e=e.slice();for(let t=e.length-1;t>0;t--){let r=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[r],e[r]=i}return e}e.s(["shuffled",()=>t])},630759,e=>{"use strict";e.s([],745933),e.i(745933);var t=e.i(545004);e.s(["decode",()=>t.decode,"encode",()=>t.encode],630759)},575111,e=>{"use strict";var t=e.i(839341),r=e.i(403011),i=e.i(447172),n=e.i(942558),a=e.i(840858),o=e.i(875353);let s=RegExp("^bytes([0-9]+)$"),u=RegExp("^(u?int)([0-9]*)$"),l=RegExp("^(.*)\\[([0-9]*)\\]$"),c=new o.Logger("solidity/5.8.0");function d(e,i){e.length!=i.length&&c.throwArgumentError("wrong number of values; expected ${ types.length }","values",i);let n=[];return e.forEach(function(e,o){n.push(function e(i,n,o){switch(i){case"address":if(o)return(0,r.zeroPad)(n,32);return(0,r.arrayify)(n);case"string":return(0,a.toUtf8Bytes)(n);case"bytes":return(0,r.arrayify)(n);case"bool":if(n=n?"0x01":"0x00",o)return(0,r.zeroPad)(n,32);return(0,r.arrayify)(n)}let d=i.match(u);if(d){let e=parseInt(d[2]||"256");return(d[2]&&String(e)!==d[2]||e%8!=0||0===e||e>256)&&c.throwArgumentError("invalid number type","type",i),o&&(e=256),n=t.BigNumber.from(n).toTwos(e),(0,r.zeroPad)(n,e/8)}if(d=i.match(s)){let e=parseInt(d[1]);return((String(e)!==d[1]||0===e||e>32)&&c.throwArgumentError("invalid bytes type","type",i),(0,r.arrayify)(n).byteLength!==e&&c.throwArgumentError(`invalid value for ${i}`,"value",n),o)?(0,r.arrayify)((n+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):n}if((d=i.match(l))&&Array.isArray(n)){let t=d[1];parseInt(d[2]||String(n.length))!=n.length&&c.throwArgumentError(`invalid array length for ${i}`,"value",n);let a=[];return n.forEach(function(r){a.push(e(t,r,!0))}),(0,r.concat)(a)}return c.throwArgumentError("invalid type","type",i)}(e,i[o]))}),(0,r.hexlify)((0,r.concat)(n))}function f(e,t){return(0,i.keccak256)(d(e,t))}function p(e,t){return(0,n.sha256)(d(e,t))}e.s(["keccak256",()=>f,"pack",()=>d,"sha256",()=>p],575111)},203358,299797,812196,e=>{"use strict";let t="0x0000000000000000000000000000000000000000000000000000000000000000";e.s(["HashZero",0,t],203358);var r=e.i(403011),i=e.i(840858);function n(e){let n=(0,i.toUtf8Bytes)(e);if(n.length>31)throw Error("bytes32 string must be less than 32 bytes");return(0,r.hexlify)((0,r.concat)([n,t]).slice(0,32))}function a(e){let t=(0,r.arrayify)(e);if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let n=31;for(;0===t[n-1];)n--;return(0,i.toUtf8String)(t.slice(0,n))}function o(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,i={};return e.split(",").forEach(e=>{let n=e.split(":");i[r+=parseInt(n[0],16)]=t(n[1])}),i}function s(e){let t=0;return e.split(",").map(e=>{let r=e.split("-");return 1===r.length?r[1]="0":""===r[1]&&(r[1]="1"),{l:t+parseInt(r[0],16),h:t=parseInt(r[1],16)}})}function u(e,t){let r=0;for(let i=0;i<t.length;i++){let n=t[i];if(e>=(r+=n.l)&&e<=r+n.h&&(e-r)%(n.d||1)==0){if(n.e&&-1!==n.e.indexOf(e-r))continue;return n}}return null}e.s(["formatBytes32String",()=>n,"parseBytes32String",()=>a],299797);let l=s("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),c="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),d=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],f=o("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),p=o("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),h=o("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",function(e){if(e.length%4!=0)throw Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}),m=s("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function g(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=(0,i.toUtf8CodePoints)(e);t=t.map(e=>{if(c.indexOf(e)>=0||e>=65024&&e<=65039)return[];let t=function(e){let t=u(e,d);if(t)return[e+t.s];let r=f[e];if(r)return r;let i=p[e];if(i)return[e+i[0]];let n=h[e];return n||null}(e);return t||[e]}).reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[]),(t=(0,i.toUtf8CodePoints)((0,i._toUtf8String)(t),i.UnicodeNormalizationForm.NFKC)).forEach(e=>{if(u(e,m))throw Error("STRINGPREP_CONTAINS_PROHIBITED")}),t.forEach(e=>{if(u(e,l))throw Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=(0,i._toUtf8String)(t);if("-"===r.substring(0,1)||"--"===r.substring(2,4)||"-"===r.substring(r.length-1))throw Error("invalid hyphen");return r}e.s(["nameprep",()=>g],812196)},382312,299697,e=>{"use strict";var t=e.i(403011),r=e.i(875353),i=e.i(994284),n=e.i(839341);let a=new r.Logger(i.version),o={},s=n.BigNumber.from(0),u=n.BigNumber.from(-1);function l(e,t,i,n){let o={fault:t,operation:i};return void 0!==n&&(o.value=n),a.throwError(e,r.Logger.errors.NUMERIC_FAULT,o)}let c="0";for(;c.length<256;)c+=c;function d(e){if("number"!=typeof e)try{e=n.BigNumber.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+c.substring(0,e):a.throwArgumentError("invalid decimal size","decimals",e)}function f(e,t){null==t&&(t=0);let r=d(t),i=(e=n.BigNumber.from(e)).lt(s);i&&(e=e.mul(u));let a=e.mod(r).toString();for(;a.length<r.length-1;)a="0"+a;a=a.match(/^([0-9]*[1-9]|0)(0*)/)[1];let o=e.div(r).toString();return e=1===r.length?o:o+"."+a,i&&(e="-"+e),e}function p(e,t){null==t&&(t=0);let r=d(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||a.throwArgumentError("invalid decimal value","value",e);let i="-"===e.substring(0,1);i&&(e=e.substring(1)),"."===e&&a.throwArgumentError("missing value","value",e);let o=e.split(".");o.length>2&&a.throwArgumentError("too many decimal points","value",e);let s=o[0],c=o[1];for(s||(s="0"),c||(c="0");"0"===c[c.length-1];)c=c.substring(0,c.length-1);for(c.length>r.length-1&&l("fractional component exceeds decimals","underflow","parseFixed"),""===c&&(c="0");c.length<r.length-1;)c+="0";let f=n.BigNumber.from(s),p=n.BigNumber.from(c),h=f.mul(r).add(p);return i&&(h=h.mul(u)),h}class h{constructor(e,t,i,n){e!==o&&a.throwError("cannot use FixedFormat constructor; use FixedFormat.from",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=i,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=d(n),Object.freeze(this)}static from(e){if(e instanceof h)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,i=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let n=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);n||a.throwArgumentError("invalid fixed format","format",e),t="u"!==n[1],r=parseInt(n[2]),i=parseInt(n[3])}else if(e){let n=(t,r,i)=>null==e[t]?i:(typeof e[t]!==r&&a.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=n("signed","boolean",t),r=n("width","number",r),i=n("decimals","number",i)}return r%8&&a.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),i>80&&a.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new h(o,t,r,i)}}class m{constructor(e,t,i,n){e!==o&&a.throwError("cannot use FixedNumber constructor; use FixedNumber.from",r.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&a.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=p(this._value,this.format.decimals),r=p(e._value,e.format.decimals);return m.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(g.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=m.from(e[0],this.format),r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(g.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&a.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let r=m.from("1"+c.substring(0,e),this.format),i=b.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(i).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&a.throwArgumentError("invalid byte width","width",e);let r=n.BigNumber.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,t.hexZeroPad)(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return m.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,n.isBigNumberish)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),m.fromString(f(e,t),h.from(r))}static fromString(e,r){null==r&&(r="fixed");let i=h.from(r),n=p(e,i.decimals);!i.signed&&n.lt(s)&&l("unsigned value cannot be negative","overflow","value",e);let a=null;return i.signed?a=n.toTwos(i.width).toHexString():(a=n.toHexString(),a=(0,t.hexZeroPad)(a,i.width/8)),new m(o,a,f(n,i.decimals),i)}static fromBytes(e,r){null==r&&(r="fixed");let i=h.from(r);if((0,t.arrayify)(e).length>i.width/8)throw Error("overflow");let a=n.BigNumber.from(e);return i.signed&&(a=a.fromTwos(i.width)),new m(o,a.toTwos(+!i.signed+i.width).toHexString(),f(a,i.decimals),i)}static from(e,i){if("string"==typeof e)return m.fromString(e,i);if((0,t.isBytes)(e))return m.fromBytes(e,i);try{return m.fromValue(e,0,i)}catch(e){if(e.code!==r.Logger.errors.INVALID_ARGUMENT)throw e}return a.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let g=m.from(1),b=m.from("0.5");e.s(["FixedNumber",()=>m,"formatFixed",()=>f,"parseFixed",()=>p],382312);let y=new r.Logger("units/5.8.0"),x=["wei","kwei","mwei","gwei","szabo","finney","ether"];function A(e){let t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&y.throwArgumentError("invalid value","value",e);let r=t[0],i="";for("-"===r.substring(0,1)&&(i="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let n="";for(2===t.length&&(n="."+(t[1]||"0"));n.length>2&&"0"===n[n.length-1];)n=n.substring(0,n.length-1);let a=[];for(;r.length;)if(r.length<=3){a.unshift(r);break}else{let e=r.length-3;a.unshift(r.substring(e)),r=r.substring(0,e)}return i+a.join(",")+n}function w(e,t){if("string"==typeof t){let e=x.indexOf(t);-1!==e&&(t=3*e)}return f(e,null!=t?t:18)}function v(e,t){if("string"!=typeof e&&y.throwArgumentError("value must be a string","value",e),"string"==typeof t){let e=x.indexOf(t);-1!==e&&(t=3*e)}return p(e,null!=t?t:18)}function S(e){return w(e,18)}function k(e){return v(e,18)}e.s(["commify",()=>A,"formatEther",()=>S,"formatUnits",()=>w,"parseEther",()=>k,"parseUnits",()=>v],299697)},685648,992216,11778,426428,98400,167276,82930,859665,e=>{"use strict";var t=e.i(735381),r=e.i(246383),i=e.i(341591),n=e.i(90413),a=e.i(47771),o=e.i(839341),s=e.i(403011),u=e.i(526579),l=e.i(840722),c=e.i(875353),d=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let f=new c.Logger("contracts/5.8.0"),p={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function h(e,t){return d(this,void 0,void 0,function*(){let r=yield t;"string"!=typeof r&&f.throwArgumentError("invalid address or ENS name","name",r);try{return(0,a.getAddress)(r)}catch(e){}e||f.throwError("a provider or signer is needed to resolve ENS names",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});let i=yield e.resolveName(r);return null==i&&f.throwArgumentError("resolver or addr is not configured for ENS name","name",r),i})}function m(e,t,r){return d(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((r,i)=>m(e,Array.isArray(t)?t[i]:t[r.name],r))):"address"===r.type?yield h(e,t):"tuple"===r.type?yield m(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>m(e,t,r.arrayChildren))):Promise.reject(f.makeError("invalid value for array",c.Logger.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function g(e,t,r){return d(this,void 0,void 0,function*(){let i={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(i=(0,u.shallowCopy)(r.pop())),f.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?i.from?i.from=(0,u.resolveProperties)({override:h(e.signer,i.from),signer:e.signer.getAddress()}).then(e=>d(this,void 0,void 0,function*(){return(0,a.getAddress)(e.signer)!==e.override&&f.throwError("Contract with a Signer cannot override from",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):i.from=e.signer.getAddress():i.from&&(i.from=h(e.provider,i.from));let n=yield(0,u.resolveProperties)({args:m(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,u.resolveProperties)(i)||{}}),p=e.interface.encodeFunctionData(t,n.args),g={data:p,to:n.address},b=n.overrides;if(null!=b.nonce&&(g.nonce=o.BigNumber.from(b.nonce).toNumber()),null!=b.gasLimit&&(g.gasLimit=o.BigNumber.from(b.gasLimit)),null!=b.gasPrice&&(g.gasPrice=o.BigNumber.from(b.gasPrice)),null!=b.maxFeePerGas&&(g.maxFeePerGas=o.BigNumber.from(b.maxFeePerGas)),null!=b.maxPriorityFeePerGas&&(g.maxPriorityFeePerGas=o.BigNumber.from(b.maxPriorityFeePerGas)),null!=b.from&&(g.from=b.from),null!=b.type&&(g.type=b.type),null!=b.accessList&&(g.accessList=(0,l.accessListify)(b.accessList)),null==g.gasLimit&&null!=t.gas){let e=21e3,r=(0,s.arrayify)(p);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);g.gasLimit=o.BigNumber.from(t.gas).add(e)}if(b.value){let e=o.BigNumber.from(b.value);e.isZero()||t.payable||f.throwError("non-payable method cannot override value",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),g.value=e}b.customData&&(g.customData=(0,u.shallowCopy)(b.customData)),b.ccipReadEnabled&&(g.ccipReadEnabled=!!b.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;let y=Object.keys(i).filter(e=>null!=i[e]);return y.length&&f.throwError(`cannot override ${y.map(e=>JSON.stringify(e)).join(",")}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:y}),g})}function b(e,t){let r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let i=(0,u.deepCopy)(r),n=null;try{n=e.interface.parseLog(r)}catch(e){}return n&&(i.args=n.args,i.decode=(t,r)=>e.interface.decodeEventLog(n.eventFragment,t,r),i.event=n.name,i.eventSignature=n.signature),i.removeListener=()=>e.provider,i.getBlock=()=>e.provider.getBlock(t.blockHash),i.getTransaction=()=>e.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>Promise.resolve(t),i}),t))}function y(e,t,r){let i=e.signer||e.provider;return function(...n){return d(this,void 0,void 0,function*(){let a;if(n.length===t.inputs.length+1&&"object"==typeof n[n.length-1]){let e=(0,u.shallowCopy)(n.pop());null!=e.blockTag&&(a=yield e.blockTag),delete e.blockTag,n.push(e)}null!=e.deployTransaction&&(yield e._deployed(a));let o=yield g(e,t,n),s=yield i.call(o,a);try{let i=e.interface.decodeFunctionResult(t,s);return r&&1===t.outputs.length&&(i=i[0]),i}catch(t){throw t.code===c.Logger.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=n,t.transaction=o),t}})}}function x(e,t,r){return t.constant?y(e,t,r):function(...r){return d(this,void 0,void 0,function*(){e.signer||f.throwError("sending a transaction requires a signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());let i=yield g(e,t,r),n=yield e.signer.sendTransaction(i);return b(e,n),n})}}function A(e){return e.address&&(null==e.topics||0===e.topics.length)?"*":(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class w{constructor(e,t){(0,u.defineReadOnly)(this,"tag",e),(0,u.defineReadOnly)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!!t||r.listener!==e||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){let t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{let r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class v extends w{constructor(){super("error",null)}}class S extends w{constructor(e,t,r,i){const n={address:e};let a=t.getEventTopic(r);i?(a!==i[0]&&f.throwArgumentError("topic mismatch","topics",i),n.topics=i.slice()):n.topics=[a],super(A(n),n),(0,u.defineReadOnly)(this,"address",e),(0,u.defineReadOnly)(this,"interface",t),(0,u.defineReadOnly)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){let r=(0,t.checkResultErrors)(e.args);if(r.length)throw r[0].error;let i=(e.args||[]).slice();return i.push(e),i}}class k extends w{constructor(e,t){super("*",{address:e}),(0,u.defineReadOnly)(this,"address",e),(0,u.defineReadOnly)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{let t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class T{constructor(e,t,r){(0,u.defineReadOnly)(this,"interface",(0,u.getStatic)(new.target,"getInterface")(t)),null==r?((0,u.defineReadOnly)(this,"provider",null),(0,u.defineReadOnly)(this,"signer",null)):n.Signer.isSigner(r)?((0,u.defineReadOnly)(this,"provider",r.provider||null),(0,u.defineReadOnly)(this,"signer",r)):i.Provider.isProvider(r)?((0,u.defineReadOnly)(this,"provider",r),(0,u.defineReadOnly)(this,"signer",null)):f.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,u.defineReadOnly)(this,"callStatic",{}),(0,u.defineReadOnly)(this,"estimateGas",{}),(0,u.defineReadOnly)(this,"functions",{}),(0,u.defineReadOnly)(this,"populateTransaction",{}),(0,u.defineReadOnly)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach(t=>{let r=this.interface.events[t];(0,u.defineReadOnly)(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{let r=e[t];1===r.length?(0,u.defineReadOnly)(this.filters,t,this.filters[r[0]]):f.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if((0,u.defineReadOnly)(this,"_runningEvents",{}),(0,u.defineReadOnly)(this,"_wrappedEmits",{}),null==e&&f.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,u.defineReadOnly)(this,"address",e),this.provider)(0,u.defineReadOnly)(this,"resolvedAddress",h(this.provider,e));else try{(0,u.defineReadOnly)(this,"resolvedAddress",Promise.resolve((0,a.getAddress)(e)))}catch(e){f.throwError("provider is required to use ENS name as contract address",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});const o={},s={};Object.keys(this.interface.functions).forEach(e=>{var t,r;let i,n=this.interface.functions[e];if(s[e])return void f.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);s[e]=!0;{let t=n.name;o[`%${t}`]||(o[`%${t}`]=[]),o[`%${t}`].push(e)}null==this[e]&&(0,u.defineReadOnly)(this,e,x(this,n,!0)),null==this.functions[e]&&(0,u.defineReadOnly)(this.functions,e,x(this,n,!1)),null==this.callStatic[e]&&(0,u.defineReadOnly)(this.callStatic,e,y(this,n,!0)),null==this.populateTransaction[e]&&(0,u.defineReadOnly)(this.populateTransaction,e,(t=this,function(...e){return g(t,n,e)})),null==this.estimateGas[e]&&(0,u.defineReadOnly)(this.estimateGas,e,(r=this,i=r.signer||r.provider,function(...e){return d(this,void 0,void 0,function*(){i||f.throwError("estimate require a provider or signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});let t=yield g(r,n,e);return yield i.estimateGas(t)})}))}),Object.keys(o).forEach(e=>{let t=o[e];if(t.length>1)return;e=e.substring(1);let r=t[0];try{null==this[e]&&(0,u.defineReadOnly)(this,e,this[r])}catch(e){}null==this.functions[e]&&(0,u.defineReadOnly)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,u.defineReadOnly)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,u.defineReadOnly)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,u.defineReadOnly)(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getInterface(e){return r.Interface.isInterface(e)?e:new r.Interface(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&f.throwError("contract not deployed",c.Logger.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||f.throwError("sending a transactions require a signer",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});let t=(0,u.shallowCopy)(e||{});return["from","to"].forEach(function(e){null!=t[e]&&f.throwError("cannot override "+e,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new n.VoidSigner(e,this.provider));let t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,u.defineReadOnly)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return r.Indexed.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new v);if("event"===e)return this._normalizeRunningEvent(new w("event",null));if("*"===e)return this._normalizeRunningEvent(new k(this.address,this.interface));let t=this.interface.getEvent(e);return this._normalizeRunningEvent(new S(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{let t=e.topics[0];if("string"!=typeof t)throw Error("invalid topic");let r=this.interface.getEvent(t);return this._normalizeRunningEvent(new S(this.address,this.interface,r,e.topics))}catch(e){}let t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new w(A(t),t))}return this._normalizeRunningEvent(new k(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];let t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){let i=(0,u.deepCopy)(t);return i.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(t.blockHash),i.getTransaction=()=>this.provider.getTransaction(t.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(i),i}_addEventListener(e,t,r){if(this.provider||f.throwError("events require a provider or a signer with a provider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){let r=r=>{let i=this._wrapEvent(e,r,t);if(null==i.decodeError)try{let t=e.getEmit(i);this.emit(e.filter,...t)}catch(e){i.decodeError=e.error}null!=e.filter&&this.emit("event",i),null!=i.decodeError&&this.emit("error",i.decodeError,i)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){let i=this._getRunningEvent(e),n=(0,u.shallowCopy)(i.filter);return"string"==typeof t&&(0,s.isHexString)(t,32)?(null!=r&&f.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),n.blockHash=t):(n.fromBlock=null!=t?t:0,n.toBlock=null!=r?r:"latest"),this.provider.getLogs(n).then(e=>e.map(e=>this._wrapEvent(i,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;let r=this._getRunningEvent(e),i=r.run(t)>0;return this._checkRunningEvents(r),i}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){let e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(let e in this._runningEvents){let t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}let t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;let r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class E extends T{}class P{constructor(e,t,r){let i=null;"0x"!==(i="string"==typeof t?t:(0,s.isBytes)(t)?(0,s.hexlify)(t):t&&"string"==typeof t.object?t.object:"!").substring(0,2)&&(i="0x"+i),(!(0,s.isHexString)(i)||i.length%2)&&f.throwArgumentError("invalid bytecode","bytecode",t),r&&!n.Signer.isSigner(r)&&f.throwArgumentError("invalid signer","signer",r),(0,u.defineReadOnly)(this,"bytecode",i),(0,u.defineReadOnly)(this,"interface",(0,u.getStatic)(new.target,"getInterface")(e)),(0,u.defineReadOnly)(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){for(let r in t=(0,u.shallowCopy)(e.pop()))if(!p[r])throw Error("unknown transaction override "+r)}return["data","from","to"].forEach(e=>{null!=t[e]&&f.throwError("cannot override "+e,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.value&&(o.BigNumber.from(t.value).isZero()||this.interface.deploy.payable||f.throwError("non-payable constructor cannot override value",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})),f.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=(0,s.hexlify)((0,s.concat)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return d(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),f.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");let r=yield m(this.signer,e,this.interface.deploy.inputs);r.push(t);let i=this.getDeployTransaction(...r),n=yield this.signer.sendTransaction(i),a=(0,u.getStatic)(this.constructor,"getContractAddress")(n),o=(0,u.getStatic)(this.constructor,"getContract")(a,this.interface,this.signer);return b(o,n),(0,u.defineReadOnly)(o,"deployTransaction",n),o})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&f.throwError("missing compiler output",c.Logger.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,i=null;return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}static getInterface(e){return E.getInterface(e)}static getContractAddress(e){return(0,a.getContractAddress)(e)}static getContract(e,t,r){return new E(e,t,r)}}e.s(["BaseContract",()=>T,"Contract",()=>E,"ContractFactory",()=>P],992216);var I=e.i(382312),_=e.i(508663);e.s([],833764),e.i(833764);let N="0x0000000000000000000000000000000000000000";var R=e.i(25363),O=e.i(203358);e.s(["AddressZero",0,N,"EtherSymbol",0,"","HashZero",()=>O.HashZero,"MaxInt256",()=>R.MaxInt256,"MaxUint256",()=>R.MaxUint256,"MinInt256",()=>R.MinInt256,"NegativeOne",()=>R.NegativeOne,"One",()=>R.One,"Two",()=>R.Two,"WeiPerEther",()=>R.WeiPerEther,"Zero",()=>R.Zero],11778);var B=e.i(11778);let C=new c.Logger("networks/5.8.0");function D(e){let t=function(t,r){null==r&&(r={});let i=[];if(t.InfuraProvider&&"-"!==r.infura)try{i.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{i.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{i.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket)try{let n=new t.PocketProvider(e,r.pocket);n.network&&-1===["goerli","ropsten","rinkeby","sepolia"].indexOf(n.network.name)&&i.push(n)}catch(e){}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{i.push(new t.CloudflareProvider(e))}catch(e){}if(t.AnkrProvider&&"-"!==r.ankr)try{let n=new t.AnkrProvider(e,r.ankr);n.network&&-1===["ropsten"].indexOf(n.network.name)&&i.push(n)}catch(e){}if(t.QuickNodeProvider&&"-"!==r.quicknode)try{i.push(new t.QuickNodeProvider(e,r.quicknode))}catch(e){}if(0===i.length)return null;if(t.FallbackProvider){let n=1;return null!=r.quorum?n=r.quorum:"homestead"===e&&(n=2),new t.FallbackProvider(i,n)}return i[0]};return t.renetwork=function(e){return D(e)},t}function F(e,t){let r=function(r,i){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return F(e,t)},r}let U={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:D("homestead")},M={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:D("ropsten")},L={chainId:63,name:"classicMordor",_defaultProvider:F("https://www.ethercluster.com/mordor","classicMordor")},q={unspecified:{chainId:0,name:"unspecified"},homestead:U,mainnet:U,morden:{chainId:2,name:"morden"},ropsten:M,testnet:M,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:D("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:D("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:D("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:0xaa36a7,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:D("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:D("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:F("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:L,classicTestnet:L,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:F("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:D("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:D("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:D("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:0xaa37dc,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function K(e){if(null==e)return null;if("number"==typeof e){for(let t in q){let r=q[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){let t=q[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}let t=q[e.name];if(!t)return"number"!=typeof e.chainId&&C.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&C.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;if(null==r&&t._defaultProvider){var i;r=(i=t._defaultProvider)&&"function"==typeof i.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider}return{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}var W=i,V=e.i(545004),G=e.i(206641),j=e.i(857518),z=e.i(942558),H=e.i(840858),X=e.i(367933),Q=e.i(971501);let J="providers/5.8.0",Y=new c.Logger(J);class Z{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){let e={},t=this.address.bind(this),r=this.bigNumber.bind(this),i=this.blockTag.bind(this),n=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),s=this.number.bind(this),l=this.type.bind(this),c=e=>this.data(e,!0);return e.transaction={hash:a,type:l,accessList:Z.allowNull(this.accessList.bind(this),null),blockHash:Z.allowNull(a,null),blockNumber:Z.allowNull(s,null),transactionIndex:Z.allowNull(s,null),confirmations:Z.allowNull(s,null),from:t,gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),gasLimit:r,to:Z.allowNull(t,null),value:r,nonce:s,data:n,r:Z.allowNull(this.uint256),s:Z.allowNull(this.uint256),v:Z.allowNull(s),creates:Z.allowNull(t,null),raw:Z.allowNull(n)},e.transactionRequest={from:Z.allowNull(t),nonce:Z.allowNull(s),gasLimit:Z.allowNull(r),gasPrice:Z.allowNull(r),maxPriorityFeePerGas:Z.allowNull(r),maxFeePerGas:Z.allowNull(r),to:Z.allowNull(t),value:Z.allowNull(r),data:Z.allowNull(c),type:Z.allowNull(s),accessList:Z.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:s,blockNumber:s,transactionHash:a,address:t,topics:Z.arrayOf(a),data:n,logIndex:s,blockHash:a},e.receipt={to:Z.allowNull(this.address,null),from:Z.allowNull(this.address,null),contractAddress:Z.allowNull(t,null),transactionIndex:s,root:Z.allowNull(o),gasUsed:r,logsBloom:Z.allowNull(n),blockHash:a,transactionHash:a,logs:Z.arrayOf(this.receiptLog.bind(this)),blockNumber:s,confirmations:Z.allowNull(s,null),cumulativeGasUsed:r,effectiveGasPrice:Z.allowNull(r),status:Z.allowNull(s),type:l},e.block={hash:Z.allowNull(a),parentHash:a,number:s,timestamp:s,nonce:Z.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Z.allowNull(t),extraData:n,transactions:Z.allowNull(Z.arrayOf(a)),baseFeePerGas:Z.allowNull(r)},e.blockWithTransactions=(0,u.shallowCopy)(e.block),e.blockWithTransactions.transactions=Z.allowNull(Z.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Z.allowNull(i,void 0),toBlock:Z.allowNull(i,void 0),blockHash:Z.allowNull(a,void 0),address:Z.allowNull(t,void 0),topics:Z.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Z.allowNull(s),blockHash:Z.allowNull(a),transactionIndex:s,removed:Z.allowNull(this.boolean.bind(this)),address:t,data:Z.allowFalsish(n,"0x"),topics:Z.arrayOf(a),transactionHash:a,logIndex:s},e}accessList(e){return(0,l.accessListify)(e||[])}number(e){return"0x"===e?0:o.BigNumber.from(e).toNumber()}type(e){return"0x"===e||null==e?0:o.BigNumber.from(e).toNumber()}bigNumber(e){return o.BigNumber.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),(0,s.isHexString)(e))?e.toLowerCase():Y.throwArgumentError("invalid hash","value",e)}data(e,t){let r=this.hex(e,t);if(r.length%2!=0)throw Error("invalid data; odd-length - "+e);return r}address(e){return(0,a.getAddress)(e)}callAddress(e){if(!(0,s.isHexString)(e,32))return null;let t=(0,a.getAddress)((0,s.hexDataSlice)(e,12));return t===N?null:t}contractAddress(e){return(0,a.getContractAddress)(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"==typeof e||(0,s.isHexString)(e))return(0,s.hexValue)(e);throw Error("invalid blockTag")}hash(e,t){let r=this.hex(e,t);return 32!==(0,s.hexDataLength)(r)?Y.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;let t=o.BigNumber.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!(0,s.isHexString)(e))throw Error("invalid uint256");return(0,s.hexZeroPad)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);let r=null!=e._difficulty?e._difficulty:e.difficulty,i=Z.check(t,e);return i._difficulty=null==r?null:o.BigNumber.from(r),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Z.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&o.BigNumber.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),(1===e.type||2===e.type)&&null==e.accessList&&(e.accessList=[]);let t=Z.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;(0,s.isHexString)(r)&&(r=o.BigNumber.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),(0,s.isHexString)(r)&&(r=o.BigNumber.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&((r=(t.v-35)/2)<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return(0,l.parse)(e)}receiptLog(e){return Z.check(this.formats.receiptLog,e)}receipt(e){let t=Z.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){let e=o.BigNumber.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&Y.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):Y.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Y.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return Z.check(this.formats.filter,e)}filterLog(e){return Z.check(this.formats.filterLog,e)}static check(e,t){let r={};for(let i in e)try{let n=e[i](t[i]);void 0!==n&&(r[i]=n)}catch(e){throw e.checkKey=i,e.checkValue=t[i],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw Error("not an array");let r=[];return t.forEach(function(t){r.push(e(t))}),r}}}function $(e){return e&&"function"==typeof e.isCommunityResource}function ee(e){return $(e)&&e.isCommunityResource()}let et=!1;function er(){et||(et=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var ei=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let en=new c.Logger(J);function ea(e){return null==e?"null":(32!==(0,s.hexDataLength)(e)&&en.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function eo(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(!Array.isArray(e))return ea(e);{let t={};e.forEach(e=>{t[ea(e)]=!0});let r=Object.keys(t);return r.sort(),r.join("|")}}).join("&")}function es(e){if("string"==typeof e){if(e=e.toLowerCase(),32===(0,s.hexDataLength)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else if(Array.isArray(e))return"filter:*:"+eo(e);else if(W.ForkEvent.isForkEvent(e))throw en.warn("not implemented"),Error("not implemented");else if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+eo(e.topics||[]);throw Error("invalid event - "+e)}function eu(){return new Date().getTime()}function el(e){return new Promise(t=>{setTimeout(t,e)})}let ec=["block","network","pending","poll"];class ed{constructor(e,t,r){(0,u.defineReadOnly)(this,"tag",e),(0,u.defineReadOnly)(this,"listener",t),(0,u.defineReadOnly)(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){let e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){var e;let t=this.tag.split(":");if("filter"!==t[0])return null;let r=t[1],i=""===(e=t[2])?[]:e.split(/&/g).map(e=>{if(""===e)return[];let t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t}),n={};return i.length>0&&(n.topics=i),r&&"*"!==r&&(n.address=r),n}pollable(){return this.tag.indexOf(":")>=0||ec.indexOf(this.tag)>=0}}let ef={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function ep(e){return(0,s.hexZeroPad)(o.BigNumber.from(e).toHexString(),32)}function eh(e){return G.Base58.encode((0,s.concat)([e,(0,s.hexDataSlice)((0,z.sha256)((0,z.sha256)(e)),0,4)]))}let em=RegExp("^(ipfs)://(.*)$","i"),eg=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),em,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function eb(e,t){try{return(0,H.toUtf8String)(ey(e,t))}catch(e){}return null}function ey(e,t){if("0x"===e)return null;let r=o.BigNumber.from((0,s.hexDataSlice)(e,t,t+32)).toNumber(),i=o.BigNumber.from((0,s.hexDataSlice)(e,r,r+32)).toNumber();return(0,s.hexDataSlice)(e,r+32,r+32+i)}function ex(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):en.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function eA(e){let t=(0,s.arrayify)(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}function ew(e){let t=[],r=0;for(let i=0;i<e.length;i++)t.push(null),r+=32;for(let i=0;i<e.length;i++){let n=(0,s.arrayify)(e[i]);t[i]=eA(r),t.push(eA(n.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(n)),r+=32+32*Math.ceil(n.length/32)}return(0,s.hexConcat)(t)}class ev{constructor(e,t,r,i){(0,u.defineReadOnly)(this,"provider",e),(0,u.defineReadOnly)(this,"name",r),(0,u.defineReadOnly)(this,"address",e.formatter.address(t)),(0,u.defineReadOnly)(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>o.BigNumber.from(e).eq(1)).catch(e=>{if(e.code===c.Logger.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return ei(this,void 0,void 0,function*(){let r={to:this.address,ccipReadEnabled:!0,data:(0,s.hexConcat)([e,(0,j.namehash)(this.name),t||"0x"])},i=!1;(yield this.supportsWildcard())&&(i=!0,r.data=(0,s.hexConcat)(["0x9061b923",ew([(0,j.dnsEncode)(this.name),r.data])]));try{let e=yield this.provider.call(r);return(0,s.arrayify)(e).length%32==4&&en.throwError("resolver threw error",c.Logger.errors.CALL_EXCEPTION,{transaction:r,data:e}),i&&(e=ey(e,0)),e}catch(e){if(e.code===c.Logger.errors.CALL_EXCEPTION)return null;throw e}})}_fetchBytes(e,t){return ei(this,void 0,void 0,function*(){let r=yield this._fetch(e,t);return null!=r?ey(r,0):null})}_getAddress(e,t){let r=ef[String(e)];if(null==r&&en.throwError(`unsupported coin type: ${e}`,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);let i=(0,s.arrayify)(t);if(null!=r.p2pkh){let e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return eh((0,s.concat)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){let e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){let t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return eh((0,s.concat)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){let e=i[1],t=i[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&i.length===2+e&&e>=1&&e<=75){let e=Q.default.toWords(i.slice(2));return e.unshift(t),Q.default.encode(r.prefix,e)}}return null}getAddress(e){return ei(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{let e=yield this._fetch("0x3b3b57de");if("0x"===e||e===O.HashZero)return null;return this.provider.formatter.callAddress(e)}catch(e){if(e.code===c.Logger.errors.CALL_EXCEPTION)return null;throw e}let t=yield this._fetchBytes("0xf1cb7e06",ep(e));if(null==t||"0x"===t)return null;let r=this._getAddress(e,t);return null==r&&en.throwError("invalid or unsupported coin data",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return ei(this,void 0,void 0,function*(){let e=[{type:"name",content:this.name}];try{let t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<eg.length;r++){let i=t.match(eg[r]);if(null==i)continue;let n=i[1].toLowerCase();switch(n){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:ex(t)};case"erc721":case"erc1155":{let r="erc721"===n?"0xc87b56dd":"0x0e89341c";e.push({type:n,content:t});let a=this._resolvedAddress||(yield this.getAddress()),u=(i[2]||"").split("/");if(2!==u.length)return null;let l=yield this.provider.formatter.address(u[0]),c=(0,s.hexZeroPad)(o.BigNumber.from(u[1]).toHexString(),32);if("erc721"===n){let t=this.provider.formatter.callAddress((yield this.provider.call({to:l,data:(0,s.hexConcat)(["0x6352211e",c])})));if(a!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===n){let t=o.BigNumber.from((yield this.provider.call({to:l,data:(0,s.hexConcat)(["0x00fdd58e",(0,s.hexZeroPad)(a,32),c])})));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}let d={to:this.provider.formatter.address(u[0]),data:(0,s.hexConcat)([r,c])},f=eb((yield this.provider.call(d)),0);if(null==f)return null;e.push({type:"metadata-url-base",content:f}),"erc1155"===n&&(f=f.replace("{id}",c.substring(2)),e.push({type:"metadata-url-expanded",content:f})),f.match(/^ipfs:/i)&&(f=ex(f)),e.push({type:"metadata-url",content:f});let p=yield(0,X.fetchJson)(f);if(!p)return null;e.push({type:"metadata",content:JSON.stringify(p)});let h=p.image;if("string"!=typeof h)return null;if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(em);if(null==t)return null;e.push({type:"url-ipfs",content:h}),h=ex(h)}return e.push({type:"url",content:h}),{linkage:e,url:h}}}}}catch(e){}return null})}getContentHash(){return ei(this,void 0,void 0,function*(){let e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;let t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+G.Base58.encode("0x"+t[1])}let r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){let e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+G.Base58.encode("0x"+r[1])}let i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&64===i[1].length)return"bzz://"+i[1];let n=e.match(/^0x90b2c605([0-9a-f]*)$/);if(n&&68===n[1].length){let e={"=":"","+":"-","/":"_"};return"sia://"+(0,V.encode)("0x"+n[1]).replace(/[=+\/]/g,t=>e[t])}return en.throwError("invalid or unsupported content hash data",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return ei(this,void 0,void 0,function*(){let t=(0,H.toUtf8Bytes)(e);(t=(0,s.concat)([ep(64),ep(t.length),t])).length%32!=0&&(t=(0,s.concat)([t,(0,s.hexZeroPad)("0x",32-e.length%32)]));let r=yield this._fetchBytes("0x59d1d43c",(0,s.hexlify)(t));return null==r||"0x"===r?null:(0,H.toUtf8String)(r)})}}let eS=null,ek=1;class eT extends W.Provider{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),(0,u.defineReadOnly)(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{const t=(0,u.getStatic)(new.target,"getNetwork")(e);t?((0,u.defineReadOnly)(this,"_network",t),this.emit("network",t,null)):en.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return ei(this,void 0,void 0,function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||en.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:(0,u.defineReadOnly)(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return(0,X.poll)(()=>this._ready().then(e=>e,e=>{if(e.code!==c.Logger.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==eS&&(eS=new Z),eS}static getNetwork(e){return K(null==e?"homestead":e)}ccipReadFetch(e,t,r){return ei(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;let i=e.to.toLowerCase(),n=t.toLowerCase(),a=[];for(let e=0;e<r.length;e++){let t=r[e],o=t.replace("{sender}",i).replace("{data}",n),s=t.indexOf("{data}")>=0?null:JSON.stringify({data:n,sender:i}),u=yield(0,X.fetchJson)({url:o,errorPassThrough:!0},s,(e,t)=>(e.status=t.statusCode,e));if(u.data)return u.data;let l=u.message||"unknown error";if(u.status>=400&&u.status<500)return en.throwError(`response not found during CCIP fetch: ${l}`,c.Logger.errors.SERVER_ERROR,{url:t,errorMessage:l});a.push(l)}return en.throwError(`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,c.Logger.errors.SERVER_ERROR,{urls:r,errorMessages:a})})}_getInternalBlockNumber(e){return ei(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){let t=this._internalBlockNumber;try{let r=yield t;if(eu()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}let t=eu(),r=(0,u.resolveProperties)({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:i})=>{if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;let n=eu();return(e=o.BigNumber.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:n}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return ei(this,void 0,void 0,function*(){let e=ek++,t=[],r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){this.emit("error",e);return}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r===this._lastBlockNumber)return void this.emit("didPoll",e);if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)en.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",en.makeError("network block skew detected",c.Logger.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;let t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{let r=e.hash,i=this.getTransactionReceipt(r).then(e=>(e&&null!=e.blockNumber&&(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e)),null)).catch(e=>{this.emit("error",e)});t.push(i);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);let i=e.filter;i.fromBlock=e._lastBlockNumber+1,i.toBlock=r;let n=i.toBlock-this._maxFilterBlockRange;n>i.fromBlock&&(i.fromBlock=n),i.fromBlock<0&&(i.fromBlock=0);let a=this.getLogs(i).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(i,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(a)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return ei(this,void 0,void 0,function*(){return en.throwError("provider does not support network detection",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return ei(this,void 0,void 0,function*(){let e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield el(0),this._network;let r=en.makeError("underlying network changed",c.Logger.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){let e=eu();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){(null==this._fastBlockNumber||!(e<this._fastBlockNumber))&&(this._fastQueryDate=eu(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return ei(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,i){return ei(this,void 0,void 0,function*(){let n=yield this.getTransactionReceipt(e);return(n?n.confirmations:0)>=t?n:new Promise((n,a)=>{let o=[],s=!1,u=function(){return!!s||(s=!0,o.forEach(e=>{e()}),!1)},l=e=>{e.confirmations<t||u()||n(e)};if(this.on(e,l),o.push(()=>{this.removeListener(e,l)}),i){let r=i.startBlock,n=null,l=o=>ei(this,void 0,void 0,function*(){s||(yield el(1e3),this.getTransactionCount(i.from).then(d=>ei(this,void 0,void 0,function*(){if(!s){if(d<=i.nonce)r=o;else{{let t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==n&&(n=r-3)<i.startBlock&&(n=i.startBlock);n<=o;){if(s)return;let r=yield this.getBlockWithTransactions(n);for(let n=0;n<r.transactions.length;n++){let o=r.transactions[n];if(o.hash===e)return;if(o.from===i.from&&o.nonce===i.nonce){if(s)return;let r=yield this.waitForTransaction(o.hash,t);if(u())return;let n="replaced";o.data===i.data&&o.to===i.to&&o.value.eq(i.value)?n="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(n="cancelled"),a(en.makeError("transaction was replaced",c.Logger.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:this._wrapTransaction(o),hash:e,receipt:r}));return}}n++}}s||this.once("block",l)}}),e=>{s||this.once("block",l)}))});if(s)return;this.once("block",l),o.push(()=>{this.removeListener("block",l)})}if("number"==typeof r&&r>0){let e=setTimeout(()=>{u()||a(en.makeError("timeout exceeded",c.Logger.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),o.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return ei(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let e=yield this.perform("getGasPrice",{});try{return o.BigNumber.from(e)}catch(t){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getBalance",r);try{return o.BigNumber.from(i)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getBalance",params:r,result:i,error:e})}})}getTransactionCount(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getTransactionCount",r);try{return o.BigNumber.from(i).toNumber()}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:i,error:e})}})}getCode(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),i=yield this.perform("getCode",r);try{return(0,s.hexlify)(i)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getCode",params:r,result:i,error:e})}})}getStorageAt(e,t,r){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let i=yield(0,u.resolveProperties)({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>(0,s.hexValue)(e))}),n=yield this.perform("getStorageAt",i);try{return(0,s.hexlify)(n)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:n,error:e})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==(0,s.hexDataLength)(t))throw Error("invalid response - sendTransaction");return null!=t&&e.hash!==t&&en.throwError("Transaction hash mismatch from Provider.sendTransaction.",c.Logger.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),e.wait=(t,i)=>ei(this,void 0,void 0,function*(){let n;null==t&&(t=1),null==i&&(i=0),0!==t&&null!=r&&(n={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});let a=yield this._waitForTransaction(e.hash,t,i,n);return null==a&&0===t?null:(this._emitted["t:"+e.hash]=a.blockNumber,0===a.status&&en.throwError("transaction failed",c.Logger.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:a}),a)}),e}sendTransaction(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield Promise.resolve(e).then(e=>(0,s.hexlify)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);let i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{let e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,i)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}})}_getTransactionRequest(e){return ei(this,void 0,void 0,function*(){let t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?o.BigNumber.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?(0,s.hexlify)(e):null))}),this.formatter.transactionRequest((yield(0,u.resolveProperties)(r)))})}_getFilter(e){return ei(this,void 0,void 0,function*(){e=yield e;let t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter((yield(0,u.resolveProperties)(t)))})}_call(e,t,r){return ei(this,void 0,void 0,function*(){r>=10&&en.throwError("CCIP read exceeded maximum redirections",c.Logger.errors.SERVER_ERROR,{redirects:r,transaction:e});let i=e.to,n=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=i&&"0x556f1830"===n.substring(0,10)&&(0,s.hexDataLength)(n)%32==4)try{let a=(0,s.hexDataSlice)(n,4),u=(0,s.hexDataSlice)(a,0,32);o.BigNumber.from(u).eq(i)||en.throwError("CCIP Read sender did not match",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n});let l=[],d=o.BigNumber.from((0,s.hexDataSlice)(a,32,64)).toNumber(),f=o.BigNumber.from((0,s.hexDataSlice)(a,d,d+32)).toNumber(),p=(0,s.hexDataSlice)(a,d+32);for(let t=0;t<f;t++){let r=eb(p,32*t);null==r&&en.throwError("CCIP Read contained corrupt URL string",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n}),l.push(r)}let h=ey(a,64);o.BigNumber.from((0,s.hexDataSlice)(a,100,128)).isZero()||en.throwError("CCIP Read callback selector included junk",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n});let m=(0,s.hexDataSlice)(a,96,100),g=ey(a,128),b=yield this.ccipReadFetch(e,h,l);null==b&&en.throwError("CCIP Read disabled or provided no URLs",c.Logger.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:n});let y={to:i,data:(0,s.hexConcat)([m,ew([b,g])])};return this._call(y,t,r+1)}catch(e){if(e.code===c.Logger.errors.SERVER_ERROR)throw e}try{return(0,s.hexlify)(n)}catch(r){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:n,error:r})}})}call(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let r=yield(0,u.resolveProperties)({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,u.resolveProperties)({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return o.BigNumber.from(r)}catch(e){return en.throwError("bad result from backend",c.Logger.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}})}_getAddress(e){return ei(this,void 0,void 0,function*(){"string"!=typeof(e=yield e)&&en.throwArgumentError("invalid address or ENS name","name",e);let t=yield this.resolveName(e);return null==t&&en.throwError("ENS name not configured",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return ei(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128,i={includeTransactions:!!t};if((0,s.isHexString)(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),(0,s.isHexString)(i.blockTag)&&(r=parseInt(i.blockTag.substring(2),16))}catch(t){en.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return(0,X.poll)(()=>ei(this,void 0,void 0,function*(){let e=yield this.perform("getBlock",i);if(null==e)return null!=i.blockHash&&null==this._emitted["b:"+i.blockHash]||null!=i.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){let i=e.transactions[r];if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}}let r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,X.poll)(()=>ei(this,void 0,void 0,function*(){let r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;let i=this.formatter.transactionResponse(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let t={transactionHash:this.formatter.hash(e,!0)};return(0,X.poll)(()=>ei(this,void 0,void 0,function*(){let r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;let i=this.formatter.receipt(r);if(null==i.blockNumber)i.confirmations=0;else if(null==i.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;e<=0&&(e=1),i.confirmations=e}return i}),{oncePoll:this})})}getLogs(e){return ei(this,void 0,void 0,function*(){yield this.getNetwork();let t=yield(0,u.resolveProperties)({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),Z.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return ei(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return ei(this,void 0,void 0,function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&en.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return(t+=e)<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return ei(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t||"eth"!==e&&"eth"===t)return null;let r=yield this._getResolver(t,"getResolver");if(null!=r){let i=new ev(this,r,e);if(t!==e&&!(yield i.supportsWildcard()))return null;return i}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return ei(this,void 0,void 0,function*(){null==t&&(t="ENS");let r=yield this.getNetwork();r.ensAddress||en.throwError("network does not support ENS",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{let t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+(0,j.namehash)(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null})}resolveName(e){return ei(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if((0,s.isHexString)(e))throw t}"string"!=typeof e&&en.throwArgumentError("invalid ENS name","name",e);let t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return ei(this,void 0,void 0,function*(){e=yield e;let t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;let i=eb((yield this.call({to:r,data:"0x691f3431"+(0,j.namehash)(t).substring(2)})),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return ei(this,void 0,void 0,function*(){let t=null;if((0,s.isHexString)(e)){let r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"getAvatar");if(!i)return null;t=new ev(this,i,r);try{let e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==c.Logger.errors.CALL_EXCEPTION)throw e}try{let e=eb((yield this.call({to:i,data:"0x691f3431"+(0,j.namehash)(r).substring(2)})),0);t=yield this.getResolver(e)}catch(e){if(e.code!==c.Logger.errors.CALL_EXCEPTION)throw e;return null}}else if(!(t=yield this.getResolver(e)))return null;let r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return en.throwError(e+" not implemented",c.Logger.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){let i=new ed(es(e),t,r);return this._events.push(i),this._startEvent(i),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,i=[],n=es(e);return this._events=this._events.filter(e=>e.tag!==n||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(i.push(e),!1))),i.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=es(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=es(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);let r=[],i=!1,n=es(e);return this._events=this._events.filter(e=>e.tag!==n||e.listener!=t||!!i||(i=!0,r.push(e),!1)),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{let r=es(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var eE=n,eP=e.i(123795),eI=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let e_=new c.Logger(J),eN=["call","estimateGas"];function eR(e,t){if(null==e)return null;if("string"==typeof e.message&&e.message.match("reverted")){let r=(0,s.isHexString)(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"==typeof e){for(let r in e){let i=eR(e[r],t);if(i)return i}return null}if("string"==typeof e)try{return eR(JSON.parse(e),t)}catch(e){}return null}function eO(e,t,r){let i=r.transaction||r.signedTransaction;if("call"===e){let e=eR(t,!0);if(e)return e.data;e_.throwError("missing revert data in call exception; Transaction reverted without a reason string",c.Logger.errors.CALL_EXCEPTION,{data:"0x",transaction:i,error:t})}if("estimateGas"===e){let r=eR(t.body,!1);null==r&&(r=eR(t,!1)),r&&e_.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:i,error:t})}let n=t.message;throw t.code===c.Logger.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText),(n=(n||"").toLowerCase()).match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&e_.throwError("insufficient funds for intrinsic transaction cost",c.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),n.match(/nonce (is )?too low/i)&&e_.throwError("nonce has already been used",c.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),n.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&e_.throwError("replacement fee too low",c.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),n.match(/only replay-protected/i)&&e_.throwError("legacy pre-eip-155 transactions not supported",c.Logger.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:i}),eN.indexOf(e)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&e_.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function eB(e){return new Promise(function(t){setTimeout(t,e)})}function eC(e){if(e.error){let t=Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function eD(e){return e?e.toLowerCase():e}let eF={};class eU extends eE.Signer{constructor(e,t,r){if(super(),e!==eF)throw Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");(0,u.defineReadOnly)(this,"provider",t),null==r&&(r=0),"string"==typeof r?((0,u.defineReadOnly)(this,"_address",this.provider.formatter.address(r)),(0,u.defineReadOnly)(this,"_index",null)):"number"==typeof r?((0,u.defineReadOnly)(this,"_index",r),(0,u.defineReadOnly)(this,"_address",null)):e_.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return e_.throwError("cannot alter JSON-RPC Signer connection",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new eM(eF,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&e_.throwError("unknown account #"+this._index,c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=(0,u.shallowCopy)(e);let t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){let r=(0,u.shallowCopy)(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>eI(this,void 0,void 0,function*(){if(null==e)return null;let t=yield this.provider.resolveName(e);return null==t&&e_.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),(0,u.resolveProperties)({tx:(0,u.resolveProperties)(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&e_.throwArgumentError("from address mismatch","transaction",e):t.from=r;let i=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(e=>e,e=>("string"==typeof e.message&&e.message.match(/user denied/i)&&e_.throwError("user rejected transaction",c.Logger.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:t}),eO("sendTransaction",e,i)))})}signTransaction(e){return e_.throwError("signing transactions is unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return eI(this,void 0,void 0,function*(){let t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield(0,X.poll)(()=>eI(this,void 0,void 0,function*(){let e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}})}signMessage(e){return eI(this,void 0,void 0,function*(){let t="string"==typeof e?(0,H.toUtf8Bytes)(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[(0,s.hexlify)(t),r.toLowerCase()])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&e_.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),t}})}_legacySignMessage(e){return eI(this,void 0,void 0,function*(){let t="string"==typeof e?(0,H.toUtf8Bytes)(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),(0,s.hexlify)(t)])}catch(t){throw"string"==typeof t.message&&t.message.match(/user denied/i)&&e_.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),t}})}_signTypedData(e,t,r){return eI(this,void 0,void 0,function*(){let i=yield eP._TypedDataEncoder.resolveNames(e,t,r,e=>this.provider.resolveName(e)),n=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[n.toLowerCase(),JSON.stringify(eP._TypedDataEncoder.getPayload(i.domain,t,i.value))])}catch(e){throw"string"==typeof e.message&&e.message.match(/user denied/i)&&e_.throwError("user rejected signing",c.Logger.errors.ACTION_REJECTED,{action:"_signTypedData",from:n,messageData:{domain:i.domain,types:t,value:i.value}}),e}})}unlock(e){return eI(this,void 0,void 0,function*(){let t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class eM extends eU{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}let eL={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class eq extends eT{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=(0,u.getStatic)(this.constructor,"defaultUrl")()),"string"==typeof e?(0,u.defineReadOnly)(this,"connection",Object.freeze({url:e})):(0,u.defineReadOnly)(this,"connection",Object.freeze((0,u.shallowCopy)(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return eI(this,void 0,void 0,function*(){yield eB(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){let t=(0,u.getStatic)(this.constructor,"getNetwork");try{return t(o.BigNumber.from(e).toNumber())}catch(t){return e_.throwError("could not detect network",c.Logger.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return e_.throwError("could not detect network",c.Logger.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new eU(eF,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:(0,u.deepCopy)(r),provider:this});let i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];let n=(0,X.fetchJson)(this.connection,JSON.stringify(r),eC).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return i&&(this._cache[e]=n,setTimeout(()=>{this._cache[e]=null},0)),n}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[eD(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[eD(t.address),t.blockTag]];case"getCode":return["eth_getCode",[eD(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[eD(t.address),(0,s.hexZeroPad)(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":if(t.blockTag)return["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]];if(t.blockHash)return["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]];break;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[(0,u.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[(0,u.getStatic)(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=eD(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return eI(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){let e=t.transaction;if(e&&null!=e.type&&o.BigNumber.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){let r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=(0,u.shallowCopy)(t)).transaction=(0,u.shallowCopy)(e),delete t.transaction.type)}}let r=this.prepareRequest(e,t);null==r&&e_.throwError(e+" not implemented",c.Logger.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return eO(e,r,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;let e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return!function i(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let i=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",i=i.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),i.then(function(){return eB(1e3)})}).then(function(){return e._pendingFilter!=t?void e.send("eth_uninstallFilter",[r]):(setTimeout(function(){i()},0),null)}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){let r=(0,u.shallowCopy)(eL);if(t)for(let e in t)t[e]&&(r[e]=!0);(0,u.checkProperties)(e,r);let i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;let r=(0,s.hexValue)(o.BigNumber.from(e[t]));"gasLimit"===t&&(t="gas"),i[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(i[t]=(0,s.hexlify)(e[t]))}),e.accessList&&(i.accessList=(0,l.accessListify)(e.accessList)),i}}let eK=null;try{if(eK=WebSocket,null==eK)throw Error("inject please")}catch(t){let e=new c.Logger(J);eK=function(){e.throwError("WebSockets not supported in this environment",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var eW=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let eV=new c.Logger(J),eG=1;class ej extends eq{constructor(e,t){"any"===t&&eV.throwError("WebSocketProvider does not support 'any' network yet",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),"string"==typeof e?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,"string"==typeof e?(0,u.defineReadOnly)(this,"_websocket",new eK(this.connection.url)):(0,u.defineReadOnly)(this,"_websocket",e),(0,u.defineReadOnly)(this,"_requests",{}),(0,u.defineReadOnly)(this,"_subs",{}),(0,u.defineReadOnly)(this,"_subIds",{}),(0,u.defineReadOnly)(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this.websocket.send(this._requests[e].payload)})},this.websocket.onmessage=e=>{let t=e.data,r=JSON.parse(t);if(null!=r.id){let e=String(r.id),i=this._requests[e];if(delete this._requests[e],void 0!==r.result)i.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(i.payload),response:r.result,provider:this});else{let e=null;r.error?(e=Error(r.error.message||"unknown error"),(0,u.defineReadOnly)(e,"code",r.error.code||null),(0,u.defineReadOnly)(e,"response",t)):e=Error("unknown error"),i.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(i.payload),provider:this})}}else if("eth_subscription"===r.method){let e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){eV.throwError("cannot reset events block on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){eV.throwError("cannot set polling interval on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return eW(this,void 0,void 0,function*(){return null})}set polling(e){e&&eV.throwError("cannot set polling on WebSocketProvider",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){let r=eG++;return new Promise((i,n)=>{let a=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?n(e):i(t)},payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return eW(this,void 0,void 0,function*(){let i=this._subIds[e];null==i&&(i=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=i);let n=yield i;this._subs[n]={tag:e,processFunc:r}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{let t=o.BigNumber.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{let t=e=>{let t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;let r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return eW(this,void 0,void 0,function*(){this.websocket.readyState===eK.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}let ez=new c.Logger(J);class eH extends eq{detectNetwork(){var e,t,r,i;let n=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return e=this,t=void 0,r=void 0,i=function*(){let e=this.network;return null==e&&((e=yield n.detectNetwork.call(this))||ez.throwError("no network detected",c.Logger.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,u.defineReadOnly)(this,"_network",e),this.emit("network",e,null))),e},new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})}}class eX extends eH{constructor(e,t){ez.checkAbstract(new.target,eX),e=(0,u.getStatic)(new.target,"getNetwork")(e),super((0,u.getStatic)(new.target,"getUrl")(e,t=(0,u.getStatic)(new.target,"getApiKey")(t)),e),"string"==typeof t?(0,u.defineReadOnly)(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{(0,u.defineReadOnly)(this,e,t[e])})}_startPending(){ez.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return ez.throwError("API provider does not support signing",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return ez.throwError("not implemented; sub-classes must override getUrl",c.Logger.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}let eQ=new c.Logger(J),eJ="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class eY extends ej{constructor(e,t){const r=new eZ(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,u.defineReadOnly)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===eJ}}class eZ extends eX{static getWebSocketProvider(e,t){return new eY(e,t)}static getApiKey(e){return null==e?eJ:(e&&"string"!=typeof e&&eQ.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.g.alchemy.com/v2/";break;case"sepolia":r="eth-sepolia.g.alchemy.com/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":r="arb-goerli.g.alchemy.com/v2/";break;case"arbitrum-sepolia":r="arb-sepolia.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":r="opt-goerli.g.alchemy.com/v2/";break;case"optimism-sepolia":r="opt-sepolia.g.alchemy.com/v2/";break;default:eQ.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===eJ&&er(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===eJ}}let e$=new c.Logger(J),e0="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class e1 extends eX{isCommunityResource(){return this.apiKey===e0}static getApiKey(e){return null==e?e0:e}static getUrl(e,t){null==t&&(t=e0);let r={allowGzip:!0,url:"https://"+function(e){switch(e){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"sepolia":return"rpc.ankr.com/eth_sepolia/";case"matic":return"rpc.ankr.com/polygon/";case"maticmum":return"rpc.ankr.com/polygon_mumbai/";case"optimism":return"rpc.ankr.com/optimism/";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet/";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return e$.throwArgumentError("unsupported network","name",e)}(e.name)+t,throttleCallback:(e,r)=>(t.apiKey===e0&&er(),Promise.resolve(!0))};return null!=t.projectSecret&&(r.user="",r.password=t.projectSecret),r}}let e2=new c.Logger(J);class e4 extends eX{static getApiKey(e){return null!=e&&e2.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;return"homestead"===e.name?r="https://cloudflare-eth.com/":e2.throwArgumentError("unsupported network","network",arguments[0]),r}perform(e,t){var r,i,n,a;let o=Object.create(null,{perform:{get:()=>super.perform}});return r=this,i=void 0,n=void 0,a=function*(){return"getBlockNumber"===e?(yield o.perform.call(this,"getBlock",{blockTag:"latest"})).number:o.perform.call(this,e,t)},new(n||(n=Promise))(function(e,t){function o(e){try{u(a.next(e))}catch(e){t(e)}}function s(e){try{u(a.throw(e))}catch(e){t(e)}}function u(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(o,s)}u((a=a.apply(r,i||[])).next())})}}var e6=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let e3=new c.Logger(J);function e5(e){let t={};for(let r in e){if(null==e[r])continue;let i=e[r];("type"!==r||0!==i)&&(i=({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r]?(0,s.hexValue)((0,s.hexlify)(i)):"accessList"===r?"["+(0,l.accessListify)(i).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]":(0,s.hexlify)(i),t[r]=i)}return t}function e8(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"string"!=typeof e.message||!e.message.match(/^OK/)){let t=Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function e7(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){let t=Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){let t=Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){let t=Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function e9(e){if("pending"===e)throw Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function te(e,t,r){if("call"===e&&t.code===c.Logger.errors.SERVER_ERROR){let e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),(0,s.isHexString)(r))return r;e3.throwError("missing revert data in call exception",c.Logger.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let i=t.message;throw t.code===c.Logger.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?i=t.error.message:"string"==typeof t.body?i=t.body:"string"==typeof t.responseText&&(i=t.responseText)),(i=(i||"").toLowerCase()).match(/insufficient funds/)&&e3.throwError("insufficient funds for intrinsic transaction cost",c.Logger.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&e3.throwError("nonce has already been used",c.Logger.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),i.match(/another transaction with same nonce/)&&e3.throwError("replacement fee too low",c.Logger.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),i.match(/execution failed due to an exception|execution reverted/)&&e3.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",c.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class tt extends eT{constructor(e,t){super(e),(0,u.defineReadOnly)(this,"baseUrl",this.getBaseUrl()),(0,u.defineReadOnly)(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return e3.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let i=t[r];return null!=i&&(e+=`&${r}=${i}`),e},""),i=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${r}${i}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return e6(this,void 0,void 0,function*(){let i=r?this.getPostUrl():this.getUrl(e,t),n=r?this.getPostData(e,t):null,a="proxy"===e?e7:e8;this.emit("debug",{action:"request",request:i,provider:this});let o={url:i,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&er(),Promise.resolve(!0))},s=null;n&&(o.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},s=Object.keys(n).map(e=>`${e}=${n[e]}`).join("&"));let l=yield(0,X.fetchJson)(o,s,a||e7);return this.emit("debug",{action:"response",request:i,response:(0,u.deepCopy)(l),provider:this}),l})}detectNetwork(){return e6(this,void 0,void 0,function*(){return this.network})}perform(e,t){let r=Object.create(null,{perform:{get:()=>super.perform}});return e6(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(e=>te("sendTransaction",e,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let e=e5(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return te("call",e,t.transaction)}}case"estimateGas":{let e=e5(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return te("estimateGas",e,t.transaction)}}case"getLogs":{let e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=e9(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=e9(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&e3.throwError("unsupported topic count",c.Logger.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){let r=t.filter.topics[0];("string"!=typeof r||66!==r.length)&&e3.throwError("unsupported topic format",c.Logger.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}let r=yield this.fetch("logs",e),i={};for(let e=0;e<r.length;e++){let t=r[e];if(null==t.blockHash){if(null==i[t.blockNumber]){let e=yield this.getBlock(t.blockNumber);e&&(i[t.blockNumber]=e.hash)}t.blockHash=i[t.blockNumber]}}return r}case"getEtherPrice":if("homestead"!==this.network.name)return 0;return parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)})}getHistory(e,t,r){return e6(this,void 0,void 0,function*(){let i={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?0x5f5e0ff:r,sort:"asc"};return(yield this.fetch("account",i)).map(e=>{["contractAddress","to"].forEach(function(t){""==e[t]&&delete e[t]}),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);let t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})})}isCommunityResource(){return null==this.apiKey}}var tr=e.i(216368),ti=function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{u(i.next(e))}catch(e){a(e)}}function s(e){try{u(i.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}u((i=i.apply(e,t||[])).next())})};let tn=new c.Logger(J);function ta(){return new Date().getTime()}function to(e){let t=null;for(let r=0;r<e.length;r++){let i=e[r];if(null==i)return null;t?(t.name!==i.name||t.chainId!==i.chainId||t.ensAddress!==i.ensAddress&&(null!=t.ensAddress||null!=i.ensAddress))&&tn.throwArgumentError("provider mismatch","networks",e):t=i}return t}function ts(e,t){let r=Math.floor((e=e.slice().sort()).length/2);if(e.length%2)return e[r];let i=e[r-1],n=e[r];return null!=t&&Math.abs(i-n)>t?null:(i+n)/2}function tu(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(o.BigNumber.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>tu(e)));else if("object"==typeof e){let t=Object.keys(e);return t.sort(),"{"+t.map(t=>{let r=e[t];return r="function"==typeof r?"[function]":tu(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw Error("unknown value type: "+typeof e)}let tl=1;function tc(e){let t=null,r=null,i=new Promise(i=>{r=setTimeout(t=function(){r&&(clearTimeout(r),r=null),i()},e)});return{cancel:t,getPromise:function(){return i},wait:e=>i=i.then(e)}}let td=[c.Logger.errors.CALL_EXCEPTION,c.Logger.errors.INSUFFICIENT_FUNDS,c.Logger.errors.NONCE_EXPIRED,c.Logger.errors.REPLACEMENT_UNDERPRICED,c.Logger.errors.UNPREDICTABLE_GAS_LIMIT],tf=["address","args","errorArgs","errorSignature","method","transaction"];function tp(e,t){let r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function th(e,t){return ti(this,void 0,void 0,function*(){let r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:(0,X.poll)(()=>new Promise((i,n)=>{setTimeout(function(){return r.blockNumber>=t?i(r):e.cancelled?i(null):i(void 0)},0)}),{oncePoll:r})})}class tm extends eT{constructor(e,t){0===e.length&&tn.throwArgumentError("missing providers","providers",e);const r=e.map((e,t)=>{if(i.Provider.isProvider(e)){let t=ee(e)?2e3:750;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:1})}let r=(0,u.shallowCopy)(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=ee(e)?2e3:750),null==r.weight&&(r.weight=1);let n=r.weight;return(n%1||n>512||n<1)&&tn.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)}),n=r.reduce((e,t)=>e+t.weight,0);null==t?t=n/2:t>n&&tn.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let a=to(r.map(e=>e.provider.network));null==a&&(a=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(a),(0,u.defineReadOnly)(this,"providerConfigs",Object.freeze(r)),(0,u.defineReadOnly)(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return ti(this,void 0,void 0,function*(){return to((yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork()))))})}perform(e,t){return ti(this,void 0,void 0,function*(){if("sendTransaction"===e){let e=yield Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));for(let t=0;t<e.length;t++){let r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());let r=function(e,t,r){var i,n;let a=tu;switch(t){case"getBlockNumber":return function(t){let r=t.map(e=>e.result),i=ts(t.map(e=>e.result),2);if(null!=i)return i=Math.ceil(i),r.indexOf(i+1)>=0&&i++,i>=e._highestBlockNumber&&(e._highestBlockNumber=i),e._highestBlockNumber};case"getGasPrice":return function(e){let t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return ts(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":a=function(e){return null==e?null:((e=(0,u.shallowCopy)(e)).confirmations=-1,tu(e))};break;case"getBlock":a=r.includeTransactions?function(e){return null==e?null:((e=(0,u.shallowCopy)(e)).transactions=e.transactions.map(e=>((e=(0,u.shallowCopy)(e)).confirmations=-1,e)),tu(e))}:function(e){return null==e?null:tu(e)};break;default:throw Error("unknown method: "+t)}return i=a,n=e.quorum,function(e){let t={};e.forEach(e=>{let r=i(e.result);t[r]||(t[r]={count:0,result:e.result}),t[r].count++});let r=Object.keys(t);for(let e=0;e<r.length;e++){let i=t[r[e]];if(i.count>=n)return i.result}}}(this,e,t),i=(0,tr.shuffled)(this.providerConfigs.map(u.shallowCopy));i.sort((e,t)=>e.priority-t.priority);let n=this._highestBlockNumber,a=0,o=!0;for(;;){let l=ta(),d=i.filter(e=>e.runner&&l-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0);for(;d<this.quorum&&a<i.length;){let r=i[a++],o=tl++;r.start=ta(),r.staller=tc(r.stallTimeout),r.staller.wait(()=>{r.staller=null}),r.runner=(function(e,t,r,i){return ti(this,void 0,void 0,function*(){let n=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return n[r]();case"getEtherPrice":if(n.getEtherPrice)return n.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),n[r](i.address,i.blockTag||"latest");case"getStorageAt":return i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),n.getStorageAt(i.address,i.position,i.blockTag||"latest");case"getBlock":return i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),n[i.includeTransactions?"getBlockWithTransactions":"getBlock"](i.blockTag||i.blockHash);case"call":case"estimateGas":if(i.blockTag&&(0,s.isHexString)(i.blockTag)&&(n=yield th(e,t)),"call"===r&&i.blockTag)return n[r](i.transaction,i.blockTag);return n[r](i.transaction);case"getTransaction":case"getTransactionReceipt":return n[r](i.transactionHash);case"getLogs":{let r=i.filter;return(r.fromBlock&&(0,s.isHexString)(r.fromBlock)||r.toBlock&&(0,s.isHexString)(r.toBlock))&&(n=yield th(e,t)),n.getLogs(r)}}return tn.throwError("unknown method error",c.Logger.errors.UNKNOWN_ERROR,{method:r,params:i})})})(r,n,e,t).then(i=>{r.done=!0,r.result=i,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:tp(r,ta()),request:{method:e,params:(0,u.deepCopy)(t)},provider:this})},i=>{r.done=!0,r.error=i,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:tp(r,ta()),request:{method:e,params:(0,u.deepCopy)(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:o,backend:tp(r,null),request:{method:e,params:(0,u.deepCopy)(t)},provider:this}),d+=r.weight}let f=[];i.forEach(e=>{!e.done&&e.runner&&(f.push(e.runner),e.staller&&f.push(e.staller.getPromise()))}),f.length&&(yield Promise.race(f));let p=i.filter(e=>e.done&&null==e.error);if(p.length>=this.quorum){let e=r(p);if(void 0!==e)return i.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),e;o||(yield tc(100).getPromise()),o=!1}let h=i.reduce((e,t)=>{if(!t.done||null==t.error)return e;let r=t.error.code;return td.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{});if(Object.keys(h).forEach(e=>{let t=h[e];if(t.weight<this.quorum)return;i.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});let r=t.error,n={};tf.forEach(e=>{null!=r[e]&&(n[e]=r[e])}),tn.throwError(r.reason||r.message,e,n)}),0===i.filter(e=>!e.done).length)break}return i.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),tn.throwError("failed to meet quorum",c.Logger.errors.SERVER_ERROR,{method:e,params:t,results:i.map(e=>tp(e)),provider:this})})}}let tg=new c.Logger(J),tb="84842078b09946638c03157f83405213";class ty extends ej{constructor(e,t){const r=new tx(e,t),i=r.connection;i.password&&tg.throwError("INFURA WebSocket project secrets unsupported",c.Logger.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"}),super(i.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),(0,u.defineReadOnly)(this,"apiKey",r.projectId),(0,u.defineReadOnly)(this,"projectId",r.projectId),(0,u.defineReadOnly)(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===tb}}class tx extends eX{static getWebSocketProvider(e,t){return new ty(e,t)}static getApiKey(e){let t={apiKey:tb,projectId:tb,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(tg.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),tg.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"goerli":r="goerli.infura.io";break;case"sepolia":r="sepolia.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-goerli":r="optimism-goerli.infura.io";break;case"optimism-sepolia":r="optimism-sepolia.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":r="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":r="arbitrum-sepolia.infura.io";break;default:tg.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===tb&&er(),Promise.resolve(!0))};return null!=t.projectSecret&&(i.user="",i.password=t.projectSecret),i}isCommunityResource(){return this.projectId===tb}}class tA extends eq{send(e,t){let r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);let i={request:r,resolve:null,reject:null},n=new Promise((e,t)=>{i.resolve=e,i.reject=t});return this._pendingBatch.push(i),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{let e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;let t=e.map(e=>e.request);return this.emit("debug",{action:"requestBatch",request:(0,u.deepCopy)(t),provider:this}),(0,X.fetchJson)(this.connection,JSON.stringify(t)).then(r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach((e,t)=>{let i=r[t];if(i.error){let t=Error(i.error.message);t.code=i.error.code,t.data=i.error.data,e.reject(t)}else e.resolve(i.result)})},r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach(e=>{e.reject(r)})})},10)),n}}let tw=new c.Logger(J);class tv extends eX{static getApiKey(e){return e&&"string"!=typeof e&&tw.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){tw.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:tw.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}let tS=new c.Logger(J),tk="62e1ad51b37b8e00394bda3b";class tT extends eX{static getApiKey(e){let t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return null==e?t.applicationId=tk:"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:tS.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"goerli":r="eth-goerli.gateway.pokt.network";break;case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"kovan":r="poa-kovan.gateway.pokt.network";break;case"matic":r="poly-mainnet.gateway.pokt.network";break;case"maticmum":r="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;default:tS.throwError("unsupported network",c.Logger.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let i={headers:{},url:`https://${r}/v1/lb/${t.applicationId}`};return null!=t.applicationSecretKey&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===tk}}let tE=new c.Logger(J);class tP extends eX{static getApiKey(e){return e&&"string"!=typeof e&&tE.throwArgumentError("invalid apiKey","apiKey",e),e||"919b412a057b5e9c9b6dce193c5a60242d6efadb"}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="ethers.quiknode.pro";break;case"goerli":r="ethers.ethereum-goerli.quiknode.pro";break;case"sepolia":r="ethers.ethereum-sepolia.quiknode.pro";break;case"holesky":r="ethers.ethereum-holesky.quiknode.pro";break;case"arbitrum":r="ethers.arbitrum-mainnet.quiknode.pro";break;case"arbitrum-goerli":r="ethers.arbitrum-goerli.quiknode.pro";break;case"arbitrum-sepolia":r="ethers.arbitrum-sepolia.quiknode.pro";break;case"base":r="ethers.base-mainnet.quiknode.pro";break;case"base-goerli":r="ethers.base-goerli.quiknode.pro";break;case"base-spolia":r="ethers.base-sepolia.quiknode.pro";break;case"bnb":r="ethers.bsc.quiknode.pro";break;case"bnbt":r="ethers.bsc-testnet.quiknode.pro";break;case"matic":r="ethers.matic.quiknode.pro";break;case"maticmum":r="ethers.matic-testnet.quiknode.pro";break;case"optimism":r="ethers.optimism.quiknode.pro";break;case"optimism-goerli":r="ethers.optimism-goerli.quiknode.pro";break;case"optimism-sepolia":r="ethers.optimism-sepolia.quiknode.pro";break;case"xdai":r="ethers.xdai.quiknode.pro";break;default:tE.throwArgumentError("unsupported network","network",arguments[0])}return"https://"+r+"/"+t}}let tI=new c.Logger(J),t_=1;function tN(e,t){let r="Web3LegacyFetcher";return function(e,i){let n={method:e,params:i,id:t_++,jsonrpc:"2.0"};return new Promise((e,i)=>{this.emit("debug",{action:"request",fetcher:r,request:(0,u.deepCopy)(n),provider:this}),t(n,(t,a)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:n,provider:this}),i(t);if(this.emit("debug",{action:"response",fetcher:r,request:n,response:a,provider:this}),a.error){let e=Error(a.error.message);return e.code=a.error.code,e.data=a.error.data,i(e)}e(a.result)})})}}class tR extends eq{constructor(e,t){null==e&&tI.throwArgumentError("missing provider","provider",e);let r=null,i=null,n=null;if("function"==typeof e)r="unknown:",i=e;else{if((r=e.host||e.path||"")||!e.isMetaMask||(r="metamask"),n=e,e.request)""===r&&(r="eip-1193:"),i=function(t,r){null==r&&(r=[]);let i={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:(0,u.deepCopy)(i),provider:this}),e.request(i).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:e,provider:this}),e})};else e.sendAsync?i=tN(e,e.sendAsync.bind(e)):e.send?i=tN(e,e.send.bind(e)):tI.throwArgumentError("unsupported provider","provider",e);r||(r="unknown:")}super(r,t),(0,u.defineReadOnly)(this,"jsonRpcFetchFunc",i),(0,u.defineReadOnly)(this,"provider",n)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}let tO=new c.Logger(J);function tB(e,t){if(null==e&&(e="homestead"),"string"==typeof e){let t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1].toLowerCase()){case"http":case"https":return new eq(e);case"ws":case"wss":return new ej(e);default:tO.throwArgumentError("unsupported URL scheme","network",e)}}let r=K(e);return r&&r._defaultProvider||tO.throwError("unsupported getDefaultProvider network",c.Logger.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:tm,AlchemyProvider:eZ,AnkrProvider:e1,CloudflareProvider:e4,EtherscanProvider:tt,InfuraProvider:tx,JsonRpcProvider:eq,NodesmithProvider:tv,PocketProvider:tT,QuickNodeProvider:tP,Web3Provider:tR,IpcProvider:null},t)}e.s(["getDefaultProvider",()=>tB],426428),e.i(426428),e.s(["AlchemyProvider",()=>eZ,"AlchemyWebSocketProvider",()=>eY,"AnkrProvider",()=>e1,"BaseProvider",()=>eT,"CloudflareProvider",()=>e4,"EtherscanProvider",()=>tt,"FallbackProvider",()=>tm,"Formatter",()=>Z,"InfuraProvider",()=>tx,"InfuraWebSocketProvider",()=>ty,"IpcProvider",()=>null,"JsonRpcBatchProvider",()=>tA,"JsonRpcProvider",()=>eq,"JsonRpcSigner",()=>eU,"NodesmithProvider",()=>tv,"PocketProvider",()=>tT,"Provider",()=>i.Provider,"QuickNodeProvider",()=>tP,"Resolver",()=>ev,"StaticJsonRpcProvider",()=>eH,"UrlJsonRpcProvider",()=>eX,"Web3Provider",()=>tR,"WebSocketProvider",()=>ej,"getDefaultProvider",()=>tB,"getNetwork",()=>K,"isCommunityResourcable",()=>$,"isCommunityResource",()=>ee,"showThrottleMessage",()=>er],98400);var tC=e.i(98400),tD=e.i(422955),tF=e.i(309302),tU=e.i(144180),tM=e.i(791078),tL=e.i(630759),tq=e.i(142621),tK=e.i(83090),tW=e.i(891368),tV=e.i(407351),tG=e.i(447172),tj=e.i(575111),tz=e.i(666843),tH=e.i(222223),tX=e.i(346469),tQ=e.i(299797),tJ=e.i(812196),tY=e.i(299697),tZ=e.i(691846);e.s([],27392),e.i(27392),e.s(["AbiCoder",()=>tU.AbiCoder,"ConstructorFragment",()=>tM.ConstructorFragment,"ErrorFragment",()=>tM.ErrorFragment,"EventFragment",()=>tM.EventFragment,"FormatTypes",()=>tM.FormatTypes,"Fragment",()=>tM.Fragment,"FunctionFragment",()=>tM.FunctionFragment,"HDNode",()=>tW.HDNode,"Indexed",()=>r.Indexed,"Interface",()=>r.Interface,"LogDescription",()=>r.LogDescription,"Logger",()=>c.Logger,"ParamType",()=>tM.ParamType,"RLP",0,tH,"SigningKey",()=>tX.SigningKey,"SupportedAlgorithm",()=>tZ.SupportedAlgorithm,"TransactionDescription",()=>r.TransactionDescription,"TransactionTypes",()=>l.TransactionTypes,"UnicodeNormalizationForm",()=>H.UnicodeNormalizationForm,"Utf8ErrorFuncs",()=>H.Utf8ErrorFuncs,"Utf8ErrorReason",()=>H.Utf8ErrorReason,"_TypedDataEncoder",()=>eP._TypedDataEncoder,"_fetchData",()=>X._fetchData,"_toEscapedUtf8String",()=>H._toEscapedUtf8String,"accessListify",()=>l.accessListify,"arrayify",()=>s.arrayify,"base58",()=>G.Base58,"base64",0,tL,"checkProperties",()=>u.checkProperties,"checkResultErrors",()=>t.checkResultErrors,"commify",()=>tY.commify,"computeAddress",()=>l.computeAddress,"computeHmac",()=>z.computeHmac,"computePublicKey",()=>tX.computePublicKey,"concat",()=>s.concat,"deepCopy",()=>u.deepCopy,"defaultAbiCoder",()=>tU.defaultAbiCoder,"defaultPath",()=>tW.defaultPath,"defineReadOnly",()=>u.defineReadOnly,"dnsEncode",()=>j.dnsEncode,"entropyToMnemonic",()=>tW.entropyToMnemonic,"fetchJson",()=>X.fetchJson,"formatBytes32String",()=>tQ.formatBytes32String,"formatEther",()=>tY.formatEther,"formatUnits",()=>tY.formatUnits,"getAccountPath",()=>tW.getAccountPath,"getAddress",()=>a.getAddress,"getContractAddress",()=>a.getContractAddress,"getCreate2Address",()=>a.getCreate2Address,"getIcapAddress",()=>a.getIcapAddress,"getJsonWalletAddress",()=>tV.getJsonWalletAddress,"getStatic",()=>u.getStatic,"hashMessage",()=>tq.hashMessage,"hexConcat",()=>s.hexConcat,"hexDataLength",()=>s.hexDataLength,"hexDataSlice",()=>s.hexDataSlice,"hexStripZeros",()=>s.hexStripZeros,"hexValue",()=>s.hexValue,"hexZeroPad",()=>s.hexZeroPad,"hexlify",()=>s.hexlify,"id",()=>tK.id,"isAddress",()=>a.isAddress,"isBytes",()=>s.isBytes,"isBytesLike",()=>s.isBytesLike,"isHexString",()=>s.isHexString,"isValidMnemonic",()=>tW.isValidMnemonic,"isValidName",()=>j.isValidName,"joinSignature",()=>s.joinSignature,"keccak256",()=>tG.keccak256,"mnemonicToEntropy",()=>tW.mnemonicToEntropy,"mnemonicToSeed",()=>tW.mnemonicToSeed,"namehash",()=>j.namehash,"nameprep",()=>tJ.nameprep,"parseBytes32String",()=>tQ.parseBytes32String,"parseEther",()=>tY.parseEther,"parseTransaction",()=>l.parse,"parseUnits",()=>tY.parseUnits,"poll",()=>X.poll,"randomBytes",()=>tz.randomBytes,"recoverAddress",()=>l.recoverAddress,"recoverPublicKey",()=>tX.recoverPublicKey,"resolveProperties",()=>u.resolveProperties,"ripemd160",()=>z.ripemd160,"serializeTransaction",()=>l.serialize,"sha256",()=>z.sha256,"sha512",()=>z.sha512,"shallowCopy",()=>u.shallowCopy,"shuffled",()=>tr.shuffled,"solidityKeccak256",()=>tj.keccak256,"solidityPack",()=>tj.pack,"soliditySha256",()=>tj.sha256,"splitSignature",()=>s.splitSignature,"stripZeros",()=>s.stripZeros,"toUtf8Bytes",()=>H.toUtf8Bytes,"toUtf8CodePoints",()=>H.toUtf8CodePoints,"toUtf8String",()=>H.toUtf8String,"verifyMessage",()=>_.verifyMessage,"verifyTypedData",()=>_.verifyTypedData,"zeroPad",()=>s.zeroPad],167276);var t$=e.i(167276);let t0="ethers/5.8.0";e.s(["version",0,t0],82930);let t1=new c.Logger(t0);e.s(["logger",()=>t1],859665),e.i(859665),e.s(["BaseContract",()=>T,"BigNumber",()=>o.BigNumber,"Contract",()=>E,"ContractFactory",()=>P,"FixedNumber",()=>I.FixedNumber,"Signer",()=>n.Signer,"VoidSigner",()=>n.VoidSigner,"Wallet",()=>_.Wallet,"Wordlist",()=>tD.Wordlist,"constants",0,B,"errors",()=>c.ErrorCode,"getDefaultProvider",()=>tB,"logger",()=>t1,"providers",0,tC,"utils",0,t$,"version",0,t0,"wordlists",()=>tF.wordlists],685648)},819090,e=>{"use strict";var t=e.i(11778);e.s(["constants",0,t])},851694,e=>{"use strict";var t=e.i(685648);try{let e=window;null==e._ethers&&(e._ethers=t)}catch(e){}e.s([],823172),e.i(823172);var r=e.i(90413),i=e.i(508663),n=e.i(426428),a=e.i(98400),a=a,o=e.i(992216),s=e.i(839341),u=e.i(382312),l=e.i(819090),c=e.i(875353),c=c,d=e.i(859665),f=e.i(167276),f=f,p=e.i(309302),h=e.i(82930),m=e.i(422955);e.s(["BaseContract",()=>o.BaseContract,"BigNumber",()=>s.BigNumber,"Contract",()=>o.Contract,"ContractFactory",()=>o.ContractFactory,"FixedNumber",()=>u.FixedNumber,"Signer",()=>r.Signer,"VoidSigner",()=>r.VoidSigner,"Wallet",()=>i.Wallet,"Wordlist",()=>m.Wordlist,"constants",()=>l.constants,"errors",()=>c.ErrorCode,"ethers",0,t,"getDefaultProvider",()=>n.getDefaultProvider,"logger",()=>d.logger,"providers",()=>a,"utils",()=>f,"version",()=>h.version,"wordlists",()=>p.wordlists],851694)},477912,(e,t,r)=>{e.e,t.exports=function(){"use strict";var e=Math.imul,t=Math.clz32,r=Math.abs,i=Math.max,n=Math.floor;class a extends Array{constructor(e,t){if(super(e),this.sign=t,e>a.__kMaxLength)throw RangeError("Maximum BigInt size exceeded")}static BigInt(e){var t=Number.isFinite;if("number"==typeof e){if(0===e)return a.__zero();if(a.__isOneDigitInt(e))return 0>e?a.__oneDigit(-e,!0):a.__oneDigit(e,!1);if(!t(e)||n(e)!==e)throw RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(e)}if("string"==typeof e){let t=a.__fromString(e);if(null===t)throw SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?a.__oneDigit(1,!1):a.__zero();if("object"==typeof e){if(e.constructor===a)return e;let t=a.__toPrimitive(e);return a.BigInt(t)}throw TypeError("Cannot convert "+e+" to a BigInt")}toDebugString(){let e=["BigInt["];for(let t of this)e.push((t?(t>>>0).toString(16):t)+", ");return e.push("]"),e.join("")}toString(e=10){if(2>e||36<e)throw RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?a.__toStringBasePowerOfTwo(this,e):a.__toStringGeneric(this,e,!1)}static toNumber(e){let t=e.length;if(0===t)return 0;if(1===t){let t=e.__unsignedDigit(0);return e.sign?-t:t}let r=e.__digit(t-1),i=a.__clz30(r),n=30*t-i;if(1024<n)return e.sign?-1/0:1/0;let o=n-1,s=r,u=t-1,l=i+3,c=32===l?0:s<<l;c>>>=12;let d=l-12,f=12<=l?0:s<<20+l,p=20+l;for(0<d&&0<u&&(u--,c|=(s=e.__digit(u))>>>30-d,f=s<<d+2,p=d+2);0<p&&0<u;)u--,s=e.__digit(u),f|=30<=p?s<<p-30:s>>>30-p,p-=30;let h=a.__decideRounding(e,p,u,s);if((1===h||0===h&&1==(1&f))&&0==(f=f+1>>>0)&&0!=++c>>>20&&(c=0,1023<++o))return e.sign?-1/0:1/0;let m=e.sign?-0x80000000:0;return o=o+1023<<20,a.__kBitConversionInts[1]=m|o|c,a.__kBitConversionInts[0]=f,a.__kBitConversionDouble[0]}static unaryMinus(e){if(0===e.length)return e;let t=e.__copy();return t.sign=!e.sign,t}static bitwiseNot(e){return e.sign?a.__absoluteSubOne(e).__trim():a.__absoluteAddOne(e,!0)}static exponentiate(e,t){if(t.sign)throw RangeError("Exponent must be positive");if(0===t.length)return a.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?a.unaryMinus(e):e;if(1<t.length)throw RangeError("BigInt too big");let r=t.__unsignedDigit(0);if(1===r)return e;if(r>=a.__kMaxLengthBits)throw RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){let t=1+(0|r/30),i=new a(t,e.sign&&0!=(1&r));i.__initializeDigits();let n=1<<r%30;return i.__setDigit(t-1,n),i}let i=null,n=e;for(0!=(1&r)&&(i=e),r>>=1;0!==r;r>>=1)n=a.multiply(n,n),0!=(1&r)&&(i=null===i?n:a.multiply(i,n));return i}static multiply(e,t){if(0===e.length)return e;if(0===t.length)return t;let r=e.length+t.length;30<=e.__clzmsd()+t.__clzmsd()&&r--;let i=new a(r,e.sign!==t.sign);i.__initializeDigits();for(let r=0;r<e.length;r++)a.__multiplyAccumulate(t,e.__digit(r),i,r);return i.__trim()}static divide(e,t){let r;if(0===t.length)throw RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return a.__zero();let i=e.sign!==t.sign,n=t.__unsignedDigit(0);if(1===t.length&&32767>=n){if(1===n)return i===e.sign?e:a.unaryMinus(e);r=a.__absoluteDivSmall(e,n,null)}else r=a.__absoluteDivLarge(e,t,!0,!1);return r.sign=i,r.__trim()}static remainder(e,t){if(0===t.length)throw RangeError("Division by zero");if(0>a.__absoluteCompare(e,t))return e;let r=t.__unsignedDigit(0);if(1===t.length&&32767>=r){if(1===r)return a.__zero();let t=a.__absoluteModSmall(e,r);return 0===t?a.__zero():a.__oneDigit(t,e.sign)}let i=a.__absoluteDivLarge(e,t,!1,!0);return i.sign=e.sign,i.__trim()}static add(e,t){let r=e.sign;return r===t.sign?a.__absoluteAdd(e,t,r):0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r)}static subtract(e,t){let r=e.sign;return r===t.sign?0<=a.__absoluteCompare(e,t)?a.__absoluteSub(e,t,r):a.__absoluteSub(t,e,!r):a.__absoluteAdd(e,t,r)}static leftShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__rightShiftByAbsolute(e,t):a.__leftShiftByAbsolute(e,t)}static signedRightShift(e,t){return 0===t.length||0===e.length?e:t.sign?a.__leftShiftByAbsolute(e,t):a.__rightShiftByAbsolute(e,t)}static unsignedRightShift(){throw TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(e,t){return 0>a.__compareToBigInt(e,t)}static lessThanOrEqual(e,t){return 0>=a.__compareToBigInt(e,t)}static greaterThan(e,t){return 0<a.__compareToBigInt(e,t)}static greaterThanOrEqual(e,t){return 0<=a.__compareToBigInt(e,t)}static equal(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}static notEqual(e,t){return!a.equal(e,t)}static bitwiseAnd(e,t){if(!e.sign&&!t.sign)return a.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){let r=i(e.length,t.length)+1,n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return n=a.__absoluteOr(n,o,n),a.__absoluteAddOne(n,!0,n).__trim()}return e.sign&&([e,t]=[t,e]),a.__absoluteAndNot(e,a.__absoluteSubOne(t)).__trim()}static bitwiseXor(e,t){if(!e.sign&&!t.sign)return a.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){let r=i(e.length,t.length),n=a.__absoluteSubOne(e,r),o=a.__absoluteSubOne(t);return a.__absoluteXor(n,o,n).__trim()}let r=i(e.length,t.length)+1;e.sign&&([e,t]=[t,e]);let n=a.__absoluteSubOne(t,r);return n=a.__absoluteXor(n,e,n),a.__absoluteAddOne(n,!0,n).__trim()}static bitwiseOr(e,t){let r=i(e.length,t.length);if(!e.sign&&!t.sign)return a.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){let i=a.__absoluteSubOne(e,r),n=a.__absoluteSubOne(t);return i=a.__absoluteAnd(i,n,i),a.__absoluteAddOne(i,!0,i).__trim()}e.sign&&([e,t]=[t,e]);let n=a.__absoluteSubOne(t,r);return n=a.__absoluteAndNot(n,e,n),a.__absoluteAddOne(n,!0,n).__trim()}static asIntN(e,t){if(0===t.length)return t;if(0>(e=n(e)))throw RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(e>=a.__kMaxLengthBits)return t;let r=0|(e+29)/30;if(t.length<r)return t;let i=t.__unsignedDigit(r-1),o=1<<(e-1)%30;if(t.length===r&&i<o)return t;if((i&o)!==o)return a.__truncateToNBits(e,t);if(!t.sign)return a.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0==(i&o-1)){for(let i=r-2;0<=i;i--)if(0!==t.__digit(i))return a.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&i===o?t:a.__truncateToNBits(e,t)}return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}static asUintN(e,t){if(0===t.length)return t;if(0>(e=n(e)))throw RangeError("Invalid value: not (convertible to) a safe integer");if(0===e)return a.__zero();if(t.sign){if(e>a.__kMaxLengthBits)throw RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=a.__kMaxLengthBits)return t;let r=0|(e+29)/30;if(t.length<r)return t;let i=e%30;return t.length==r&&(0===i||0==t.__digit(r-1)>>>i)?t:a.__truncateToNBits(e,t)}static ADD(e,t){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)&&a.__isBigInt(t))return a.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(e,t){return a.__compare(e,t,0)}static LE(e,t){return a.__compare(e,t,1)}static GT(e,t){return a.__compare(e,t,2)}static GE(e,t){return a.__compare(e,t,3)}static EQ(e,t){for(;;){if(a.__isBigInt(e))return a.__isBigInt(t)?a.equal(e,t):a.EQ(t,e);if("number"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("string"==typeof e){if(a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.equal(e,t);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("boolean"==typeof e){if(a.__isBigInt(t))return a.__equalToNumber(t,+e);if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else if("symbol"==typeof e){if(a.__isBigInt(t))return!1;if("object"!=typeof t)return e==t;t=a.__toPrimitive(t)}else{if("object"!=typeof e||"object"==typeof t&&t.constructor!==a)return e==t;e=a.__toPrimitive(e)}}}static NE(e,t){return!a.EQ(e,t)}static __zero(){return new a(0,!1)}static __oneDigit(e,t){let r=new a(1,t);return r.__setDigit(0,e),r}__copy(){let e=new a(this.length,this.sign);for(let t=0;t<this.length;t++)e[t]=this[t];return e}__trim(){let e=this.length,t=this[e-1];for(;0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}__initializeDigits(){for(let e=0;e<this.length;e++)this[e]=0}static __decideRounding(e,t,r,i){let n;if(0<t)return -1;if(0>t)n=-t-1;else{if(0===r)return -1;r--,i=e.__digit(r),n=29}let a=1<<n;if(0==(i&a))return -1;if(a-=1,0!=(i&a))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}static __fromDouble(e){a.__kBitConversionDouble[0]=e;let t=(2047&a.__kBitConversionInts[1]>>>20)-1023,r=(0|t/30)+1,i=new a(r,0>e),n=1048575&a.__kBitConversionInts[1]|1048576,o=a.__kBitConversionInts[0],s=t%30,u,l=0;if(20>s){let e=20-s;l=e+32,u=n>>>e,n=n<<32-e|o>>>e,o<<=32-e}else if(20===s)l=32,u=n,n=o,o=0;else{let e=s-20;l=32-e,u=n<<e|o>>>32-e,n=o<<e,o=0}i.__setDigit(r-1,u);for(let e=r-2;0<=e;e--)0<l?(l-=30,u=n>>>2,n=n<<30|o>>>2,o<<=30):u=0,i.__setDigit(e,u);return i.__trim()}static __isWhitespace(e){return!!(13>=e&&9<=e)||(159>=e?32==e:131071>=e?160==e||5760==e:196607>=e?10>=(e&=131071)||40==e||41==e||47==e||95==e||4096==e:65279==e)}static __fromString(e,t=0){let r=0,i=e.length,n=0;if(0===i)return a.__zero();let o=e.charCodeAt(n);for(;a.__isWhitespace(o);){if(++n===i)return a.__zero();o=e.charCodeAt(n)}if(43===o){if(++n===i)return null;o=e.charCodeAt(n),r=1}else if(45===o){if(++n===i)return null;o=e.charCodeAt(n),r=-1}if(0===t){if(t=10,48===o){if(++n===i)return a.__zero();if(88===(o=e.charCodeAt(n))||120===o){if(t=16,++n===i)return null;o=e.charCodeAt(n)}else if(79===o||111===o){if(t=8,++n===i)return null;o=e.charCodeAt(n)}else if(66===o||98===o){if(t=2,++n===i)return null;o=e.charCodeAt(n)}}}else if(16===t&&48===o){if(++n===i)return a.__zero();if(88===(o=e.charCodeAt(n))||120===o){if(++n===i)return null;o=e.charCodeAt(n)}}if(0!=r&&10!==t)return null;for(;48===o;){if(++n===i)return a.__zero();o=e.charCodeAt(n)}let s=i-n,u=a.__kMaxBitsPerChar[t],l=a.__kBitsPerCharTableMultiplier-1;if(s>0x40000000/u)return null;let c=u*s+l>>>a.__kBitsPerCharTableShift,d=new a(0|(c+29)/30,!1),f=10>t?t:10,p=10<t?t-10:0;if(0==(t&t-1)){u>>=a.__kBitsPerCharTableShift;let t=[],r=[],s=!1;do{let a=0,l=0;for(;;){let t;if(o-48>>>0<f)t=o-48;else if((32|o)-97>>>0<p)t=(32|o)-87;else{s=!0;break}if(l+=u,a=a<<u|t,++n===i){s=!0;break}if(o=e.charCodeAt(n),30<l+u)break}t.push(a),r.push(l)}while(!s)a.__fillFromParts(d,t,r)}else{d.__initializeDigits();let r=!1,s=0;do{let c=0,h=1;for(;;){let a;if(o-48>>>0<f)a=o-48;else if((32|o)-97>>>0<p)a=(32|o)-87;else{r=!0;break}let u=h*t;if(0x3fffffff<u)break;if(h=u,c=c*t+a,s++,++n===i){r=!0;break}o=e.charCodeAt(n)}let m=0|(u*s+(l=30*a.__kBitsPerCharTableMultiplier-1)>>>a.__kBitsPerCharTableShift)/30;d.__inplaceMultiplyAdd(h,c,m)}while(!r)}if(n!==i){if(!a.__isWhitespace(o))return null;for(n++;n<i;n++)if(o=e.charCodeAt(n),!a.__isWhitespace(o))return null}return d.sign=-1==r,d.__trim()}static __fillFromParts(e,t,r){let i=0,n=0,a=0;for(let o=t.length-1;0<=o;o--){let s=t[o],u=r[o];n|=s<<a,30===(a+=u)?(e.__setDigit(i++,n),a=0,n=0):30<a&&(e.__setDigit(i++,0x3fffffff&n),a-=30,n=s>>>u-a)}if(0!==n){if(i>=e.length)throw Error("implementation bug");e.__setDigit(i++,n)}for(;i<e.length;i++)e.__setDigit(i,0)}static __toStringBasePowerOfTwo(e,t){let r=e.length,i=t-1,n=i=(15&(i=(51&(i=(85&i>>>1)+(85&i))>>>2)+(51&i))>>>4)+(15&i),o=t-1,s=e.__digit(r-1),u=0|(30*r-a.__clz30(s)+n-1)/n;if(e.sign&&u++,0x10000000<u)throw Error("string too long");let l=Array(u),c=u-1,d=0,f=0;for(let t=0;t<r-1;t++){let r=e.__digit(t),i=(d|r<<f)&o;l[c--]=a.__kConversionChars[i];let s=n-f;for(d=r>>>s,f=30-s;f>=n;)l[c--]=a.__kConversionChars[d&o],d>>>=n,f-=n}let p=(d|s<<f)&o;for(l[c--]=a.__kConversionChars[p],d=s>>>n-f;0!==d;)l[c--]=a.__kConversionChars[d&o],d>>>=n;if(e.sign&&(l[c--]="-"),-1!=c)throw Error("implementation bug");return l.join("")}static __toStringGeneric(e,t,r){let i,n,o=e.length;if(0===o)return"";if(1===o){let i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}let s=30*o-a.__clz30(e.__digit(o-1)),u=a.__kMaxBitsPerChar[t]-1,l=s*a.__kBitsPerCharTableMultiplier;l+=u-1;let c=(l=0|l/u)+1>>1,d=a.exponentiate(a.__oneDigit(t,!1),a.__oneDigit(c,!1)),f=d.__unsignedDigit(0);if(1===d.length&&32767>=f){(i=new a(e.length,!1)).__initializeDigits();let r=0;for(let t=2*e.length-1;0<=t;t--){let n=r<<15|e.__halfDigit(t);i.__setHalfDigit(t,0|n/f),r=0|n%f}n=r.toString(t)}else{let r=a.__absoluteDivLarge(e,d,!0,!0);i=r.quotient;let o=r.remainder.__trim();n=a.__toStringGeneric(o,t,!0)}i.__trim();let p=a.__toStringGeneric(i,t,!0);for(;n.length<c;)n="0"+n;return!1===r&&e.sign&&(p="-"+p),p+n}static __unequalSign(e){return e?-1:1}static __absoluteGreater(e){return e?-1:1}static __absoluteLess(e){return e?1:-1}static __compareToBigInt(e,t){let r=e.sign;if(r!==t.sign)return a.__unequalSign(r);let i=a.__absoluteCompare(e,t);return 0<i?a.__absoluteGreater(r):0>i?a.__absoluteLess(r):0}static __compareToNumber(e,t){if(a.__isOneDigitInt(t)){let i=e.sign,n=0>t;if(i!==n)return a.__unequalSign(i);if(0===e.length){if(n)throw Error("implementation bug");return 0===t?0:-1}if(1<e.length)return a.__absoluteGreater(i);let o=r(t),s=e.__unsignedDigit(0);return s>o?a.__absoluteGreater(i):s<o?a.__absoluteLess(i):0}return a.__compareToDouble(e,t)}static __compareToDouble(e,t){if(t!=t)return t;if(t===1/0)return -1;if(t===-1/0)return 1;let r=e.sign;if(r!==0>t)return a.__unequalSign(r);if(0===t)throw Error("implementation bug: should be handled elsewhere");if(0===e.length)return -1;a.__kBitConversionDouble[0]=t;let i=2047&a.__kBitConversionInts[1]>>>20;if(2047==i)throw Error("implementation bug: handled elsewhere");let n=i-1023;if(0>n)return a.__absoluteGreater(r);let o=e.length,s=e.__digit(o-1),u=a.__clz30(s),l=30*o-u,c=n+1;if(l<c)return a.__absoluteLess(r);if(l>c)return a.__absoluteGreater(r);let d=1048576|1048575&a.__kBitConversionInts[1],f=a.__kBitConversionInts[0],p=29-u;if(p!==(0|(l-1)%30))throw Error("implementation bug");let h,m=0;if(20>p){let e=20-p;m=e+32,h=d>>>e,d=d<<32-e|f>>>e,f<<=32-e}else if(20===p)m=32,h=d,d=f,f=0;else{let e=p-20;m=32-e,h=d<<e|f>>>32-e,d=f<<e,f=0}if((s>>>=0)>(h>>>=0))return a.__absoluteGreater(r);if(s<h)return a.__absoluteLess(r);for(let t=o-2;0<=t;t--){0<m?(m-=30,h=d>>>2,d=d<<30|f>>>2,f<<=30):h=0;let i=e.__unsignedDigit(t);if(i>h)return a.__absoluteGreater(r);if(i<h)return a.__absoluteLess(r)}if(0!==d||0!==f){if(0===m)throw Error("implementation bug");return a.__absoluteLess(r)}return 0}static __equalToNumber(e,t){return a.__isOneDigitInt(t)?0===t?0===e.length:1===e.length&&e.sign===0>t&&e.__unsignedDigit(0)===r(t):0===a.__compareToDouble(e,t)}static __comparisonResultToBool(e,t){return 0===t?0>e:1===t?0>=e:2===t?0<e:3===t?0<=e:void 0}static __compare(e,t,r){if(e=a.__toPrimitive(e),t=a.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(a.__isBigInt(e)&&"string"==typeof t)return null!==(t=a.__fromString(t))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("string"==typeof e&&a.__isBigInt(t))return null!==(e=a.__fromString(e))&&a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if(e=a.__toNumeric(e),t=a.__toNumeric(t),a.__isBigInt(e)){if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToBigInt(e,t),r);if("number"!=typeof t)throw Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(e,t),r)}if("number"!=typeof e)throw Error("implementation bug");if(a.__isBigInt(t))return a.__comparisonResultToBool(a.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?e>t:3===r?e>=t:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(e,t,r){if(e.length<t.length)return a.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);let i=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&i++;let n=new a(i,r),o=0,s=0;for(;s<t.length;s++){let r=e.__digit(s)+t.__digit(s)+o;o=r>>>30,n.__setDigit(s,0x3fffffff&r)}for(;s<e.length;s++){let t=e.__digit(s)+o;o=t>>>30,n.__setDigit(s,0x3fffffff&t)}return s<n.length&&n.__setDigit(s,o),n.__trim()}static __absoluteSub(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:a.unaryMinus(e);let i=new a(e.length,r),n=0,o=0;for(;o<t.length;o++){let r=e.__digit(o)-t.__digit(o)-n;n=1&r>>>30,i.__setDigit(o,0x3fffffff&r)}for(;o<e.length;o++){let t=e.__digit(o)-n;n=1&t>>>30,i.__setDigit(o,0x3fffffff&t)}return i.__trim()}static __absoluteAddOne(e,t,r=null){let i=e.length;null===r?r=new a(i,t):r.sign=t;let n=1;for(let t=0;t<i;t++){let i=e.__digit(t)+n;n=i>>>30,r.__setDigit(t,0x3fffffff&i)}return 0!=n&&r.__setDigitGrow(i,1),r}static __absoluteSubOne(e,t){let r=e.length,i=new a(t=t||r,!1),n=1;for(let t=0;t<r;t++){let r=e.__digit(t)-n;n=1&r>>>30,i.__setDigit(t,0x3fffffff&r)}if(0!=n)throw Error("implementation bug");for(let e=r;e<t;e++)i.__setDigit(e,0);return i}static __absoluteAnd(e,t,r=null){let i=e.length,n=t.length,o=n;if(i<n){o=i;let r=e,a=i;e=t,i=n,t=r,n=a}let s=o;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteAndNot(e,t,r=null){let i=e.length,n=t.length,o=n;i<n&&(o=i);let s=i;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)&~t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteOr(e,t,r=null){let i=e.length,n=t.length,o=n;if(i<n){o=i;let r=e,a=i;e=t,i=n,t=r,n=a}let s=i;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteXor(e,t,r=null){let i=e.length,n=t.length,o=n;if(i<n){o=i;let r=e,a=i;e=t,i=n,t=r,n=a}let s=i;null===r?r=new a(s,!1):s=r.length;let u=0;for(;u<o;u++)r.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<i;u++)r.__setDigit(u,e.__digit(u));for(;u<s;u++)r.__setDigit(u,0);return r}static __absoluteCompare(e,t){let r=e.length-t.length;if(0!=r)return r;let i=e.length-1;for(;0<=i&&e.__digit(i)===t.__digit(i);)i--;return 0>i?0:e.__unsignedDigit(i)>t.__unsignedDigit(i)?1:-1}static __multiplyAccumulate(e,t,r,i){if(0===t)return;let n=32767&t,o=t>>>15,s=0,u=0;for(let t,l=0;l<e.length;l++,i++){t=r.__digit(i);let c=e.__digit(l),d=32767&c,f=c>>>15,p=a.__imul(d,n),h=a.__imul(d,o),m=a.__imul(f,n),g=a.__imul(f,o);t+=u+p+s,s=t>>>30,t&=0x3fffffff,t+=((32767&h)<<15)+((32767&m)<<15),s+=t>>>30,u=g+(h>>>15)+(m>>>15),r.__setDigit(i,0x3fffffff&t)}for(;0!=s||0!==u;i++){let e=r.__digit(i);e+=s+u,u=0,s=e>>>30,r.__setDigit(i,0x3fffffff&e)}}static __internalMultiplyAdd(e,t,r,i,n){let o=r,s=0;for(let r=0;r<i;r++){let i=e.__digit(r),u=a.__imul(32767&i,t),l=a.__imul(i>>>15,t),c=u+((32767&l)<<15)+s+o;o=c>>>30,s=l>>>15,n.__setDigit(r,0x3fffffff&c)}if(n.length>i)for(n.__setDigit(i++,o+s);i<n.length;)n.__setDigit(i++,0);else if(0!==o+s)throw Error("implementation bug")}__inplaceMultiplyAdd(e,t,r){r>this.length&&(r=this.length);let i=32767&e,n=e>>>15,o=0,s=t;for(let e=0;e<r;e++){let t=this.__digit(e),r=32767&t,u=t>>>15,l=a.__imul(r,i),c=a.__imul(r,n),d=a.__imul(u,i),f=a.__imul(u,n),p=s+l+o;o=p>>>30,p&=0x3fffffff,p+=((32767&c)<<15)+((32767&d)<<15),o+=p>>>30,s=f+(c>>>15)+(d>>>15),this.__setDigit(e,0x3fffffff&p)}if(0!=o||0!==s)throw Error("implementation bug")}static __absoluteDivSmall(e,t,r=null){null===r&&(r=new a(e.length,!1));let i=0;for(let n,a=2*e.length-1;0<=a;a-=2){let o=0|(n=(i<<15|e.__halfDigit(a))>>>0)/t,s=0|(n=((i=0|n%t)<<15|e.__halfDigit(a-1))>>>0)/t;i=0|n%t,r.__setDigit(a>>>1,o<<15|s)}return r}static __absoluteModSmall(e,t){let r=0;for(let i=2*e.length-1;0<=i;i--)r=0|((r<<15|e.__halfDigit(i))>>>0)%t;return r}static __absoluteDivLarge(e,t,r,i){let n=t.__halfDigitLength(),o=t.length,s=e.__halfDigitLength()-n,u=null;r&&(u=new a(s+2>>>1,!1)).__initializeDigits();let l=new a(n+2>>>1,!1);l.__initializeDigits();let c=a.__clz15(t.__halfDigit(n-1));0<c&&(t=a.__specialLeftShift(t,c,0));let d=a.__specialLeftShift(e,c,1),f=t.__halfDigit(n-1),p=0;for(let e,i=s;0<=i;i--){e=32767;let s=d.__halfDigit(i+n);if(s!==f){let r=(s<<15|d.__halfDigit(i+n-1))>>>0;e=0|r/f;let o=0|r%f,u=t.__halfDigit(n-2),l=d.__halfDigit(i+n-2);for(;a.__imul(e,u)>>>0>(o<<16|l)>>>0&&(e--,!(32767<(o+=f))););}a.__internalMultiplyAdd(t,e,0,o,l);let c=d.__inplaceSub(l,i,n+1);0!==c&&(c=d.__inplaceAdd(t,i,n),d.__setHalfDigit(i+n,32767&d.__halfDigit(i+n)+c),e--),r&&(1&i?p=e<<15:u.__setDigit(i>>>1,p|e))}if(i)return d.__inplaceRightShift(c),r?{quotient:u,remainder:d}:d;if(r)return u;throw Error("unreachable")}static __clz15(e){return a.__clz30(e)-15}__inplaceAdd(e,t,r){let i=0;for(let n=0;n<r;n++){let r=this.__halfDigit(t+n)+e.__halfDigit(n)+i;i=r>>>15,this.__setHalfDigit(t+n,32767&r)}return i}__inplaceSub(e,t,r){let i=0;if(1&t){t>>=1;let n=this.__digit(t),a=32767&n,o=0;for(;o<r-1>>>1;o++){let r=e.__digit(o),s=(n>>>15)-(32767&r)-i;i=1&s>>>15,this.__setDigit(t+o,(32767&s)<<15|32767&a),i=1&(a=(32767&(n=this.__digit(t+o+1)))-(r>>>15)-i)>>>15}let s=e.__digit(o),u=(n>>>15)-(32767&s)-i;if(i=1&u>>>15,this.__setDigit(t+o,(32767&u)<<15|32767&a),t+o+1>=this.length)throw RangeError("out of bounds");0==(1&r)&&(i=1&(a=(32767&(n=this.__digit(t+o+1)))-(s>>>15)-i)>>>15,this.__setDigit(t+e.length,0x3fff8000&n|32767&a))}else{t>>=1;let n=0;for(;n<e.length-1;n++){let r=this.__digit(t+n),a=e.__digit(n),o=(32767&r)-(32767&a)-i,s=(r>>>15)-(a>>>15)-(i=1&o>>>15);i=1&s>>>15,this.__setDigit(t+n,(32767&s)<<15|32767&o)}let a=this.__digit(t+n),o=e.__digit(n),s=(32767&a)-(32767&o)-i;i=1&s>>>15;let u=0;0==(1&r)&&(i=1&(u=(a>>>15)-(o>>>15)-i)>>>15),this.__setDigit(t+n,(32767&u)<<15|32767&s)}return i}__inplaceRightShift(e){if(0===e)return;let t=this.__digit(0)>>>e,r=this.length-1;for(let i=0;i<r;i++){let r=this.__digit(i+1);this.__setDigit(i,0x3fffffff&r<<30-e|t),t=r>>>e}this.__setDigit(r,t)}static __specialLeftShift(e,t,r){let i=e.length,n=new a(i+r,!1);if(0===t){for(let t=0;t<i;t++)n.__setDigit(t,e.__digit(t));return 0<r&&n.__setDigit(i,0),n}let o=0;for(let r=0;r<i;r++){let i=e.__digit(r);n.__setDigit(r,0x3fffffff&i<<t|o),o=i>>>30-t}return 0<r&&n.__setDigit(i,o),n}static __leftShiftByAbsolute(e,t){let r=a.__toShiftAmount(t);if(0>r)throw RangeError("BigInt too big");let i=0|r/30,n=r%30,o=e.length,s=0!==n&&0!=e.__digit(o-1)>>>30-n,u=o+i+ +!!s,l=new a(u,e.sign);if(0===n){let t=0;for(;t<i;t++)l.__setDigit(t,0);for(;t<u;t++)l.__setDigit(t,e.__digit(t-i))}else{let t=0;for(let e=0;e<i;e++)l.__setDigit(e,0);for(let r=0;r<o;r++){let a=e.__digit(r);l.__setDigit(r+i,0x3fffffff&a<<n|t),t=a>>>30-n}if(s)l.__setDigit(o+i,t);else if(0!==t)throw Error("implementation bug")}return l.__trim()}static __rightShiftByAbsolute(e,t){let r=e.length,i=e.sign,n=a.__toShiftAmount(t);if(0>n)return a.__rightShiftByMaximum(i);let o=0|n/30,s=n%30,u=r-o;if(0>=u)return a.__rightShiftByMaximum(i);let l=!1;if(i){if(0!=(e.__digit(o)&(1<<s)-1))l=!0;else for(let t=0;t<o;t++)if(0!==e.__digit(t)){l=!0;break}}l&&0===s&&0==~e.__digit(r-1)&&u++;let c=new a(u,i);if(0===s){c.__setDigit(u-1,0);for(let t=o;t<r;t++)c.__setDigit(t-o,e.__digit(t))}else{let t=e.__digit(o)>>>s,i=r-o-1;for(let r=0;r<i;r++){let i=e.__digit(r+o+1);c.__setDigit(r,0x3fffffff&i<<30-s|t),t=i>>>s}c.__setDigit(i,t)}return l&&(c=a.__absoluteAddOne(c,!0,c)),c.__trim()}static __rightShiftByMaximum(e){return e?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(e){if(1<e.length)return -1;let t=e.__unsignedDigit(0);return t>a.__kMaxLengthBits?-1:t}static __toPrimitive(e,t="default"){if("object"!=typeof e||e.constructor===a)return e;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){let r=e[Symbol.toPrimitive];if(r){let e=r(t);if("object"!=typeof e)return e;throw TypeError("Cannot convert object to primitive value")}}let r=e.valueOf;if(r){let t=r.call(e);if("object"!=typeof t)return t}let i=e.toString;if(i){let t=i.call(e);if("object"!=typeof t)return t}throw TypeError("Cannot convert object to primitive value")}static __toNumeric(e){return a.__isBigInt(e)?e:+e}static __isBigInt(e){return"object"==typeof e&&null!==e&&e.constructor===a}static __truncateToNBits(e,t){let r=0|(e+29)/30,i=new a(r,t.sign),n=r-1;for(let e=0;e<n;e++)i.__setDigit(e,t.__digit(e));let o=t.__digit(n);if(0!=e%30){let t=32-e%30;o=o<<t>>>t}return i.__setDigit(n,o),i.__trim()}static __truncateAndSubFromPowerOfTwo(e,t,r){let i;var n=Math.min;let o=0|(e+29)/30,s=new a(o,r),u=0,l=o-1,c=0;for(let e=n(l,t.length);u<e;u++){let e=0-t.__digit(u)-c;c=1&e>>>30,s.__setDigit(u,0x3fffffff&e)}for(;u<l;u++)s.__setDigit(u,0x3fffffff&-c);let d=l<t.length?t.__digit(l):0,f=e%30;if(0==f)i=0-d-c&0x3fffffff;else{let e=32-f;d=d<<e>>>e;let t=1<<32-e;i=t-d-c&t-1}return s.__setDigit(l,i),s.__trim()}__digit(e){return this[e]}__unsignedDigit(e){return this[e]>>>0}__setDigit(e,t){this[e]=0|t}__setDigitGrow(e,t){this[e]=0|t}__halfDigitLength(){let e=this.length;return 32767>=this.__unsignedDigit(e-1)?2*e-1:2*e}__halfDigit(e){return 32767&this[e>>>1]>>>15*(1&e)}__setHalfDigit(e,t){let r=e>>>1,i=this.__digit(r);this.__setDigit(r,1&e?32767&i|t<<15:0x3fff8000&i|32767&t)}static __digitPow(e,t){let r=1;for(;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}static __isOneDigitInt(e){return(0x3fffffff&e)===e}}return a.__kMaxLength=0x2000000,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=t?function(e){return t(e)-2}:function(e){var t=Math.LN2,r=Math.log;return 0===e?30:0|29-(0|r(e>>>0)/t)},a.__imul=e||function(e,t){return 0|e*t},a}()},443276,(e,t,r)=>{!function(r){"use strict";var i,n="[big.js] ",a=n+"Invalid ",o=a+"decimal places",s=a+"rounding mode",u=n+"Division by zero",l={},c=void 0,d=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function f(e,t,r,i){var n=e.c,a=e.e+t+1;if(a<n.length){if(1===r)i=n[a]>=5;else if(2===r)i=n[a]>5||5==n[a]&&(i||a<0||n[a+1]!==c||1&n[a-1]);else if(3===r)i=i||!!n[0];else if(i=!1,0!==r)throw Error(s);if(a<1)n.length=1,i?(e.e=-t,n[0]=1):n[0]=e.e=0;else{if(n.length=a--,i)for(;++n[a]>9;)n[a]=0,a--||(++e.e,n.unshift(1));for(a=n.length;!n[--a];)n.pop()}}else if(r<0||r>3||r!==~~r)throw Error(s);return e}function p(e,t,r,i){var n,s,u=e.constructor,l=!e.c[0];if(r!==c){if(r!==~~r||r<(3==t)||r>1e6)throw Error(3==t?a+"precision":o);for(r=i-(e=new u(e)).e,e.c.length>++i&&f(e,r,u.RM),2==t&&(i=e.e+r+1);e.c.length<i;)e.c.push(0)}if(n=e.e,r=(s=e.c.join("")).length,2!=t&&(1==t||3==t&&i<=n||n<=u.NE||n>=u.PE))s=s.charAt(0)+(r>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>r)for(n-=r;n--;)s+="0";else n<r&&(s=s.slice(0,n)+"."+s.slice(n));else r>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&(!l||4==t)?"-"+s:s}if(l.abs=function(){var e=new this.constructor(this);return e.s=1,e},l.cmp=function(e){var t,r=this.c,i=(e=new this.constructor(e)).c,n=this.s,a=e.s,o=this.e,s=e.e;if(!r[0]||!i[0])return r[0]?n:i[0]?-a:0;if(n!=a)return n;if(t=n<0,o!=s)return o>s^t?1:-1;for(n=-1,a=(o=r.length)<(s=i.length)?o:s;++n<a;)if(r[n]!=i[n])return r[n]>i[n]^t?1:-1;return o==s?0:o>s^t?1:-1},l.div=function(e){var t=this.constructor,r=this.c,i=(e=new t(e)).c,n=this.s==e.s?1:-1,a=t.DP;if(a!==~~a||a<0||a>1e6)throw Error(o);if(!i[0])throw Error(u);if(!r[0])return new t(0*n);var s,l,d,p,h,m=i.slice(),g=s=i.length,b=r.length,y=r.slice(0,s),x=y.length,A=e,w=A.c=[],v=0,S=a+(A.e=this.e-e.e)+1;for(A.s=n,n=S<0?0:S,m.unshift(0);x++<s;)y.push(0);do{for(d=0;d<10;d++){if(s!=(x=y.length))p=s>x?1:-1;else for(h=-1,p=0;++h<s;)if(i[h]!=y[h]){p=i[h]>y[h]?1:-1;break}if(p<0){for(l=x==s?i:m;x;){if(y[--x]<l[x]){for(h=x;h&&!y[--h];)y[h]=9;--y[h],y[x]+=10}y[x]-=l[x]}for(;!y[0];)y.shift()}else break}w[v++]=p?d:++d,y[0]&&p?y[x]=r[g]||0:y=[r[g]]}while((g++<b||y[0]!==c)&&n--)return!w[0]&&1!=v&&(w.shift(),A.e--),v>S&&f(A,a,t.RM,y[0]!==c),A},l.eq=function(e){return!this.cmp(e)},l.gt=function(e){return this.cmp(e)>0},l.gte=function(e){return this.cmp(e)>-1},l.lt=function(e){return 0>this.cmp(e)},l.lte=function(e){return 1>this.cmp(e)},l.minus=l.sub=function(e){var t,r,i,n,a=this.constructor,o=this.s,s=(e=new a(e)).s;if(o!=s)return e.s=-s,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?(e.s=-s,e):new a(u[0]?this:0);if(o=l-d){for((n=o<0)?(o=-o,i=u):(d=l,i=c),i.reverse(),s=o;s--;)i.push(0);i.reverse()}else for(r=((n=u.length<c.length)?u:c).length,o=s=0;s<r;s++)if(u[s]!=c[s]){n=u[s]<c[s];break}if(n&&(i=u,u=c,c=i,e.s=-e.s),(s=(r=c.length)-(t=u.length))>0)for(;s--;)u[t++]=0;for(s=t;r>o;){if(u[--r]<c[r]){for(t=r;t&&!u[--t];)u[t]=9;--u[t],u[r]+=10}u[r]-=c[r]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},l.mod=function(e){var t,r=this,i=r.constructor,n=r.s,a=(e=new i(e)).s;if(!e.c[0])throw Error(u);return(r.s=e.s=1,t=1==e.cmp(r),r.s=n,e.s=a,t)?new i(r):(n=i.DP,a=i.RM,i.DP=i.RM=0,r=r.div(e),i.DP=n,i.RM=a,this.minus(r.times(e)))},l.plus=l.add=function(e){var t,r=this.constructor,i=this.s,n=(e=new r(e)).s;if(i!=n)return e.s=-n,this.minus(e);var a=this.e,o=this.c,s=e.e,u=e.c;if(!o[0]||!u[0])return u[0]?e:new r(o[0]?this:0*i);if(o=o.slice(),i=a-s){for(i>0?(s=a,t=u):(i=-i,t=o),t.reverse();i--;)t.push(0);t.reverse()}for(o.length-u.length<0&&(t=u,u=o,o=t),i=u.length,n=0;i;o[i]%=10)n=(o[--i]=o[i]+u[i]+n)/10|0;for(n&&(o.unshift(n),++s),i=o.length;0===o[--i];)o.pop();return e.c=o,e.e=s,e},l.pow=function(e){var t=this,r=new t.constructor(1),i=r,n=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(a+"exponent");for(n&&(e=-e);1&e&&(i=i.times(t)),e>>=1;)t=t.times(t);return n?r.div(i):i},l.round=function(e,t){var r=this.constructor;if(e===c)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(o);return f(new r(this),e,t===c?r.RM:t)},l.sqrt=function(){var e,t,r,i=this.constructor,a=this.s,o=this.e,s=new i(.5);if(!this.c[0])return new i(this);if(a<0)throw Error(n+"No square root");0===(a=Math.sqrt(this+""))||a===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new i(((a=Math.sqrt(t))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+o)):e=new i(a),o=e.e+(i.DP+=4);do r=e,e=s.times(r.plus(this.div(r)));while(r.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return f(e,i.DP-=4,i.RM)},l.times=l.mul=function(e){var t,r=this.constructor,i=this.c,n=(e=new r(e)).c,a=i.length,o=n.length,s=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!i[0]||!n[0])return new r(0*e.s);for(e.e=s+u,a<o&&(t=i,i=n,n=t,u=a,a=o,o=u),t=Array(u=a+o);u--;)t[u]=0;for(s=o;s--;){for(o=0,u=a+s;u>s;)o=t[u]+n[s]*i[u-s-1]+o,t[u--]=o%10,o=o/10|0;t[u]=(t[u]+o)%10}for(o?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},l.toExponential=function(e){return p(this,1,e,e)},l.toFixed=function(e){return p(this,2,e,this.e+e)},l.toPrecision=function(e){return p(this,3,e,e-1)},l.toString=function(){return p(this)},l.valueOf=l.toJSON=function(){return p(this,4)},(i=function e(){function t(r){if(!(this instanceof t))return r===c?e():new t(r);r instanceof t?(this.s=r.s,this.e=r.e,this.c=r.c.slice()):function(e,t){var r,i,n;if(0===t&&1/t<0)t="-0";else if(!d.test(t+=""))throw Error(a+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),n=t.length,i=0;i<n&&"0"==t.charAt(i);)++i;if(i==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=r-i-1,e.c=[],r=0;i<=n;)e.c[r++]=+t.charAt(i++)}}(this,r),this.constructor=t}return t.prototype=l,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.version="5.2.2",t}()).default=i.Big=i,"function"==typeof define&&define.amd)e.r,void 0!==i&&e.v(i);else t.exports?t.exports=i:r.Big=i}(e.e)},702503,40992,e=>{"use strict";e.i(247167);var t,r,i,n,a,o,s,u,l,c,d,f,p,h,m,g,b,y,x,A,w,v,S=e.i(477912);function k(e,t){if(!e)throw Error("Invariant failed")}e.s(["default",()=>k],40992);var T=e.i(651655),E=e.i(443276),P=e.i(983607),I=e.i(839341),_=e.i(47771),N=e.i(403011),R=e.i(223439);function O(e){return"0x"+R.default.keccak_256((0,N.arrayify)(e))}let B=new(e.i(875353)).Logger("strings/5.7.0");function C(e,t,r,i,n){if(e===u.BAD_PREFIX||e===u.UNEXPECTED_CONTINUE){let e=0;for(let i=t+1;i<r.length&&r[i]>>6==2;i++)e++;return e}return e===u.OVERRUN?r.length-t-1:0}function D(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function F(e,t,r){return t&&D(e.prototype,t),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(){return(U=Object.assign.bind()).apply(null,arguments)}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}(t=s||(s={})).current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD",(r=u||(u={})).UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation",Object.freeze({error:function(e,t,r,i,n){return B.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:C,replace:function(e,t,r,i,n){return e===u.OVERLONG?(i.push(n),0):(i.push(65533),C(e,t,r,i,n))}}),(i=l||(l={}))[i.MAINNET=1]="MAINNET",i[i.GOERLI=5]="GOERLI",i[i.SEPOLIA=0xaa36a7]="SEPOLIA",i[i.OPTIMISM=10]="OPTIMISM",i[i.OPTIMISM_GOERLI=420]="OPTIMISM_GOERLI",i[i.OPTIMISM_SEPOLIA=0xaa37dc]="OPTIMISM_SEPOLIA",i[i.ARBITRUM_ONE=42161]="ARBITRUM_ONE",i[i.ARBITRUM_GOERLI=421613]="ARBITRUM_GOERLI",i[i.ARBITRUM_SEPOLIA=421614]="ARBITRUM_SEPOLIA",i[i.POLYGON=137]="POLYGON",i[i.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",i[i.CELO=42220]="CELO",i[i.CELO_ALFAJORES=44787]="CELO_ALFAJORES",i[i.GNOSIS=100]="GNOSIS",i[i.MOONBEAM=1284]="MOONBEAM",i[i.BNB=56]="BNB",i[i.AVALANCHE=43114]="AVALANCHE",i[i.BASE_GOERLI=84531]="BASE_GOERLI",i[i.BASE_SEPOLIA=84532]="BASE_SEPOLIA",i[i.BASE=8453]="BASE",i[i.ZORA=7777777]="ZORA",i[i.ZORA_SEPOLIA=0x3b9ac9ff]="ZORA_SEPOLIA",i[i.ROOTSTOCK=30]="ROOTSTOCK",i[i.BLAST=81457]="BLAST",i[i.ZKSYNC=324]="ZKSYNC",i[i.WORLDCHAIN=480]="WORLDCHAIN",i[i.UNICHAIN_SEPOLIA=1301]="UNICHAIN_SEPOLIA",i[i.UNICHAIN=130]="UNICHAIN",i[i.MONAD_TESTNET=10143]="MONAD_TESTNET",i[i.SONEIUM=1868]="SONEIUM",i[i.MONAD=143]="MONAD",i[i.XLAYER=196]="XLAYER";var q=[l.MAINNET,l.OPTIMISM,l.OPTIMISM_GOERLI,l.OPTIMISM_SEPOLIA,l.ARBITRUM_ONE,l.ARBITRUM_GOERLI,l.ARBITRUM_SEPOLIA,l.POLYGON,l.POLYGON_MUMBAI,l.GOERLI,l.SEPOLIA,l.CELO_ALFAJORES,l.CELO,l.BNB,l.AVALANCHE,l.BASE,l.BASE_GOERLI,l.BASE_SEPOLIA,l.ZORA,l.ZORA_SEPOLIA,l.ROOTSTOCK,l.BLAST,l.ZKSYNC,l.WORLDCHAIN,l.UNICHAIN_SEPOLIA,l.UNICHAIN,l.MONAD_TESTNET,l.SONEIUM,l.MONAD,l.XLAYER];(n=c||(c={})).ETHER="ETH",n.MATIC="MATIC",n.CELO="CELO",n.GNOSIS="XDAI",n.MOONBEAM="GLMR",n.BNB="BNB",n.AVAX="AVAX",n.ROOTSTOCK="RBTC";var K=[l.MAINNET,l.GOERLI,l.SEPOLIA];function W(e,t){return void 0===t&&(t=[]),K.concat(t).reduce(function(t,r){return t[r]=e,t},{})}var V=W("0x1f9840a85d5aF5bf1D1762F925BDADdC4201F984",[l.OPTIMISM,l.ARBITRUM_ONE,l.POLYGON,l.POLYGON_MUMBAI,l.SEPOLIA]),G=((d={})[l.MAINNET]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.GOERLI]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.SEPOLIA]="0xF62c03E08ada871A0bEb309762E260a7a6a880E6",d[l.OPTIMISM]="0x0c3c1c532F1e39EdF36BE9Fe0bE1410313E074Bf",d[l.ARBITRUM_ONE]="0xf1D7CC64Fb4452F05c498126312eBE29f30Fbcf9",d[l.AVALANCHE]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",d[l.BASE_SEPOLIA]="0x7Ae58f10f7849cA6F5fB71b7f45CB416c9204b1e",d[l.BASE]="0x8909dc15e40173ff4699343b6eb8132c65e18ec6",d[l.BNB]="0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",d[l.POLYGON]="0x9e5A52f57b3038F1B8EeE45F28b3C1967e22799C",d[l.CELO]="0x79a530c8e2fA8748B7B40dd3629C0520c2cCf03f",d[l.BLAST]="0x5C346464d33F90bABaf70dB6388507CC889C1070",d[l.WORLDCHAIN]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.UNICHAIN_SEPOLIA]="0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",d[l.UNICHAIN]="0x1f98400000000000000000000000000000000002",d[l.MONAD_TESTNET]="0x733e88f248b742db6c14c0b1713af5ad7fdd59d0",d[l.SONEIUM]="0x97febbc2adbd5644ba22736e962564b23f5828ce",d[l.MONAD]="0x182a927119d56008d921126764bf884221b10f59",d[l.XLAYER]="0xdf38f24fe153761634be942f9d859f3dba857e95",d),j=((f={})[l.MAINNET]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",f[l.GOERLI]="0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",f[l.SEPOLIA]="0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3",f[l.ARBITRUM_ONE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.OPTIMISM]="0x4a7b5da61326a6379179b40d00f57e5bbdc962c2",f[l.BASE_SEPOLIA]="0x1689E7B1F10000AE47eBfE339a4f69dECd19F602",f[l.BASE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.AVALANCHE]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.BNB]="0x4752ba5dbc23f44d87826276bf6fd6b1c372ad24",f[l.POLYGON]="0xedf6066a2b290c185783862c7f4776a2c8077ad1",f[l.BLAST]="0xBB66Eb1c5e875933D44DAe661dbD80e5D9B03035",f[l.WORLDCHAIN]="0x541aB7c31A119441eF3575F6973277DE0eF460bd",f[l.UNICHAIN_SEPOLIA]="0x920b806E40A00E02E7D2b94fFc89860fDaEd3640",f[l.UNICHAIN]="0x284f11109359a7e1306c3e447ef14d38400063ff",f[l.MONAD_TESTNET]="0xfb8e1c3b833f9e67a71c859a132cf783b645e436",f[l.SONEIUM]="0x273f68c234fa55b550b40e563c4a488e0d334320",f[l.MONAD]="0x4b2ab38dbf28d31d467aa8993f6c2585981d6804",f[l.XLAYER]="0x182a927119d56008d921126764bf884221b10f59",f),z={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x1F98415757620B543A52E61c46B32eB19261F984",quoterAddress:"0xb27308f9F90D607463bb33eA1BeBb41C27CE5AB6",v3MigratorAddress:"0xA5644E29708357803b5A882D272c41cC0dF92B34",nonfungiblePositionManagerAddress:"0xC36442b4a4522E871399CD717aBDD847Ab11FE88"},H=U({},z,{mixedRouteQuoterV1Address:"0x84E44095eeBfEC7793Cd7d5b57B7e401D7f1cA2E",v4PoolManagerAddress:"0x000000000004444c5dc75cB358380D2e3dE08A90",v4PositionManagerAddress:"0xbd216513d74c8cf14cf4747e6aaa6420ff64ee9e",v4StateView:"0x7ffe42c4a5deea5b0fec41c94c136cf115597227",v4QuoterAddress:"0x52f0e24d1c21c8a0cb1e5a5dd6198556bd9e1203"}),X=U({},z,{mixedRouteQuoterV1Address:"0xBa60b6e6fF25488308789E6e0A65D838be34194e"}),Q=U({},z,{v4PoolManagerAddress:"0x9a13f98cb987694c9f086b1f5eb990eea8264ec3",v4PositionManagerAddress:"0x3c3ea4b57a46241e54610e5f022e5c45859a1017",v4StateView:"0xc18a3169788f4f75a170290584eca6395c75ecdb",v4QuoterAddress:"0x1f3131a13296fb91c90870043742c3cdbff1a8d7"}),J=U({},z,{multicallAddress:"0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB",tickLensAddress:"0xbfd8137f7d1516D3ea5cA83523914859ec47F573",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0xd88f38f930b7952f2db2432cb002e7abbf3dd869",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"}),Y=U({},z,{v4PoolManagerAddress:"0x67366782805870060151383f4bbff9dab53e5cd6",v4PositionManagerAddress:"0x1ec2ebf4f37e7363fdfe3551602425af0b3ceef9",v4StateView:"0x5ea1bd7974c8a611cbab0bdcafcb1d9cc9b3ba5a",v4QuoterAddress:"0xb3d5c3dfc3a7aebff71895a7191796bffc2c81b9"}),Z={v3CoreFactoryAddress:"0xAfE208a311B21f13EF87E33A90049fC17A7acDEc",multicallAddress:"0x633987602DE5C4F337e3DbF265303A1080324204",quoterAddress:"0x82825d0554fA07f7FC52Ab63c961F330fdEFa8E8",v3MigratorAddress:"0x3cFd4d48EDfDCC53D3f173F596f621064614C582",nonfungiblePositionManagerAddress:"0x3d79EdAaBC0EaB6F08ED885C05Fc0B014290D95A",tickLensAddress:"0x5f115D9113F88e0a0Db1b5033D90D4a9690AcD3D",v4PoolManagerAddress:"0x288dc841A52FCA2707c6947B3A777c5E56cd87BC",v4PositionManagerAddress:"0xf7965f3981e4d5bc383bfbcb61501763e9068ca9",v4StateView:"0xbc21f8720babf4b20d195ee5c6e99c52b76f2bfb",v4QuoterAddress:"0x28566da1093609182dff2cb2a91cfd72e61d66cd"},$=((p={})[l.MAINNET]=H,p[l.OPTIMISM]=Q,p[l.ARBITRUM_ONE]=J,p[l.POLYGON]=Y,p[l.POLYGON_MUMBAI]=Y,p[l.GOERLI]=X,p[l.CELO]=Z,p[l.CELO_ALFAJORES]=Z,p[l.BNB]={v3CoreFactoryAddress:"0xdB1d10011AD0Ff90774D0C6Bb92e5C5c8b4461F7",multicallAddress:"0x963Df249eD09c358A4819E39d9Cd5736c3087184",quoterAddress:"0x78D78E420Da98ad378D7799bE8f4AF69033EB077",v3MigratorAddress:"0x32681814957e0C13117ddc0c2aba232b5c9e760f",nonfungiblePositionManagerAddress:"0x7b8A01B39D58278b5DE7e48c8449c9f4F5170613",tickLensAddress:"0xD9270014D396281579760619CCf4c3af0501A47C",swapRouter02Address:"0xB971eF87ede563556b2ED4b1C0b0019111Dd85d2",v4PoolManagerAddress:"0x28e2ea090877bf75740558f6bfb36a5ffee9e9df",v4PositionManagerAddress:"0x7a4a5c919ae2541aed11041a1aeee68f1287f95b",v4StateView:"0xd13dd3d6e93f276fafc9db9e6bb47c1180aee0c4",v4QuoterAddress:"0x9f75dd27d6664c475b90e105573e550ff69437b0"},p[l.OPTIMISM_GOERLI]={v3CoreFactoryAddress:"0xB656dA17129e7EB733A557f4EBc57B76CFbB5d10",multicallAddress:"0x07F2D8a2a02251B62af965f22fC4744A5f96BCCd",quoterAddress:"0x9569CbA925c8ca2248772A9A4976A516743A246F",v3MigratorAddress:"0xf6c55fBe84B1C8c3283533c53F51bC32F5C7Aba8",nonfungiblePositionManagerAddress:"0x39Ca85Af2F383190cBf7d7c41ED9202D27426EF6",tickLensAddress:"0xe6140Bd164b63E8BfCfc40D5dF952f83e171758e"},p[l.OPTIMISM_SEPOLIA]={v3CoreFactoryAddress:"0x8CE191193D15ea94e11d327b4c7ad8bbE520f6aF",multicallAddress:"0x80e4e06841bb76AA9735E0448cB8d003C0EF009a",quoterAddress:"0x0FBEa6cf957d95ee9313490050F6A0DA68039404",v3MigratorAddress:"0xE7EcbAAaA54D007A00dbb6c1d2f150066D69dA07",nonfungiblePositionManagerAddress:"0xdA75cEf1C93078e8b736FCA5D5a30adb97C8957d",tickLensAddress:"0xCb7f54747F58F8944973cea5b8f4ac2209BadDC5",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4"},p[l.ARBITRUM_GOERLI]={v3CoreFactoryAddress:"0x4893376342d5D7b3e31d4184c08b265e5aB2A3f6",multicallAddress:"0x8260CB40247290317a4c062F3542622367F206Ee",quoterAddress:"0x1dd92b83591781D0C6d98d07391eea4b9a6008FA",v3MigratorAddress:"0xA815919D2584Ac3F76ea9CB62E6Fd40a43BCe0C3",nonfungiblePositionManagerAddress:"0x622e4726a167799826d1E1D150b076A7725f5D81",tickLensAddress:"0xb52429333da969a0C79a60930a4Bf0020E5D1DE8"},p[l.ARBITRUM_SEPOLIA]={v3CoreFactoryAddress:"0x248AB79Bbb9bC29bB72f7Cd42F17e054Fc40188e",multicallAddress:"0x2B718b475e385eD29F56775a66aAB1F5cC6B2A0A",quoterAddress:"0x2779a0CC1c3e0E44D2542EC3e79e3864Ae93Ef0B",v3MigratorAddress:"0x398f43ef2c67B941147157DA1c5a868E906E043D",nonfungiblePositionManagerAddress:"0x6b2937Bde17889EDCf8fbD8dE31C3C2a70Bc4d65",tickLensAddress:"0x0fd18587734e5C2dcE2dccDcC7DD1EC89ba557d9",swapRouter02Address:"0x101F443B4d1b059569D643917553c771E1b9663E",v4PoolManagerAddress:"0xFB3e0C6F74eB1a21CC1Da29aeC80D2Dfe6C9a317",v4PositionManagerAddress:"0xAc631556d3d4019C95769033B5E719dD77124BAc",v4StateView:"0x9d467fa9062b6e9b1a46e26007ad82db116c67cb",v4QuoterAddress:"0x7de51022d70a725b508085468052e25e22b5c4c9"},p[l.SEPOLIA]={v3CoreFactoryAddress:"0x0227628f3F023bb0B980b67D528571c95c6DaC1c",multicallAddress:"0xD7F33bCdb21b359c8ee6F0251d30E94832baAd07",quoterAddress:"0xEd1f6473345F45b75F8179591dd5bA1888cf2FB3",v3MigratorAddress:"0x729004182cF005CEC8Bd85df140094b6aCbe8b15",nonfungiblePositionManagerAddress:"0x1238536071E1c677A632429e3655c799b22cDA52",tickLensAddress:"0xd7f33bcdb21b359c8ee6f0251d30e94832baad07",swapRouter02Address:"0x3bFA4769FB09eefC5a80d6E87c3B9C650f7Ae48E",mixedRouteQuoterV2Address:"0x4745f77b56a0e2294426e3936dc4fab68d9543cd",v4PoolManagerAddress:"0xE03A1074c86CFeDd5C142C4F04F1a1536e203543",v4PositionManagerAddress:"0x429ba70129df741B2Ca2a85BC3A2a3328e5c09b4",v4StateView:"0xe1dd9c3fa50edb962e442f60dfbc432e24537e4c",v4QuoterAddress:"0x61b3f2011a92d183c7dbadbda940a7555ccf9227"},p[l.AVALANCHE]={v3CoreFactoryAddress:"0x740b1c1de25031C31FF4fC9A62f554A55cdC1baD",multicallAddress:"0x0139141Cd4Ee88dF3Cdb65881D411bAE271Ef0C2",quoterAddress:"0xbe0F5544EC67e9B3b2D979aaA43f18Fd87E6257F",v3MigratorAddress:"0x44f5f1f5E452ea8d29C890E8F6e893fC0f1f0f97",nonfungiblePositionManagerAddress:"0x655C406EBFa14EE2006250925e54ec43AD184f8B",tickLensAddress:"0xEB9fFC8bf81b4fFd11fb6A63a6B0f098c6e21950",swapRouter02Address:"0xbb00FF08d01D300023C629E8fFfFcb65A5a578cE",v4PoolManagerAddress:"0x06380c0e0912312b5150364b9dc4542ba0dbbc85",v4PositionManagerAddress:"0xb74b1f14d2754acfcbbe1a221023a5cf50ab8acd",v4StateView:"0xc3c9e198c735a4b97e3e683f391ccbdd60b69286",v4QuoterAddress:"0xbe40675bb704506a3c2ccfb762dcfd1e979845c2"},p[l.BASE]={v3CoreFactoryAddress:"0x33128a8fC17869897dcE68Ed026d694621f6FDfD",multicallAddress:"0x091e99cb1C49331a94dD62755D168E941AbD0693",quoterAddress:"0x3d4e44Eb1374240CE5F1B871ab261CD16335B76a",v3MigratorAddress:"0x23cF10b1ee3AdfCA73B0eF17C07F7577e7ACd2d7",nonfungiblePositionManagerAddress:"0x03a520b32C04BF3bEEf7BEb72E919cf822Ed34f1",tickLensAddress:"0x0CdeE061c75D43c82520eD998C23ac2991c9ac6d",swapRouter02Address:"0x2626664c2603336E57B271c5C0b26F421741e481",mixedRouteQuoterV1Address:"0xe544efae946f0008ae9a8d64493efa7886b73776",v4PoolManagerAddress:"0x498581ff718922c3f8e6a244956af099b2652b2b",v4PositionManagerAddress:"0x7c5f5a4bbd8fd63184577525326123b519429bdc",v4StateView:"0xa3c0c9b65bad0b08107aa264b0f3db444b867a71",v4QuoterAddress:"0x0d5e0f971ed27fbff6c2837bf31316121532048d"},p[l.BASE_GOERLI]={v3CoreFactoryAddress:"0x9323c1d6D800ed51Bd7C6B216cfBec678B7d0BC2",multicallAddress:"0xB206027a9E0E13F05eBEFa5D2402Bab3eA716439",quoterAddress:"0xedf539058e28E5937dAef3f69cEd0b25fbE66Ae9",v3MigratorAddress:"0x3efe5d02a04b7351D671Db7008ec6eBA9AD9e3aE",nonfungiblePositionManagerAddress:"0x3c61369ef0D1D2AFa70d8feC2F31C5D6Ce134F30",tickLensAddress:"0x1acB873Ee909D0c98adB18e4474943249F931b92",swapRouter02Address:"0x8357227D4eDc78991Db6FDB9bD6ADE250536dE1d"},p[l.BASE_SEPOLIA]={v3CoreFactoryAddress:"0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24",multicallAddress:"0xd867e273eAbD6c853fCd0Ca0bFB6a3aE6491d2C1",quoterAddress:"0xC5290058841028F1614F3A6F0F5816cAd0df5E27",v3MigratorAddress:"0xCbf8b7f80800bd4888Fbc7bf1713B80FE4E23E10",nonfungiblePositionManagerAddress:"0x27F971cb582BF9E50F397e4d29a5C7A34f11faA2",tickLensAddress:"0xedf6066a2b290C185783862C7F4776A2C8077AD1",swapRouter02Address:"0x94cC0AaC535CCDB3C01d6787D6413C739ae12bc4",v4PoolManagerAddress:"0x05E73354cFDd6745C338b50BcFDfA3Aa6fA03408",v4PositionManagerAddress:"0x4b2c77d209d3405f41a037ec6c77f7f5b8e2ca80",v4StateView:"0x571291b572ed32ce6751a2cb2486ebee8defb9b4",v4QuoterAddress:"0x4a6513c898fe1b2d0e78d3b0e0a4a151589b1cba"},p[l.ZORA]={v3CoreFactoryAddress:"0x7145F8aeef1f6510E92164038E1B6F8cB2c42Cbb",multicallAddress:"0xA51c76bEE6746cB487a7e9312E43e2b8f4A37C15",quoterAddress:"0x11867e1b3348F3ce4FcC170BC5af3d23E07E64Df",v3MigratorAddress:"0x048352d8dCF13686982C799da63fA6426a9D0b60",nonfungiblePositionManagerAddress:"0xbC91e8DfA3fF18De43853372A3d7dfe585137D78",tickLensAddress:"0x209AAda09D74Ad3B8D0E92910Eaf85D2357e3044",swapRouter02Address:"0x7De04c96BE5159c3b5CeffC82aa176dc81281557",v4PoolManagerAddress:"0x0575338e4c17006ae181b47900a84404247ca30f",v4PositionManagerAddress:"0xf66c7b99e2040f0d9b326b3b7c152e9663543d63",v4StateView:"0x385785af07d63b50d0a0ea57c4ff89d06adf7328",v4QuoterAddress:"0x5edaccc0660e0a2c44b06e07ce8b915e625dc2c6"},p[l.ZORA_SEPOLIA]={v3CoreFactoryAddress:"0x4324A677D74764f46f33ED447964252441aA8Db6",multicallAddress:"0xA1E7e3A69671C4494EC59Dbd442de930a93F911A",quoterAddress:"0xC195976fEF0985886E37036E2DF62bF371E12Df0",v3MigratorAddress:"0x65ef259b31bf1d977c37e9434658694267674897",nonfungiblePositionManagerAddress:"0xB8458EaAe43292e3c1F7994EFd016bd653d23c20",tickLensAddress:"0x23C0F71877a1Fc4e20A78018f9831365c85f3064"},p[l.ROOTSTOCK]={v3CoreFactoryAddress:"0xaF37EC98A00FD63689CF3060BF3B6784E00caD82",multicallAddress:"0x996a9858cDfa45Ad68E47c9A30a7201E29c6a386",quoterAddress:"0xb51727c996C68E60F598A923a5006853cd2fEB31",v3MigratorAddress:"0x16678977CA4ec3DAD5efc7b15780295FE5f56162",nonfungiblePositionManagerAddress:"0x9d9386c042F194B460Ec424a1e57ACDE25f5C4b1",tickLensAddress:"0x55B9dF5bF68ADe972191a91980459f48ecA16afC",swapRouter02Address:"0x0B14ff67f0014046b4b99057Aec4509640b3947A"},p[l.BLAST]={v3CoreFactoryAddress:"0x792edAdE80af5fC680d96a2eD80A44247D2Cf6Fd",multicallAddress:"0xdC7f370de7631cE9e2c2e1DCDA6B3B5744Cf4705",quoterAddress:"0x6Cdcd65e03c1CEc3730AeeCd45bc140D57A25C77",v3MigratorAddress:"0x15CA7043CD84C5D21Ae76Ba0A1A967d42c40ecE0",nonfungiblePositionManagerAddress:"0xB218e4f7cF0533d4696fDfC419A0023D33345F28",tickLensAddress:"0x2E95185bCdD928a3e984B7e2D6560Ab1b17d7274",swapRouter02Address:"0x549FEB8c9bd4c12Ad2AB27022dA12492aC452B66",v4PoolManagerAddress:"0x1631559198a9e474033433b2958dabc135ab6446",v4PositionManagerAddress:"0x4ad2f4cca2682cbb5b950d660dd458a1d3f1baad",v4StateView:"0x12a88ae16f46dce4e8b15368008ab3380885df30",v4QuoterAddress:"0x6f71cdcb0d119ff72c6eb501abceb576fbf62bcf"},p[l.ZKSYNC]={v3CoreFactoryAddress:"0x8FdA5a7a8dCA67BBcDd10F02Fa0649A937215422",multicallAddress:"0x0c68a7C72f074d1c45C16d41fa74eEbC6D16a65C",quoterAddress:"0x8Cb537fc92E26d8EBBb760E632c95484b6Ea3e28",v3MigratorAddress:"0x611841b24E43C4ACfd290B427a3D6cf1A59dac8E",nonfungiblePositionManagerAddress:"0x0616e5762c1E7Dc3723c50663dF10a162D690a86",tickLensAddress:"0xe10FF11b809f8EE07b056B452c3B2caa7FE24f89",swapRouter02Address:"0x99c56385daBCE3E81d8499d0b8d0257aBC07E8A3"},p[l.WORLDCHAIN]={v3CoreFactoryAddress:"0x7a5028BDa40e7B173C278C5342087826455ea25a",multicallAddress:"0x0a22c04215c97E3F532F4eF30e0aD9458792dAB9",quoterAddress:"0x10158D43e6cc414deE1Bd1eB0EfC6a5cBCfF244c",v3MigratorAddress:"0x9EBDdCBa71C9027E1eB45135672a30bcFEec9de3",nonfungiblePositionManagerAddress:"0xec12a9F9a09f50550686363766Cc153D03c27b5e",tickLensAddress:"0xE61df0CaC9d85876aCE5E3037005D80943570623",swapRouter02Address:"0x091AD9e2e6e5eD44c1c66dB50e49A601F9f36cF6",v4PoolManagerAddress:"0xb1860d529182ac3bc1f51fa2abd56662b7d13f33",v4PositionManagerAddress:"0xc585e0f504613b5fbf874f21af14c65260fb41fa",v4StateView:"0x51d394718bc09297262e368c1a481217fdeb71eb",v4QuoterAddress:"0x55d235b3ff2daf7c3ede0defc9521f1d6fe6c5c0"},p[l.UNICHAIN_SEPOLIA]={v3CoreFactoryAddress:"0x1F98431c8aD98523631AE4a59f267346ea31F984",multicallAddress:"0x9D0F15f2cf58655fDDcD1EE6129C547fDaeD01b1",quoterAddress:"0x6Dd37329A1A225a6Fca658265D460423DCafBF89",v3MigratorAddress:"0xb5FA244C9d6D04B2FBac84418b3c4910ED1Ae5f2",nonfungiblePositionManagerAddress:"0xB7F724d6dDDFd008eFf5cc2834edDE5F9eF0d075",tickLensAddress:"0x5f739c790a48E97eec0efb81bab5D152c0A0ecA0",swapRouter02Address:"0xd1AAE39293221B77B0C71fBD6dCb7Ea29Bb5B166",v4PoolManagerAddress:"0x00b036b58a818b1bc34d502d3fe730db729e62ac",v4PositionManagerAddress:"0xf969aee60879c54baaed9f3ed26147db216fd664",v4StateView:"0xc199f1072a74d4e905aba1a84d9a45e2546b6222",v4QuoterAddress:"0x56dcd40a3f2d466f48e7f48bdbe5cc9b92ae4472"},p[l.UNICHAIN]={v3CoreFactoryAddress:"0x1f98400000000000000000000000000000000003",multicallAddress:"0xb7610f9b733e7d45184be3a1bc966960ccc54f0b",quoterAddress:"0x565ac8c7863d9bb16d07e809ff49fe5cd467634c",v3MigratorAddress:"0xb9d0c246f306b1aaf02ae6ba112d5ef25e5b60dc",nonfungiblePositionManagerAddress:"0x943e6e07a7e8e791dafc44083e54041d743c46e9",tickLensAddress:"0xd5d76fa166ab8d8ad4c9f61aaa81457b66cbe443",swapRouter02Address:"0x73855d06de49d0fe4a9c42636ba96c62da12ff9c",v4PoolManagerAddress:"0x1f98400000000000000000000000000000000004",v4PositionManagerAddress:"0x4529a01c7a0410167c5740c487a8de60232617bf",v4StateView:"0x86e8631a016f9068c3f085faf484ee3f5fdee8f2",v4QuoterAddress:"0x333e3c607b141b18ff6de9f258db6e77fe7491e0"},p[l.MONAD_TESTNET]={v3CoreFactoryAddress:"0x961235a9020b05c44df1026d956d1f4d78014276",multicallAddress:"0xa707ceb989cc3728551ed0e6e44b718dd114cf44",quoterAddress:"0x1ba215c17565de7b0cb7ecab971bcf540c24a862",v3MigratorAddress:"0x0a78348b71f8ae8caff2f8f9d4d74a2f36516661",nonfungiblePositionManagerAddress:"0x3dcc735c74f10fe2b9db2bb55c40fbbbf24490f7",tickLensAddress:"0x337478eb6058455ecb3696184b30dd6a29e3a893",swapRouter02Address:"0x4c4eabd5fb1d1a7234a48692551eaecff8194ca7"},p[l.SONEIUM]={v3CoreFactoryAddress:"0x42ae7ec7ff020412639d443e245d936429fbe717",multicallAddress:"0x8ad5ef2f2508288d2de66f04dd883ad5f4ef62b2",quoterAddress:"0x3e6c707d0125226ff60f291b6bd1404634f00aba",v3MigratorAddress:"0xa107580f73bd797bd8b87ff24e98346d99f93ddb",nonfungiblePositionManagerAddress:"0x56c1205b0244332011c1e866f4ea5384eb6bfa2c",tickLensAddress:"0xcd08eefb928c86499e6235ac155906bb7c4dc41a",swapRouter02Address:"0x7e40db01736f88464e5f4e42394f3d5bbb6705b9",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0x1b35d13a2e2528f192637f14b05f0dc0e7deb566",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x3972c00f7ed4885e145823eb7c655375d275a1c5"},p[l.MONAD]={v3CoreFactoryAddress:"0x204faca1764b154221e35c0d20abb3c525710498",multicallAddress:"0xd1b797d92d87b688193a2b976efc8d577d204343",quoterAddress:"0x2d01411773c8c24805306e89a41f7855c3c4fe65",v3MigratorAddress:"0x7078c4537c04c2b2e52ddba06074dbdacf23ca15",nonfungiblePositionManagerAddress:"0x7197e214c0b767cfb76fb734ab638e2c192f4e53",tickLensAddress:"0xf025e0fe9e331a0ef05c2ad3c4e9c64b625cda6f",swapRouter02Address:"0xfe31f71c1b106eac32f1a19239c9a9a72ddfb900",v4PoolManagerAddress:"0x188d586ddcf52439676ca21a244753fa19f9ea8e",v4PositionManagerAddress:"0x5b7ec4a94ff9bedb700fb82ab09d5846972f4016",v4StateView:"0x77395f3b2e73ae90843717371294fa97cc419d64",v4QuoterAddress:"0xa222dd357a9076d1091ed6aa2e16c9742dd26891"},p[l.XLAYER]={v3CoreFactoryAddress:"0x4b2ab38dbf28d31d467aa8993f6c2585981d6804",multicallAddress:"0xe2023f3fa515cf070e07fd9d51c1d236e07843f4",quoterAddress:"0x976183ac3d09840d243a88c0268badb3b3e3259f",v3MigratorAddress:"0x7197e214c0b767cfb76fb734ab638e2c192f4e53",nonfungiblePositionManagerAddress:"0x315e413a11ab0df498ef83873012430ca36638ae",tickLensAddress:"0x661e93cca42afacb172121ef892830ca3b70f08d",swapRouter02Address:"0x4f0c28f5926afda16bf2506d5d9e57ea190f9bca",mixedRouteQuoterV2Address:"0x2d01411773c8c24805306e89a41f7855c3c4fe65",v4PoolManagerAddress:"0x360e68faccca8ca495c1b759fd9eee466db9fb32",v4PositionManagerAddress:"0xbc9f3a5d767dd46e040f1ca48ab17f29f59dc806",v4StateView:"0x76fd297e2d437cd7f76d50f01afe6160f86e9990",v4QuoterAddress:"0x8928074ca1b241d8ec02815881c1af11e8bc5219"},p),ee=U({},q.reduce(function(e,t){return e[t]=$[t].v3CoreFactoryAddress,e},{})),et=U({},q.reduce(function(e,t){var r=$[t].v3MigratorAddress;return r&&(e[t]=r),e},{})),er=U({},q.reduce(function(e,t){return e[t]=$[t].multicallAddress,e},{})),ei=W("0x5e4be8Bc9637f0EAA1A755019e06A68ce081D58F"),en=((h={})[l.MAINNET]="0xC4e172459f1E7939D522503B81AFAaC1014CE6F6",h),ea=((m={})[l.MAINNET]="0x408ED6354d4973f66138C91495F2f2FCbd8724C3",m),eo=W("0x1a9C8182C09F50C8318d769245beA52c32BE35BC"),es=((g={})[l.MAINNET]="0x090D4613473dEE047c3f2706764f49E0821D256e",g),eu=((b={})[l.MAINNET]="0xeca4B0bDBf7c55E9b7925919d03CbF8Dc82537E8",b),el=U({},q.reduce(function(e,t){return e[t]=$[t].quoterAddress,e},{})),ec=U({},q.reduce(function(e,t){var r=$[t].nonfungiblePositionManagerAddress;return r&&(e[t]=r),e},{})),ed=U({},W("0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e")),ef=((y={})[l.MAINNET]="0x65770b5283117639760beA3F867b69b3697a91dd",y),ep=U({},q.reduce(function(e,t){var r=$[t].tickLensAddress;return r&&(e[t]=r),e},{})),eh=q.reduce(function(e,t){var r=$[t].mixedRouteQuoterV1Address;return r&&(e[t]=r),e},{}),em=function(e){if(q.includes(e)){var t;return null!=(t=$[e].swapRouter02Address)?t:"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45"}return""};(a=x||(x={}))[a.EXACT_INPUT=0]="EXACT_INPUT",a[a.EXACT_OUTPUT=1]="EXACT_OUTPUT",(o=A||(A={}))[o.ROUND_DOWN=0]="ROUND_DOWN",o[o.ROUND_HALF_UP=1]="ROUND_HALF_UP",o[o.ROUND_UP=2]="ROUND_UP";var eg=S.default.BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),eb=(0,P.default)(T.default),ey=(0,P.default)(E.default),ex=((w={})[A.ROUND_DOWN]=eb.ROUND_DOWN,w[A.ROUND_HALF_UP]=eb.ROUND_HALF_UP,w[A.ROUND_UP]=eb.ROUND_UP,w),eA=((v={})[A.ROUND_DOWN]=0,v[A.ROUND_HALF_UP]=1,v[A.ROUND_UP]=3,v),ew=function(){function e(e,t){void 0===t&&(t=S.default.BigInt(1)),this.numerator=S.default.BigInt(e),this.denominator=S.default.BigInt(t)}e.tryParseFraction=function(t){if(t instanceof S.default||"number"==typeof t||"string"==typeof t)return new e(t);if("numerator"in t&&"denominator"in t)return t;throw Error("Could not parse fraction")};var t=e.prototype;return t.invert=function(){return new e(this.denominator,this.numerator)},t.add=function(t){var r=e.tryParseFraction(t);return S.default.equal(this.denominator,r.denominator)?new e(S.default.add(this.numerator,r.numerator),this.denominator):new e(S.default.add(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator)),S.default.multiply(this.denominator,r.denominator))},t.subtract=function(t){var r=e.tryParseFraction(t);return S.default.equal(this.denominator,r.denominator)?new e(S.default.subtract(this.numerator,r.numerator),this.denominator):new e(S.default.subtract(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator)),S.default.multiply(this.denominator,r.denominator))},t.lessThan=function(t){var r=e.tryParseFraction(t);return S.default.lessThan(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.equalTo=function(t){var r=e.tryParseFraction(t);return S.default.equal(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.greaterThan=function(t){var r=e.tryParseFraction(t);return S.default.greaterThan(S.default.multiply(this.numerator,r.denominator),S.default.multiply(r.numerator,this.denominator))},t.multiply=function(t){var r=e.tryParseFraction(t);return new e(S.default.multiply(this.numerator,r.numerator),S.default.multiply(this.denominator,r.denominator))},t.divide=function(t){var r=e.tryParseFraction(t);return new e(S.default.multiply(this.numerator,r.denominator),S.default.multiply(this.denominator,r.numerator))},t.toSignificant=function(e,t,r){void 0===t&&(t={groupSeparator:""}),void 0===r&&(r=A.ROUND_HALF_UP),Number.isInteger(e)||k(!1),e>0||k(!1),eb.set({precision:e+1,rounding:ex[r]});var i=new eb(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)},t.toFixed=function(e,t,r){return void 0===t&&(t={groupSeparator:""}),void 0===r&&(r=A.ROUND_HALF_UP),Number.isInteger(e)||k(!1),e>=0||k(!1),ey.DP=e,ey.RM=eA[r],new ey(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)},F(e,[{key:"quotient",get:function(){return S.default.divide(this.numerator,this.denominator)}},{key:"remainder",get:function(){return new e(S.default.remainder(this.numerator,this.denominator),this.denominator)}},{key:"asFraction",get:function(){return new e(this.numerator,this.denominator)}}])}(),ev=(0,P.default)(E.default),eS=function(e){function t(t,r,i){var n;return n=e.call(this,r,i)||this,S.default.lessThanOrEqual(n.quotient,eg)||k(!1),n.currency=t,n.decimalScale=S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(t.decimals)),n}M(t,e),t.fromRawAmount=function(e,r){return new t(e,r)},t.fromFractionalAmount=function(e,r,i){return new t(e,r,i)};var r=t.prototype;return r.add=function(r){this.currency.equals(r.currency)||k(!1);var i=e.prototype.add.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.subtract=function(r){this.currency.equals(r.currency)||k(!1);var i=e.prototype.subtract.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.multiply=function(r){var i=e.prototype.multiply.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.divide=function(r){var i=e.prototype.divide.call(this,r);return t.fromFractionalAmount(this.currency,i.numerator,i.denominator)},r.toSignificant=function(t,r,i){return void 0===t&&(t=6),void 0===i&&(i=A.ROUND_DOWN),e.prototype.divide.call(this,this.decimalScale).toSignificant(t,r,i)},r.toFixed=function(t,r,i){return void 0===t&&(t=this.currency.decimals),void 0===i&&(i=A.ROUND_DOWN),t<=this.currency.decimals||k(!1),e.prototype.divide.call(this,this.decimalScale).toFixed(t,r,i)},r.toExact=function(e){return void 0===e&&(e={groupSeparator:""}),ev.DP=this.currency.decimals,new ev(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)},F(t,[{key:"wrapped",get:function(){return this.currency.isToken?this:t.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}}])}(ew),ek=new ew(S.default.BigInt(100));function eT(e){return new eE(e.numerator,e.denominator)}var eE=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.isPercent=!0,t}M(t,e);var r=t.prototype;return r.add=function(t){return eT(e.prototype.add.call(this,t))},r.subtract=function(t){return eT(e.prototype.subtract.call(this,t))},r.multiply=function(t){return eT(e.prototype.multiply.call(this,t))},r.divide=function(t){return eT(e.prototype.divide.call(this,t))},r.toSignificant=function(t,r,i){return void 0===t&&(t=5),e.prototype.multiply.call(this,ek).toSignificant(t,r,i)},r.toFixed=function(t,r,i){return void 0===t&&(t=2),e.prototype.multiply.call(this,ek).toFixed(t,r,i)},t}(ew),eP=function(e){function t(){for(var t,r,i,n,a,o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];if(4===s.length)r=s[0],i=s[1],n=s[2],a=s[3];else{var l=s[0].quoteAmount.divide(s[0].baseAmount),c=[s[0].baseAmount.currency,s[0].quoteAmount.currency,l.denominator,l.numerator];r=c[0],i=c[1],n=c[2],a=c[3]}return(t=e.call(this,a,n)||this).baseCurrency=r,t.quoteCurrency=i,t.scalar=new ew(S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(r.decimals)),S.default.exponentiate(S.default.BigInt(10),S.default.BigInt(i.decimals))),t}M(t,e);var r=t.prototype;return r.invert=function(){return new t(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)},r.multiply=function(r){this.quoteCurrency.equals(r.baseCurrency)||k(!1);var i=e.prototype.multiply.call(this,r);return new t(this.baseCurrency,r.quoteCurrency,i.denominator,i.numerator)},r.quote=function(t){t.currency.equals(this.baseCurrency)||k(!1);var r=e.prototype.multiply.call(this,t);return eS.fromFractionalAmount(this.quoteCurrency,r.numerator,r.denominator)},r.toSignificant=function(e,t,r){return void 0===e&&(e=6),this.adjustedForDecimals.toSignificant(e,t,r)},r.toFixed=function(e,t,r){return void 0===e&&(e=4),this.adjustedForDecimals.toFixed(e,t,r)},F(t,[{key:"adjustedForDecimals",get:function(){return e.prototype.multiply.call(this,this.scalar)}}])}(ew),eI=function(e,t,r,i){Number.isSafeInteger(e)||k(!1),t>=0&&t<255&&Number.isInteger(t)||k(!1),this.chainId=e,this.decimals=t,this.symbol=r,this.name=i},e_=function(e){function t(){var t;return t=e.apply(this,arguments)||this,t.isNative=!0,t.isToken=!1,t}return M(t,e),t}(eI);function eN(e){try{return(0,_.getAddress)(e)}catch(t){throw Error(e+" is not a valid address.")}}var eR=/^0x[0-9a-fA-F]{40}$/,eO=function(e){function t(t,r,i,n,a,o,s,u){var l;return(l=e.call(this,t,i,n,a)||this).isNative=!1,l.isToken=!0,o?l.address=function(e){if(eR.test(e))return e;throw Error(e+" is not a valid address.")}(r):l.address=eN(r),s&&(s.gte(I.BigNumber.from(0))||k(!1)),u&&(u.gte(I.BigNumber.from(0))||k(!1)),l.buyFeeBps=s,l.sellFeeBps=u,l}M(t,e);var r=t.prototype;return r.equals=function(e){return e.isToken&&this.chainId===e.chainId&&this.address.toLowerCase()===e.address.toLowerCase()},r.sortsBefore=function(e){return this.chainId!==e.chainId&&k(!1),this.address.toLowerCase()===e.address.toLowerCase()&&k(!1),this.address.toLowerCase()<e.address.toLowerCase()},F(t,[{key:"wrapped",get:function(){return this}}])}(eI),eB={1:new eO(1,"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",18,"WETH","Wrapped Ether"),0xaa36a7:new eO(0xaa36a7,"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",18,"WETH","Wrapped Ether"),3:new eO(3,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),4:new eO(4,"0xc778417E063141139Fce010982780140Aa0cD5Ab",18,"WETH","Wrapped Ether"),5:new eO(5,"0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6",18,"WETH","Wrapped Ether"),42:new eO(42,"0xd0A1E359811322d97991E03f863a0C30C2cF029C",18,"WETH","Wrapped Ether"),10:new eO(10,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),69:new eO(69,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),0xaa37dc:new eO(0xaa37dc,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),42161:new eO(42161,"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",18,"WETH","Wrapped Ether"),421611:new eO(421611,"0xB47e6A5f8b33b3F17603C83a0535A9dcD7E32681",18,"WETH","Wrapped Ether"),421614:new eO(421614,"0x980B62Da83eFf3D4576C647993b0c1D7faf17c73",18,"WETH","Wrapped Ether"),8453:new eO(8453,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),84532:new eO(84532,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),56:new eO(56,"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",18,"WBNB","Wrapped BNB"),137:new eO(137,"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",18,"WMATIC","Wrapped MATIC"),43114:new eO(43114,"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",18,"WAVAX","Wrapped AVAX"),7777777:new eO(7777777,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),81457:new eO(81457,"0x4300000000000000000000000000000000000004",18,"WETH","Wrapped Ether"),324:new eO(324,"0x5AEa5775959fBC2557Cc8789bC1bf90A239D9a91",18,"WETH","Wrapped Ether"),480:new eO(480,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),1301:new eO(1301,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),130:new eO(130,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),10143:new eO(10143,"0x760AfE86e5de5fa0Ee542fc7B7B713e1c5425701",18,"WMON","Wrapped Monad"),1868:new eO(1868,"0x4200000000000000000000000000000000000006",18,"WETH","Wrapped Ether"),143:new eO(143,"0x3bd359C1119dA7Da1D913D1C4D2B7c461115433A",18,"WMON","Wrapped Monad")},eC=function(e){function t(t){return e.call(this,t,18,"ETH","Ether")||this}return M(t,e),t.onChain=function(e){var r;return null!=(r=this._etherCache[e])?r:this._etherCache[e]=new t(e)},t.prototype.equals=function(e){return e.isNative&&e.chainId===this.chainId},F(t,[{key:"wrapped",get:function(){var e=eB[this.chainId];return e||k(!1),e}}])}(e_);function eD(e,t,r){var i=e.quote(t),n=i.subtract(r).divide(i);return new eE(n.numerator,n.denominator)}function eF(e,t,r,i){void 0===i&&(i="0x");var n=O(function(e,t=s.current){t!=s.current&&(B.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let i=e.charCodeAt(t);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(63&i|128);else if((64512&i)==55296){let n=e.charCodeAt(++t);if(t>=e.length||(64512&n)!=56320)throw Error("invalid utf-8 string");let a=65536+((1023&i)<<10)+(1023&n);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(63&i|128)}return(0,N.arrayify)(r)}("zksyncCreate2")),a=O(i),o=O((0,N.concat)([n,(0,N.hexZeroPad)(e,32),r,t,a])).slice(26);return(0,_.getAddress)(o)}function eU(e,t,r,i){if(r>0||k(!1),e.length<=r||k(!1),0===e.length)return e.push(t),null;var n=e.length===r;if(n&&0>=i(e[e.length-1],t))return t;for(var a=0,o=e.length;a<o;){var s=a+o>>>1;0>=i(e[s],t)?a=s+1:o=s}return e.splice(a,0,t),n?e.pop():null}eC._etherCache={};var eM=S.default.BigInt(Number.MAX_SAFE_INTEGER),eL=S.default.BigInt(0),eq=S.default.BigInt(1),eK=S.default.BigInt(2);function eW(e){var t,r;if(S.default.greaterThanOrEqual(e,eL)||k(!1),S.default.lessThan(e,eM))return S.default.BigInt(Math.floor(Math.sqrt(S.default.toNumber(e))));for(t=e,r=S.default.add(S.default.divide(e,eK),eq);S.default.lessThan(r,t);)t=r,r=S.default.divide(S.default.add(S.default.divide(e,r),r),eK);return t}e.s(["ARGENT_WALLET_DETECTOR_ADDRESS",()=>eu,"CHAIN_TO_ADDRESSES_MAP",()=>$,"ChainId",()=>l,"CurrencyAmount",()=>eS,"ENS_REGISTRAR_ADDRESSES",()=>ed,"Ether",()=>eC,"Fraction",()=>ew,"GOVERNANCE_ALPHA_V0_ADDRESSES",()=>ei,"GOVERNANCE_ALPHA_V1_ADDRESSES",()=>en,"GOVERNANCE_BRAVO_ADDRESSES",()=>ea,"MERKLE_DISTRIBUTOR_ADDRESS",()=>es,"MIXED_ROUTE_QUOTER_V1_ADDRESSES",()=>eh,"MULTICALL_ADDRESSES",()=>er,"MaxUint256",()=>eg,"NONFUNGIBLE_POSITION_MANAGER_ADDRESSES",()=>ec,"NativeCurrency",()=>e_,"NativeCurrencyName",()=>c,"Percent",()=>eE,"Price",()=>eP,"QUOTER_ADDRESSES",()=>el,"Rounding",()=>A,"SOCKS_CONTROLLER_ADDRESSES",()=>ef,"SUPPORTED_CHAINS",()=>q,"SWAP_ROUTER_02_ADDRESSES",()=>em,"TICK_LENS_ADDRESSES",()=>ep,"TIMELOCK_ADDRESSES",()=>eo,"Token",()=>eO,"TradeType",()=>x,"UNISWAP_NFT_AIRDROP_CLAIM_ADDRESS",()=>"0x8B799381ac40b838BBA4131ffB26197C432AFe78","UNI_ADDRESSES",()=>V,"V2_FACTORY_ADDRESS",()=>"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f","V2_FACTORY_ADDRESSES",()=>G,"V2_ROUTER_ADDRESS",()=>"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","V2_ROUTER_ADDRESSES",()=>j,"V3_CORE_FACTORY_ADDRESSES",()=>ee,"V3_MIGRATOR_ADDRESSES",()=>et,"WETH9",()=>eB,"computePriceImpact",()=>eD,"computeZksyncCreate2Address",()=>eF,"sortedInsert",()=>eU,"sqrt",()=>eW,"validateAndParseAddress",()=>eN],702503)},517258,e=>{"use strict";var t,r,i,n=e.i(702503),a=e.i(477912),o=e.i(40992),s=e.i(144180),u=e.i(246383),l=e.i(47771),c=e.i(575111),d=e.i(37041),f=e.i(909307),p=e.i(854725),h=e.i(53291),m=e.i(708070),g=e.i(416897),b=e.i(948329),y=e.i(221345);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function A(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){A(a,i,n,o,s,"next",e)}function s(e){A(a,i,n,o,s,"throw",e)}o(void 0)})}}function v(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function S(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(){return(T=Object.assign.bind()).apply(null,arguments)}function E(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return P(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(P(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,P(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,P(c,"constructor",l),P(l,"constructor",u),u.displayName="GeneratorFunction",P(l,n,"GeneratorFunction"),P(c),P(c,n,"Generator"),P(c,i,function(){return this}),P(c,"toString",function(){return"[object Generator]"}),(E=function(){return{w:a,m:d}})()}function P(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(P=function(e,t,r,i){function a(t,r){P(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}var I="0x1F98431c8aD98523631AE4a59f267346ea31F984",_="0x0000000000000000000000000000000000000000",N="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";function R(e){return e===n.ChainId.ZKSYNC?"0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed":N}(t=i||(i={}))[t.LOWEST=100]="LOWEST",t[t.LOW_200=200]="LOW_200",t[t.LOW_300=300]="LOW_300",t[t.LOW_400=400]="LOW_400",t[t.LOW=500]="LOW",t[t.MEDIUM=3e3]="MEDIUM",t[t.HIGH=1e4]="HIGH";var O=((r={})[i.LOWEST]=1,r[i.LOW_200]=4,r[i.LOW_300]=6,r[i.LOW_400]=8,r[i.LOW]=10,r[i.MEDIUM]=60,r[i.HIGH]=200,r),B=a.default.BigInt(-1),C=a.default.BigInt(0),D=a.default.BigInt(1),F=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(96)),U=a.default.exponentiate(F,a.default.BigInt(2));function M(e){var t=e.factoryAddress,r=e.tokenA,i=e.tokenB,a=e.fee,o=e.initCodeHashManualOverride,u=e.chainId,d=r.sortsBefore(i)?[r,i]:[i,r],f=d[0],p=d[1],h=(0,c.keccak256)(["bytes"],[s.defaultAbiCoder.encode(["address","address","uint24"],[f.address,p.address,a])]),m=null!=o?o:R(u);return u===n.ChainId.ZKSYNC?(0,n.computeZksyncCreate2Address)(t,m,h):(0,l.getCreate2Address)(t,h,m)}var L=function(){function e(){}return e.mulDivRoundingUp=function(e,t,r){var i=a.default.multiply(e,t),n=a.default.divide(i,r);return a.default.notEqual(a.default.remainder(i,r),C)&&(n=a.default.add(n,D)),n},e}(),q=a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(160)),D);function K(e,t){var r=a.default.multiply(e,t);return a.default.bitwiseAnd(r,n.MaxUint256)}var W=function(){function e(){}return e.getAmount0Delta=function(e,t,r,i){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}var o=a.default.leftShift(r,a.default.BigInt(96)),s=a.default.subtract(t,e);return i?L.mulDivRoundingUp(L.mulDivRoundingUp(o,s,t),D,e):a.default.divide(a.default.divide(a.default.multiply(o,s),t),e)},e.getAmount1Delta=function(e,t,r,i){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}return i?L.mulDivRoundingUp(r,a.default.subtract(t,e),F):a.default.divide(a.default.multiply(r,a.default.subtract(t,e)),F)},e.getNextSqrtPriceFromInput=function(e,t,r,i){return a.default.greaterThan(e,C)||(0,o.default)(!1),a.default.greaterThan(t,C)||(0,o.default)(!1),i?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!0)},e.getNextSqrtPriceFromOutput=function(e,t,r,i){return a.default.greaterThan(e,C)||(0,o.default)(!1),a.default.greaterThan(t,C)||(0,o.default)(!1),i?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,r,i){if(a.default.equal(r,C))return e;var s=a.default.leftShift(t,a.default.BigInt(96));if(i){var u=K(r,e);if(a.default.equal(a.default.divide(u,r),e)){var l,c=(l=a.default.add(s,u),a.default.bitwiseAnd(l,n.MaxUint256));if(a.default.greaterThanOrEqual(c,s))return L.mulDivRoundingUp(s,e,c)}return L.mulDivRoundingUp(s,D,a.default.add(a.default.divide(s,e),r))}var d=K(r,e);a.default.equal(a.default.divide(d,r),e)||(0,o.default)(!1),a.default.greaterThan(s,d)||(0,o.default)(!1);var f=a.default.subtract(s,d);return L.mulDivRoundingUp(s,e,f)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,r,i){if(i){var n=a.default.lessThanOrEqual(r,q)?a.default.divide(a.default.leftShift(r,a.default.BigInt(96)),t):a.default.divide(a.default.multiply(r,F),t);return a.default.add(e,n)}var s=L.mulDivRoundingUp(r,F,t);return a.default.greaterThan(e,s)||(0,o.default)(!1),a.default.subtract(e,s)},e}(),V=a.default.exponentiate(a.default.BigInt(10),a.default.BigInt(6)),G=function(){function e(){}return e.computeSwapStep=function(e,t,r,i,n){var o={};n=a.default.BigInt(n);var s=a.default.greaterThanOrEqual(e,t),u=a.default.greaterThanOrEqual(i,C);if(u){var l=a.default.divide(a.default.multiply(i,a.default.subtract(V,n)),V);o.amountIn=s?W.getAmount0Delta(t,e,r,!0):W.getAmount1Delta(e,t,r,!0),a.default.greaterThanOrEqual(l,o.amountIn)?o.sqrtRatioNextX96=t:o.sqrtRatioNextX96=W.getNextSqrtPriceFromInput(e,r,l,s)}else o.amountOut=s?W.getAmount1Delta(t,e,r,!1):W.getAmount0Delta(e,t,r,!1),a.default.greaterThanOrEqual(a.default.multiply(i,B),o.amountOut)?o.sqrtRatioNextX96=t:o.sqrtRatioNextX96=W.getNextSqrtPriceFromOutput(e,r,a.default.multiply(i,B),s);var c=a.default.equal(t,o.sqrtRatioNextX96);return s?(o.amountIn=c&&u?o.amountIn:W.getAmount0Delta(o.sqrtRatioNextX96,e,r,!0),o.amountOut=c&&!u?o.amountOut:W.getAmount1Delta(o.sqrtRatioNextX96,e,r,!1)):(o.amountIn=c&&u?o.amountIn:W.getAmount1Delta(e,o.sqrtRatioNextX96,r,!0),o.amountOut=c&&!u?o.amountOut:W.getAmount0Delta(e,o.sqrtRatioNextX96,r,!1)),!u&&a.default.greaterThan(o.amountOut,a.default.multiply(i,B))&&(o.amountOut=a.default.multiply(i,B)),u&&a.default.notEqual(o.sqrtRatioNextX96,t)?o.feeAmount=a.default.subtract(i,o.amountIn):o.feeAmount=L.mulDivRoundingUp(o.amountIn,n,a.default.subtract(V,n)),[o.sqrtRatioNextX96,o.amountIn,o.amountOut,o.feeAmount]},e}(),j=function(){function e(){}return e.addDelta=function(e,t){return a.default.lessThan(t,C)?a.default.subtract(e,a.default.multiply(t,B)):a.default.add(e,t)},e}(),z=a.default.BigInt(2),H=[128,64,32,16,8,4,2,1].map(function(e){return[e,a.default.exponentiate(z,a.default.BigInt(e))]});function X(e){a.default.greaterThan(e,C)||(0,o.default)(!1),a.default.lessThanOrEqual(e,n.MaxUint256)||(0,o.default)(!1);for(var t,r=0,i=k(H);!(t=i()).done;){var s=t.value,u=s[0],l=s[1];a.default.greaterThanOrEqual(e,l)&&(e=a.default.signedRightShift(e,a.default.BigInt(u)),r+=u)}return r}function Q(e,t){return a.default.signedRightShift(a.default.multiply(e,a.default.BigInt(t)),a.default.BigInt(128))}var J=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(32)),Y=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||(0,o.default)(!1);var r=t<0?-1*t:t,i=(1&r)!=0?a.default.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):a.default.BigInt("0x100000000000000000000000000000000");return(2&r)!=0&&(i=Q(i,"0xfff97272373d413259a46990580e213a")),(4&r)!=0&&(i=Q(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),(8&r)!=0&&(i=Q(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),(16&r)!=0&&(i=Q(i,"0xffcb9843d60f6159c9db58835c926644")),(32&r)!=0&&(i=Q(i,"0xff973b41fa98c081472e6896dfb254c0")),(64&r)!=0&&(i=Q(i,"0xff2ea16466c96a3843ec78b326b52861")),(128&r)!=0&&(i=Q(i,"0xfe5dee046a99a2a811c461f1969c3053")),(256&r)!=0&&(i=Q(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),(512&r)!=0&&(i=Q(i,"0xf987a7253ac413176f2b074cf7815e54")),(1024&r)!=0&&(i=Q(i,"0xf3392b0822b70005940c7a398e4b70f3")),(2048&r)!=0&&(i=Q(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),(4096&r)!=0&&(i=Q(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),(8192&r)!=0&&(i=Q(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),(16384&r)!=0&&(i=Q(i,"0x70d869a156d2a1b890bb3df62baf32f7")),(32768&r)!=0&&(i=Q(i,"0x31be135f97d08fd981231505542fcfa6")),(65536&r)!=0&&(i=Q(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),(131072&r)!=0&&(i=Q(i,"0x5d6af8dedb81196699c329225ee604")),(262144&r)!=0&&(i=Q(i,"0x2216e584f5fa1ea926041bedfe98")),(524288&r)!=0&&(i=Q(i,"0x48a170391f7dc42444e8fa2")),t>0&&(i=a.default.divide(n.MaxUint256,i)),a.default.greaterThan(a.default.remainder(i,J),C)?a.default.add(a.default.divide(i,J),D):a.default.divide(i,J)},e.getTickAtSqrtRatio=function(t){a.default.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&a.default.lessThan(t,e.MAX_SQRT_RATIO)||(0,o.default)(!1);var r,i=a.default.leftShift(t,a.default.BigInt(32)),n=X(i);r=a.default.greaterThanOrEqual(a.default.BigInt(n),a.default.BigInt(128))?a.default.signedRightShift(i,a.default.BigInt(n-127)):a.default.leftShift(i,a.default.BigInt(127-n));for(var s=a.default.leftShift(a.default.subtract(a.default.BigInt(n),a.default.BigInt(128)),a.default.BigInt(64)),u=0;u<14;u++){r=a.default.signedRightShift(a.default.multiply(r,r),a.default.BigInt(127));var l=a.default.signedRightShift(r,a.default.BigInt(128));s=a.default.bitwiseOr(s,a.default.leftShift(l,a.default.BigInt(63-u))),r=a.default.signedRightShift(r,l)}var c=a.default.multiply(s,a.default.BigInt("255738958999603826347141")),d=a.default.toNumber(a.default.signedRightShift(a.default.subtract(c,a.default.BigInt("3402992956809132418596140100660247210")),a.default.BigInt(128))),f=a.default.toNumber(a.default.signedRightShift(a.default.add(c,a.default.BigInt("291339464771989622907027621153398088495")),a.default.BigInt(128)));return d===f?d:a.default.lessThanOrEqual(e.getSqrtRatioAtTick(f),t)?f:d},e}();function Z(e,t,r,i,n,a,o,s,u){return $.apply(this,arguments)}function $(){return($=w(E().m(function e(t,r,i,n,s,u,l,c,d){var f,p,h,m,g,b,y;return E().w(function(e){for(;;)switch(e.n){case 0:d||(d=l?a.default.add(Y.MIN_SQRT_RATIO,D):a.default.subtract(Y.MAX_SQRT_RATIO,D)),l?(a.default.greaterThan(d,Y.MIN_SQRT_RATIO)||(0,o.default)(!1),a.default.lessThan(d,r)||(0,o.default)(!1)):(a.default.lessThan(d,Y.MAX_SQRT_RATIO)||(0,o.default)(!1),a.default.greaterThan(d,r)||(0,o.default)(!1)),f=a.default.greaterThanOrEqual(c,C),p={amountSpecifiedRemaining:c,amountCalculated:C,sqrtPriceX96:r,tick:i,liquidity:n};case 1:if(!(a.default.notEqual(p.amountSpecifiedRemaining,C)&&p.sqrtPriceX96!==d)){e.n=7;break}return(h={}).sqrtPriceStartX96=p.sqrtPriceX96,e.n=2,u.nextInitializedTickWithinOneWord(p.tick,l,s);case 2:if(m=e.v,h.tickNext=m[0],h.initialized=m[1],h.tickNext<Y.MIN_TICK?h.tickNext=Y.MIN_TICK:h.tickNext>Y.MAX_TICK&&(h.tickNext=Y.MAX_TICK),h.sqrtPriceNextX96=Y.getSqrtRatioAtTick(h.tickNext),g=G.computeSwapStep(p.sqrtPriceX96,(l?a.default.lessThan(h.sqrtPriceNextX96,d):a.default.greaterThan(h.sqrtPriceNextX96,d))?d:h.sqrtPriceNextX96,p.liquidity,p.amountSpecifiedRemaining,t),p.sqrtPriceX96=g[0],h.amountIn=g[1],h.amountOut=g[2],h.feeAmount=g[3],f?(p.amountSpecifiedRemaining=a.default.subtract(p.amountSpecifiedRemaining,a.default.add(h.amountIn,h.feeAmount)),p.amountCalculated=a.default.subtract(p.amountCalculated,h.amountOut)):(p.amountSpecifiedRemaining=a.default.add(p.amountSpecifiedRemaining,h.amountOut),p.amountCalculated=a.default.add(p.amountCalculated,a.default.add(h.amountIn,h.feeAmount))),!a.default.equal(p.sqrtPriceX96,h.sqrtPriceNextX96)){e.n=5;break}if(!h.initialized){e.n=4;break}return y=a.default,e.n=3,u.getTick(h.tickNext);case 3:b=y.BigInt.call(y,e.v.liquidityNet),l&&(b=a.default.multiply(b,B)),p.liquidity=j.addDelta(p.liquidity,b);case 4:p.tick=l?h.tickNext-1:h.tickNext,e.n=6;break;case 5:a.default.notEqual(p.sqrtPriceX96,h.sqrtPriceStartX96)&&(p.tick=Y.getTickAtSqrtRatio(p.sqrtPriceX96));case 6:e.n=1;break;case 7:return e.a(2,{amountCalculated:p.amountCalculated,sqrtRatioX96:p.sqrtPriceX96,liquidity:p.liquidity,tickCurrent:p.tick})}},e)}))).apply(this,arguments)}Y.MIN_TICK=-887272,Y.MAX_TICK=-Y.MIN_TICK,Y.MIN_SQRT_RATIO=a.default.BigInt("4295128739"),Y.MAX_SQRT_RATIO=a.default.BigInt("1461446703485210103287273052203988822378723970342");var ee=function(){function e(){}var t,r,i=e.prototype;return t=w(E().m(function t(r){return E().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.getTick=function(e){return t.apply(this,arguments)},r=w(E().m(function t(r,i,n){return E().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}();function et(e,t){for(var r=0;r<e.length-1;r++)if(t(e[r],e[r+1])>0)return!1;return!0}function er(e,t){return e.index-t.index}ee.ERROR_MESSAGE="No tick data provider was given";var ei=function(){function e(){}return e.validateList=function(e,t){t>0||(0,o.default)(!1),e.every(function(e){return e.index%t==0})||(0,o.default)(!1),a.default.equal(e.reduce(function(e,t){var r=t.liquidityNet;return a.default.add(e,r)},C),C)||(0,o.default)(!1),et(e,er)||(0,o.default)(!1)},e.isBelowSmallest=function(e,t){return e.length>0||(0,o.default)(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||(0,o.default)(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var r=e[this.binarySearch(e,t)];return r.index!==t&&(0,o.default)(!1),r},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&(0,o.default)(!1);for(var r,i=0,n=e.length-1;;){if(e[r=Math.floor((i+n)/2)].index<=t&&(r===e.length-1||e[r+1].index>t))return r;e[r].index<t?i=r+1:n=r-1}},e.nextInitializedTick=function(t,r,i){if(i){if(e.isBelowSmallest(t,r)&&(0,o.default)(!1),e.isAtOrAboveLargest(t,r))return t[t.length-1];var n=this.binarySearch(t,r);return t[n]}if(this.isAtOrAboveLargest(t,r)&&(0,o.default)(!1),this.isBelowSmallest(t,r))return t[0];var a=this.binarySearch(t,r);return t[a+1]},e.nextInitializedTickWithinOneWord=function(t,r,i,n){var a=Math.floor(r/n);if(i){var o=(a>>8<<8)*n;if(e.isBelowSmallest(t,r))return[o,!1];var s=e.nextInitializedTick(t,r,i).index,u=Math.max(o,s);return[u,u===s]}var l=(((a+1>>8)+1<<8)-1)*n;if(this.isAtOrAboveLargest(t,r))return[l,!1];var c=this.nextInitializedTick(t,r,i).index,d=Math.min(l,c);return[d,d===c]},e}();function en(e){var t=a.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}function ea(e,t){var r=e.input.wrapped,i=e.pools.reduce(function(e,t,r){var i=e.inputToken,n=e.path,a=e.types,o=t.token0.equals(i)?t.token1:t.token0;return 0===r?{inputToken:o,types:["address","uint24","address"],path:[i.address,t.fee,o.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(n,[t.fee,o.address])}},{inputToken:r,path:[],types:[]}),n=i.path,a=i.types;return t?(0,c.pack)(a.reverse(),n.reverse()):(0,c.pack)(a,n)}function eo(e,t){var r=a.default.leftShift(a.default.BigInt(e),a.default.BigInt(192)),i=a.default.BigInt(t),o=a.default.divide(r,i);return(0,n.sqrt)(o)}function es(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=a.default.divide(a.default.multiply(e,t),F);return a.default.divide(a.default.multiply(a.default.BigInt(r),n),a.default.subtract(t,e))}function eu(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=a.default.multiply(a.default.multiply(a.default.BigInt(r),e),t),o=a.default.multiply(F,a.default.subtract(t,e));return a.default.divide(n,o)}function el(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return a.default.divide(a.default.multiply(a.default.BigInt(r),F),a.default.subtract(t,e))}function ec(e,t,r,i,n,o){if(a.default.greaterThan(t,r)){var s=[r,t];t=s[0],r=s[1]}var u=o?eu:es;if(a.default.lessThanOrEqual(e,t))return u(t,r,i);if(!a.default.lessThan(e,r))return el(t,r,n);var l=u(e,r,i),c=el(t,e,n);return a.default.lessThan(l,c)?l:c}function ed(e,t){Number.isInteger(e)&&Number.isInteger(t)||(0,o.default)(!1),t>0||(0,o.default)(!1),e>=Y.MIN_TICK&&e<=Y.MAX_TICK||(0,o.default)(!1);var r=Math.round(e/t)*t;return r<Y.MIN_TICK?r+t:r>Y.MAX_TICK?r-t:r}var ef=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),ep=function(){function e(){}return e.getTokensOwed=function(e,t,r,i,n){return[a.default.divide(a.default.multiply(eb(i,e),r),ef),a.default.divide(a.default.multiply(eb(n,t),r),ef)]},e}();function eh(e,t,r){var i=Y.getSqrtRatioAtTick(r),o=a.default.multiply(i,i);return e.sortsBefore(t)?new n.Price(e,t,U,o):new n.Price(e,t,o,U)}function em(e){var t=e.baseCurrency.sortsBefore(e.quoteCurrency),r=t?eo(e.numerator,e.denominator):eo(e.denominator,e.numerator),i=Y.getTickAtSqrtRatio(r),n=eh(e.baseCurrency,e.quoteCurrency,i+1);return t?!e.lessThan(n)&&i++:!e.greaterThan(n)&&i++,i}var eg=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(256));function eb(e,t){var r=a.default.subtract(e,t);return a.default.lessThan(r,C)?a.default.add(eg,r):r}var ey=function(){function e(){}return e.getFeeGrowthInside=function(e,t,r,i,n,a,o){var s,u,l,c;return n>=r?(s=e.feeGrowthOutside0X128,u=e.feeGrowthOutside1X128):(s=eb(a,e.feeGrowthOutside0X128),u=eb(o,e.feeGrowthOutside1X128)),n<i?(l=t.feeGrowthOutside0X128,c=t.feeGrowthOutside1X128):(l=eb(a,t.feeGrowthOutside0X128),c=eb(o,t.feeGrowthOutside1X128)),[eb(eb(a,s),l),eb(eb(o,u),c)]},e}(),ex=function(e){var t=e.index,r=e.liquidityGross,i=e.liquidityNet;t>=Y.MIN_TICK&&t<=Y.MAX_TICK||(0,o.default)(!1),this.index=t,this.liquidityGross=a.default.BigInt(r),this.liquidityNet=a.default.BigInt(i)},eA=function(){function e(e,t){var r=e.map(function(e){return e instanceof ex?e:new ex(e)});ei.validateList(r,t),this.ticks=r}var t,r,i=e.prototype;return t=w(E().m(function e(t){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,ei.getTick(this.ticks,t))},e,this)})),i.getTick=function(e){return t.apply(this,arguments)},r=w(E().m(function e(t,r,i){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,ei.nextInitializedTickWithinOneWord(this.ticks,t,r,i))},e,this)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}(),ew=new ee,ev=function(){function e(e,t,r,i,n,s,u){void 0===u&&(u=ew),Number.isInteger(r)&&r<1e6||(0,o.default)(!1);var l=Y.getSqrtRatioAtTick(s),c=Y.getSqrtRatioAtTick(s+1);a.default.greaterThanOrEqual(a.default.BigInt(i),l)&&a.default.lessThanOrEqual(a.default.BigInt(i),c)||(0,o.default)(!1);var d=e.sortsBefore(t)?[e,t]:[t,e];this.token0=d[0],this.token1=d[1],this.fee=r,this.sqrtRatioX96=a.default.BigInt(i),this.liquidity=a.default.BigInt(n),this.tickCurrent=s,this.tickDataProvider=Array.isArray(u)?new eA(u,O[r]):u}e.getAddress=function(e,t,r,i,n){return M({factoryAddress:null!=n?n:I,fee:r,tokenA:e,tokenB:t,initCodeHashManualOverride:i})};var t,r,i,s=e.prototype;return s.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},s.priceOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t=w(E().m(function t(r,i){var s,u,l,c,d,f,p;return E().w(function(t){for(;;)switch(t.n){case 0:return this.involvesToken(r.currency)||(0,o.default)(!1),s=r.currency.equals(this.token0),t.n=1,this.swap(s,r.quotient,i);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=s?this.token1:this.token0,t.a(2,[n.CurrencyAmount.fromRawAmount(p,a.default.multiply(l,B)),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),s.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=w(E().m(function t(r,i){var s,u,l,c,d,f,p;return E().w(function(t){for(;;)switch(t.n){case 0:return r.currency.isToken&&this.involvesToken(r.currency)||(0,o.default)(!1),s=r.currency.equals(this.token1),t.n=1,this.swap(s,a.default.multiply(r.quotient,B),i);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=s?this.token0:this.token1,t.a(2,[n.CurrencyAmount.fromRawAmount(p,l),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),s.getInputAmount=function(e,t){return r.apply(this,arguments)},i=w(E().m(function e(t,r,i){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,Z(a.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,i))},e,this)})),s.swap=function(e,t,r){return i.apply(this,arguments)},S(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new n.Price(this.token0,this.token1,U,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new n.Price(this.token1,this.token0,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),U)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return O[this.fee]}}])}(),eS=function(){function e(e){var t=e.pool,r=e.liquidity,i=e.tickLower,n=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<n||(0,o.default)(!1),i>=Y.MIN_TICK&&i%t.tickSpacing==0||(0,o.default)(!1),n<=Y.MAX_TICK&&n%t.tickSpacing==0||(0,o.default)(!1),this.pool=t,this.tickLower=i,this.tickUpper=n,this.liquidity=a.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new n.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),i=eo(t.numerator,t.denominator);a.default.lessThanOrEqual(i,Y.MIN_SQRT_RATIO)&&(i=a.default.add(Y.MIN_SQRT_RATIO,a.default.BigInt(1)));var o=eo(r.numerator,r.denominator);return a.default.greaterThanOrEqual(o,Y.MAX_SQRT_RATIO)&&(o=a.default.subtract(Y.MAX_SQRT_RATIO,a.default.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:o}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),s=e.fromAmounts(T({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:o,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=new e({pool:new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},e.fromAmounts=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=Y.getSqrtRatioAtTick(i),l=Y.getSqrtRatioAtTick(n);return new e({pool:r,tickLower:i,tickUpper:n,liquidity:ec(r.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var r=t.pool,i=t.tickLower,a=t.tickUpper,o=t.amount0,s=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:i,tickUpper:a,amount0:o,amount1:n.MaxUint256,useFullPrecision:s})},e.fromAmount1=function(t){var r=t.pool,i=t.tickLower,a=t.tickUpper,o=t.amount1;return e.fromAmounts({pool:r,tickLower:i,tickUpper:a,amount0:n.MaxUint256,amount1:o,useFullPrecision:!0})},S(e,[{key:"token0PriceLower",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,C)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,C):this.pool.tickCurrent<this.tickUpper?this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:C};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:C,amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),ek=S(function(e,t,r){this._midPrice=null,e.length>0||(0,o.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,o.default)(!1);var n=t.wrapped;e[0].involvesToken(n)||(0,o.default)(!1),e[e.length-1].involvesToken(r.wrapped)||(0,o.default)(!1);for(var a,s=[n],u=k(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=s[c];f.equals(d.token0)||f.equals(d.token1)||(0,o.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;s.push(p)}this.pools=e,this.tokenPath=s,this.input=t,this.output=null!=r?r:s[s.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,i=e.price;return r.equals(t.token0)?{nextInput:t.token1,price:i.multiply(t.token0Price)}:{nextInput:t.token0,price:i.multiply(t.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new n.Price(this.input,this.output,e.denominator,e.numerator)}}]);function eT(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,o.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,o.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var eE=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return i.wrapped.equals(t.input.wrapped)})||(0,o.default)(!1),t.every(function(e){var t=e.route;return n.wrapped.equals(t.output.wrapped)})||(0,o.default)(!1);for(var a,s=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),u=new Set,l=k(t);!(a=l()).done;)for(var c,d=a.value.route,f=k(d.pools);!(c=f()).done;){var p=c.value;u.add(ev.getAddress(p.token0,p.token1,p.fee))}s!==u.size&&(0,o.default)(!1),this.swaps=t,this.tradeType=r}t=w(E().m(function t(r,i){return E().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,n.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=w(E().m(function t(r,i){return E().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,n.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},i=w(E().m(function t(r,i,a){var s,u,l,c,d,f,p,h,m;return E().w(function(t){for(;;)switch(t.n){case 0:if(s=Array(r.tokenPath.length),a!==n.TradeType.EXACT_INPUT){t.n=5;break}i.currency.equals(r.input)||(0,o.default)(!1),s[0]=i.wrapped,c=0;case 1:if(!(c<r.tokenPath.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(s[c]);case 2:f=t.v[0],s[c+1]=f;case 3:c++,t.n=1;break;case 4:u=n.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),l=n.CurrencyAmount.fromFractionalAmount(r.output,s[s.length-1].numerator,s[s.length-1].denominator),t.n=10;break;case 5:i.currency.equals(r.output)||(0,o.default)(!1),s[s.length-1]=i.wrapped,p=r.tokenPath.length-1;case 6:if(!(p>0)){t.n=9;break}return h=r.pools[p-1],t.n=7,h.getInputAmount(s[p]);case 7:m=t.v[0],s[p-1]=m;case 8:p--,t.n=6;break;case 9:u=n.CurrencyAmount.fromFractionalAmount(r.input,s[0].numerator,s[0].denominator),l=n.CurrencyAmount.fromFractionalAmount(r.output,i.numerator,i.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:u,outputAmount:l,route:r}],tradeType:a}))}},t)})),e.fromRoute=function(e,t,r){return i.apply(this,arguments)},a=w(E().m(function t(r,i){var a,s,u,l,c,d,f,p,h,m,g,b,y,x,A;return E().w(function(t){for(;;)switch(t.n){case 0:a=[],s=k(r);case 1:if((u=s()).done){t.n=13;break}if(c=(l=u.value).route,d=l.amount,f=Array(c.tokenPath.length),p=void 0,h=void 0,i!==n.TradeType.EXACT_INPUT){t.n=6;break}d.currency.equals(c.input)||(0,o.default)(!1),p=n.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=n.CurrencyAmount.fromFractionalAmount(c.input.wrapped,d.numerator,d.denominator),m=0;case 2:if(!(m<c.tokenPath.length-1)){t.n=5;break}return g=c.pools[m],t.n=3,g.getOutputAmount(f[m]);case 3:b=t.v[0],f[m+1]=b;case 4:m++,t.n=2;break;case 5:h=n.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),t.n=11;break;case 6:d.currency.equals(c.output)||(0,o.default)(!1),h=n.CurrencyAmount.fromFractionalAmount(c.output,d.numerator,d.denominator),f[f.length-1]=n.CurrencyAmount.fromFractionalAmount(c.output.wrapped,d.numerator,d.denominator),y=c.tokenPath.length-1;case 7:if(!(y>0)){t.n=10;break}return x=c.pools[y-1],t.n=8,x.getInputAmount(f[y]);case 8:A=t.v[0],f[y-1]=A;case 9:y--,t.n=7;break;case 10:p=n.CurrencyAmount.fromFractionalAmount(c.input,f[0].numerator,f[0].denominator);case 11:a.push({route:c,inputAmount:p,outputAmount:h});case 12:t.n=1;break;case 13:return t.a(2,new e({routes:a,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return a.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(T({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,a,s,u,l=e.prototype;return l.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(C)&&(0,o.default)(!1),this.tradeType===n.TradeType.EXACT_OUTPUT)return t;var r=new n.Fraction(D).add(e).invert().multiply(t.quotient).quotient;return n.CurrencyAmount.fromRawAmount(t.currency,r)},l.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(C)&&(0,o.default)(!1),this.tradeType===n.TradeType.EXACT_INPUT)return t;var r=new n.Fraction(D).add(e).multiply(t.quotient).quotient;return n.CurrencyAmount.fromRawAmount(t.currency,r)},l.worstExecutionPrice=function(e){return new n.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},s=w(E().m(function t(r,i,a,s,u,l,c){var d,f,p,h,m,g,b,y,x,A,w,v,S,k;return E().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=i),void 0===c&&(c=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),i===l||u.length>0||(0,o.default)(!1),g=l.wrapped,b=a.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(g.currency)&&!x.token1.equals(g.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getOutputAmount(g);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!(A.currency.isToken&&A.currency.equals(b))){t.n=9;break}return S=n.sortedInsert,k=c,t.n=8,e.fromRoute(new ek([].concat(u,[x]),i.currency,a),i,n.TradeType.EXACT_INPUT);case 8:S(k,t.v,p,eT),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactIn(w,i,a,{maxNumResults:p,maxHops:m-1},[].concat(u,[x]),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,i,n,a,o){return s.apply(this,arguments)},u=w(E().m(function t(r,i,a,s,u,l,c){var d,f,p,h,m,g,b,y,x,A,w,v,S,k;return E().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=a),void 0===c&&(c=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),a===l||u.length>0||(0,o.default)(!1),g=l.wrapped,b=i.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(g.currency)&&!x.token1.equals(g.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getInputAmount(g);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!A.currency.equals(b)){t.n=9;break}return S=n.sortedInsert,k=c,t.n=8,e.fromRoute(new ek([x].concat(u),i,a.currency),a,n.TradeType.EXACT_OUTPUT);case 8:S(k,t.v,p,eT),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactOut(w,i,a,{maxNumResults:p,maxHops:m-1},[x].concat(u),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,i,n,a,o){return u.apply(this,arguments)},S(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,o.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},n.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},n.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new n.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=n.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=k(this.swaps);!(e=r()).done;){var i=e.value,a=i.route,o=i.inputAmount,s=a.midPrice;t=t.add(s.quote(o))}var u=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new n.Percent(u.numerator,u.denominator),this._priceImpact}}])}(),eP=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t).data},e}();eP.INTERFACE=new u.Interface(d.default.abi);var eI=function(){function e(){}return e.encodePermit=function(t,r){return"nonce"in r?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,en(r.nonce),en(r.expiry),r.v,r.r,r.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,en(r.amount),en(r.deadline),r.v,r.r,r.s])},e}();eI.INTERFACE=new u.Interface(p.default.abi);var e_=function(){function e(){}return e.encodeFeeBips=function(e){return en(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,r,i){if(r=(0,n.validateAndParseAddress)(r),!i)return e.INTERFACE.encodeFunctionData("unwrapWETH9",[en(t),r]);var a=this.encodeFeeBips(i.fee),o=(0,n.validateAndParseAddress)(i.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[en(t),r,a,o])},e.encodeSweepToken=function(t,r,i,a){if(i=(0,n.validateAndParseAddress)(i),!a)return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,en(r),i]);var o=this.encodeFeeBips(a.fee),s=(0,n.validateAndParseAddress)(a.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,en(r),i,o,s])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();e_.INTERFACE=new u.Interface(h.default.abi);var eN=["expectedCurrencyOwed0","expectedCurrencyOwed1"],eR=en(a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),a.default.BigInt(1)));function eO(e){return Object.keys(e).some(function(e){return"recipient"===e})}var eB={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},eC=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,en(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:en(0)}},e.addCallParameters=function(t,r){a.default.greaterThan(t.liquidity,C)||(0,o.default)(!1);var i=[],s=t.mintAmounts,u=s.amount0,l=s.amount1,c=t.mintAmountsWithSlippage(r.slippageTolerance),d=en(c.amount0),f=en(c.amount1),p=en(r.deadline);if(eO(r)&&r.createPool&&i.push(this.encodeCreate(t.pool)),r.token0Permit&&i.push(eI.encodePermit(t.pool.token0,r.token0Permit)),r.token1Permit&&i.push(eI.encodePermit(t.pool.token1,r.token1Permit)),eO(r)){var h=(0,n.validateAndParseAddress)(r.recipient);i.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:en(u),amount1Desired:en(l),amount0Min:d,amount1Min:f,recipient:h,deadline:p}]))}else i.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:en(r.tokenId),amount0Desired:en(u),amount1Desired:en(l),amount0Min:d,amount1Min:f,deadline:p}]));var m=en(0);if(r.useNative){var g=r.useNative.wrapped;t.pool.token0.equals(g)||t.pool.token1.equals(g)||(0,o.default)(!1);var b=t.pool.token0.equals(g)?u:l;a.default.greaterThan(b,C)&&i.push(e_.encodeRefundETH()),m=en(b)}return{calldata:eP.encodeMulticall(i),value:m}},e.encodeCollect=function(t){var r=[],i=en(t.tokenId),a=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,o=(0,n.validateAndParseAddress)(t.recipient);if(r.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:i,recipient:a?_:o,amount0Max:eR,amount1Max:eR}])),a){var s=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,l=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;r.push(e_.encodeUnwrapWETH9(s,o)),r.push(e_.encodeSweepToken(u,l,o))}return r},e.collectCallParameters=function(t){var r=e.encodeCollect(t);return{calldata:eP.encodeMulticall(r),value:en(0)}},e.removeCallParameters=function(t,r){var i=[],s=en(r.deadline),u=en(r.tokenId),l=new eS({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});a.default.greaterThan(l.liquidity,C)||(0,o.default)(!1);var c=l.burnAmountsWithSlippage(r.slippageTolerance),d=c.amount0,f=c.amount1;r.permit&&i.push(e.INTERFACE.encodeFunctionData("permit",[(0,n.validateAndParseAddress)(r.permit.spender),u,en(r.permit.deadline),r.permit.v,r.permit.r,r.permit.s])),i.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:u,liquidity:en(l.liquidity),amount0Min:en(d),amount1Min:en(f),deadline:s}]));var p=r.collectOptions,h=p.expectedCurrencyOwed0,m=p.expectedCurrencyOwed1,g=function(e,t){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}(p,eN);return i.push.apply(i,e.encodeCollect(T({tokenId:en(r.tokenId),expectedCurrencyOwed0:h.add(n.CurrencyAmount.fromRawAmount(h.currency,d)),expectedCurrencyOwed1:m.add(n.CurrencyAmount.fromRawAmount(m.currency,f))},g))),r.liquidityPercentage.equalTo(D)?r.burnToken&&i.push(e.INTERFACE.encodeFunctionData("burn",[u])):!0===r.burnToken&&(0,o.default)(!1),{calldata:eP.encodeMulticall(i),value:en(0)}},e.safeTransferFromParameters=function(t){var r=(0,n.validateAndParseAddress)(t.recipient),i=(0,n.validateAndParseAddress)(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[i,r,en(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[i,r,en(t.tokenId)]),value:en(0)}},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V3 Positions NFT-V1",chainId:r,version:"1",verifyingContract:t},types:eB,values:e}},e}();eC.INTERFACE=new u.Interface(f.default.abi);var eD=function(){function e(){}return e.quoteCallParameters=function(e,t,r,i){void 0===i&&(i={});var a=1===e.pools.length,s=en(t.quotient),u=i.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(a){var l,c,d,f={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:en(null!=(c=null==(d=i)?void 0:d.sqrtPriceLimitX96)?c:0)},p=T({},f,r===n.TradeType.EXACT_INPUT?{amountIn:s}:{amount:s}),h=[f.tokenIn,f.tokenOut,f.fee,s,f.sqrtPriceLimitX96],m=r===n.TradeType.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";l=u.encodeFunctionData(m,i.useQuoterV2?[p]:h)}else{(null==(g=i)?void 0:g.sqrtPriceLimitX96)!==void 0&&(0,o.default)(!1);var g,b=ea(e,r===n.TradeType.EXACT_OUTPUT),y=r===n.TradeType.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";l=u.encodeFunctionData(y,[b,s])}return{calldata:l,value:en(0)}},e}();eD.V1INTERFACE=new u.Interface(m.default.abi),eD.V2INTERFACE=new u.Interface(g.default.abi);var eF=function(){function e(){}return e.encodeClaim=function(t,r){var i,a=[];a.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),en(r.tokenId)]));var o=(0,n.validateAndParseAddress)(r.recipient),s=null!=(i=r.amount)?i:0;return a.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,o,en(s)])),a},e.collectRewards=function(t,r){t=Array.isArray(t)?t:[t];for(var i=[],n=0;n<t.length;n++){var a=t[n];(i=i.concat(this.encodeClaim(a,r))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),en(r.tokenId)]))}return{calldata:eP.encodeMulticall(i),value:en(0)}},e.withdrawToken=function(t,r){var i=[];t=Array.isArray(t)?t:[t];for(var a={tokenId:r.tokenId,recipient:r.recipient,amount:r.amount},o=0;o<t.length;o++){var s=t[o];i=i.concat(this.encodeClaim(s,a))}var u=(0,n.validateAndParseAddress)(r.owner);return i.push(e.INTERFACE.encodeFunctionData("withdrawToken",[en(r.tokenId),u,r.data?r.data:en(0)])),{calldata:eP.encodeMulticall(i),value:en(0)}},e.encodeDeposit=function(t){if((t=Array.isArray(t)?t:[t]).length>1){for(var r,i=[],n=0;n<t.length;n++){var a=t[n];i.push(this._encodeIncentiveKey(a))}r=s.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI+"[]"],[i])}else r=s.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return r},e._encodeIncentiveKey=function(e){var t=e.pool,r=t.token0,i=t.token1,a=t.fee,o=(0,n.validateAndParseAddress)(e.refundee);return{rewardToken:e.rewardToken.address,pool:ev.getAddress(r,i,a),startTime:en(e.startTime),endTime:en(e.endTime),refundee:o}},e}();eF.INTERFACE=new u.Interface(b.default.abi),eF.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var eU=function(){function e(){}return e.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var i=t[0],a=i.inputAmount.currency.wrapped,s=i.outputAmount.currency.wrapped;t.every(function(e){return e.inputAmount.currency.wrapped.equals(a)})||(0,o.default)(!1),t.every(function(e){return e.outputAmount.currency.wrapped.equals(s)})||(0,o.default)(!1);var u=[],l=n.CurrencyAmount.fromRawAmount(t[0].inputAmount.currency,0),c=n.CurrencyAmount.fromRawAmount(t[0].outputAmount.currency,0),d=t.reduce(function(e,t){return e.add(t.minimumAmountOut(r.slippageTolerance))},c),f=i.inputAmount.currency.isNative&&i.tradeType===n.TradeType.EXACT_OUTPUT,p=i.inputAmount.currency.isNative,h=i.outputAmount.currency.isNative,m=h||!!r.fee,g=p?t.reduce(function(e,t){return e.add(t.maximumAmountIn(r.slippageTolerance))},l):l;r.inputTokenPermit&&(i.inputAmount.currency.isToken||(0,o.default)(!1),u.push(eI.encodePermit(i.inputAmount.currency,r.inputTokenPermit)));for(var b,y=(0,n.validateAndParseAddress)(r.recipient),x=en(r.deadline),A=k(t);!(b=A()).done;)for(var w,v=b.value,S=k(v.swaps);!(w=S()).done;){var T=w.value,E=T.route,P=T.inputAmount,I=T.outputAmount,N=en(v.maximumAmountIn(r.slippageTolerance,P).quotient),R=en(v.minimumAmountOut(r.slippageTolerance,I).quotient);if(1===E.pools.length)if(v.tradeType===n.TradeType.EXACT_INPUT){var O,B={tokenIn:E.tokenPath[0].address,tokenOut:E.tokenPath[1].address,fee:E.pools[0].fee,recipient:m?_:y,deadline:x,amountIn:N,amountOutMinimum:R,sqrtPriceLimitX96:en(null!=(O=r.sqrtPriceLimitX96)?O:0)};u.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[B]))}else{var C,D={tokenIn:E.tokenPath[0].address,tokenOut:E.tokenPath[1].address,fee:E.pools[0].fee,recipient:m?_:y,deadline:x,amountOut:R,amountInMaximum:N,sqrtPriceLimitX96:en(null!=(C=r.sqrtPriceLimitX96)?C:0)};u.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[D]))}else{void 0!==r.sqrtPriceLimitX96&&(0,o.default)(!1);var F=ea(E,v.tradeType===n.TradeType.EXACT_OUTPUT);if(v.tradeType===n.TradeType.EXACT_INPUT){var U={path:F,recipient:m?_:y,deadline:x,amountIn:N,amountOutMinimum:R};u.push(e.INTERFACE.encodeFunctionData("exactInput",[U]))}else{var M={path:F,recipient:m?_:y,deadline:x,amountOut:R,amountInMaximum:N};u.push(e.INTERFACE.encodeFunctionData("exactOutput",[M]))}}}return m&&(r.fee?h?u.push(e_.encodeUnwrapWETH9(d.quotient,y,r.fee)):u.push(e_.encodeSweepToken(i.outputAmount.currency.wrapped,d.quotient,y,r.fee)):u.push(e_.encodeUnwrapWETH9(d.quotient,y))),f&&u.push(e_.encodeRefundETH()),{calldata:eP.encodeMulticall(u),value:en(g.quotient)}},e}();eU.INTERFACE=new u.Interface(y.default.abi),e.s(["ADDRESS_ZERO",()=>_,"FACTORY_ADDRESS",()=>I,"FeeAmount",()=>i,"FullMath",()=>L,"LiquidityMath",()=>j,"Multicall",()=>eP,"NoTickDataProvider",()=>ee,"NonfungiblePositionManager",()=>eC,"POOL_INIT_CODE_HASH",()=>N,"Payments",()=>e_,"Pool",()=>ev,"Position",()=>eS,"PositionLibrary",()=>ep,"Route",()=>ek,"SelfPermit",()=>eI,"SqrtPriceMath",()=>W,"Staker",()=>eF,"SwapMath",()=>G,"SwapQuoter",()=>eD,"SwapRouter",()=>eU,"TICK_SPACINGS",()=>O,"Tick",()=>ex,"TickLibrary",()=>ey,"TickList",()=>ei,"TickListDataProvider",()=>eA,"TickMath",()=>Y,"Trade",()=>eE,"computePoolAddress",()=>M,"encodeRouteToPath",()=>ea,"encodeSqrtRatioX96",()=>eo,"isSorted",()=>et,"maxLiquidityForAmounts",()=>ec,"mostSignificantBit",()=>X,"nearestUsableTick",()=>ed,"poolInitCodeHash",()=>R,"priceToClosestTick",()=>em,"subIn256",()=>eb,"tickToPrice",()=>eh,"toHex",()=>en,"tradeComparator",()=>eT,"v3Swap",()=>Z])},776030,e=>{"use strict";var t=e.i(83090),r=e.i(857518),i=e.i(142621),n=e.i(407224);e.s([],75009),e.i(75009),e.s(["_TypedDataEncoder",()=>n.TypedDataEncoder,"dnsEncode",()=>r.dnsEncode,"ensNormalize",()=>r.ensNormalize,"hashMessage",()=>i.hashMessage,"id",()=>t.id,"isValidName",()=>r.isValidName,"messagePrefix",()=>i.messagePrefix,"namehash",()=>r.namehash],776030)},818650,e=>{"use strict";var t=e.i(896350),r=e.i(828054),i=e.i(407351),n=e.i(592875);e.s(["decryptCrowdsale",()=>r.decrypt,"decryptJsonWallet",()=>t.decryptJsonWallet,"decryptJsonWalletSync",()=>t.decryptJsonWalletSync,"decryptKeystore",()=>n.decrypt,"decryptKeystoreSync",()=>n.decryptSync,"encryptKeystore",()=>n.encrypt,"getJsonWalletAddress",()=>i.getJsonWalletAddress,"isCrowdsaleWallet",()=>i.isCrowdsaleWallet,"isKeystoreWallet",()=>i.isKeystoreWallet])},303609,e=>{"use strict";var t=e.i(942558),r=e.i(691846);e.s([],39252),e.i(39252),e.s(["SupportedAlgorithm",()=>r.SupportedAlgorithm,"computeHmac",()=>t.computeHmac,"ripemd160",()=>t.ripemd160,"sha256",()=>t.sha256,"sha512",()=>t.sha512],303609)},131518,e=>{"use strict";e.s([],236645),e.i(236645);var t=e.i(666843),r=e.i(216368);e.s(["randomBytes",()=>t.randomBytes,"shuffled",()=>r.shuffled],131518)},757357,e=>{"use strict";var t=e.i(299797),r=e.i(812196),i=e.i(840858);e.s([],842374),e.i(842374),e.s(["UnicodeNormalizationForm",()=>i.UnicodeNormalizationForm,"Utf8ErrorFuncs",()=>i.Utf8ErrorFuncs,"Utf8ErrorReason",()=>i.Utf8ErrorReason,"_toEscapedUtf8String",()=>i._toEscapedUtf8String,"formatBytes32String",()=>t.formatBytes32String,"nameprep",()=>r.nameprep,"parseBytes32String",()=>t.parseBytes32String,"toUtf8Bytes",()=>i.toUtf8Bytes,"toUtf8CodePoints",()=>i.toUtf8CodePoints,"toUtf8String",()=>i.toUtf8String],757357)},847994,(e,t,r)=>{"use strict";var i=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return n(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var o=e.r(811874);Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return o.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return o.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return o.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return o.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return o.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return o.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return o.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return o.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return o.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return o.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return o.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return o.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return o.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return o.TransactionDescription}});var s=e.r(47771);Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return s.isAddress}}),r.base64=a(e.r(630759));var u=e.r(206641);Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return u.Base58}});var l=e.r(403011);Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return l.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return l.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return l.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return l.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return l.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return l.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return l.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return l.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return l.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return l.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return l.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return l.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return l.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return l.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return l.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return l.stripZeros}});var c=e.r(776030);Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return c._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return c.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return c.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return c.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return c.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return c.namehash}});var d=e.r(891368);Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return d.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return d.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return d.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return d.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return d.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return d.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return d.mnemonicToSeed}});var f=e.r(818650);Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var p=e.r(447172);Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return p.keccak256}});var h=e.r(875353);Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return h.Logger}});var m=e.r(303609);Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return m.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return m.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return m.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return m.sha512}});var g=e.r(575111);Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var b=e.r(131518);Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var y=e.r(526579);Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return y.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return y.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return y.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return y.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return y.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return y.shallowCopy}}),r.RLP=a(e.r(222223));var x=e.r(346469);Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return x.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return x.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return x.SigningKey}});var A=e.r(757357);Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return A.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return A.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return A.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return A._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return A.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return A.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return A.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return A.Utf8ErrorFuncs}});var w=e.r(840722);Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return w.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return w.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return w.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return w.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return w.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return w.TransactionTypes}});var v=e.r(299697);Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return v.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return v.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return v.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return v.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return v.parseUnits}});var S=e.r(508663);Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return S.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return S.verifyTypedData}});var k=e.r(367933);Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return k._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return k.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return k.poll}});var T=e.r(303609);Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return T.SupportedAlgorithm}});var E=e.r(757357);Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return E.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return E.Utf8ErrorReason}})},654238,e=>{"use strict";var t=e.i(685648);e.s(["ethers",0,t])},863062,e=>{"use strict";e.i(247167);var t,r,i,n,a,o,s,u,l,c,d,f,p,h,m,g,b=e.i(40992),y=e.i(575111),x=e.i(702503),A=e.i(477912),w=e.i(144180),v=e.i(246383),S=e.i(47771),k=e.i(37041),T=e.i(909307),E=e.i(854725),P=e.i(53291),I=e.i(708070),_=e.i(416897),N=e.i(948329),R=e.i(221345);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function B(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function C(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){B(a,i,n,o,s,"next",e)}function s(e){B(a,i,n,o,s,"throw",e)}o(void 0)})}}function D(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function F(e,t,r){return t&&D(e.prototype,t),r&&D(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function U(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return O(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(){return(M=Object.assign.bind()).apply(null,arguments)}function L(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return q(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(q(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,q(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,q(c,"constructor",l),q(l,"constructor",u),u.displayName="GeneratorFunction",q(l,n,"GeneratorFunction"),q(c),q(c,n,"Generator"),q(c,i,function(){return this}),q(c,"toString",function(){return"[object Generator]"}),(L=function(){return{w:a,m:d}})()}function q(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(q=function(e,t,r,i){function a(t,r){q(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}var K="0x0000000000000000000000000000000000000000";(t=u||(u={}))[t.LOWEST=100]="LOWEST",t[t.LOW_200=200]="LOW_200",t[t.LOW_300=300]="LOW_300",t[t.LOW_400=400]="LOW_400",t[t.LOW=500]="LOW",t[t.MEDIUM=3e3]="MEDIUM",t[t.HIGH=1e4]="HIGH";var W=((s={})[u.LOWEST]=1,s[u.LOW_200]=4,s[u.LOW_300]=6,s[u.LOW_400]=8,s[u.LOW]=10,s[u.MEDIUM]=60,s[u.HIGH]=200,s),V=A.default.BigInt(-1),G=A.default.BigInt(0),j=A.default.BigInt(1),z=A.default.exponentiate(A.default.BigInt(2),A.default.BigInt(96)),H=A.default.exponentiate(z,A.default.BigInt(2)),X=function(){function e(){}return e.mulDivRoundingUp=function(e,t,r){var i=A.default.multiply(e,t),n=A.default.divide(i,r);return A.default.notEqual(A.default.remainder(i,r),G)&&(n=A.default.add(n,j)),n},e}(),Q=A.default.subtract(A.default.exponentiate(A.default.BigInt(2),A.default.BigInt(160)),j);function J(e,t){var r=A.default.multiply(e,t);return A.default.bitwiseAnd(r,x.MaxUint256)}var Y=function(){function e(){}return e.getAmount0Delta=function(e,t,r,i){if(A.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}var a=A.default.leftShift(r,A.default.BigInt(96)),o=A.default.subtract(t,e);return i?X.mulDivRoundingUp(X.mulDivRoundingUp(a,o,t),j,e):A.default.divide(A.default.divide(A.default.multiply(a,o),t),e)},e.getAmount1Delta=function(e,t,r,i){if(A.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}return i?X.mulDivRoundingUp(r,A.default.subtract(t,e),z):A.default.divide(A.default.multiply(r,A.default.subtract(t,e)),z)},e.getNextSqrtPriceFromInput=function(e,t,r,i){return A.default.greaterThan(e,G)||(0,b.default)(!1),A.default.greaterThan(t,G)||(0,b.default)(!1),i?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!0)},e.getNextSqrtPriceFromOutput=function(e,t,r,i){return A.default.greaterThan(e,G)||(0,b.default)(!1),A.default.greaterThan(t,G)||(0,b.default)(!1),i?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,r,i){if(A.default.equal(r,G))return e;var n=A.default.leftShift(t,A.default.BigInt(96));if(i){var a=J(r,e);if(A.default.equal(A.default.divide(a,r),e)){var o,s=(o=A.default.add(n,a),A.default.bitwiseAnd(o,x.MaxUint256));if(A.default.greaterThanOrEqual(s,n))return X.mulDivRoundingUp(n,e,s)}return X.mulDivRoundingUp(n,j,A.default.add(A.default.divide(n,e),r))}var u=J(r,e);A.default.equal(A.default.divide(u,r),e)||(0,b.default)(!1),A.default.greaterThan(n,u)||(0,b.default)(!1);var l=A.default.subtract(n,u);return X.mulDivRoundingUp(n,e,l)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,r,i){if(i){var n=A.default.lessThanOrEqual(r,Q)?A.default.divide(A.default.leftShift(r,A.default.BigInt(96)),t):A.default.divide(A.default.multiply(r,z),t);return A.default.add(e,n)}var a=X.mulDivRoundingUp(r,z,t);return A.default.greaterThan(e,a)||(0,b.default)(!1),A.default.subtract(e,a)},e}(),Z=A.default.exponentiate(A.default.BigInt(10),A.default.BigInt(6)),$=function(){function e(){}return e.computeSwapStep=function(e,t,r,i,n){var a={};n=A.default.BigInt(n);var o=A.default.greaterThanOrEqual(e,t),s=A.default.greaterThanOrEqual(i,G);if(s){var u=A.default.divide(A.default.multiply(i,A.default.subtract(Z,n)),Z);a.amountIn=o?Y.getAmount0Delta(t,e,r,!0):Y.getAmount1Delta(e,t,r,!0),A.default.greaterThanOrEqual(u,a.amountIn)?a.sqrtRatioNextX96=t:a.sqrtRatioNextX96=Y.getNextSqrtPriceFromInput(e,r,u,o)}else a.amountOut=o?Y.getAmount1Delta(t,e,r,!1):Y.getAmount0Delta(e,t,r,!1),A.default.greaterThanOrEqual(A.default.multiply(i,V),a.amountOut)?a.sqrtRatioNextX96=t:a.sqrtRatioNextX96=Y.getNextSqrtPriceFromOutput(e,r,A.default.multiply(i,V),o);var l=A.default.equal(t,a.sqrtRatioNextX96);return o?(a.amountIn=l&&s?a.amountIn:Y.getAmount0Delta(a.sqrtRatioNextX96,e,r,!0),a.amountOut=l&&!s?a.amountOut:Y.getAmount1Delta(a.sqrtRatioNextX96,e,r,!1)):(a.amountIn=l&&s?a.amountIn:Y.getAmount1Delta(e,a.sqrtRatioNextX96,r,!0),a.amountOut=l&&!s?a.amountOut:Y.getAmount0Delta(e,a.sqrtRatioNextX96,r,!1)),!s&&A.default.greaterThan(a.amountOut,A.default.multiply(i,V))&&(a.amountOut=A.default.multiply(i,V)),s&&A.default.notEqual(a.sqrtRatioNextX96,t)?a.feeAmount=A.default.subtract(i,a.amountIn):a.feeAmount=X.mulDivRoundingUp(a.amountIn,n,A.default.subtract(Z,n)),[a.sqrtRatioNextX96,a.amountIn,a.amountOut,a.feeAmount]},e}(),ee=function(){function e(){}return e.addDelta=function(e,t){return A.default.lessThan(t,G)?A.default.subtract(e,A.default.multiply(t,V)):A.default.add(e,t)},e}(),et=A.default.BigInt(2),er=[128,64,32,16,8,4,2,1].map(function(e){return[e,A.default.exponentiate(et,A.default.BigInt(e))]});function ei(e,t){return A.default.signedRightShift(A.default.multiply(e,A.default.BigInt(t)),A.default.BigInt(128))}var en=A.default.exponentiate(A.default.BigInt(2),A.default.BigInt(32)),ea=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||(0,b.default)(!1);var r=t<0?-1*t:t,i=(1&r)!=0?A.default.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):A.default.BigInt("0x100000000000000000000000000000000");return(2&r)!=0&&(i=ei(i,"0xfff97272373d413259a46990580e213a")),(4&r)!=0&&(i=ei(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),(8&r)!=0&&(i=ei(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),(16&r)!=0&&(i=ei(i,"0xffcb9843d60f6159c9db58835c926644")),(32&r)!=0&&(i=ei(i,"0xff973b41fa98c081472e6896dfb254c0")),(64&r)!=0&&(i=ei(i,"0xff2ea16466c96a3843ec78b326b52861")),(128&r)!=0&&(i=ei(i,"0xfe5dee046a99a2a811c461f1969c3053")),(256&r)!=0&&(i=ei(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),(512&r)!=0&&(i=ei(i,"0xf987a7253ac413176f2b074cf7815e54")),(1024&r)!=0&&(i=ei(i,"0xf3392b0822b70005940c7a398e4b70f3")),(2048&r)!=0&&(i=ei(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),(4096&r)!=0&&(i=ei(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),(8192&r)!=0&&(i=ei(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),(16384&r)!=0&&(i=ei(i,"0x70d869a156d2a1b890bb3df62baf32f7")),(32768&r)!=0&&(i=ei(i,"0x31be135f97d08fd981231505542fcfa6")),(65536&r)!=0&&(i=ei(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),(131072&r)!=0&&(i=ei(i,"0x5d6af8dedb81196699c329225ee604")),(262144&r)!=0&&(i=ei(i,"0x2216e584f5fa1ea926041bedfe98")),(524288&r)!=0&&(i=ei(i,"0x48a170391f7dc42444e8fa2")),t>0&&(i=A.default.divide(x.MaxUint256,i)),A.default.greaterThan(A.default.remainder(i,en),G)?A.default.add(A.default.divide(i,en),j):A.default.divide(i,en)},e.getTickAtSqrtRatio=function(t){A.default.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&A.default.lessThan(t,e.MAX_SQRT_RATIO)||(0,b.default)(!1);var r,i=A.default.leftShift(t,A.default.BigInt(32)),n=function(e){A.default.greaterThan(e,G)||(0,b.default)(!1),A.default.lessThanOrEqual(e,x.MaxUint256)||(0,b.default)(!1);for(var t,r=0,i=U(er);!(t=i()).done;){var n=t.value,a=n[0],o=n[1];A.default.greaterThanOrEqual(e,o)&&(e=A.default.signedRightShift(e,A.default.BigInt(a)),r+=a)}return r}(i);r=A.default.greaterThanOrEqual(A.default.BigInt(n),A.default.BigInt(128))?A.default.signedRightShift(i,A.default.BigInt(n-127)):A.default.leftShift(i,A.default.BigInt(127-n));for(var a=A.default.leftShift(A.default.subtract(A.default.BigInt(n),A.default.BigInt(128)),A.default.BigInt(64)),o=0;o<14;o++){r=A.default.signedRightShift(A.default.multiply(r,r),A.default.BigInt(127));var s=A.default.signedRightShift(r,A.default.BigInt(128));a=A.default.bitwiseOr(a,A.default.leftShift(s,A.default.BigInt(63-o))),r=A.default.signedRightShift(r,s)}var u=A.default.multiply(a,A.default.BigInt("255738958999603826347141")),l=A.default.toNumber(A.default.signedRightShift(A.default.subtract(u,A.default.BigInt("3402992956809132418596140100660247210")),A.default.BigInt(128))),c=A.default.toNumber(A.default.signedRightShift(A.default.add(u,A.default.BigInt("291339464771989622907027621153398088495")),A.default.BigInt(128)));return l===c?l:A.default.lessThanOrEqual(e.getSqrtRatioAtTick(c),t)?c:l},e}();function eo(){return(eo=C(L().m(function e(t,r,i,n,a,o,s,u,l){var c,d,f,p,h,m,g;return L().w(function(e){for(;;)switch(e.n){case 0:l||(l=s?A.default.add(ea.MIN_SQRT_RATIO,j):A.default.subtract(ea.MAX_SQRT_RATIO,j)),s?(A.default.greaterThan(l,ea.MIN_SQRT_RATIO)||(0,b.default)(!1),A.default.lessThan(l,r)||(0,b.default)(!1)):(A.default.lessThan(l,ea.MAX_SQRT_RATIO)||(0,b.default)(!1),A.default.greaterThan(l,r)||(0,b.default)(!1)),c=A.default.greaterThanOrEqual(u,G),d={amountSpecifiedRemaining:u,amountCalculated:G,sqrtPriceX96:r,tick:i,liquidity:n};case 1:if(!(A.default.notEqual(d.amountSpecifiedRemaining,G)&&d.sqrtPriceX96!==l)){e.n=7;break}return(f={}).sqrtPriceStartX96=d.sqrtPriceX96,e.n=2,o.nextInitializedTickWithinOneWord(d.tick,s,a);case 2:if(p=e.v,f.tickNext=p[0],f.initialized=p[1],f.tickNext<ea.MIN_TICK?f.tickNext=ea.MIN_TICK:f.tickNext>ea.MAX_TICK&&(f.tickNext=ea.MAX_TICK),f.sqrtPriceNextX96=ea.getSqrtRatioAtTick(f.tickNext),h=$.computeSwapStep(d.sqrtPriceX96,(s?A.default.lessThan(f.sqrtPriceNextX96,l):A.default.greaterThan(f.sqrtPriceNextX96,l))?l:f.sqrtPriceNextX96,d.liquidity,d.amountSpecifiedRemaining,t),d.sqrtPriceX96=h[0],f.amountIn=h[1],f.amountOut=h[2],f.feeAmount=h[3],c?(d.amountSpecifiedRemaining=A.default.subtract(d.amountSpecifiedRemaining,A.default.add(f.amountIn,f.feeAmount)),d.amountCalculated=A.default.subtract(d.amountCalculated,f.amountOut)):(d.amountSpecifiedRemaining=A.default.add(d.amountSpecifiedRemaining,f.amountOut),d.amountCalculated=A.default.add(d.amountCalculated,A.default.add(f.amountIn,f.feeAmount))),!A.default.equal(d.sqrtPriceX96,f.sqrtPriceNextX96)){e.n=5;break}if(!f.initialized){e.n=4;break}return g=A.default,e.n=3,o.getTick(f.tickNext);case 3:m=g.BigInt.call(g,e.v.liquidityNet),s&&(m=A.default.multiply(m,V)),d.liquidity=ee.addDelta(d.liquidity,m);case 4:d.tick=s?f.tickNext-1:f.tickNext,e.n=6;break;case 5:A.default.notEqual(d.sqrtPriceX96,f.sqrtPriceStartX96)&&(d.tick=ea.getTickAtSqrtRatio(d.sqrtPriceX96));case 6:e.n=1;break;case 7:return e.a(2,{amountCalculated:d.amountCalculated,sqrtRatioX96:d.sqrtPriceX96,liquidity:d.liquidity,tickCurrent:d.tick})}},e)}))).apply(this,arguments)}ea.MIN_TICK=-887272,ea.MAX_TICK=-ea.MIN_TICK,ea.MIN_SQRT_RATIO=A.default.BigInt("4295128739"),ea.MAX_SQRT_RATIO=A.default.BigInt("1461446703485210103287273052203988822378723970342");var es=function(){function e(){}var t,r,i=e.prototype;return t=C(L().m(function t(r){return L().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.getTick=function(e){return t.apply(this,arguments)},r=C(L().m(function t(r,i,n){return L().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}();function eu(e,t){return e.index-t.index}es.ERROR_MESSAGE="No tick data provider was given";var el=function(){function e(){}return e.validateList=function(e,t){t>0||(0,b.default)(!1),e.every(function(e){return e.index%t==0})||(0,b.default)(!1),A.default.equal(e.reduce(function(e,t){var r=t.liquidityNet;return A.default.add(e,r)},G),G)||(0,b.default)(!1),function(e,t){for(var r=0;r<e.length-1;r++)if(t(e[r],e[r+1])>0)return!1;return!0}(e,eu)||(0,b.default)(!1)},e.isBelowSmallest=function(e,t){return e.length>0||(0,b.default)(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||(0,b.default)(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var r=e[this.binarySearch(e,t)];return r.index!==t&&(0,b.default)(!1),r},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&(0,b.default)(!1);for(var r,i=0,n=e.length-1;;){if(e[r=Math.floor((i+n)/2)].index<=t&&(r===e.length-1||e[r+1].index>t))return r;e[r].index<t?i=r+1:n=r-1}},e.nextInitializedTick=function(t,r,i){if(i){if(e.isBelowSmallest(t,r)&&(0,b.default)(!1),e.isAtOrAboveLargest(t,r))return t[t.length-1];var n=this.binarySearch(t,r);return t[n]}if(this.isAtOrAboveLargest(t,r)&&(0,b.default)(!1),this.isBelowSmallest(t,r))return t[0];var a=this.binarySearch(t,r);return t[a+1]},e.nextInitializedTickWithinOneWord=function(t,r,i,n){var a=Math.floor(r/n);if(i){var o=(a>>8<<8)*n;if(e.isBelowSmallest(t,r))return[o,!1];var s=e.nextInitializedTick(t,r,i).index,u=Math.max(o,s);return[u,u===s]}var l=(((a+1>>8)+1<<8)-1)*n;if(this.isAtOrAboveLargest(t,r))return[l,!1];var c=this.nextInitializedTick(t,r,i).index,d=Math.min(l,c);return[d,d===c]},e}();function ec(e){var t=A.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}function ed(e,t){var r=e.input.wrapped,i=e.pools.reduce(function(e,t,r){var i=e.inputToken,n=e.path,a=e.types,o=t.token0.equals(i)?t.token1:t.token0;return 0===r?{inputToken:o,types:["address","uint24","address"],path:[i.address,t.fee,o.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(n,[t.fee,o.address])}},{inputToken:r,path:[],types:[]}),n=i.path,a=i.types;return t?(0,y.pack)(a.reverse(),n.reverse()):(0,y.pack)(a,n)}function ef(e,t){var r=A.default.leftShift(A.default.BigInt(e),A.default.BigInt(192)),i=A.default.BigInt(t),n=A.default.divide(r,i);return(0,x.sqrt)(n)}function ep(e,t,r){if(A.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=A.default.divide(A.default.multiply(e,t),z);return A.default.divide(A.default.multiply(A.default.BigInt(r),n),A.default.subtract(t,e))}function eh(e,t,r){if(A.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=A.default.multiply(A.default.multiply(A.default.BigInt(r),e),t),a=A.default.multiply(z,A.default.subtract(t,e));return A.default.divide(n,a)}function em(e,t,r){if(A.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return A.default.divide(A.default.multiply(A.default.BigInt(r),z),A.default.subtract(t,e))}function eg(e,t,r,i,n,a){if(A.default.greaterThan(t,r)){var o=[r,t];t=o[0],r=o[1]}var s=a?eh:ep;if(A.default.lessThanOrEqual(e,t))return s(t,r,i);if(!A.default.lessThan(e,r))return em(t,r,n);var u=s(e,r,i),l=em(t,e,n);return A.default.lessThan(u,l)?u:l}function eb(e,t,r){var i=ea.getSqrtRatioAtTick(r),n=A.default.multiply(i,i);return e.sortsBefore(t)?new x.Price(e,t,H,n):new x.Price(e,t,n,H)}var ey=function(e){var t=e.index,r=e.liquidityGross,i=e.liquidityNet;t>=ea.MIN_TICK&&t<=ea.MAX_TICK||(0,b.default)(!1),this.index=t,this.liquidityGross=A.default.BigInt(r),this.liquidityNet=A.default.BigInt(i)},ex=function(){function e(e,t){var r=e.map(function(e){return e instanceof ey?e:new ey(e)});el.validateList(r,t),this.ticks=r}var t,r,i=e.prototype;return t=C(L().m(function e(t){return L().w(function(e){for(;;)if(0===e.n)return e.a(2,el.getTick(this.ticks,t))},e,this)})),i.getTick=function(e){return t.apply(this,arguments)},r=C(L().m(function e(t,r,i){return L().w(function(e){for(;;)if(0===e.n)return e.a(2,el.nextInitializedTickWithinOneWord(this.ticks,t,r,i))},e,this)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}(),eA=new es,ew=function(){function e(e,t,r,i,n,a,o){void 0===o&&(o=eA),Number.isInteger(r)&&r<1e6||(0,b.default)(!1);var s=ea.getSqrtRatioAtTick(a),u=ea.getSqrtRatioAtTick(a+1);A.default.greaterThanOrEqual(A.default.BigInt(i),s)&&A.default.lessThanOrEqual(A.default.BigInt(i),u)||(0,b.default)(!1);var l=e.sortsBefore(t)?[e,t]:[t,e];this.token0=l[0],this.token1=l[1],this.fee=r,this.sqrtRatioX96=A.default.BigInt(i),this.liquidity=A.default.BigInt(n),this.tickCurrent=a,this.tickDataProvider=Array.isArray(o)?new ex(o,W[r]):o}e.getAddress=function(e,t,r,i,n){var a,o,s,u,l,c,d,f,p,h,m,g;return o=(a={factoryAddress:null!=n?n:"0x1F98431c8aD98523631AE4a59f267346ea31F984",fee:r,tokenA:e,tokenB:t,initCodeHashManualOverride:i}).factoryAddress,s=a.tokenA,u=a.tokenB,l=a.fee,c=a.initCodeHashManualOverride,d=a.chainId,p=(f=s.sortsBefore(u)?[s,u]:[u,s])[0],h=f[1],m=(0,y.keccak256)(["bytes"],[w.defaultAbiCoder.encode(["address","address","uint24"],[p.address,h.address,l])]),g=null!=c?c:d===x.ChainId.ZKSYNC?"0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed":"0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54",d===x.ChainId.ZKSYNC?(0,x.computeZksyncCreate2Address)(o,g,m):(0,S.getCreate2Address)(o,m,g)};var t,r,i,n=e.prototype;return n.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},n.priceOf=function(e){return this.involvesToken(e)||(0,b.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t=C(L().m(function t(r,i){var n,a,o,s,u,l,c;return L().w(function(t){for(;;)switch(t.n){case 0:return this.involvesToken(r.currency)||(0,b.default)(!1),n=r.currency.equals(this.token0),t.n=1,this.swap(n,r.quotient,i);case 1:return o=(a=t.v).amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=n?this.token1:this.token0,t.a(2,[x.CurrencyAmount.fromRawAmount(c,A.default.multiply(o,V)),new e(this.token0,this.token1,this.fee,s,u,l,this.tickDataProvider)])}},t,this)})),n.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=C(L().m(function t(r,i){var n,a,o,s,u,l,c;return L().w(function(t){for(;;)switch(t.n){case 0:return r.currency.isToken&&this.involvesToken(r.currency)||(0,b.default)(!1),n=r.currency.equals(this.token1),t.n=1,this.swap(n,A.default.multiply(r.quotient,V),i);case 1:return o=(a=t.v).amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=n?this.token0:this.token1,t.a(2,[x.CurrencyAmount.fromRawAmount(c,o),new e(this.token0,this.token1,this.fee,s,u,l,this.tickDataProvider)])}},t,this)})),n.getInputAmount=function(e,t){return r.apply(this,arguments)},i=C(L().m(function e(t,r,i){return L().w(function(e){for(;;)if(0===e.n)return e.a(2,function(e,t,r,i,n,a,o,s,u){return eo.apply(this,arguments)}(A.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,i))},e,this)})),n.swap=function(e,t,r){return i.apply(this,arguments)},F(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new x.Price(this.token0,this.token1,H,A.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new x.Price(this.token1,this.token0,A.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),H)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return W[this.fee]}}])}(),ev=function(){function e(e){var t=e.pool,r=e.liquidity,i=e.tickLower,n=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<n||(0,b.default)(!1),i>=ea.MIN_TICK&&i%t.tickSpacing==0||(0,b.default)(!1),n<=ea.MAX_TICK&&n%t.tickSpacing==0||(0,b.default)(!1),this.pool=t,this.tickLower=i,this.tickUpper=n,this.liquidity=A.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new x.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),i=ef(t.numerator,t.denominator);A.default.lessThanOrEqual(i,ea.MIN_SQRT_RATIO)&&(i=A.default.add(ea.MIN_SQRT_RATIO,A.default.BigInt(1)));var n=ef(r.numerator,r.denominator);return A.default.greaterThanOrEqual(n,ea.MAX_SQRT_RATIO)&&(n=A.default.subtract(ea.MAX_SQRT_RATIO,A.default.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:n}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ew(this.pool.token0,this.pool.token1,this.pool.fee,n,0,ea.getTickAtSqrtRatio(n)),o=new ew(this.pool.token0,this.pool.token1,this.pool.fee,i,0,ea.getTickAtSqrtRatio(i)),s=e.fromAmounts(M({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:o,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ew(this.pool.token0,this.pool.token1,this.pool.fee,n,0,ea.getTickAtSqrtRatio(n)),o=new e({pool:new ew(this.pool.token0,this.pool.token1,this.pool.fee,i,0,ea.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},e.fromAmounts=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=ea.getSqrtRatioAtTick(i),l=ea.getSqrtRatioAtTick(n);return new e({pool:r,tickLower:i,tickUpper:n,liquidity:eg(r.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:i,tickUpper:n,amount0:a,amount1:x.MaxUint256,useFullPrecision:o})},e.fromAmount1=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount1;return e.fromAmounts({pool:r,tickLower:i,tickUpper:n,amount0:x.MaxUint256,amount1:a,useFullPrecision:!0})},F(e,[{key:"token0PriceLower",get:function(){return eb(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return eb(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.token0,Y.getAmount0Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.token0,Y.getAmount0Delta(this.pool.sqrtRatioX96,ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.token0,G)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.token1,G):this.pool.tickCurrent<this.tickUpper?this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.token1,Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.token1,Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:Y.getAmount0Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:G};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:Y.getAmount0Delta(this.pool.sqrtRatioX96,ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:G,amount1:Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}();F(function(e,t,r){this._midPrice=null,e.length>0||(0,b.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,b.default)(!1);var n=t.wrapped;e[0].involvesToken(n)||(0,b.default)(!1),e[e.length-1].involvesToken(r.wrapped)||(0,b.default)(!1);for(var a,o=[n],s=U(e.entries());!(a=s()).done;){var u=a.value,l=u[0],c=u[1],d=o[l];d.equals(c.token0)||d.equals(c.token1)||(0,b.default)(!1);var f=d.equals(c.token0)?c.token1:c.token0;o.push(f)}this.pools=e,this.tokenPath=o,this.input=t,this.output=null!=r?r:o[o.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,i=e.price;return r.equals(t.token0)?{nextInput:t.token1,price:i.multiply(t.token0Price)}:{nextInput:t.token0,price:i.multiply(t.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new x.Price(this.input,this.output,e.denominator,e.numerator)}}]);var eS=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t).data},e}();eS.INTERFACE=new v.Interface(k.default.abi);var ek=function(){function e(){}return e.encodePermit=function(t,r){return"nonce"in r?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,ec(r.nonce),ec(r.expiry),r.v,r.r,r.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,ec(r.amount),ec(r.deadline),r.v,r.r,r.s])},e}();ek.INTERFACE=new v.Interface(E.default.abi);var eT=function(){function e(){}return e.encodeFeeBips=function(e){return ec(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,r,i){if(r=(0,x.validateAndParseAddress)(r),!i)return e.INTERFACE.encodeFunctionData("unwrapWETH9",[ec(t),r]);var n=this.encodeFeeBips(i.fee),a=(0,x.validateAndParseAddress)(i.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[ec(t),r,n,a])},e.encodeSweepToken=function(t,r,i,n){if(i=(0,x.validateAndParseAddress)(i),!n)return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,ec(r),i]);var a=this.encodeFeeBips(n.fee),o=(0,x.validateAndParseAddress)(n.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,ec(r),i,a,o])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();eT.INTERFACE=new v.Interface(P.default.abi);var eE=["expectedCurrencyOwed0","expectedCurrencyOwed1"],eP=ec(A.default.subtract(A.default.exponentiate(A.default.BigInt(2),A.default.BigInt(128)),A.default.BigInt(1)));function eI(e){return Object.keys(e).some(function(e){return"recipient"===e})}var e_={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]};(function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,ec(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:ec(0)}},e.addCallParameters=function(t,r){A.default.greaterThan(t.liquidity,G)||(0,b.default)(!1);var i=[],n=t.mintAmounts,a=n.amount0,o=n.amount1,s=t.mintAmountsWithSlippage(r.slippageTolerance),u=ec(s.amount0),l=ec(s.amount1),c=ec(r.deadline);if(eI(r)&&r.createPool&&i.push(this.encodeCreate(t.pool)),r.token0Permit&&i.push(ek.encodePermit(t.pool.token0,r.token0Permit)),r.token1Permit&&i.push(ek.encodePermit(t.pool.token1,r.token1Permit)),eI(r)){var d=(0,x.validateAndParseAddress)(r.recipient);i.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:ec(a),amount1Desired:ec(o),amount0Min:u,amount1Min:l,recipient:d,deadline:c}]))}else i.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:ec(r.tokenId),amount0Desired:ec(a),amount1Desired:ec(o),amount0Min:u,amount1Min:l,deadline:c}]));var f=ec(0);if(r.useNative){var p=r.useNative.wrapped;t.pool.token0.equals(p)||t.pool.token1.equals(p)||(0,b.default)(!1);var h=t.pool.token0.equals(p)?a:o;A.default.greaterThan(h,G)&&i.push(eT.encodeRefundETH()),f=ec(h)}return{calldata:eS.encodeMulticall(i),value:f}},e.encodeCollect=function(t){var r=[],i=ec(t.tokenId),n=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,a=(0,x.validateAndParseAddress)(t.recipient);if(r.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:i,recipient:n?K:a,amount0Max:eP,amount1Max:eP}])),n){var o=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,s=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;r.push(eT.encodeUnwrapWETH9(o,a)),r.push(eT.encodeSweepToken(s,u,a))}return r},e.collectCallParameters=function(t){var r=e.encodeCollect(t);return{calldata:eS.encodeMulticall(r),value:ec(0)}},e.removeCallParameters=function(t,r){var i=[],n=ec(r.deadline),a=ec(r.tokenId),o=new ev({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});A.default.greaterThan(o.liquidity,G)||(0,b.default)(!1);var s=o.burnAmountsWithSlippage(r.slippageTolerance),u=s.amount0,l=s.amount1;r.permit&&i.push(e.INTERFACE.encodeFunctionData("permit",[(0,x.validateAndParseAddress)(r.permit.spender),a,ec(r.permit.deadline),r.permit.v,r.permit.r,r.permit.s])),i.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:a,liquidity:ec(o.liquidity),amount0Min:ec(u),amount1Min:ec(l),deadline:n}]));var c=r.collectOptions,d=c.expectedCurrencyOwed0,f=c.expectedCurrencyOwed1,p=function(e,t){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}(c,eE);return i.push.apply(i,e.encodeCollect(M({tokenId:ec(r.tokenId),expectedCurrencyOwed0:d.add(x.CurrencyAmount.fromRawAmount(d.currency,u)),expectedCurrencyOwed1:f.add(x.CurrencyAmount.fromRawAmount(f.currency,l))},p))),r.liquidityPercentage.equalTo(j)?r.burnToken&&i.push(e.INTERFACE.encodeFunctionData("burn",[a])):!0===r.burnToken&&(0,b.default)(!1),{calldata:eS.encodeMulticall(i),value:ec(0)}},e.safeTransferFromParameters=function(t){var r=(0,x.validateAndParseAddress)(t.recipient),i=(0,x.validateAndParseAddress)(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[i,r,ec(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[i,r,ec(t.tokenId)]),value:ec(0)}},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V3 Positions NFT-V1",chainId:r,version:"1",verifyingContract:t},types:e_,values:e}},e})().INTERFACE=new v.Interface(T.default.abi);var eN=function(){function e(){}return e.quoteCallParameters=function(e,t,r,i){void 0===i&&(i={});var n=1===e.pools.length,a=ec(t.quotient),o=i.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(n){var s,u,l,c={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:ec(null!=(u=null==(l=i)?void 0:l.sqrtPriceLimitX96)?u:0)},d=M({},c,r===x.TradeType.EXACT_INPUT?{amountIn:a}:{amount:a}),f=[c.tokenIn,c.tokenOut,c.fee,a,c.sqrtPriceLimitX96],p=r===x.TradeType.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";s=o.encodeFunctionData(p,i.useQuoterV2?[d]:f)}else{(null==(h=i)?void 0:h.sqrtPriceLimitX96)!==void 0&&(0,b.default)(!1);var h,m=ed(e,r===x.TradeType.EXACT_OUTPUT),g=r===x.TradeType.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";s=o.encodeFunctionData(g,[m,a])}return{calldata:s,value:ec(0)}},e}();eN.V1INTERFACE=new v.Interface(I.default.abi),eN.V2INTERFACE=new v.Interface(_.default.abi);var eR=function(){function e(){}return e.encodeClaim=function(t,r){var i,n=[];n.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),ec(r.tokenId)]));var a=(0,x.validateAndParseAddress)(r.recipient),o=null!=(i=r.amount)?i:0;return n.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,a,ec(o)])),n},e.collectRewards=function(t,r){t=Array.isArray(t)?t:[t];for(var i=[],n=0;n<t.length;n++){var a=t[n];(i=i.concat(this.encodeClaim(a,r))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),ec(r.tokenId)]))}return{calldata:eS.encodeMulticall(i),value:ec(0)}},e.withdrawToken=function(t,r){var i=[];t=Array.isArray(t)?t:[t];for(var n={tokenId:r.tokenId,recipient:r.recipient,amount:r.amount},a=0;a<t.length;a++){var o=t[a];i=i.concat(this.encodeClaim(o,n))}var s=(0,x.validateAndParseAddress)(r.owner);return i.push(e.INTERFACE.encodeFunctionData("withdrawToken",[ec(r.tokenId),s,r.data?r.data:ec(0)])),{calldata:eS.encodeMulticall(i),value:ec(0)}},e.encodeDeposit=function(t){if((t=Array.isArray(t)?t:[t]).length>1){for(var r,i=[],n=0;n<t.length;n++){var a=t[n];i.push(this._encodeIncentiveKey(a))}r=w.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI+"[]"],[i])}else r=w.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return r},e._encodeIncentiveKey=function(e){var t=e.pool,r=t.token0,i=t.token1,n=t.fee,a=(0,x.validateAndParseAddress)(e.refundee);return{rewardToken:e.rewardToken.address,pool:ew.getAddress(r,i,n),startTime:ec(e.startTime),endTime:ec(e.endTime),refundee:a}},e}();eR.INTERFACE=new v.Interface(N.default.abi),eR.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)",function(){function e(){}return e.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var i=t[0],n=i.inputAmount.currency.wrapped,a=i.outputAmount.currency.wrapped;t.every(function(e){return e.inputAmount.currency.wrapped.equals(n)})||(0,b.default)(!1),t.every(function(e){return e.outputAmount.currency.wrapped.equals(a)})||(0,b.default)(!1);var o=[],s=x.CurrencyAmount.fromRawAmount(t[0].inputAmount.currency,0),u=x.CurrencyAmount.fromRawAmount(t[0].outputAmount.currency,0),l=t.reduce(function(e,t){return e.add(t.minimumAmountOut(r.slippageTolerance))},u),c=i.inputAmount.currency.isNative&&i.tradeType===x.TradeType.EXACT_OUTPUT,d=i.inputAmount.currency.isNative,f=i.outputAmount.currency.isNative,p=f||!!r.fee,h=d?t.reduce(function(e,t){return e.add(t.maximumAmountIn(r.slippageTolerance))},s):s;r.inputTokenPermit&&(i.inputAmount.currency.isToken||(0,b.default)(!1),o.push(ek.encodePermit(i.inputAmount.currency,r.inputTokenPermit)));for(var m,g=(0,x.validateAndParseAddress)(r.recipient),y=ec(r.deadline),A=U(t);!(m=A()).done;)for(var w,v=m.value,S=U(v.swaps);!(w=S()).done;){var k=w.value,T=k.route,E=k.inputAmount,P=k.outputAmount,I=ec(v.maximumAmountIn(r.slippageTolerance,E).quotient),_=ec(v.minimumAmountOut(r.slippageTolerance,P).quotient);if(1===T.pools.length)if(v.tradeType===x.TradeType.EXACT_INPUT){var N,R={tokenIn:T.tokenPath[0].address,tokenOut:T.tokenPath[1].address,fee:T.pools[0].fee,recipient:p?K:g,deadline:y,amountIn:I,amountOutMinimum:_,sqrtPriceLimitX96:ec(null!=(N=r.sqrtPriceLimitX96)?N:0)};o.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[R]))}else{var O,B={tokenIn:T.tokenPath[0].address,tokenOut:T.tokenPath[1].address,fee:T.pools[0].fee,recipient:p?K:g,deadline:y,amountOut:_,amountInMaximum:I,sqrtPriceLimitX96:ec(null!=(O=r.sqrtPriceLimitX96)?O:0)};o.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[B]))}else{void 0!==r.sqrtPriceLimitX96&&(0,b.default)(!1);var C=ed(T,v.tradeType===x.TradeType.EXACT_OUTPUT);if(v.tradeType===x.TradeType.EXACT_INPUT){var D={path:C,recipient:p?K:g,deadline:y,amountIn:I,amountOutMinimum:_};o.push(e.INTERFACE.encodeFunctionData("exactInput",[D]))}else{var F={path:C,recipient:p?K:g,deadline:y,amountOut:_,amountInMaximum:I};o.push(e.INTERFACE.encodeFunctionData("exactOutput",[F]))}}}return p&&(r.fee?f?o.push(eT.encodeUnwrapWETH9(l.quotient,g,r.fee)):o.push(eT.encodeSweepToken(i.outputAmount.currency.wrapped,l.quotient,g,r.fee)):o.push(eT.encodeUnwrapWETH9(l.quotient,g))),c&&o.push(eT.encodeRefundETH()),{calldata:eS.encodeMulticall(o),value:ec(h.quotient)}},e}().INTERFACE=new v.Interface(R.default.abi);var eO=e.i(847994),eB=e.i(819090),eC=e.i(654238);function eD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function eF(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function eU(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){eF(a,i,n,o,s,"next",e)}function s(e){eF(a,i,n,o,s,"throw",e)}o(void 0)})}}function eM(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function eL(e,t,r){return t&&eM(e.prototype,t),r&&eM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eq(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return eD(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eD(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eK(){return(eK=Object.assign.bind()).apply(null,arguments)}function eW(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return eV(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(eV(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,eV(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,eV(c,"constructor",l),eV(l,"constructor",u),u.displayName="GeneratorFunction",eV(l,n,"GeneratorFunction"),eV(c),eV(c,n,"Generator"),eV(c,i,function(){return this}),eV(c,"toString",function(){return"[object Generator]"}),(eW=function(){return{w:a,m:d}})()}function eV(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(eV=function(e,t,r,i){function a(t,r){eV(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}function eG(e,t){return(eG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ej(e,t){return!!e.isNative||!t.isNative&&e.wrapped.sortsBefore(t.wrapped)}(r=c||(c={})).AfterRemoveLiquidityReturnsDelta="afterRemoveLiquidityReturnsDelta",r.AfterAddLiquidityReturnsDelta="afterAddLiquidityReturnsDelta",r.AfterSwapReturnsDelta="afterSwapReturnsDelta",r.BeforeSwapReturnsDelta="beforeSwapReturnsDelta",r.AfterDonate="afterDonate",r.BeforeDonate="beforeDonate",r.AfterSwap="afterSwap",r.BeforeSwap="beforeSwap",r.AfterRemoveLiquidity="afterRemoveLiquidity",r.BeforeRemoveLiquidity="beforeRemoveLiquidity",r.AfterAddLiquidity="afterAddLiquidity",r.BeforeAddLiquidity="beforeAddLiquidity",r.AfterInitialize="afterInitialize",r.BeforeInitialize="beforeInitialize";var ez=((l={})[c.AfterRemoveLiquidityReturnsDelta]=0,l[c.AfterAddLiquidityReturnsDelta]=1,l[c.AfterSwapReturnsDelta]=2,l[c.BeforeSwapReturnsDelta]=3,l[c.AfterDonate]=4,l[c.BeforeDonate]=5,l[c.AfterSwap]=6,l[c.BeforeSwap]=7,l[c.AfterRemoveLiquidity]=8,l[c.BeforeRemoveLiquidity]=9,l[c.AfterAddLiquidity]=10,l[c.BeforeAddLiquidity]=11,l[c.AfterInitialize]=12,l[c.BeforeInitialize]=13,l),eH=function(){function e(){}return e.permissions=function(e){return this._checkAddress(e),{beforeInitialize:this._hasPermission(e,c.BeforeInitialize),afterInitialize:this._hasPermission(e,c.AfterInitialize),beforeAddLiquidity:this._hasPermission(e,c.BeforeAddLiquidity),afterAddLiquidity:this._hasPermission(e,c.AfterAddLiquidity),beforeRemoveLiquidity:this._hasPermission(e,c.BeforeRemoveLiquidity),afterRemoveLiquidity:this._hasPermission(e,c.AfterRemoveLiquidity),beforeSwap:this._hasPermission(e,c.BeforeSwap),afterSwap:this._hasPermission(e,c.AfterSwap),beforeDonate:this._hasPermission(e,c.BeforeDonate),afterDonate:this._hasPermission(e,c.AfterDonate),beforeSwapReturnsDelta:this._hasPermission(e,c.BeforeSwapReturnsDelta),afterSwapReturnsDelta:this._hasPermission(e,c.AfterSwapReturnsDelta),afterAddLiquidityReturnsDelta:this._hasPermission(e,c.AfterAddLiquidityReturnsDelta),afterRemoveLiquidityReturnsDelta:this._hasPermission(e,c.AfterRemoveLiquidityReturnsDelta)}},e.hasPermission=function(e,t){return this._checkAddress(e),this._hasPermission(e,t)},e.hasInitializePermissions=function(t){return this._checkAddress(t),this._hasPermission(t,c.BeforeInitialize)||e._hasPermission(t,c.AfterInitialize)},e.hasLiquidityPermissions=function(t){return this._checkAddress(t),this._hasPermission(t,c.BeforeAddLiquidity)||e._hasPermission(t,c.AfterAddLiquidity)||e._hasPermission(t,c.BeforeRemoveLiquidity)||e._hasPermission(t,c.AfterRemoveLiquidity)},e.hasSwapPermissions=function(t){return this._checkAddress(t),this._hasPermission(t,c.BeforeSwap)||e._hasPermission(t,c.AfterSwap)},e.hasDonatePermissions=function(t){return this._checkAddress(t),this._hasPermission(t,c.BeforeDonate)||e._hasPermission(t,c.AfterDonate)},e._hasPermission=function(e,t){return!!(parseInt("0x"+e.slice(-8),16)&1<<ez[t])},e._checkAddress=function(e){(0,eO.isAddress)(e)||(0,b.default)(!1)},e}(),eX=eB.constants.AddressZero,eQ=A.default.BigInt(-1),eJ=A.default.BigInt(0),eY=A.default.BigInt(1),eZ=A.default.exponentiate(A.default.BigInt(2),A.default.BigInt(96)),e$=A.default.exponentiate(eZ,A.default.BigInt(2)),e0=eB.constants.Zero;(i=f||(f={})).INITIALIZE_POOL="initializePool",i.MODIFY_LIQUIDITIES="modifyLiquidities",i.PERMIT_BATCH="0x002a3e3a",i.ERC721PERMIT_PERMIT="0x0f5730f1",(n=p||(p={}))[n.LOWEST=100]="LOWEST",n[n.LOW=500]="LOW",n[n.MEDIUM=3e3]="MEDIUM",n[n.HIGH=1e4]="HIGH",(d={})[p.LOWEST]=1,d[p.LOW]=10,d[p.MEDIUM]=60,d[p.HIGH]=200;var e1=new es,e2=function(){function e(t,r,i,n,a,o,s,u,l){void 0===l&&(l=e1),(0,eO.isAddress)(a)||(0,b.default)(!1),Number.isInteger(i)&&(8388608===i||i<1e6)||(0,b.default)(!1),8388608===i&&(Number(a)>0||(0,b.default)(!1));var c=ea.getSqrtRatioAtTick(u),d=ea.getSqrtRatioAtTick(u+1);A.default.greaterThanOrEqual(A.default.BigInt(o),c)&&A.default.lessThanOrEqual(A.default.BigInt(o),d)||(0,b.default)(!1);var f=ej(t,r)?[t,r]:[r,t];this.currency0=f[0],this.currency1=f[1],this.fee=i,this.sqrtRatioX96=A.default.BigInt(o),this.tickSpacing=n,this.hooks=a,this.liquidity=A.default.BigInt(s),this.tickCurrent=u,this.tickDataProvider=Array.isArray(l)?new ex(l,n):l,this.poolKey=e.getPoolKey(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks),this.poolId=e.getPoolId(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks)}e.getPoolKey=function(e,t,r,i,n){(0,eO.isAddress)(n)||(0,b.default)(!1);var a=ej(e,t)?[e,t]:[t,e],o=a[0],s=a[1];return{currency0:o.isNative?eX:o.wrapped.address,currency1:s.isNative?eX:s.wrapped.address,fee:r,tickSpacing:i,hooks:n}},e.getPoolId=function(e,t,r,i,n){var a=ej(e,t)?[e,t]:[t,e],o=a[0],s=a[1],u=o.isNative?eX:o.wrapped.address,l=s.isNative?eX:s.wrapped.address;return(0,y.keccak256)(["bytes"],[eO.defaultAbiCoder.encode(["address","address","uint24","int24","address"],[u,l,r,i,n])])};var t,r,i,n=e.prototype;return n.involvesCurrency=function(e){return e.equals(this.currency0)||e.equals(this.currency1)},n.involvesToken=function(e){return this.involvesCurrency(e)},n.v4InvolvesToken=function(e){return this.involvesCurrency(e)||e.wrapped.equals(this.currency0)||e.wrapped.equals(this.currency1)||e.wrapped.equals(this.currency0.wrapped)||e.wrapped.equals(this.currency1.wrapped)},n.priceOf=function(e){return this.involvesCurrency(e)||(0,b.default)(!1),e.equals(this.currency0)?this.currency0Price:this.currency1Price},t=eU(eW().m(function t(r,i){var n,a,o,s,u,l,c;return eW().w(function(t){for(;;)switch(t.n){case 0:return this.involvesCurrency(r.currency)||(0,b.default)(!1),n=r.currency.equals(this.currency0),t.n=1,this.swap(n,r.quotient,i);case 1:return o=(a=t.v).amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=n?this.currency1:this.currency0,t.a(2,[x.CurrencyAmount.fromRawAmount(c,A.default.multiply(o,eQ)),new e(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,s,u,l,this.tickDataProvider)])}},t,this)})),n.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=eU(eW().m(function t(r,i){var n,a,o,s,u,l,c;return eW().w(function(t){for(;;)switch(t.n){case 0:return this.involvesCurrency(r.currency)||(0,b.default)(!1),n=r.currency.equals(this.currency1),t.n=1,this.swap(n,A.default.multiply(r.quotient,eQ),i);case 1:return o=(a=t.v).amountCalculated,s=a.sqrtRatioX96,u=a.liquidity,l=a.tickCurrent,c=n?this.currency0:this.currency1,t.a(2,[x.CurrencyAmount.fromRawAmount(c,o),new e(this.currency0,this.currency1,this.fee,this.tickSpacing,this.hooks,s,u,l,this.tickDataProvider)])}},t,this)})),n.getInputAmount=function(e,t){return r.apply(this,arguments)},i=eU(eW().m(function e(t,r,i){return eW().w(function(e){for(;;)switch(e.n){case 0:if(this.hookImpactsSwap()){e.n=1;break}return e.a(2,function(e,t,r,i,n,a,o,s,u){return eo.apply(this,arguments)}(A.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,i));case 1:throw Error("Unsupported hook");case 2:return e.a(2)}},e,this)})),n.swap=function(e,t,r){return i.apply(this,arguments)},n.hookImpactsSwap=function(){return eH.hasSwapPermissions(this.hooks)},eL(e,[{key:"token0",get:function(){return this.currency0}},{key:"token1",get:function(){return this.currency1}},{key:"currency0Price",get:function(){var e;return null!=(e=this._currency0Price)?e:this._currency0Price=new x.Price(this.currency0,this.currency1,e$,A.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token0Price",get:function(){return this.currency0Price}},{key:"currency1Price",get:function(){var e;return null!=(e=this._currency1Price)?e:this._currency1Price=new x.Price(this.currency1,this.currency0,A.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),e$)}},{key:"token1Price",get:function(){return this.currency1Price}},{key:"chainId",get:function(){return this.currency0.chainId}}])}();function e4(e,t){return x.CurrencyAmount.fromFractionalAmount(e6(e.currency,t),e.numerator,e.denominator)}function e6(e,t){if(t.involvesCurrency(e))return e;if(t.involvesCurrency(e.wrapped))return e.wrapped;if(t.currency0.wrapped.equals(e))return t.currency0;if(t.currency1.wrapped.equals(e))return t.currency1;throw Error("Expected currency "+e.symbol+" to be either "+t.currency0.symbol+" or "+t.currency1.symbol)}var e3=eL(function(e,t,r){this._midPrice=null,e.length>0||(0,b.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,b.default)(!1),this.pathInput=e6(t,e[0]),this.pathOutput=e6(r,e[e.length-1]);for(var n,a=[this.pathInput],o=eq(e.entries());!(n=o()).done;){var s=n.value,u=s[0],l=s[1],c=a[u];c.equals(l.currency0)||c.equals(l.currency1)||(0,b.default)(!1);var d=c.equals(l.currency0)?l.currency1:l.currency0;a.push(d)}this.pools=e,this.currencyPath=a,this.input=t,this.output=null!=r?r:a[a.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,i=e.price;return r.equals(t.currency0)?{nextInput:t.currency1,price:i.multiply(t.currency0Price)}:{nextInput:t.currency0,price:i.multiply(t.currency1Price)}},this.pools[0].currency0.equals(this.input)?{nextInput:this.pools[0].currency1,price:this.pools[0].currency0Price}:{nextInput:this.pools[0].currency0,price:this.pools[0].currency1Price}).price;return this._midPrice=new x.Price(this.input,this.output,e.denominator,e.numerator)}}]);function e5(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,b.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,b.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.currencyPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.currencyPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var e8=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return i.equals(t.input)})||(0,b.default)(!1),t.every(function(e){var t=e.route;return n.equals(t.output)})||(0,b.default)(!1);for(var a,o=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),s=new Set,u=eq(t);!(a=u()).done;)for(var l,c=a.value.route,d=eq(c.pools);!(l=d()).done;){var f=l.value;s.add(e2.getPoolId(f.currency0,f.currency1,f.fee,f.tickSpacing,f.hooks))}o!==s.size&&(0,b.default)(!1),this.swaps=t,this.tradeType=r}t=eU(eW().m(function t(r,i){return eW().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,x.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=eU(eW().m(function t(r,i){return eW().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,x.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},i=eU(eW().m(function t(r,i,n){var a,o,s,u,l,c,d,f;return eW().w(function(t){for(;;)switch(t.n){case 0:if(n!==x.TradeType.EXACT_INPUT){t.n=5;break}i.currency.equals(r.input)||(0,b.default)(!1),s=e4(i,r.pools[0]),u=0;case 1:if(!(u<r.pools.length)){t.n=4;break}return l=r.pools[u],t.n=2,l.getOutputAmount(s);case 2:s=t.v[0];case 3:u++,t.n=1;break;case 4:a=x.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),o=x.CurrencyAmount.fromFractionalAmount(r.output,s.numerator,s.denominator),t.n=10;break;case 5:i.currency.equals(r.output)||(0,b.default)(!1),c=e4(i,r.pools[r.pools.length-1]),d=r.pools.length-1;case 6:if(!(d>=0)){t.n=9;break}return f=r.pools[d],t.n=7,f.getInputAmount(c);case 7:c=t.v[0];case 8:d--,t.n=6;break;case 9:a=x.CurrencyAmount.fromFractionalAmount(r.input,c.numerator,c.denominator),o=x.CurrencyAmount.fromFractionalAmount(r.output,i.numerator,i.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:a,outputAmount:o,route:r}],tradeType:n}))}},t)})),e.fromRoute=function(e,t,r){return i.apply(this,arguments)},n=eU(eW().m(function t(r,i){var n;return eW().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,Promise.all(r.map(function(){var t=eU(eW().m(function t(r){var n,a,o;return eW().w(function(t){for(;;)switch(t.n){case 0:return n=r.amount,a=r.route,t.n=1,e.fromRoute(a,n,i);case 1:return o=t.v,t.a(2,o.swaps[0])}},t)}));return function(e){return t.apply(this,arguments)}}()));case 1:return n=t.v,t.a(2,new e({routes:n,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return n.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(eK({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,n,a,o,s=e.prototype;return s.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(eJ)&&(0,b.default)(!1),this.tradeType===x.TradeType.EXACT_OUTPUT)return t;var r=new x.Fraction(eY).add(e).invert().multiply(t.quotient).quotient;return x.CurrencyAmount.fromRawAmount(t.currency,r)},s.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(eJ)&&(0,b.default)(!1),this.tradeType===x.TradeType.EXACT_INPUT)return t;var r=new x.Fraction(eY).add(e).multiply(t.quotient).quotient;return x.CurrencyAmount.fromRawAmount(t.currency,r)},s.worstExecutionPrice=function(e){return new x.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},a=eU(eW().m(function t(r,i,n,a,o,s,u){var l,c,d,f,p,h,m,g,y,A,w,v,S;return eW().w(function(t){for(;;)switch(t.p=t.n){case 0:d=void 0===(c=(l=void 0===a?{}:a).maxNumResults)?3:c,p=void 0===(f=l.maxHops)?3:f,void 0===o&&(o=[]),void 0===s&&(s=i),void 0===u&&(u=[]),r.length>0||(0,b.default)(!1),p>0||(0,b.default)(!1),i===s||o.length>0||(0,b.default)(!1),h=s,m=0;case 1:if(!(m<r.length)){t.n=11;break}if(!(!(g=r[m]).currency0.equals(h.currency)&&!g.currency1.equals(h.currency))){t.n=2;break}return t.a(3,10);case 2:return y=void 0,t.p=3,t.n=4,g.getOutputAmount(h);case 4:y=t.v[0],t.n=7;break;case 5:if(t.p=5,!(w=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw w;case 7:if(!y.currency.equals(n)){t.n=9;break}return v=x.sortedInsert,S=u,t.n=8,e.fromRoute(new e3([].concat(o,[g]),i.currency,n),i,x.TradeType.EXACT_INPUT);case 8:v(S,t.v,d,e5),t.n=10;break;case 9:if(!(p>1&&r.length>1)){t.n=10;break}return A=r.slice(0,m).concat(r.slice(m+1,r.length)),t.n=10,e.bestTradeExactIn(A,i,n,{maxNumResults:d,maxHops:p-1},[].concat(o,[g]),y,u);case 10:m++,t.n=1;break;case 11:return t.a(2,u)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,i,n,o,s){return a.apply(this,arguments)},o=eU(eW().m(function t(r,i,n,a,o,s,u){var l,c,d,f,p,h,m,g,y,A,w,v,S;return eW().w(function(t){for(;;)switch(t.p=t.n){case 0:d=void 0===(c=(l=void 0===a?{}:a).maxNumResults)?3:c,p=void 0===(f=l.maxHops)?3:f,void 0===o&&(o=[]),void 0===s&&(s=n),void 0===u&&(u=[]),r.length>0||(0,b.default)(!1),p>0||(0,b.default)(!1),n===s||o.length>0||(0,b.default)(!1),h=s,m=0;case 1:if(!(m<r.length)){t.n=11;break}if(!(!(g=r[m]).currency0.equals(h.currency)&&!g.currency1.equals(h.currency))){t.n=2;break}return t.a(3,10);case 2:return y=void 0,t.p=3,t.n=4,g.getInputAmount(h);case 4:y=t.v[0],t.n=7;break;case 5:if(t.p=5,!(w=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw w;case 7:if(!y.currency.equals(i)){t.n=9;break}return v=x.sortedInsert,S=u,t.n=8,e.fromRoute(new e3([g].concat(o),i,n.currency),n,x.TradeType.EXACT_OUTPUT);case 8:v(S,t.v,d,e5),t.n=10;break;case 9:if(!(p>1&&r.length>1)){t.n=10;break}return A=r.slice(0,m).concat(r.slice(m+1,r.length)),t.n=10,e.bestTradeExactOut(A,i,n,{maxNumResults:d,maxHops:p-1},[g].concat(o),y,u);case 10:m++,t.n=1;break;case 11:return t.a(2,u)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,i,n,a,s){return o.apply(this,arguments)},eL(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,b.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},x.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},x.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new x.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=x.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=eq(this.swaps);!(e=r()).done;){var i=e.value,n=i.route,a=i.inputAmount,o=n.midPrice;t=t.add(o.quote(a))}var s=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new x.Percent(s.numerator,s.denominator),this._priceImpact}}])}();function e7(e,t,r){var i=ea.getSqrtRatioAtTick(r),n=A.default.multiply(i,i);return ej(e,t)?new x.Price(e,t,e$,n):new x.Price(e,t,n,e$)}function e9(e){var t=ej(e.baseCurrency,e.quoteCurrency),r=t?ef(e.numerator,e.denominator):ef(e.denominator,e.numerator),i=ea.getTickAtSqrtRatio(r),n=e7(e.baseCurrency,e.quoteCurrency,i+1);return t?!e.lessThan(n)&&i++:!e.greaterThan(n)&&i++,i}var te=function(){function e(e){var t=e.pool,r=e.liquidity,i=e.tickLower,n=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<n||(0,b.default)(!1),i>=ea.MIN_TICK&&i%t.tickSpacing==0||(0,b.default)(!1),n<=ea.MAX_TICK&&n%t.tickSpacing==0||(0,b.default)(!1),this.pool=t,this.tickLower=i,this.tickUpper=n,this.liquidity=A.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new x.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),i=ef(t.numerator,t.denominator);A.default.lessThanOrEqual(i,ea.MIN_SQRT_RATIO)&&(i=A.default.add(ea.MIN_SQRT_RATIO,A.default.BigInt(1)));var n=ef(r.numerator,r.denominator);return A.default.greaterThanOrEqual(n,ea.MAX_SQRT_RATIO)&&(n=A.default.subtract(ea.MAX_SQRT_RATIO,A.default.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:n}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new e2(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,n,0,ea.getTickAtSqrtRatio(n)),o=new e({pool:new e2(this.pool.token0,this.pool.token1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,i,0,ea.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1;return{amount0:new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:o}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new e2(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,n,0,ea.getTickAtSqrtRatio(n)),o=new e({pool:new e2(this.pool.currency0,this.pool.currency1,this.pool.fee,this.pool.tickSpacing,this.pool.hooks,i,0,ea.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},t.permitBatchData=function(e,t,r,i){var n=this.mintAmountsWithSlippage(e),a=n.amount0,o=n.amount1;return{details:[{token:this.pool.currency0.wrapped.address,amount:a,expiration:i,nonce:r},{token:this.pool.currency1.wrapped.address,amount:o,expiration:i,nonce:r}],spender:t,sigDeadline:i}},e.fromAmounts=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=ea.getSqrtRatioAtTick(i),l=ea.getSqrtRatioAtTick(n);return new e({pool:r,tickLower:i,tickUpper:n,liquidity:eg(r.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:i,tickUpper:n,amount0:a,amount1:x.MaxUint256,useFullPrecision:o})},e.fromAmount1=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount1;return e.fromAmounts({pool:r,tickLower:i,tickUpper:n,amount0:x.MaxUint256,amount1:a,useFullPrecision:!0})},eL(e,[{key:"token0PriceLower",get:function(){return e7(this.pool.currency0,this.pool.currency1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return e7(this.pool.currency0,this.pool.currency1,this.tickUpper)}},{key:"amount0",get:function(){return this._token0Amount||(this.pool.tickCurrent<this.tickLower?this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency0,Y.getAmount0Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency0,Y.getAmount0Delta(this.pool.sqrtRatioX96,ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency0,eJ)),this._token0Amount}},{key:"amount1",get:function(){return this._token1Amount||(this.pool.tickCurrent<this.tickLower?this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency1,eJ):this.pool.tickCurrent<this.tickUpper?this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency1,Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=x.CurrencyAmount.fromRawAmount(this.pool.currency1,Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:Y.getAmount0Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:eJ};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:Y.getAmount0Delta(this.pool.sqrtRatioX96,ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:eJ,amount1:Y.getAmount1Delta(ea.getSqrtRatioAtTick(this.tickLower),ea.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),tt=function(e,t){var r=e.pools.map(function(e){return e});t&&(r=r.reverse());for(var i,n=t?e.pathOutput:e.pathInput,a=[],o=eq(r);!(i=o()).done;){var s=i.value,u=n.equals(s.currency0)?s.currency1:s.currency0;a.push({intermediateCurrency:u.isNative?eX:u.address,fee:s.fee,tickSpacing:s.tickSpacing,hooks:s.hooks,hookData:"0x"}),n=u}return t?a.reverse():a};(a=m||(m={}))[a.INCREASE_LIQUIDITY=0]="INCREASE_LIQUIDITY",a[a.DECREASE_LIQUIDITY=1]="DECREASE_LIQUIDITY",a[a.MINT_POSITION=2]="MINT_POSITION",a[a.BURN_POSITION=3]="BURN_POSITION",a[a.SWAP_EXACT_IN_SINGLE=6]="SWAP_EXACT_IN_SINGLE",a[a.SWAP_EXACT_IN=7]="SWAP_EXACT_IN",a[a.SWAP_EXACT_OUT_SINGLE=8]="SWAP_EXACT_OUT_SINGLE",a[a.SWAP_EXACT_OUT=9]="SWAP_EXACT_OUT",a[a.SETTLE=11]="SETTLE",a[a.SETTLE_ALL=12]="SETTLE_ALL",a[a.SETTLE_PAIR=13]="SETTLE_PAIR",a[a.TAKE=14]="TAKE",a[a.TAKE_ALL=15]="TAKE_ALL",a[a.TAKE_PORTION=16]="TAKE_PORTION",a[a.TAKE_PAIR=17]="TAKE_PAIR",a[a.CLOSE_CURRENCY=18]="CLOSE_CURRENCY",a[a.SWEEP=20]="SWEEP",a[a.UNWRAP=22]="UNWRAP",(o=g||(g={}))[o.V4SwapExactInSingle=0]="V4SwapExactInSingle",o[o.V4SwapExactIn=1]="V4SwapExactIn",o[o.V4SwapExactOutSingle=2]="V4SwapExactOutSingle",o[o.V4SwapExactOut=3]="V4SwapExactOut",o[o.PoolKey=4]="PoolKey";var tr="(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)",ti="(address intermediateCurrency,uint256 fee,int24 tickSpacing,address hooks,bytes hookData)",tn="("+tr+" poolKey,bool zeroForOne,uint128 amountIn,uint128 amountOutMinimum,bytes hookData)",ta="("+tr+" poolKey,bool zeroForOne,uint128 amountOut,uint128 amountInMaximum,bytes hookData)",to=((h={})[m.INCREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"hookData",type:"bytes"}],h[m.DECREASE_LIQUIDITY]=[{name:"tokenId",type:"uint256"},{name:"liquidity",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],h[m.MINT_POSITION]=[{name:"poolKey",type:tr,subparser:g.PoolKey},{name:"tickLower",type:"int24"},{name:"tickUpper",type:"int24"},{name:"liquidity",type:"uint256"},{name:"amount0Max",type:"uint128"},{name:"amount1Max",type:"uint128"},{name:"owner",type:"address"},{name:"hookData",type:"bytes"}],h[m.BURN_POSITION]=[{name:"tokenId",type:"uint256"},{name:"amount0Min",type:"uint128"},{name:"amount1Min",type:"uint128"},{name:"hookData",type:"bytes"}],h[m.SWAP_EXACT_IN_SINGLE]=[{name:"swap",type:tn,subparser:g.V4SwapExactInSingle}],h[m.SWAP_EXACT_IN]=[{name:"swap",type:"(address currencyIn,"+ti+"[] path,uint128 amountIn,uint128 amountOutMinimum)",subparser:g.V4SwapExactIn}],h[m.SWAP_EXACT_OUT_SINGLE]=[{name:"swap",type:ta,subparser:g.V4SwapExactOutSingle}],h[m.SWAP_EXACT_OUT]=[{name:"swap",type:"(address currencyOut,"+ti+"[] path,uint128 amountOut,uint128 amountInMaximum)",subparser:g.V4SwapExactOut}],h[m.SETTLE]=[{name:"currency",type:"address"},{name:"amount",type:"uint256"},{name:"payerIsUser",type:"bool"}],h[m.SETTLE_ALL]=[{name:"currency",type:"address"},{name:"maxAmount",type:"uint256"}],h[m.SETTLE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"}],h[m.TAKE]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],h[m.TAKE_ALL]=[{name:"currency",type:"address"},{name:"minAmount",type:"uint256"}],h[m.TAKE_PORTION]=[{name:"currency",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}],h[m.TAKE_PAIR]=[{name:"currency0",type:"address"},{name:"currency1",type:"address"},{name:"recipient",type:"address"}],h[m.CLOSE_CURRENCY]=[{name:"currency",type:"address"}],h[m.SWEEP]=[{name:"currency",type:"address"},{name:"recipient",type:"address"}],h[m.UNWRAP]=[{name:"amount",type:"uint256"}],h),ts=function(){function e(){this.actions="0x",this.params=[]}var t=e.prototype;return t.addAction=function(e,t){var r,i,n,a=(r=e,i=t,n=eO.defaultAbiCoder.encode(to[r].map(function(e){return e.type}),i),{action:r,encodedInput:n});return this.params.push(a.encodedInput),this.actions=this.actions.concat(a.action.toString(16).padStart(2,"0")),this},t.addTrade=function(e,t){var r=e.tradeType===x.TradeType.EXACT_OUTPUT;r&&(t||(0,b.default)(!1)),1!==e.swaps.length&&(0,b.default)(!1);var i=r?m.SWAP_EXACT_OUT:m.SWAP_EXACT_IN,n=tu(e.route.pathInput),a=tu(e.route.pathOutput);return this.addAction(i,[r?{currencyOut:a,path:tt(e.route,r),amountInMaximum:e.maximumAmountIn(null!=t?t:new x.Percent(0)).quotient.toString(),amountOut:e.outputAmount.quotient.toString()}:{currencyIn:n,path:tt(e.route,r),amountIn:e.inputAmount.quotient.toString(),amountOutMinimum:t?e.minimumAmountOut(t).quotient.toString():0}]),this},t.addSettle=function(e,t,r){return this.addAction(m.SETTLE,[tu(e),null!=r?r:0,t]),this},t.addTake=function(e,t,r){return this.addAction(m.TAKE,[tu(e),t,null!=r?r:0]),this},t.addUnwrap=function(e){return this.addAction(m.UNWRAP,[e]),this},t.finalize=function(){return eO.defaultAbiCoder.encode(["bytes","bytes[]"],[this.actions,this.params])},e}();function tu(e){return e.isNative?eX:e.wrapped.address}function tl(e){return e.isNative?eX:e.wrapped.address}var tc=function(e){function t(){return e.apply(this,arguments)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eG(t,e);var r=t.prototype;return r.addMint=function(e,t,r,i,n,a,o,s){void 0===s&&(s="0x");var u=[e2.getPoolKey(e.currency0,e.currency1,e.fee,e.tickSpacing,e.hooks),t,r,i.toString(),n.toString(),a.toString(),o,s];this.addAction(m.MINT_POSITION,u)},r.addIncrease=function(e,t,r,i,n){void 0===n&&(n="0x");var a=[e.toString(),t.toString(),r.toString(),i.toString(),n];this.addAction(m.INCREASE_LIQUIDITY,a)},r.addDecrease=function(e,t,r,i,n){void 0===n&&(n="0x");var a=[e.toString(),t.toString(),r.toString(),i.toString(),n];this.addAction(m.DECREASE_LIQUIDITY,a)},r.addBurn=function(e,t,r,i){void 0===i&&(i="0x");var n=[e.toString(),t.toString(),r.toString(),i];this.addAction(m.BURN_POSITION,n)},r.addSettlePair=function(e,t){var r=[tl(e),tl(t)];this.addAction(m.SETTLE_PAIR,r)},r.addTakePair=function(e,t,r){var i=[tl(e),tl(t),r];this.addAction(m.TAKE_PAIR,i)},r.addSweep=function(e,t){var r=[tl(e),t];this.addAction(m.SWEEP,r)},t}(ts);function td(e){var t=A.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}var tf=function(){function e(){}return e.parseCalldata=function(t){var r=eC.ethers.utils.defaultAbiCoder.decode(["bytes","bytes[]"],t),i=r[0],n=r[1];return{actions:e.getActions(i).map(function(e,t){var r=to[e],i=eC.ethers.utils.defaultAbiCoder.decode(r.map(function(e){return e.type}),n[t]).map(function(e,t){var i,n,a,o,s,u,l,c,d,f,p,h,m,b,y,x,A,w,v,S,k,T,E,P,I,_,N,R;switch(r[t].subparser){case g.V4SwapExactInSingle:return{name:r[t].name,value:(n=(i=e)[0],a=i[1],o=i[2],s=i[3],u=i[4],{poolKey:{currency0:n[0],currency1:n[1],fee:n[2],tickSpacing:n[3],hooks:n[4]},zeroForOne:a,amountIn:o,amountOutMinimum:s,hookData:u})};case g.V4SwapExactIn:return{name:r[t].name,value:(c=(l=e)[0],d=l[1],f=l[2],p=l[3],{path:d.map(function(e){return tp(e)}),currencyIn:c,amountIn:f,amountOutMinimum:p})};case g.V4SwapExactOutSingle:return{name:r[t].name,value:(m=(h=e)[0],b=h[1],y=h[2],x=h[3],A=h[4],{poolKey:{currency0:m.currency0,currency1:m.currency1,fee:m.fee,tickSpacing:m.tickSpacing,hooks:m.hooks},zeroForOne:b,amountOut:y,amountInMaximum:x,hookData:A})};case g.V4SwapExactOut:return{name:r[t].name,value:(v=(w=e)[0],S=w[1],k=w[2],T=w[3],{path:S.map(function(e){return tp(e)}),currencyOut:v,amountOut:k,amountInMaximum:T})};case g.PoolKey:return{name:r[t].name,value:(P=(E=e)[0],I=E[1],_=E[2],N=E[3],R=E[4],{currency0:P,currency1:I,fee:parseInt(_),tickSpacing:parseInt(N),hooks:R})};default:return{name:r[t].name,value:e}}});return{actionName:m[e],actionType:e,params:i}})}},e.getActions=function(e){for(var t=[],r=2;r<e.length;r+=2){var i=e.substring(r,r+2);t.push(parseInt(i,16))}return t},e}();function tp(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4];return{intermediateCurrency:t,fee:parseInt(r),tickSpacing:parseInt(i),hooks:n,hookData:a}}var th="0x0000000000000000000000000000000000000001",tm=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t)[0]},e}();tm.INTERFACE=new v.Interface(k.default.abi);var tg=[{type:"constructor",inputs:[{name:"_poolManager",type:"address",internalType:"contract IPoolManager"},{name:"_permit2",type:"address",internalType:"contract IAllowanceTransfer"},{name:"_unsubscribeGasLimit",type:"uint256",internalType:"uint256"},{name:"_tokenDescriptor",type:"address",internalType:"contract IPositionDescriptor"},{name:"_weth9",type:"address",internalType:"contract IWETH9"}],stateMutability:"nonpayable"},{type:"receive",stateMutability:"payable"},{type:"function",name:"DOMAIN_SEPARATOR",inputs:[],outputs:[{name:"",type:"bytes32",internalType:"bytes32"}],stateMutability:"view"},{type:"function",name:"WETH9",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IWETH9"}],stateMutability:"view"},{type:"function",name:"approve",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getApproved",inputs:[{name:"",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPoolAndPositionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"poolKey",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"getPositionLiquidity",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"liquidity",type:"uint128",internalType:"uint128"}],stateMutability:"view"},{type:"function",name:"initializePool",inputs:[{name:"key",type:"tuple",internalType:"struct PoolKey",components:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}]},{name:"sqrtPriceX96",type:"uint160",internalType:"uint160"}],outputs:[{name:"",type:"int24",internalType:"int24"}],stateMutability:"payable"},{type:"function",name:"isApprovedForAll",inputs:[{name:"",type:"address",internalType:"address"},{name:"",type:"address",internalType:"address"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"modifyLiquidities",inputs:[{name:"unlockData",type:"bytes",internalType:"bytes"},{name:"deadline",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"modifyLiquiditiesWithoutUnlock",inputs:[{name:"actions",type:"bytes",internalType:"bytes"},{name:"params",type:"bytes[]",internalType:"bytes[]"}],outputs:[],stateMutability:"payable"},{type:"function",name:"msgSender",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"multicall",inputs:[{name:"data",type:"bytes[]",internalType:"bytes[]"}],outputs:[{name:"results",type:"bytes[]",internalType:"bytes[]"}],stateMutability:"payable"},{type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"nextTokenId",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"nonces",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"word",type:"uint256",internalType:"uint256"}],outputs:[{name:"bitmap",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"ownerOf",inputs:[{name:"id",type:"uint256",internalType:"uint256"}],outputs:[{name:"owner",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"permit",inputs:[{name:"spender",type:"address",internalType:"address"},{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"permit",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"permitSingle",type:"tuple",internalType:"struct IAllowanceTransfer.PermitSingle",components:[{name:"details",type:"tuple",internalType:"struct IAllowanceTransfer.PermitDetails",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permit2",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IAllowanceTransfer"}],stateMutability:"view"},{type:"function",name:"permitBatch",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"_permitBatch",type:"tuple",internalType:"struct IAllowanceTransfer.PermitBatch",components:[{name:"details",type:"tuple[]",internalType:"struct IAllowanceTransfer.PermitDetails[]",components:[{name:"token",type:"address",internalType:"address"},{name:"amount",type:"uint160",internalType:"uint160"},{name:"expiration",type:"uint48",internalType:"uint48"},{name:"nonce",type:"uint48",internalType:"uint48"}]},{name:"spender",type:"address",internalType:"address"},{name:"sigDeadline",type:"uint256",internalType:"uint256"}]},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[{name:"err",type:"bytes",internalType:"bytes"}],stateMutability:"payable"},{type:"function",name:"permitForAll",inputs:[{name:"owner",type:"address",internalType:"address"},{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"},{name:"deadline",type:"uint256",internalType:"uint256"},{name:"nonce",type:"uint256",internalType:"uint256"},{name:"signature",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"poolKeys",inputs:[{name:"poolId",type:"bytes25",internalType:"bytes25"}],outputs:[{name:"currency0",type:"address",internalType:"Currency"},{name:"currency1",type:"address",internalType:"Currency"},{name:"fee",type:"uint24",internalType:"uint24"},{name:"tickSpacing",type:"int24",internalType:"int24"},{name:"hooks",type:"address",internalType:"contract IHooks"}],stateMutability:"view"},{type:"function",name:"poolManager",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPoolManager"}],stateMutability:"view"},{type:"function",name:"positionInfo",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"info",type:"uint256",internalType:"PositionInfo"}],stateMutability:"view"},{type:"function",name:"revokeNonce",inputs:[{name:"nonce",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"safeTransferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address",internalType:"address"},{name:"approved",type:"bool",internalType:"bool"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"subscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"newSubscriber",type:"address",internalType:"address"},{name:"data",type:"bytes",internalType:"bytes"}],outputs:[],stateMutability:"payable"},{type:"function",name:"subscriber",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"subscriber",type:"address",internalType:"contract ISubscriber"}],stateMutability:"view"},{type:"function",name:"supportsInterface",inputs:[{name:"interfaceId",type:"bytes4",internalType:"bytes4"}],outputs:[{name:"",type:"bool",internalType:"bool"}],stateMutability:"view"},{type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"tokenDescriptor",inputs:[],outputs:[{name:"",type:"address",internalType:"contract IPositionDescriptor"}],stateMutability:"view"},{type:"function",name:"tokenURI",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"string",internalType:"string"}],stateMutability:"view"},{type:"function",name:"transferFrom",inputs:[{name:"from",type:"address",internalType:"address"},{name:"to",type:"address",internalType:"address"},{name:"id",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"unlockCallback",inputs:[{name:"data",type:"bytes",internalType:"bytes"}],outputs:[{name:"",type:"bytes",internalType:"bytes"}],stateMutability:"nonpayable"},{type:"function",name:"unsubscribe",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"}],outputs:[],stateMutability:"payable"},{type:"function",name:"unsubscribeGasLimit",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"spender",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"ApprovalForAll",inputs:[{name:"owner",type:"address",indexed:!0,internalType:"address"},{name:"operator",type:"address",indexed:!0,internalType:"address"},{name:"approved",type:"bool",indexed:!1,internalType:"bool"}],anonymous:!1},{type:"event",name:"Subscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0,internalType:"address"},{name:"to",type:"address",indexed:!0,internalType:"address"},{name:"id",type:"uint256",indexed:!0,internalType:"uint256"}],anonymous:!1},{type:"event",name:"Unsubscription",inputs:[{name:"tokenId",type:"uint256",indexed:!0,internalType:"uint256"},{name:"subscriber",type:"address",indexed:!0,internalType:"address"}],anonymous:!1},{type:"error",name:"AlreadySubscribed",inputs:[{name:"tokenId",type:"uint256",internalType:"uint256"},{name:"subscriber",type:"address",internalType:"address"}]},{type:"error",name:"BurnNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"ContractLocked",inputs:[]},{type:"error",name:"DeadlinePassed",inputs:[{name:"deadline",type:"uint256",internalType:"uint256"}]},{type:"error",name:"DeltaNotNegative",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"DeltaNotPositive",inputs:[{name:"currency",type:"address",internalType:"Currency"}]},{type:"error",name:"GasLimitTooLow",inputs:[]},{type:"error",name:"InputLengthMismatch",inputs:[]},{type:"error",name:"InsufficientBalance",inputs:[]},{type:"error",name:"InvalidContractSignature",inputs:[]},{type:"error",name:"InvalidEthSender",inputs:[]},{type:"error",name:"InvalidSignature",inputs:[]},{type:"error",name:"InvalidSignatureLength",inputs:[]},{type:"error",name:"InvalidSigner",inputs:[]},{type:"error",name:"MaximumAmountExceeded",inputs:[{name:"maximumAmount",type:"uint128",internalType:"uint128"},{name:"amountRequested",type:"uint128",internalType:"uint128"}]},{type:"error",name:"MinimumAmountInsufficient",inputs:[{name:"minimumAmount",type:"uint128",internalType:"uint128"},{name:"amountReceived",type:"uint128",internalType:"uint128"}]},{type:"error",name:"ModifyLiquidityNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"NoCodeSubscriber",inputs:[]},{type:"error",name:"NoSelfPermit",inputs:[]},{type:"error",name:"NonceAlreadyUsed",inputs:[]},{type:"error",name:"NotApproved",inputs:[{name:"caller",type:"address",internalType:"address"}]},{type:"error",name:"NotPoolManager",inputs:[]},{type:"error",name:"NotSubscribed",inputs:[]},{type:"error",name:"PoolManagerMustBeLocked",inputs:[]},{type:"error",name:"SignatureDeadlineExpired",inputs:[]},{type:"error",name:"SubscriptionReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"TransferNotificationReverted",inputs:[{name:"subscriber",type:"address",internalType:"address"},{name:"reason",type:"bytes",internalType:"bytes"}]},{type:"error",name:"Unauthorized",inputs:[]},{type:"error",name:"UnsupportedAction",inputs:[{name:"action",type:"uint256",internalType:"uint256"}]}],tb={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]};function ty(e){return Object.keys(e).some(function(e){return"recipient"===e})}var tx=function(){function e(){}return e.createCallParameters=function(e,t){return{calldata:this.encodeInitializePool(e,t),value:td(0)}},e.addCallParameters=function(t,r){A.default.greaterThan(t.liquidity,eJ)||(0,b.default)(!1);var i=[],n=new tc;ty(r)&&r.createPool&&(void 0===r.sqrtPriceX96&&(0,b.default)(!1),1)&&i.push(e.encodeInitializePool(t.pool.poolKey,r.sqrtPriceX96)),t.pool.currency0!==r.useNative&&(t.pool.currency0.isNative||void 0!==r.useNative)&&(0,b.default)(!1);var a=t.mintAmountsWithSlippage(r.slippageTolerance),o=td(a.amount0),s=td(a.amount1);if(r.batchPermit&&i.push(e.encodePermitBatch(r.batchPermit.owner,r.batchPermit.permitBatch,r.batchPermit.signature)),ty(r)){var u=(0,x.validateAndParseAddress)(r.recipient);n.addMint(t.pool,t.tickLower,t.tickUpper,t.liquidity,o,s,u,r.hookData)}else n.addIncrease(r.tokenId,t.liquidity,o,s,r.hookData);var l=td(0);return ty(r)&&r.migrate?(r.useNative?(n.addUnwrap(e0),n.addSettle(t.pool.currency0,!1),n.addSettle(t.pool.currency1,!1),n.addSweep(t.pool.currency0.wrapped,r.recipient)):(n.addSettle(t.pool.currency0,!1),n.addSettle(t.pool.currency1,!1),n.addSweep(t.pool.currency0,r.recipient)),n.addSweep(t.pool.currency1,r.recipient)):(n.addSettlePair(t.pool.currency0,t.pool.currency1),r.useNative&&(l=td(o),n.addSweep(t.pool.currency0,th))),i.push(e.encodeModifyLiquidities(n.finalize(),r.deadline)),{calldata:tm.encodeMulticall(i),value:l}},e.removeCallParameters=function(t,r){var i=[],n=new tc,a=td(r.tokenId);if(r.burnToken){r.liquidityPercentage.equalTo(eY)||(0,b.default)(!1),r.permit&&i.push(e.encodeERC721Permit(r.permit.spender,r.permit.tokenId,r.permit.deadline,r.permit.nonce,r.permit.signature));var o=t.burnAmountsWithSlippage(r.slippageTolerance),s=o.amount0,u=o.amount1;n.addBurn(a,s,u,r.hookData)}else{var l,c=new te({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});A.default.greaterThan(c.liquidity,eJ)||(0,b.default)(!1);var d=c.burnAmountsWithSlippage(r.slippageTolerance),f=d.amount0,p=d.amount1;n.addDecrease(a,c.liquidity.toString(),f.toString(),p.toString(),null!=(l=r.hookData)?l:"0x")}return n.addTakePair(t.pool.currency0,t.pool.currency1,th),i.push(e.encodeModifyLiquidities(n.finalize(),r.deadline)),{calldata:tm.encodeMulticall(i),value:td(0)}},e.collectCallParameters=function(t,r){var i=[],n=new tc,a=td(r.tokenId),o=(0,x.validateAndParseAddress)(r.recipient);return n.addDecrease(a,"0","0","0",r.hookData),n.addTakePair(t.pool.currency0,t.pool.currency1,o),i.push(e.encodeModifyLiquidities(n.finalize(),r.deadline)),{calldata:tm.encodeMulticall(i),value:td(0)}},e.encodeInitializePool=function(t,r){return e.INTERFACE.encodeFunctionData(f.INITIALIZE_POOL,[t,r.toString()])},e.encodeModifyLiquidities=function(t,r){return e.INTERFACE.encodeFunctionData(f.MODIFY_LIQUIDITIES,[t,r])},e.encodePermitBatch=function(t,r,i){return e.INTERFACE.encodeFunctionData(f.PERMIT_BATCH,[t,r,i])},e.encodeERC721Permit=function(t,r,i,n,a){return e.INTERFACE.encodeFunctionData(f.ERC721PERMIT_PERMIT,[t,r,i,n,a])},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V4 Positions NFT",chainId:r,verifyingContract:t},types:tb,values:e}},e}();tx.INTERFACE=new v.Interface(tg),e.s(["Actions",()=>m,"DYNAMIC_FEE_FLAG",()=>8388608,"Hook",()=>eH,"HookOptions",()=>c,"Pool",()=>e2,"Position",()=>te,"Route",()=>e3,"Subparser",()=>g,"Trade",()=>e8,"V4BaseActionsParser",()=>tf,"V4Planner",()=>ts,"V4PositionManager",()=>tx,"V4PositionPlanner",()=>tc,"V4_BASE_ACTIONS_ABI_DEFINITION",()=>to,"amountWithPathCurrency",()=>e4,"encodeRouteToPath",()=>tt,"getPathCurrency",()=>e6,"hookFlagIndex",()=>ez,"priceToClosestTick",()=>e9,"sortsBefore",()=>ej,"tickToPrice",()=>e7,"toAddress",()=>tl,"toHex",()=>td,"tradeComparator",()=>e5],863062)},700334,e=>{"use strict";var t=e.i(702503),r=e.i(477912),i=e.i(47771),n=e.i(839341),a=e.i(575111),o=e.i(40992),s=t.V2_FACTORY_ADDRESSES,u="0x96e8ac4277198ff8b6f785478aa9a39f403cb768dd02cbee326c3e7da348845f",l=r.default.BigInt(1e3),c=r.default.BigInt(0),d=r.default.BigInt(1),f=r.default.BigInt(5),p=r.default.BigInt(997),h=r.default.BigInt(1e3),m=r.default.BigInt(1e4),g=new t.Percent(c),b=new t.Percent(d);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function x(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function A(e,t,r){return t&&x(e.prototype,t),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,T(e,t)}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k=function(){return!!e})()}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t="function"==typeof Map?new Map:void 0;return(E=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){if(k())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var n=new(e.bind.apply(e,i));return r&&T(n,r.prototype),n}(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),T(r,e)})(e)}var P="setPrototypeOf"in Object,I=function(e){function t(){var r;return(r=e.call(this)||this).isInsufficientReservesError=!0,r.name=r.constructor.name,P&&Object.setPrototypeOf(r,(this instanceof t?this.constructor:void 0).prototype),r}return S(t,e),t}(E(Error)),_=function(e){function t(){var r;return(r=e.call(this)||this).isInsufficientInputAmountError=!0,r.name=r.constructor.name,P&&Object.setPrototypeOf(r,(this instanceof t?this.constructor:void 0).prototype),r}return S(t,e),t}(E(Error)),N=function(e){var t=e.factoryAddress,r=e.tokenA,n=e.tokenB,o=r.sortsBefore(n)?[r,n]:[n,r],s=o[0],l=o[1];return(0,i.getCreate2Address)(t,(0,a.keccak256)(["bytes"],[(0,a.pack)(["address","address"],[s.address,l.address])]),u)},R=function(){function e(r,i){var n=r.currency.sortsBefore(i.currency)?[r,i]:[i,r];this.liquidityToken=new t.Token(n[0].currency.chainId,e.getAddress(n[0].currency,n[1].currency),18,"UNI-V2","Uniswap V2"),this.tokenAmounts=n}e.getAddress=function(e,t){var r;return N({factoryAddress:null!=(r=s[e.chainId])?r:"0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f",tokenA:e,tokenB:t})};var i=e.prototype;return i.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},i.priceOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},i.reserveOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.reserve0:this.reserve1},i.getOutputAmount=function(i,n){if(void 0===n&&(n=!0),this.involvesToken(i.currency)||(0,o.default)(!1),r.default.equal(this.reserve0.quotient,c)||r.default.equal(this.reserve1.quotient,c))throw new I;var a=this.reserveOf(i.currency),s=this.reserveOf(i.currency.equals(this.token0)?this.token1:this.token0),u=n?this.derivePercentAfterSellFees(i):g,l=u.greaterThan(g)?t.CurrencyAmount.fromRawAmount(i.currency,u.multiply(i).quotient):i,d=r.default.multiply(l.quotient,p),f=r.default.multiply(d,s.quotient),m=r.default.add(r.default.multiply(a.quotient,h),d),b=t.CurrencyAmount.fromRawAmount(i.currency.equals(this.token0)?this.token1:this.token0,r.default.divide(f,m));if(r.default.equal(b.quotient,c))throw new _;var y=n?this.derivePercentAfterBuyFees(b):g,x=y.greaterThan(g)?t.CurrencyAmount.fromRawAmount(b.currency,b.multiply(y).quotient):b;if(r.default.equal(x.quotient,c))throw new _;return[x,new e(a.add(l),s.subtract(x))]},i.getInputAmount=function(i,n){void 0===n&&(n=!0),this.involvesToken(i.currency)||(0,o.default)(!1);var a=n?this.derivePercentAfterBuyFees(i):g,s=a.greaterThan(g)?t.CurrencyAmount.fromRawAmount(i.currency,r.default.add(i.divide(a).quotient,d)):i;if(r.default.equal(this.reserve0.quotient,c)||r.default.equal(this.reserve1.quotient,c)||r.default.greaterThanOrEqual(i.quotient,this.reserveOf(i.currency).quotient)||r.default.greaterThanOrEqual(s.quotient,this.reserveOf(i.currency).quotient))throw new I;var u=this.reserveOf(i.currency),l=this.reserveOf(i.currency.equals(this.token0)?this.token1:this.token0),f=r.default.multiply(r.default.multiply(l.quotient,s.quotient),h),m=r.default.multiply(r.default.subtract(u.quotient,s.quotient),p),b=t.CurrencyAmount.fromRawAmount(i.currency.equals(this.token0)?this.token1:this.token0,r.default.add(r.default.divide(f,m),d)),y=n?this.derivePercentAfterSellFees(b):g;return[y.greaterThan(g)?t.CurrencyAmount.fromRawAmount(b.currency,r.default.add(b.divide(y).quotient,d)):b,new e(l.add(b),u.subtract(i))]},i.getLiquidityMinted=function(e,i,n){e.currency.equals(this.liquidityToken)||(0,o.default)(!1);var a,s=i.currency.sortsBefore(n.currency)?[i,n]:[n,i];if(s[0].currency.equals(this.token0)&&s[1].currency.equals(this.token1)||(0,o.default)(!1),r.default.equal(e.quotient,c))a=r.default.subtract((0,t.sqrt)(r.default.multiply(s[0].quotient,s[1].quotient)),l);else{var u=r.default.divide(r.default.multiply(s[0].quotient,e.quotient),this.reserve0.quotient),d=r.default.divide(r.default.multiply(s[1].quotient,e.quotient),this.reserve1.quotient);a=r.default.lessThanOrEqual(u,d)?u:d}if(!r.default.greaterThan(a,c))throw new _;return t.CurrencyAmount.fromRawAmount(this.liquidityToken,a)},i.getLiquidityValue=function(e,i,n,a,s){if(void 0===a&&(a=!1),this.involvesToken(e)||(0,o.default)(!1),i.currency.equals(this.liquidityToken)||(0,o.default)(!1),n.currency.equals(this.liquidityToken)||(0,o.default)(!1),r.default.lessThanOrEqual(n.quotient,i.quotient)||(0,o.default)(!1),a){s||(0,o.default)(!1);var u,l=r.default.BigInt(s);if(r.default.equal(l,c))u=i;else{var d=(0,t.sqrt)(r.default.multiply(this.reserve0.quotient,this.reserve1.quotient)),p=(0,t.sqrt)(l);if(r.default.greaterThan(d,p)){var h=r.default.multiply(i.quotient,r.default.subtract(d,p)),m=r.default.add(r.default.multiply(d,f),p),g=r.default.divide(h,m);u=i.add(t.CurrencyAmount.fromRawAmount(this.liquidityToken,g))}else u=i}}else u=i;return t.CurrencyAmount.fromRawAmount(e,r.default.divide(r.default.multiply(n.quotient,this.reserveOf(e).quotient),u.quotient))},i.derivePercentAfterSellFees=function(e){var i=this.token0.wrapped.equals(e.wrapped.currency)?this.token0.wrapped.sellFeeBps:this.token1.wrapped.sellFeeBps;return null!=i&&i.gt(n.BigNumber.from(0))?b.subtract(new t.Percent(r.default.BigInt(i)).divide(m)):g},i.derivePercentAfterBuyFees=function(e){var i=this.token0.wrapped.equals(e.wrapped.currency)?this.token0.wrapped.buyFeeBps:this.token1.wrapped.buyFeeBps;return null!=i&&i.gt(n.BigNumber.from(0))?b.subtract(new t.Percent(r.default.BigInt(i)).divide(m)):g},A(e,[{key:"token0Price",get:function(){var e=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new t.Price(this.token0,this.token1,e.denominator,e.numerator)}},{key:"token1Price",get:function(){var e=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new t.Price(this.token1,this.token0,e.denominator,e.numerator)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"token0",get:function(){return this.tokenAmounts[0].currency}},{key:"token1",get:function(){return this.tokenAmounts[1].currency}},{key:"reserve0",get:function(){return this.tokenAmounts[0]}},{key:"reserve1",get:function(){return this.tokenAmounts[1]}}])}(),O=A(function(e,t,r){this._midPrice=null,e.length>0||(0,o.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,o.default)(!1);var n=t.wrapped;e[0].involvesToken(n)||(0,o.default)(!1),void 0===r||e[e.length-1].involvesToken(r.wrapped)||(0,o.default)(!1);for(var a,s=[n],u=w(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=s[c];f.equals(d.token0)||f.equals(d.token1)||(0,o.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;s.push(p)}this.pairs=e,this.path=s,this.input=t,this.output=r},[{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;for(var e,r=[],i=w(this.pairs.entries());!(e=i()).done;){var n=e.value,a=n[0],o=n[1];r.push(this.path[a].equals(o.token0)?new t.Price(o.reserve0.currency,o.reserve1.currency,o.reserve0.quotient,o.reserve1.quotient):new t.Price(o.reserve1.currency,o.reserve0.currency,o.reserve1.quotient,o.reserve0.quotient))}var s=r.slice(1).reduce(function(e,t){return e.multiply(t)},r[0]);return this._midPrice=new t.Price(this.input,this.output,s.denominator,s.numerator)}},{key:"chainId",get:function(){return this.pairs[0].chainId}}]);function B(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,o.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,o.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?0:e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}function C(e,t){var r=B(e,t);return 0!==r?r:e.priceImpact.lessThan(t.priceImpact)?-1:e.priceImpact.greaterThan(t.priceImpact)?1:e.route.path.length-t.route.path.length}var D=function(){function e(e,r,i){this.route=e,this.tradeType=i;var n=Array(e.path.length);if(i===t.TradeType.EXACT_INPUT){r.currency.equals(e.input)||(0,o.default)(!1),n[0]=r.wrapped;for(var a=0;a<e.path.length-1;a++){var s=e.pairs[a].getOutputAmount(n[a])[0];n[a+1]=s}this.inputAmount=t.CurrencyAmount.fromFractionalAmount(e.input,r.numerator,r.denominator),this.outputAmount=t.CurrencyAmount.fromFractionalAmount(e.output,n[n.length-1].numerator,n[n.length-1].denominator)}else{r.currency.equals(e.output)||(0,o.default)(!1),n[n.length-1]=r.wrapped;for(var u=e.path.length-1;u>0;u--){var l=e.pairs[u-1].getInputAmount(n[u])[0];n[u-1]=l}this.inputAmount=t.CurrencyAmount.fromFractionalAmount(e.input,n[0].numerator,n[0].denominator),this.outputAmount=t.CurrencyAmount.fromFractionalAmount(e.output,r.numerator,r.denominator)}this.executionPrice=new t.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient),this.priceImpact=(0,t.computePriceImpact)(e.midPrice,this.inputAmount,this.outputAmount)}e.exactIn=function(r,i){return new e(r,i,t.TradeType.EXACT_INPUT)},e.exactOut=function(r,i){return new e(r,i,t.TradeType.EXACT_OUTPUT)};var r=e.prototype;return r.minimumAmountOut=function(e){if(e.lessThan(c)&&(0,o.default)(!1),this.tradeType===t.TradeType.EXACT_OUTPUT)return this.outputAmount;var r=new t.Fraction(d).add(e).invert().multiply(this.outputAmount.quotient).quotient;return t.CurrencyAmount.fromRawAmount(this.outputAmount.currency,r)},r.maximumAmountIn=function(e){if(e.lessThan(c)&&(0,o.default)(!1),this.tradeType===t.TradeType.EXACT_INPUT)return this.inputAmount;var r=new t.Fraction(d).add(e).multiply(this.inputAmount.quotient).quotient;return t.CurrencyAmount.fromRawAmount(this.inputAmount.currency,r)},e.bestTradeExactIn=function(r,i,n,a,s,u,l){var d=void 0===a?{}:a,f=d.maxNumResults,p=void 0===f?3:f,h=d.maxHops,m=void 0===h?3:h;void 0===s&&(s=[]),void 0===u&&(u=i),void 0===l&&(l=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),i===u||s.length>0||(0,o.default)(!1);for(var g=u.wrapped,b=n.wrapped,y=0;y<r.length;y++){var x=r[y];if((x.token0.equals(g.currency)||x.token1.equals(g.currency))&&!(x.reserve0.equalTo(c)||x.reserve1.equalTo(c))){var A=void 0;try{A=x.getOutputAmount(g)[0]}catch(e){if(e.isInsufficientInputAmountError)continue;throw e}if(A.currency.equals(b))(0,t.sortedInsert)(l,new e(new O([].concat(s,[x]),i.currency,n),i,t.TradeType.EXACT_INPUT),p,C);else if(m>1&&r.length>1){var w=r.slice(0,y).concat(r.slice(y+1,r.length));e.bestTradeExactIn(w,i,n,{maxNumResults:p,maxHops:m-1},[].concat(s,[x]),A,l)}}}return l},r.worstExecutionPrice=function(e){return new t.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},e.bestTradeExactOut=function(r,i,n,a,s,u,l){var d=void 0===a?{}:a,f=d.maxNumResults,p=void 0===f?3:f,h=d.maxHops,m=void 0===h?3:h;void 0===s&&(s=[]),void 0===u&&(u=n),void 0===l&&(l=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),n===u||s.length>0||(0,o.default)(!1);for(var g=u.wrapped,b=i.wrapped,y=0;y<r.length;y++){var x=r[y];if((x.token0.equals(g.currency)||x.token1.equals(g.currency))&&!(x.reserve0.equalTo(c)||x.reserve1.equalTo(c))){var A=void 0;try{A=x.getInputAmount(g)[0]}catch(e){if(e.isInsufficientReservesError)continue;throw e}if(A.currency.equals(b))(0,t.sortedInsert)(l,new e(new O([x].concat(s),i,n.currency),n,t.TradeType.EXACT_OUTPUT),p,C);else if(m>1&&r.length>1){var w=r.slice(0,y).concat(r.slice(y+1,r.length));e.bestTradeExactOut(w,i,n,{maxNumResults:p,maxHops:m-1},[x].concat(s),A,l)}}}return l},e}();function F(e){return"0x"+e.quotient.toString(16)}var U=function(){function e(){}return e.swapCallParameters=function(e,r){var i,n,a,s=e.inputAmount.currency.isNative,u=e.outputAmount.currency.isNative;s&&u&&(0,o.default)(!1),"ttl"in r&&!(r.ttl>0)&&(0,o.default)(!1);var l=(0,t.validateAndParseAddress)(r.recipient),c=F(e.maximumAmountIn(r.allowedSlippage)),d=F(e.minimumAmountOut(r.allowedSlippage)),f=e.route.path.map(function(e){return e.address}),p="ttl"in r?"0x"+(Math.floor(new Date().getTime()/1e3)+r.ttl).toString(16):"0x"+r.deadline.toString(16),h=!!r.feeOnTransfer;switch(e.tradeType){case t.TradeType.EXACT_INPUT:s?(i=h?"swapExactETHForTokensSupportingFeeOnTransferTokens":"swapExactETHForTokens",n=[d,f,l,p],a=c):(i=u?h?"swapExactTokensForETHSupportingFeeOnTransferTokens":"swapExactTokensForETH":h?"swapExactTokensForTokensSupportingFeeOnTransferTokens":"swapExactTokensForTokens",n=[c,d,f,l,p],a="0x0");break;case t.TradeType.EXACT_OUTPUT:h&&(0,o.default)(!1),s?(i="swapETHForExactTokens",n=[d,f,l,p],a=c):(i=u?"swapTokensForExactETH":"swapTokensForExactTokens",n=[d,c,f,l,p],a="0x0")}return{methodName:i,args:n,value:a}},e}();e.s(["FACTORY_ADDRESS_MAP",()=>s,"INIT_CODE_HASH",()=>u,"InsufficientInputAmountError",()=>_,"InsufficientReservesError",()=>I,"MINIMUM_LIQUIDITY",()=>l,"Pair",()=>R,"Route",()=>O,"Router",()=>U,"Trade",()=>D,"computePairAddress",()=>N,"inputOutputComparator",()=>B,"tradeComparator",()=>C])},716335,e=>{"use strict";var t,r,i,n=e.i(702503),a=e.i(477912),o=e.i(40992),s=e.i(144180),u=e.i(246383),l=e.i(47771),c=e.i(575111),d=e.i(37041),f=e.i(909307),p=e.i(854725),h=e.i(53291),m=e.i(708070),g=e.i(416897),b=e.i(948329),y=e.i(221345);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function A(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function w(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){A(a,i,n,o,s,"next",e)}function s(e){A(a,i,n,o,s,"throw",e)}o(void 0)})}}function v(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(i.key),i)}}function S(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return x(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(){return(T=Object.assign.bind()).apply(null,arguments)}function E(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return P(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(P(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,P(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,P(c,"constructor",l),P(l,"constructor",u),u.displayName="GeneratorFunction",P(l,n,"GeneratorFunction"),P(c),P(c,n,"Generator"),P(c,i,function(){return this}),P(c,"toString",function(){return"[object Generator]"}),(E=function(){return{w:a,m:d}})()}function P(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(P=function(e,t,r,i){function a(t,r){P(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}var I="0x1F98431c8aD98523631AE4a59f267346ea31F984",_="0x0000000000000000000000000000000000000000",N="0xe34f199b19b2b4f47f68442619d555527d244f78a3297ea89325f843f87b8b54";function R(e){return e===n.ChainId.ZKSYNC?"0x010013f177ea1fcbc4520f9a3ca7cd2d1d77959e05aa66484027cb38e712aeed":N}(t=i||(i={}))[t.LOWEST=100]="LOWEST",t[t.LOW_200=200]="LOW_200",t[t.LOW_300=300]="LOW_300",t[t.LOW_400=400]="LOW_400",t[t.LOW=500]="LOW",t[t.MEDIUM=3e3]="MEDIUM",t[t.HIGH=1e4]="HIGH";var O=((r={})[i.LOWEST]=1,r[i.LOW_200]=4,r[i.LOW_300]=6,r[i.LOW_400]=8,r[i.LOW]=10,r[i.MEDIUM]=60,r[i.HIGH]=200,r),B=a.default.BigInt(-1),C=a.default.BigInt(0),D=a.default.BigInt(1),F=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(96)),U=a.default.exponentiate(F,a.default.BigInt(2));function M(e){var t=e.factoryAddress,r=e.tokenA,i=e.tokenB,a=e.fee,o=e.initCodeHashManualOverride,u=e.chainId,d=r.sortsBefore(i)?[r,i]:[i,r],f=d[0],p=d[1],h=(0,c.keccak256)(["bytes"],[s.defaultAbiCoder.encode(["address","address","uint24"],[f.address,p.address,a])]),m=null!=o?o:R(u);return u===n.ChainId.ZKSYNC?(0,n.computeZksyncCreate2Address)(t,m,h):(0,l.getCreate2Address)(t,h,m)}var L=function(){function e(){}return e.mulDivRoundingUp=function(e,t,r){var i=a.default.multiply(e,t),n=a.default.divide(i,r);return a.default.notEqual(a.default.remainder(i,r),C)&&(n=a.default.add(n,D)),n},e}(),q=a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(160)),D);function K(e,t){var r=a.default.multiply(e,t);return a.default.bitwiseAnd(r,n.MaxUint256)}var W=function(){function e(){}return e.getAmount0Delta=function(e,t,r,i){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}var o=a.default.leftShift(r,a.default.BigInt(96)),s=a.default.subtract(t,e);return i?L.mulDivRoundingUp(L.mulDivRoundingUp(o,s,t),D,e):a.default.divide(a.default.divide(a.default.multiply(o,s),t),e)},e.getAmount1Delta=function(e,t,r,i){if(a.default.greaterThan(e,t)){var n=[t,e];e=n[0],t=n[1]}return i?L.mulDivRoundingUp(r,a.default.subtract(t,e),F):a.default.divide(a.default.multiply(r,a.default.subtract(t,e)),F)},e.getNextSqrtPriceFromInput=function(e,t,r,i){return a.default.greaterThan(e,C)||(0,o.default)(!1),a.default.greaterThan(t,C)||(0,o.default)(!1),i?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!0)},e.getNextSqrtPriceFromOutput=function(e,t,r,i){return a.default.greaterThan(e,C)||(0,o.default)(!1),a.default.greaterThan(t,C)||(0,o.default)(!1),i?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,r,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,r,!1)},e.getNextSqrtPriceFromAmount0RoundingUp=function(e,t,r,i){if(a.default.equal(r,C))return e;var s=a.default.leftShift(t,a.default.BigInt(96));if(i){var u=K(r,e);if(a.default.equal(a.default.divide(u,r),e)){var l,c=(l=a.default.add(s,u),a.default.bitwiseAnd(l,n.MaxUint256));if(a.default.greaterThanOrEqual(c,s))return L.mulDivRoundingUp(s,e,c)}return L.mulDivRoundingUp(s,D,a.default.add(a.default.divide(s,e),r))}var d=K(r,e);a.default.equal(a.default.divide(d,r),e)||(0,o.default)(!1),a.default.greaterThan(s,d)||(0,o.default)(!1);var f=a.default.subtract(s,d);return L.mulDivRoundingUp(s,e,f)},e.getNextSqrtPriceFromAmount1RoundingDown=function(e,t,r,i){if(i){var n=a.default.lessThanOrEqual(r,q)?a.default.divide(a.default.leftShift(r,a.default.BigInt(96)),t):a.default.divide(a.default.multiply(r,F),t);return a.default.add(e,n)}var s=L.mulDivRoundingUp(r,F,t);return a.default.greaterThan(e,s)||(0,o.default)(!1),a.default.subtract(e,s)},e}(),V=a.default.exponentiate(a.default.BigInt(10),a.default.BigInt(6)),G=function(){function e(){}return e.computeSwapStep=function(e,t,r,i,n){var o={};n=a.default.BigInt(n);var s=a.default.greaterThanOrEqual(e,t),u=a.default.greaterThanOrEqual(i,C);if(u){var l=a.default.divide(a.default.multiply(i,a.default.subtract(V,n)),V);o.amountIn=s?W.getAmount0Delta(t,e,r,!0):W.getAmount1Delta(e,t,r,!0),a.default.greaterThanOrEqual(l,o.amountIn)?o.sqrtRatioNextX96=t:o.sqrtRatioNextX96=W.getNextSqrtPriceFromInput(e,r,l,s)}else o.amountOut=s?W.getAmount1Delta(t,e,r,!1):W.getAmount0Delta(e,t,r,!1),a.default.greaterThanOrEqual(a.default.multiply(i,B),o.amountOut)?o.sqrtRatioNextX96=t:o.sqrtRatioNextX96=W.getNextSqrtPriceFromOutput(e,r,a.default.multiply(i,B),s);var c=a.default.equal(t,o.sqrtRatioNextX96);return s?(o.amountIn=c&&u?o.amountIn:W.getAmount0Delta(o.sqrtRatioNextX96,e,r,!0),o.amountOut=c&&!u?o.amountOut:W.getAmount1Delta(o.sqrtRatioNextX96,e,r,!1)):(o.amountIn=c&&u?o.amountIn:W.getAmount1Delta(e,o.sqrtRatioNextX96,r,!0),o.amountOut=c&&!u?o.amountOut:W.getAmount0Delta(e,o.sqrtRatioNextX96,r,!1)),!u&&a.default.greaterThan(o.amountOut,a.default.multiply(i,B))&&(o.amountOut=a.default.multiply(i,B)),u&&a.default.notEqual(o.sqrtRatioNextX96,t)?o.feeAmount=a.default.subtract(i,o.amountIn):o.feeAmount=L.mulDivRoundingUp(o.amountIn,n,a.default.subtract(V,n)),[o.sqrtRatioNextX96,o.amountIn,o.amountOut,o.feeAmount]},e}(),j=function(){function e(){}return e.addDelta=function(e,t){return a.default.lessThan(t,C)?a.default.subtract(e,a.default.multiply(t,B)):a.default.add(e,t)},e}(),z=a.default.BigInt(2),H=[128,64,32,16,8,4,2,1].map(function(e){return[e,a.default.exponentiate(z,a.default.BigInt(e))]});function X(e){a.default.greaterThan(e,C)||(0,o.default)(!1),a.default.lessThanOrEqual(e,n.MaxUint256)||(0,o.default)(!1);for(var t,r=0,i=k(H);!(t=i()).done;){var s=t.value,u=s[0],l=s[1];a.default.greaterThanOrEqual(e,l)&&(e=a.default.signedRightShift(e,a.default.BigInt(u)),r+=u)}return r}function Q(e,t){return a.default.signedRightShift(a.default.multiply(e,a.default.BigInt(t)),a.default.BigInt(128))}var J=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(32)),Y=function(){function e(){}return e.getSqrtRatioAtTick=function(t){t>=e.MIN_TICK&&t<=e.MAX_TICK&&Number.isInteger(t)||(0,o.default)(!1);var r=t<0?-1*t:t,i=(1&r)!=0?a.default.BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):a.default.BigInt("0x100000000000000000000000000000000");return(2&r)!=0&&(i=Q(i,"0xfff97272373d413259a46990580e213a")),(4&r)!=0&&(i=Q(i,"0xfff2e50f5f656932ef12357cf3c7fdcc")),(8&r)!=0&&(i=Q(i,"0xffe5caca7e10e4e61c3624eaa0941cd0")),(16&r)!=0&&(i=Q(i,"0xffcb9843d60f6159c9db58835c926644")),(32&r)!=0&&(i=Q(i,"0xff973b41fa98c081472e6896dfb254c0")),(64&r)!=0&&(i=Q(i,"0xff2ea16466c96a3843ec78b326b52861")),(128&r)!=0&&(i=Q(i,"0xfe5dee046a99a2a811c461f1969c3053")),(256&r)!=0&&(i=Q(i,"0xfcbe86c7900a88aedcffc83b479aa3a4")),(512&r)!=0&&(i=Q(i,"0xf987a7253ac413176f2b074cf7815e54")),(1024&r)!=0&&(i=Q(i,"0xf3392b0822b70005940c7a398e4b70f3")),(2048&r)!=0&&(i=Q(i,"0xe7159475a2c29b7443b29c7fa6e889d9")),(4096&r)!=0&&(i=Q(i,"0xd097f3bdfd2022b8845ad8f792aa5825")),(8192&r)!=0&&(i=Q(i,"0xa9f746462d870fdf8a65dc1f90e061e5")),(16384&r)!=0&&(i=Q(i,"0x70d869a156d2a1b890bb3df62baf32f7")),(32768&r)!=0&&(i=Q(i,"0x31be135f97d08fd981231505542fcfa6")),(65536&r)!=0&&(i=Q(i,"0x9aa508b5b7a84e1c677de54f3e99bc9")),(131072&r)!=0&&(i=Q(i,"0x5d6af8dedb81196699c329225ee604")),(262144&r)!=0&&(i=Q(i,"0x2216e584f5fa1ea926041bedfe98")),(524288&r)!=0&&(i=Q(i,"0x48a170391f7dc42444e8fa2")),t>0&&(i=a.default.divide(n.MaxUint256,i)),a.default.greaterThan(a.default.remainder(i,J),C)?a.default.add(a.default.divide(i,J),D):a.default.divide(i,J)},e.getTickAtSqrtRatio=function(t){a.default.greaterThanOrEqual(t,e.MIN_SQRT_RATIO)&&a.default.lessThan(t,e.MAX_SQRT_RATIO)||(0,o.default)(!1);var r,i=a.default.leftShift(t,a.default.BigInt(32)),n=X(i);r=a.default.greaterThanOrEqual(a.default.BigInt(n),a.default.BigInt(128))?a.default.signedRightShift(i,a.default.BigInt(n-127)):a.default.leftShift(i,a.default.BigInt(127-n));for(var s=a.default.leftShift(a.default.subtract(a.default.BigInt(n),a.default.BigInt(128)),a.default.BigInt(64)),u=0;u<14;u++){r=a.default.signedRightShift(a.default.multiply(r,r),a.default.BigInt(127));var l=a.default.signedRightShift(r,a.default.BigInt(128));s=a.default.bitwiseOr(s,a.default.leftShift(l,a.default.BigInt(63-u))),r=a.default.signedRightShift(r,l)}var c=a.default.multiply(s,a.default.BigInt("255738958999603826347141")),d=a.default.toNumber(a.default.signedRightShift(a.default.subtract(c,a.default.BigInt("3402992956809132418596140100660247210")),a.default.BigInt(128))),f=a.default.toNumber(a.default.signedRightShift(a.default.add(c,a.default.BigInt("291339464771989622907027621153398088495")),a.default.BigInt(128)));return d===f?d:a.default.lessThanOrEqual(e.getSqrtRatioAtTick(f),t)?f:d},e}();function Z(e,t,r,i,n,a,o,s,u){return $.apply(this,arguments)}function $(){return($=w(E().m(function e(t,r,i,n,s,u,l,c,d){var f,p,h,m,g,b,y;return E().w(function(e){for(;;)switch(e.n){case 0:d||(d=l?a.default.add(Y.MIN_SQRT_RATIO,D):a.default.subtract(Y.MAX_SQRT_RATIO,D)),l?(a.default.greaterThan(d,Y.MIN_SQRT_RATIO)||(0,o.default)(!1),a.default.lessThan(d,r)||(0,o.default)(!1)):(a.default.lessThan(d,Y.MAX_SQRT_RATIO)||(0,o.default)(!1),a.default.greaterThan(d,r)||(0,o.default)(!1)),f=a.default.greaterThanOrEqual(c,C),p={amountSpecifiedRemaining:c,amountCalculated:C,sqrtPriceX96:r,tick:i,liquidity:n};case 1:if(!(a.default.notEqual(p.amountSpecifiedRemaining,C)&&p.sqrtPriceX96!==d)){e.n=7;break}return(h={}).sqrtPriceStartX96=p.sqrtPriceX96,e.n=2,u.nextInitializedTickWithinOneWord(p.tick,l,s);case 2:if(m=e.v,h.tickNext=m[0],h.initialized=m[1],h.tickNext<Y.MIN_TICK?h.tickNext=Y.MIN_TICK:h.tickNext>Y.MAX_TICK&&(h.tickNext=Y.MAX_TICK),h.sqrtPriceNextX96=Y.getSqrtRatioAtTick(h.tickNext),g=G.computeSwapStep(p.sqrtPriceX96,(l?a.default.lessThan(h.sqrtPriceNextX96,d):a.default.greaterThan(h.sqrtPriceNextX96,d))?d:h.sqrtPriceNextX96,p.liquidity,p.amountSpecifiedRemaining,t),p.sqrtPriceX96=g[0],h.amountIn=g[1],h.amountOut=g[2],h.feeAmount=g[3],f?(p.amountSpecifiedRemaining=a.default.subtract(p.amountSpecifiedRemaining,a.default.add(h.amountIn,h.feeAmount)),p.amountCalculated=a.default.subtract(p.amountCalculated,h.amountOut)):(p.amountSpecifiedRemaining=a.default.add(p.amountSpecifiedRemaining,h.amountOut),p.amountCalculated=a.default.add(p.amountCalculated,a.default.add(h.amountIn,h.feeAmount))),!a.default.equal(p.sqrtPriceX96,h.sqrtPriceNextX96)){e.n=5;break}if(!h.initialized){e.n=4;break}return y=a.default,e.n=3,u.getTick(h.tickNext);case 3:b=y.BigInt.call(y,e.v.liquidityNet),l&&(b=a.default.multiply(b,B)),p.liquidity=j.addDelta(p.liquidity,b);case 4:p.tick=l?h.tickNext-1:h.tickNext,e.n=6;break;case 5:a.default.notEqual(p.sqrtPriceX96,h.sqrtPriceStartX96)&&(p.tick=Y.getTickAtSqrtRatio(p.sqrtPriceX96));case 6:e.n=1;break;case 7:return e.a(2,{amountCalculated:p.amountCalculated,sqrtRatioX96:p.sqrtPriceX96,liquidity:p.liquidity,tickCurrent:p.tick})}},e)}))).apply(this,arguments)}Y.MIN_TICK=-887272,Y.MAX_TICK=-Y.MIN_TICK,Y.MIN_SQRT_RATIO=a.default.BigInt("4295128739"),Y.MAX_SQRT_RATIO=a.default.BigInt("1461446703485210103287273052203988822378723970342");var ee=function(){function e(){}var t,r,i=e.prototype;return t=w(E().m(function t(r){return E().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.getTick=function(e){return t.apply(this,arguments)},r=w(E().m(function t(r,i,n){return E().w(function(t){for(;;)switch(t.n){case 0:throw Error(e.ERROR_MESSAGE);case 1:return t.a(2)}},t)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}();function et(e,t){for(var r=0;r<e.length-1;r++)if(t(e[r],e[r+1])>0)return!1;return!0}function er(e,t){return e.index-t.index}ee.ERROR_MESSAGE="No tick data provider was given";var ei=function(){function e(){}return e.validateList=function(e,t){t>0||(0,o.default)(!1),e.every(function(e){return e.index%t==0})||(0,o.default)(!1),a.default.equal(e.reduce(function(e,t){var r=t.liquidityNet;return a.default.add(e,r)},C),C)||(0,o.default)(!1),et(e,er)||(0,o.default)(!1)},e.isBelowSmallest=function(e,t){return e.length>0||(0,o.default)(!1),t<e[0].index},e.isAtOrAboveLargest=function(e,t){return e.length>0||(0,o.default)(!1),t>=e[e.length-1].index},e.getTick=function(e,t){var r=e[this.binarySearch(e,t)];return r.index!==t&&(0,o.default)(!1),r},e.binarySearch=function(e,t){this.isBelowSmallest(e,t)&&(0,o.default)(!1);for(var r,i=0,n=e.length-1;;){if(e[r=Math.floor((i+n)/2)].index<=t&&(r===e.length-1||e[r+1].index>t))return r;e[r].index<t?i=r+1:n=r-1}},e.nextInitializedTick=function(t,r,i){if(i){if(e.isBelowSmallest(t,r)&&(0,o.default)(!1),e.isAtOrAboveLargest(t,r))return t[t.length-1];var n=this.binarySearch(t,r);return t[n]}if(this.isAtOrAboveLargest(t,r)&&(0,o.default)(!1),this.isBelowSmallest(t,r))return t[0];var a=this.binarySearch(t,r);return t[a+1]},e.nextInitializedTickWithinOneWord=function(t,r,i,n){var a=Math.floor(r/n);if(i){var o=(a>>8<<8)*n;if(e.isBelowSmallest(t,r))return[o,!1];var s=e.nextInitializedTick(t,r,i).index,u=Math.max(o,s);return[u,u===s]}var l=(((a+1>>8)+1<<8)-1)*n;if(this.isAtOrAboveLargest(t,r))return[l,!1];var c=this.nextInitializedTick(t,r,i).index,d=Math.min(l,c);return[d,d===c]},e}();function en(e){var t=a.default.BigInt(e).toString(16);return t.length%2!=0&&(t="0"+t),"0x"+t}function ea(e,t){var r=e.input.wrapped,i=e.pools.reduce(function(e,t,r){var i=e.inputToken,n=e.path,a=e.types,o=t.token0.equals(i)?t.token1:t.token0;return 0===r?{inputToken:o,types:["address","uint24","address"],path:[i.address,t.fee,o.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(n,[t.fee,o.address])}},{inputToken:r,path:[],types:[]}),n=i.path,a=i.types;return t?(0,c.pack)(a.reverse(),n.reverse()):(0,c.pack)(a,n)}function eo(e,t){var r=a.default.leftShift(a.default.BigInt(e),a.default.BigInt(192)),i=a.default.BigInt(t),o=a.default.divide(r,i);return(0,n.sqrt)(o)}function es(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=a.default.divide(a.default.multiply(e,t),F);return a.default.divide(a.default.multiply(a.default.BigInt(r),n),a.default.subtract(t,e))}function eu(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}var n=a.default.multiply(a.default.multiply(a.default.BigInt(r),e),t),o=a.default.multiply(F,a.default.subtract(t,e));return a.default.divide(n,o)}function el(e,t,r){if(a.default.greaterThan(e,t)){var i=[t,e];e=i[0],t=i[1]}return a.default.divide(a.default.multiply(a.default.BigInt(r),F),a.default.subtract(t,e))}function ec(e,t,r,i,n,o){if(a.default.greaterThan(t,r)){var s=[r,t];t=s[0],r=s[1]}var u=o?eu:es;if(a.default.lessThanOrEqual(e,t))return u(t,r,i);if(!a.default.lessThan(e,r))return el(t,r,n);var l=u(e,r,i),c=el(t,e,n);return a.default.lessThan(l,c)?l:c}function ed(e,t){Number.isInteger(e)&&Number.isInteger(t)||(0,o.default)(!1),t>0||(0,o.default)(!1),e>=Y.MIN_TICK&&e<=Y.MAX_TICK||(0,o.default)(!1);var r=Math.round(e/t)*t;return r<Y.MIN_TICK?r+t:r>Y.MAX_TICK?r-t:r}var ef=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),ep=function(){function e(){}return e.getTokensOwed=function(e,t,r,i,n){return[a.default.divide(a.default.multiply(eb(i,e),r),ef),a.default.divide(a.default.multiply(eb(n,t),r),ef)]},e}();function eh(e,t,r){var i=Y.getSqrtRatioAtTick(r),o=a.default.multiply(i,i);return e.sortsBefore(t)?new n.Price(e,t,U,o):new n.Price(e,t,o,U)}function em(e){var t=e.baseCurrency.sortsBefore(e.quoteCurrency),r=t?eo(e.numerator,e.denominator):eo(e.denominator,e.numerator),i=Y.getTickAtSqrtRatio(r),n=eh(e.baseCurrency,e.quoteCurrency,i+1);return t?!e.lessThan(n)&&i++:!e.greaterThan(n)&&i++,i}var eg=a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(256));function eb(e,t){var r=a.default.subtract(e,t);return a.default.lessThan(r,C)?a.default.add(eg,r):r}var ey=function(){function e(){}return e.getFeeGrowthInside=function(e,t,r,i,n,a,o){var s,u,l,c;return n>=r?(s=e.feeGrowthOutside0X128,u=e.feeGrowthOutside1X128):(s=eb(a,e.feeGrowthOutside0X128),u=eb(o,e.feeGrowthOutside1X128)),n<i?(l=t.feeGrowthOutside0X128,c=t.feeGrowthOutside1X128):(l=eb(a,t.feeGrowthOutside0X128),c=eb(o,t.feeGrowthOutside1X128)),[eb(eb(a,s),l),eb(eb(o,u),c)]},e}(),ex=function(e){var t=e.index,r=e.liquidityGross,i=e.liquidityNet;t>=Y.MIN_TICK&&t<=Y.MAX_TICK||(0,o.default)(!1),this.index=t,this.liquidityGross=a.default.BigInt(r),this.liquidityNet=a.default.BigInt(i)},eA=function(){function e(e,t){var r=e.map(function(e){return e instanceof ex?e:new ex(e)});ei.validateList(r,t),this.ticks=r}var t,r,i=e.prototype;return t=w(E().m(function e(t){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,ei.getTick(this.ticks,t))},e,this)})),i.getTick=function(e){return t.apply(this,arguments)},r=w(E().m(function e(t,r,i){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,ei.nextInitializedTickWithinOneWord(this.ticks,t,r,i))},e,this)})),i.nextInitializedTickWithinOneWord=function(e,t,i){return r.apply(this,arguments)},e}(),ew=new ee,ev=function(){function e(e,t,r,i,n,s,u){void 0===u&&(u=ew),Number.isInteger(r)&&r<1e6||(0,o.default)(!1);var l=Y.getSqrtRatioAtTick(s),c=Y.getSqrtRatioAtTick(s+1);a.default.greaterThanOrEqual(a.default.BigInt(i),l)&&a.default.lessThanOrEqual(a.default.BigInt(i),c)||(0,o.default)(!1);var d=e.sortsBefore(t)?[e,t]:[t,e];this.token0=d[0],this.token1=d[1],this.fee=r,this.sqrtRatioX96=a.default.BigInt(i),this.liquidity=a.default.BigInt(n),this.tickCurrent=s,this.tickDataProvider=Array.isArray(u)?new eA(u,O[r]):u}e.getAddress=function(e,t,r,i,n){return M({factoryAddress:null!=n?n:I,fee:r,tokenA:e,tokenB:t,initCodeHashManualOverride:i})};var t,r,i,s=e.prototype;return s.involvesToken=function(e){return e.equals(this.token0)||e.equals(this.token1)},s.priceOf=function(e){return this.involvesToken(e)||(0,o.default)(!1),e.equals(this.token0)?this.token0Price:this.token1Price},t=w(E().m(function t(r,i){var s,u,l,c,d,f,p;return E().w(function(t){for(;;)switch(t.n){case 0:return this.involvesToken(r.currency)||(0,o.default)(!1),s=r.currency.equals(this.token0),t.n=1,this.swap(s,r.quotient,i);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=s?this.token1:this.token0,t.a(2,[n.CurrencyAmount.fromRawAmount(p,a.default.multiply(l,B)),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),s.getOutputAmount=function(e,r){return t.apply(this,arguments)},r=w(E().m(function t(r,i){var s,u,l,c,d,f,p;return E().w(function(t){for(;;)switch(t.n){case 0:return r.currency.isToken&&this.involvesToken(r.currency)||(0,o.default)(!1),s=r.currency.equals(this.token1),t.n=1,this.swap(s,a.default.multiply(r.quotient,B),i);case 1:return l=(u=t.v).amountCalculated,c=u.sqrtRatioX96,d=u.liquidity,f=u.tickCurrent,p=s?this.token0:this.token1,t.a(2,[n.CurrencyAmount.fromRawAmount(p,l),new e(this.token0,this.token1,this.fee,c,d,f,this.tickDataProvider)])}},t,this)})),s.getInputAmount=function(e,t){return r.apply(this,arguments)},i=w(E().m(function e(t,r,i){return E().w(function(e){for(;;)if(0===e.n)return e.a(2,Z(a.default.BigInt(this.fee),this.sqrtRatioX96,this.tickCurrent,this.liquidity,this.tickSpacing,this.tickDataProvider,t,r,i))},e,this)})),s.swap=function(e,t,r){return i.apply(this,arguments)},S(e,[{key:"token0Price",get:function(){var e;return null!=(e=this._token0Price)?e:this._token0Price=new n.Price(this.token0,this.token1,U,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96))}},{key:"token1Price",get:function(){var e;return null!=(e=this._token1Price)?e:this._token1Price=new n.Price(this.token1,this.token0,a.default.multiply(this.sqrtRatioX96,this.sqrtRatioX96),U)}},{key:"chainId",get:function(){return this.token0.chainId}},{key:"tickSpacing",get:function(){return O[this.fee]}}])}(),eS=function(){function e(e){var t=e.pool,r=e.liquidity,i=e.tickLower,n=e.tickUpper;this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,i<n||(0,o.default)(!1),i>=Y.MIN_TICK&&i%t.tickSpacing==0||(0,o.default)(!1),n<=Y.MAX_TICK&&n%t.tickSpacing==0||(0,o.default)(!1),this.pool=t,this.tickLower=i,this.tickUpper=n,this.liquidity=a.default.BigInt(r)}var t=e.prototype;return t.ratiosAfterSlippage=function(e){var t=this.pool.token0Price.asFraction.multiply(new n.Percent(1).subtract(e)),r=this.pool.token0Price.asFraction.multiply(e.add(1)),i=eo(t.numerator,t.denominator);a.default.lessThanOrEqual(i,Y.MIN_SQRT_RATIO)&&(i=a.default.add(Y.MIN_SQRT_RATIO,a.default.BigInt(1)));var o=eo(r.numerator,r.denominator);return a.default.greaterThanOrEqual(o,Y.MAX_SQRT_RATIO)&&(o=a.default.subtract(Y.MAX_SQRT_RATIO,a.default.BigInt(1))),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:o}},t.mintAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),s=e.fromAmounts(T({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper},this.mintAmounts,{useFullPrecision:!1}));return{amount0:new e({pool:o,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount0,amount1:new e({pool:a,liquidity:s.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts.amount1}},t.burnAmountsWithSlippage=function(t){var r=this.ratiosAfterSlippage(t),i=r.sqrtRatioX96Upper,n=r.sqrtRatioX96Lower,a=new ev(this.pool.token0,this.pool.token1,this.pool.fee,n,0,Y.getTickAtSqrtRatio(n)),o=new e({pool:new ev(this.pool.token0,this.pool.token1,this.pool.fee,i,0,Y.getTickAtSqrtRatio(i)),liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount0,s=new e({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).amount1;return{amount0:o.quotient,amount1:s.quotient}},e.fromAmounts=function(t){var r=t.pool,i=t.tickLower,n=t.tickUpper,a=t.amount0,o=t.amount1,s=t.useFullPrecision,u=Y.getSqrtRatioAtTick(i),l=Y.getSqrtRatioAtTick(n);return new e({pool:r,tickLower:i,tickUpper:n,liquidity:ec(r.sqrtRatioX96,u,l,a,o,s)})},e.fromAmount0=function(t){var r=t.pool,i=t.tickLower,a=t.tickUpper,o=t.amount0,s=t.useFullPrecision;return e.fromAmounts({pool:r,tickLower:i,tickUpper:a,amount0:o,amount1:n.MaxUint256,useFullPrecision:s})},e.fromAmount1=function(t){var r=t.pool,i=t.tickLower,a=t.tickUpper,o=t.amount1;return e.fromAmounts({pool:r,tickLower:i,tickUpper:a,amount0:n.MaxUint256,amount1:o,useFullPrecision:!0})},S(e,[{key:"token0PriceLower",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickLower)}},{key:"token0PriceUpper",get:function(){return eh(this.pool.token0,this.pool.token1,this.tickUpper)}},{key:"amount0",get:function(){return null===this._token0Amount&&(this.pool.tickCurrent<this.tickLower?this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this.pool.tickCurrent<this.tickUpper?this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1)):this._token0Amount=n.CurrencyAmount.fromRawAmount(this.pool.token0,C)),this._token0Amount}},{key:"amount1",get:function(){return null===this._token1Amount&&(this.pool.tickCurrent<this.tickLower?this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,C):this.pool.tickCurrent<this.tickUpper?this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!1)):this._token1Amount=n.CurrencyAmount.fromRawAmount(this.pool.token1,W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!1))),this._token1Amount}},{key:"mintAmounts",get:function(){if(null===this._mintAmounts)if(this.pool.tickCurrent<this.tickLower)return{amount0:W.getAmount0Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:C};else if(this.pool.tickCurrent<this.tickUpper)return{amount0:W.getAmount0Delta(this.pool.sqrtRatioX96,Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)};else return{amount0:C,amount1:W.getAmount1Delta(Y.getSqrtRatioAtTick(this.tickLower),Y.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)};return this._mintAmounts}}])}(),ek=S(function(e,t,r){this._midPrice=null,e.length>0||(0,o.default)(!1);var i=e[0].chainId;e.every(function(e){return e.chainId===i})||(0,o.default)(!1);var n=t.wrapped;e[0].involvesToken(n)||(0,o.default)(!1),e[e.length-1].involvesToken(r.wrapped)||(0,o.default)(!1);for(var a,s=[n],u=k(e.entries());!(a=u()).done;){var l=a.value,c=l[0],d=l[1],f=s[c];f.equals(d.token0)||f.equals(d.token1)||(0,o.default)(!1);var p=f.equals(d.token0)?d.token1:d.token0;s.push(p)}this.pools=e,this.tokenPath=s,this.input=t,this.output=null!=r?r:s[s.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.nextInput,i=e.price;return r.equals(t.token0)?{nextInput:t.token1,price:i.multiply(t.token0Price)}:{nextInput:t.token0,price:i.multiply(t.token1Price)}},this.pools[0].token0.equals(this.input.wrapped)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price}).price;return this._midPrice=new n.Price(this.input,this.output,e.denominator,e.numerator)}}]);function eT(e,t){return(e.inputAmount.currency.equals(t.inputAmount.currency)||(0,o.default)(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||(0,o.default)(!1),e.outputAmount.equalTo(t.outputAmount))?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0)-t.swaps.reduce(function(e,t){return e+t.route.tokenPath.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var eE=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){var t=e.route;return i.wrapped.equals(t.input.wrapped)})||(0,o.default)(!1),t.every(function(e){var t=e.route;return n.wrapped.equals(t.output.wrapped)})||(0,o.default)(!1);for(var a,s=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),u=new Set,l=k(t);!(a=l()).done;)for(var c,d=a.value.route,f=k(d.pools);!(c=f()).done;){var p=c.value;u.add(ev.getAddress(p.token0,p.token1,p.fee))}s!==u.size&&(0,o.default)(!1),this.swaps=t,this.tradeType=r}t=w(E().m(function t(r,i){return E().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,n.TradeType.EXACT_INPUT))},t)})),e.exactIn=function(e,r){return t.apply(this,arguments)},r=w(E().m(function t(r,i){return E().w(function(t){for(;;)if(0===t.n)return t.a(2,e.fromRoute(r,i,n.TradeType.EXACT_OUTPUT))},t)})),e.exactOut=function(e,t){return r.apply(this,arguments)},i=w(E().m(function t(r,i,a){var s,u,l,c,d,f,p,h,m;return E().w(function(t){for(;;)switch(t.n){case 0:if(s=Array(r.tokenPath.length),a!==n.TradeType.EXACT_INPUT){t.n=5;break}i.currency.equals(r.input)||(0,o.default)(!1),s[0]=i.wrapped,c=0;case 1:if(!(c<r.tokenPath.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(s[c]);case 2:f=t.v[0],s[c+1]=f;case 3:c++,t.n=1;break;case 4:u=n.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),l=n.CurrencyAmount.fromFractionalAmount(r.output,s[s.length-1].numerator,s[s.length-1].denominator),t.n=10;break;case 5:i.currency.equals(r.output)||(0,o.default)(!1),s[s.length-1]=i.wrapped,p=r.tokenPath.length-1;case 6:if(!(p>0)){t.n=9;break}return h=r.pools[p-1],t.n=7,h.getInputAmount(s[p]);case 7:m=t.v[0],s[p-1]=m;case 8:p--,t.n=6;break;case 9:u=n.CurrencyAmount.fromFractionalAmount(r.input,s[0].numerator,s[0].denominator),l=n.CurrencyAmount.fromFractionalAmount(r.output,i.numerator,i.denominator);case 10:return t.a(2,new e({routes:[{inputAmount:u,outputAmount:l,route:r}],tradeType:a}))}},t)})),e.fromRoute=function(e,t,r){return i.apply(this,arguments)},a=w(E().m(function t(r,i){var a,s,u,l,c,d,f,p,h,m,g,b,y,x,A;return E().w(function(t){for(;;)switch(t.n){case 0:a=[],s=k(r);case 1:if((u=s()).done){t.n=13;break}if(c=(l=u.value).route,d=l.amount,f=Array(c.tokenPath.length),p=void 0,h=void 0,i!==n.TradeType.EXACT_INPUT){t.n=6;break}d.currency.equals(c.input)||(0,o.default)(!1),p=n.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=n.CurrencyAmount.fromFractionalAmount(c.input.wrapped,d.numerator,d.denominator),m=0;case 2:if(!(m<c.tokenPath.length-1)){t.n=5;break}return g=c.pools[m],t.n=3,g.getOutputAmount(f[m]);case 3:b=t.v[0],f[m+1]=b;case 4:m++,t.n=2;break;case 5:h=n.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),t.n=11;break;case 6:d.currency.equals(c.output)||(0,o.default)(!1),h=n.CurrencyAmount.fromFractionalAmount(c.output,d.numerator,d.denominator),f[f.length-1]=n.CurrencyAmount.fromFractionalAmount(c.output.wrapped,d.numerator,d.denominator),y=c.tokenPath.length-1;case 7:if(!(y>0)){t.n=10;break}return x=c.pools[y-1],t.n=8,x.getInputAmount(f[y]);case 8:A=t.v[0],f[y-1]=A;case 9:y--,t.n=7;break;case 10:p=n.CurrencyAmount.fromFractionalAmount(c.input,f[0].numerator,f[0].denominator);case 11:a.push({route:c,inputAmount:p,outputAmount:h});case 12:t.n=1;break;case 13:return t.a(2,new e({routes:a,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return a.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(T({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,a,s,u,l=e.prototype;return l.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(C)&&(0,o.default)(!1),this.tradeType===n.TradeType.EXACT_OUTPUT)return t;var r=new n.Fraction(D).add(e).invert().multiply(t.quotient).quotient;return n.CurrencyAmount.fromRawAmount(t.currency,r)},l.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(C)&&(0,o.default)(!1),this.tradeType===n.TradeType.EXACT_INPUT)return t;var r=new n.Fraction(D).add(e).multiply(t.quotient).quotient;return n.CurrencyAmount.fromRawAmount(t.currency,r)},l.worstExecutionPrice=function(e){return new n.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},s=w(E().m(function t(r,i,a,s,u,l,c){var d,f,p,h,m,g,b,y,x,A,w,v,S,k;return E().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=i),void 0===c&&(c=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),i===l||u.length>0||(0,o.default)(!1),g=l.wrapped,b=a.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(g.currency)&&!x.token1.equals(g.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getOutputAmount(g);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientInputAmountError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!(A.currency.isToken&&A.currency.equals(b))){t.n=9;break}return S=n.sortedInsert,k=c,t.n=8,e.fromRoute(new ek([].concat(u,[x]),i.currency,a),i,n.TradeType.EXACT_INPUT);case 8:S(k,t.v,p,eT),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactIn(w,i,a,{maxNumResults:p,maxHops:m-1},[].concat(u,[x]),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactIn=function(e,t,r,i,n,a,o){return s.apply(this,arguments)},u=w(E().m(function t(r,i,a,s,u,l,c){var d,f,p,h,m,g,b,y,x,A,w,v,S,k;return E().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===s?{}:s).maxNumResults)?3:f,m=void 0===(h=d.maxHops)?3:h,void 0===u&&(u=[]),void 0===l&&(l=a),void 0===c&&(c=[]),r.length>0||(0,o.default)(!1),m>0||(0,o.default)(!1),a===l||u.length>0||(0,o.default)(!1),g=l.wrapped,b=i.wrapped,y=0;case 1:if(!(y<r.length)){t.n=11;break}if(!(!(x=r[y]).token0.equals(g.currency)&&!x.token1.equals(g.currency))){t.n=2;break}return t.a(3,10);case 2:return A=void 0,t.p=3,t.n=4,x.getInputAmount(g);case 4:A=t.v[0],t.n=7;break;case 5:if(t.p=5,!(v=t.v).isInsufficientReservesError){t.n=6;break}return t.a(3,10);case 6:throw v;case 7:if(!A.currency.equals(b)){t.n=9;break}return S=n.sortedInsert,k=c,t.n=8,e.fromRoute(new ek([x].concat(u),i,a.currency),a,n.TradeType.EXACT_OUTPUT);case 8:S(k,t.v,p,eT),t.n=10;break;case 9:if(!(m>1&&r.length>1)){t.n=10;break}return w=r.slice(0,y).concat(r.slice(y+1,r.length)),t.n=10,e.bestTradeExactOut(w,i,a,{maxNumResults:p,maxHops:m-1},[x].concat(u),A,c);case 10:y++,t.n=1;break;case 11:return t.a(2,c)}},t,null,[[3,5]])})),e.bestTradeExactOut=function(e,t,r,i,n,a,o){return u.apply(this,arguments)},S(e,[{key:"route",get:function(){return 1!==this.swaps.length&&(0,o.default)(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},n.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},n.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new n.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=n.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=k(this.swaps);!(e=r()).done;){var i=e.value,a=i.route,o=i.inputAmount,s=a.midPrice;t=t.add(s.quote(o))}var u=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new n.Percent(u.numerator,u.denominator),this._priceImpact}}])}(),eP=function(){function e(){}return e.encodeMulticall=function(t){return Array.isArray(t)||(t=[t]),1===t.length?t[0]:e.INTERFACE.encodeFunctionData("multicall",[t])},e.decodeMulticall=function(t){return e.INTERFACE.decodeFunctionData("multicall",t).data},e}();eP.INTERFACE=new u.Interface(d.default.abi);var eI=function(){function e(){}return e.encodePermit=function(t,r){return"nonce"in r?e.INTERFACE.encodeFunctionData("selfPermitAllowed",[t.address,en(r.nonce),en(r.expiry),r.v,r.r,r.s]):e.INTERFACE.encodeFunctionData("selfPermit",[t.address,en(r.amount),en(r.deadline),r.v,r.r,r.s])},e}();eI.INTERFACE=new u.Interface(p.default.abi);var e_=function(){function e(){}return e.encodeFeeBips=function(e){return en(e.multiply(1e4).quotient)},e.encodeUnwrapWETH9=function(t,r,i){if(r=(0,n.validateAndParseAddress)(r),!i)return e.INTERFACE.encodeFunctionData("unwrapWETH9",[en(t),r]);var a=this.encodeFeeBips(i.fee),o=(0,n.validateAndParseAddress)(i.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee",[en(t),r,a,o])},e.encodeSweepToken=function(t,r,i,a){if(i=(0,n.validateAndParseAddress)(i),!a)return e.INTERFACE.encodeFunctionData("sweepToken",[t.address,en(r),i]);var o=this.encodeFeeBips(a.fee),s=(0,n.validateAndParseAddress)(a.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee",[t.address,en(r),i,o,s])},e.encodeRefundETH=function(){return e.INTERFACE.encodeFunctionData("refundETH")},e}();e_.INTERFACE=new u.Interface(h.default.abi);var eN=["expectedCurrencyOwed0","expectedCurrencyOwed1"],eR=en(a.default.subtract(a.default.exponentiate(a.default.BigInt(2),a.default.BigInt(128)),a.default.BigInt(1)));function eO(e){return Object.keys(e).some(function(e){return"recipient"===e})}var eB={Permit:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},eC=function(){function e(){}return e.encodeCreate=function(t){return e.INTERFACE.encodeFunctionData("createAndInitializePoolIfNecessary",[t.token0.address,t.token1.address,t.fee,en(t.sqrtRatioX96)])},e.createCallParameters=function(e){return{calldata:this.encodeCreate(e),value:en(0)}},e.addCallParameters=function(t,r){a.default.greaterThan(t.liquidity,C)||(0,o.default)(!1);var i=[],s=t.mintAmounts,u=s.amount0,l=s.amount1,c=t.mintAmountsWithSlippage(r.slippageTolerance),d=en(c.amount0),f=en(c.amount1),p=en(r.deadline);if(eO(r)&&r.createPool&&i.push(this.encodeCreate(t.pool)),r.token0Permit&&i.push(eI.encodePermit(t.pool.token0,r.token0Permit)),r.token1Permit&&i.push(eI.encodePermit(t.pool.token1,r.token1Permit)),eO(r)){var h=(0,n.validateAndParseAddress)(r.recipient);i.push(e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Desired:en(u),amount1Desired:en(l),amount0Min:d,amount1Min:f,recipient:h,deadline:p}]))}else i.push(e.INTERFACE.encodeFunctionData("increaseLiquidity",[{tokenId:en(r.tokenId),amount0Desired:en(u),amount1Desired:en(l),amount0Min:d,amount1Min:f,deadline:p}]));var m=en(0);if(r.useNative){var g=r.useNative.wrapped;t.pool.token0.equals(g)||t.pool.token1.equals(g)||(0,o.default)(!1);var b=t.pool.token0.equals(g)?u:l;a.default.greaterThan(b,C)&&i.push(e_.encodeRefundETH()),m=en(b)}return{calldata:eP.encodeMulticall(i),value:m}},e.encodeCollect=function(t){var r=[],i=en(t.tokenId),a=t.expectedCurrencyOwed0.currency.isNative||t.expectedCurrencyOwed1.currency.isNative,o=(0,n.validateAndParseAddress)(t.recipient);if(r.push(e.INTERFACE.encodeFunctionData("collect",[{tokenId:i,recipient:a?_:o,amount0Max:eR,amount1Max:eR}])),a){var s=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed0.quotient:t.expectedCurrencyOwed1.quotient,u=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.currency:t.expectedCurrencyOwed0.currency,l=t.expectedCurrencyOwed0.currency.isNative?t.expectedCurrencyOwed1.quotient:t.expectedCurrencyOwed0.quotient;r.push(e_.encodeUnwrapWETH9(s,o)),r.push(e_.encodeSweepToken(u,l,o))}return r},e.collectCallParameters=function(t){var r=e.encodeCollect(t);return{calldata:eP.encodeMulticall(r),value:en(0)}},e.removeCallParameters=function(t,r){var i=[],s=en(r.deadline),u=en(r.tokenId),l=new eS({pool:t.pool,liquidity:r.liquidityPercentage.multiply(t.liquidity).quotient,tickLower:t.tickLower,tickUpper:t.tickUpper});a.default.greaterThan(l.liquidity,C)||(0,o.default)(!1);var c=l.burnAmountsWithSlippage(r.slippageTolerance),d=c.amount0,f=c.amount1;r.permit&&i.push(e.INTERFACE.encodeFunctionData("permit",[(0,n.validateAndParseAddress)(r.permit.spender),u,en(r.permit.deadline),r.permit.v,r.permit.r,r.permit.s])),i.push(e.INTERFACE.encodeFunctionData("decreaseLiquidity",[{tokenId:u,liquidity:en(l.liquidity),amount0Min:en(d),amount1Min:en(f),deadline:s}]));var p=r.collectOptions,h=p.expectedCurrencyOwed0,m=p.expectedCurrencyOwed1,g=function(e,t){if(null==e)return{};var r={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;r[i]=e[i]}return r}(p,eN);return i.push.apply(i,e.encodeCollect(T({tokenId:en(r.tokenId),expectedCurrencyOwed0:h.add(n.CurrencyAmount.fromRawAmount(h.currency,d)),expectedCurrencyOwed1:m.add(n.CurrencyAmount.fromRawAmount(m.currency,f))},g))),r.liquidityPercentage.equalTo(D)?r.burnToken&&i.push(e.INTERFACE.encodeFunctionData("burn",[u])):!0===r.burnToken&&(0,o.default)(!1),{calldata:eP.encodeMulticall(i),value:en(0)}},e.safeTransferFromParameters=function(t){var r=(0,n.validateAndParseAddress)(t.recipient),i=(0,n.validateAndParseAddress)(t.sender);return{calldata:t.data?e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256,bytes)",[i,r,en(t.tokenId),t.data]):e.INTERFACE.encodeFunctionData("safeTransferFrom(address,address,uint256)",[i,r,en(t.tokenId)]),value:en(0)}},e.getPermitData=function(e,t,r){return{domain:{name:"Uniswap V3 Positions NFT-V1",chainId:r,version:"1",verifyingContract:t},types:eB,values:e}},e}();eC.INTERFACE=new u.Interface(f.default.abi);var eD=function(){function e(){}return e.quoteCallParameters=function(e,t,r,i){void 0===i&&(i={});var a=1===e.pools.length,s=en(t.quotient),u=i.useQuoterV2?this.V2INTERFACE:this.V1INTERFACE;if(a){var l,c,d,f={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:en(null!=(c=null==(d=i)?void 0:d.sqrtPriceLimitX96)?c:0)},p=T({},f,r===n.TradeType.EXACT_INPUT?{amountIn:s}:{amount:s}),h=[f.tokenIn,f.tokenOut,f.fee,s,f.sqrtPriceLimitX96],m=r===n.TradeType.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";l=u.encodeFunctionData(m,i.useQuoterV2?[p]:h)}else{(null==(g=i)?void 0:g.sqrtPriceLimitX96)!==void 0&&(0,o.default)(!1);var g,b=ea(e,r===n.TradeType.EXACT_OUTPUT),y=r===n.TradeType.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";l=u.encodeFunctionData(y,[b,s])}return{calldata:l,value:en(0)}},e}();eD.V1INTERFACE=new u.Interface(m.default.abi),eD.V2INTERFACE=new u.Interface(g.default.abi);var eF=function(){function e(){}return e.encodeClaim=function(t,r){var i,a=[];a.push(e.INTERFACE.encodeFunctionData("unstakeToken",[this._encodeIncentiveKey(t),en(r.tokenId)]));var o=(0,n.validateAndParseAddress)(r.recipient),s=null!=(i=r.amount)?i:0;return a.push(e.INTERFACE.encodeFunctionData("claimReward",[t.rewardToken.address,o,en(s)])),a},e.collectRewards=function(t,r){t=Array.isArray(t)?t:[t];for(var i=[],n=0;n<t.length;n++){var a=t[n];(i=i.concat(this.encodeClaim(a,r))).push(e.INTERFACE.encodeFunctionData("stakeToken",[this._encodeIncentiveKey(a),en(r.tokenId)]))}return{calldata:eP.encodeMulticall(i),value:en(0)}},e.withdrawToken=function(t,r){var i=[];t=Array.isArray(t)?t:[t];for(var a={tokenId:r.tokenId,recipient:r.recipient,amount:r.amount},o=0;o<t.length;o++){var s=t[o];i=i.concat(this.encodeClaim(s,a))}var u=(0,n.validateAndParseAddress)(r.owner);return i.push(e.INTERFACE.encodeFunctionData("withdrawToken",[en(r.tokenId),u,r.data?r.data:en(0)])),{calldata:eP.encodeMulticall(i),value:en(0)}},e.encodeDeposit=function(t){if((t=Array.isArray(t)?t:[t]).length>1){for(var r,i=[],n=0;n<t.length;n++){var a=t[n];i.push(this._encodeIncentiveKey(a))}r=s.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI+"[]"],[i])}else r=s.defaultAbiCoder.encode([e.INCENTIVE_KEY_ABI],[this._encodeIncentiveKey(t[0])]);return r},e._encodeIncentiveKey=function(e){var t=e.pool,r=t.token0,i=t.token1,a=t.fee,o=(0,n.validateAndParseAddress)(e.refundee);return{rewardToken:e.rewardToken.address,pool:ev.getAddress(r,i,a),startTime:en(e.startTime),endTime:en(e.endTime),refundee:o}},e}();eF.INTERFACE=new u.Interface(b.default.abi),eF.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";var eU=function(){function e(){}return e.swapCallParameters=function(t,r){Array.isArray(t)||(t=[t]);var i=t[0],a=i.inputAmount.currency.wrapped,s=i.outputAmount.currency.wrapped;t.every(function(e){return e.inputAmount.currency.wrapped.equals(a)})||(0,o.default)(!1),t.every(function(e){return e.outputAmount.currency.wrapped.equals(s)})||(0,o.default)(!1);var u=[],l=n.CurrencyAmount.fromRawAmount(t[0].inputAmount.currency,0),c=n.CurrencyAmount.fromRawAmount(t[0].outputAmount.currency,0),d=t.reduce(function(e,t){return e.add(t.minimumAmountOut(r.slippageTolerance))},c),f=i.inputAmount.currency.isNative&&i.tradeType===n.TradeType.EXACT_OUTPUT,p=i.inputAmount.currency.isNative,h=i.outputAmount.currency.isNative,m=h||!!r.fee,g=p?t.reduce(function(e,t){return e.add(t.maximumAmountIn(r.slippageTolerance))},l):l;r.inputTokenPermit&&(i.inputAmount.currency.isToken||(0,o.default)(!1),u.push(eI.encodePermit(i.inputAmount.currency,r.inputTokenPermit)));for(var b,y=(0,n.validateAndParseAddress)(r.recipient),x=en(r.deadline),A=k(t);!(b=A()).done;)for(var w,v=b.value,S=k(v.swaps);!(w=S()).done;){var T=w.value,E=T.route,P=T.inputAmount,I=T.outputAmount,N=en(v.maximumAmountIn(r.slippageTolerance,P).quotient),R=en(v.minimumAmountOut(r.slippageTolerance,I).quotient);if(1===E.pools.length)if(v.tradeType===n.TradeType.EXACT_INPUT){var O,B={tokenIn:E.tokenPath[0].address,tokenOut:E.tokenPath[1].address,fee:E.pools[0].fee,recipient:m?_:y,deadline:x,amountIn:N,amountOutMinimum:R,sqrtPriceLimitX96:en(null!=(O=r.sqrtPriceLimitX96)?O:0)};u.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[B]))}else{var C,D={tokenIn:E.tokenPath[0].address,tokenOut:E.tokenPath[1].address,fee:E.pools[0].fee,recipient:m?_:y,deadline:x,amountOut:R,amountInMaximum:N,sqrtPriceLimitX96:en(null!=(C=r.sqrtPriceLimitX96)?C:0)};u.push(e.INTERFACE.encodeFunctionData("exactOutputSingle",[D]))}else{void 0!==r.sqrtPriceLimitX96&&(0,o.default)(!1);var F=ea(E,v.tradeType===n.TradeType.EXACT_OUTPUT);if(v.tradeType===n.TradeType.EXACT_INPUT){var U={path:F,recipient:m?_:y,deadline:x,amountIn:N,amountOutMinimum:R};u.push(e.INTERFACE.encodeFunctionData("exactInput",[U]))}else{var M={path:F,recipient:m?_:y,deadline:x,amountOut:R,amountInMaximum:N};u.push(e.INTERFACE.encodeFunctionData("exactOutput",[M]))}}}return m&&(r.fee?h?u.push(e_.encodeUnwrapWETH9(d.quotient,y,r.fee)):u.push(e_.encodeSweepToken(i.outputAmount.currency.wrapped,d.quotient,y,r.fee)):u.push(e_.encodeUnwrapWETH9(d.quotient,y))),f&&u.push(e_.encodeRefundETH()),{calldata:eP.encodeMulticall(u),value:en(g.quotient)}},e}();eU.INTERFACE=new u.Interface(y.default.abi),e.s(["ADDRESS_ZERO",()=>_,"FACTORY_ADDRESS",()=>I,"FeeAmount",()=>i,"FullMath",()=>L,"LiquidityMath",()=>j,"Multicall",()=>eP,"NoTickDataProvider",()=>ee,"NonfungiblePositionManager",()=>eC,"POOL_INIT_CODE_HASH",()=>N,"Payments",()=>e_,"Pool",()=>ev,"Position",()=>eS,"PositionLibrary",()=>ep,"Route",()=>ek,"SelfPermit",()=>eI,"SqrtPriceMath",()=>W,"Staker",()=>eF,"SwapMath",()=>G,"SwapQuoter",()=>eD,"SwapRouter",()=>eU,"TICK_SPACINGS",()=>O,"Tick",()=>ex,"TickLibrary",()=>ey,"TickList",()=>ei,"TickListDataProvider",()=>eA,"TickMath",()=>Y,"Trade",()=>eE,"computePoolAddress",()=>M,"encodeRouteToPath",()=>ea,"encodeSqrtRatioX96",()=>eo,"isSorted",()=>et,"maxLiquidityForAmounts",()=>ec,"mostSignificantBit",()=>X,"nearestUsableTick",()=>ed,"poolInitCodeHash",()=>R,"priceToClosestTick",()=>em,"subIn256",()=>eb,"tickToPrice",()=>eh,"toHex",()=>en,"tradeComparator",()=>eT,"v3Swap",()=>Z])},177483,(e,t,r)=>{"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var n,a=e.r(702503),o=i(e.r(477912)),s=e.r(811874),u=i(e.r(699247)),l=i(e.r(602572)),c=e.r(716335),d=i(e.r(113572)),f=i(e.r(368137)),p=i(e.r(616451)),h=e.r(700334),m=e.r(863062),g=e.r(575111),b="0x0000000000000000000000000000000000000000",y="0x0000000000000000000000000000000000000001",x="0x0000000000000000000000000000000000000002",A=o.BigInt(0),w=o.BigInt(1),v=new a.Percent(A),S=new a.Percent(100,100);function k(e){return Object.keys(e).some(function(e){return"recipient"===e})}(n=r.ApprovalTypes||(r.ApprovalTypes={}))[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.MAX=1]="MAX",n[n.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",n[n.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",n[n.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";var T=function(){function e(){}return e.encodeApproveMax=function(t){return e.INTERFACE.encodeFunctionData("approveMax",[t.address])},e.encodeApproveMaxMinusOne=function(t){return e.INTERFACE.encodeFunctionData("approveMaxMinusOne",[t.address])},e.encodeApproveZeroThenMax=function(t){return e.INTERFACE.encodeFunctionData("approveZeroThenMax",[t.address])},e.encodeApproveZeroThenMaxMinusOne=function(t){return e.INTERFACE.encodeFunctionData("approveZeroThenMaxMinusOne",[t.address])},e.encodeCallPositionManager=function(t){if(t.length>0||u(!1),1===t.length)return e.INTERFACE.encodeFunctionData("callPositionManager",t);var r=c.NonfungiblePositionManager.INTERFACE.encodeFunctionData("multicall",[t]);return e.INTERFACE.encodeFunctionData("callPositionManager",[r])},e.encodeAddLiquidity=function(t,r,i,n){var a=t.mintAmountsWithSlippage(n),s=a.amount0,u=a.amount1;return o.lessThan(r.amount0.quotient,s)&&(s=r.amount0.quotient),o.lessThan(r.amount1.quotient,u)&&(u=r.amount1.quotient),k(i)?e.INTERFACE.encodeFunctionData("mint",[{token0:t.pool.token0.address,token1:t.pool.token1.address,fee:t.pool.fee,tickLower:t.tickLower,tickUpper:t.tickUpper,amount0Min:c.toHex(s),amount1Min:c.toHex(u),recipient:i.recipient}]):e.INTERFACE.encodeFunctionData("increaseLiquidity",[{token0:t.pool.token0.address,token1:t.pool.token1.address,amount0Min:c.toHex(s),amount1Min:c.toHex(u),tokenId:c.toHex(i.tokenId)}])},e.encodeApprove=function(t,i){switch(i){case r.ApprovalTypes.MAX:return e.encodeApproveMax(t.wrapped);case r.ApprovalTypes.MAX_MINUS_ONE:return e.encodeApproveMaxMinusOne(t.wrapped);case r.ApprovalTypes.ZERO_THEN_MAX:return e.encodeApproveZeroThenMax(t.wrapped);case r.ApprovalTypes.ZERO_THEN_MAX_MINUS_ONE:return e.encodeApproveZeroThenMaxMinusOne(t.wrapped);default:throw Error("Error: invalid ApprovalType")}},e}();T.INTERFACE=new s.Interface(l.abi);var E=function(){function e(){}return e.encodeMulticall=function(t,r){if(void 0===r)return c.Multicall.encodeMulticall(t);if(Array.isArray(t)||(t=[t]),"string"==typeof r&&r.startsWith("0x")){var i=function(e){if(!e.match(/^0x[0-9a-fA-F]{64}$/))throw Error(e+" is not valid bytes32.");return e.toLowerCase()}(r);return e.INTERFACE.encodeFunctionData("multicall(bytes32,bytes[])",[i,t])}var n=c.toHex(r);return e.INTERFACE.encodeFunctionData("multicall(uint256,bytes[])",[n,t])},e}();function P(e){return c.toHex(e.multiply(1e4).quotient)}E.INTERFACE=new s.Interface(d.abi);var I=function(){function e(){}return e.encodeUnwrapWETH9=function(t,r,i){if("string"==typeof r)return c.Payments.encodeUnwrapWETH9(t,r,i);if(i){var n=P(i.fee),o=a.validateAndParseAddress(i.recipient);return e.INTERFACE.encodeFunctionData("unwrapWETH9WithFee(uint256,uint256,address)",[c.toHex(t),n,o])}return e.INTERFACE.encodeFunctionData("unwrapWETH9(uint256)",[c.toHex(t)])},e.encodeSweepToken=function(t,r,i,n){if("string"==typeof i)return c.Payments.encodeSweepToken(t,r,i,n);if(n){var o=P(n.fee),s=a.validateAndParseAddress(n.recipient);return e.INTERFACE.encodeFunctionData("sweepTokenWithFee(address,uint256,uint256,address)",[t.address,c.toHex(r),o,s])}return e.INTERFACE.encodeFunctionData("sweepToken(address,uint256)",[t.address,c.toHex(r)])},e.encodePull=function(t,r){return e.INTERFACE.encodeFunctionData("pull",[t.address,c.toHex(r)])},e.encodeWrapETH=function(t){return e.INTERFACE.encodeFunctionData("wrapETH",[c.toHex(t)])},e}();function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function N(e,t,r,i,n,a,o){try{var s=e[a](o),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(i,n)}function R(e){return function(){var t=this,r=arguments;return new Promise(function(i,n){var a=e.apply(t,r);function o(e){N(a,i,n,o,s,"next",e)}function s(e){N(a,i,n,o,s,"throw",e)}o(void 0)})}}function O(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(i.key),i)}}function B(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return _(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function D(){return(D=Object.assign.bind()).apply(null,arguments)}function F(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function U(){var e,t,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",n=r.toStringTag||"@@toStringTag";function a(r,i,n,a){var u=Object.create((i&&i.prototype instanceof s?i:s).prototype);return M(u,"_invoke",function(r,i,n){var a,s,u,l=0,c=n||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,s=0,u=e,f.n=r,o}};function p(r,i){for(s=r,u=i,t=0;!d&&l&&!n&&t<c.length;t++){var n,a=c[t],p=f.p,h=a[2];r>3?(n=h===i)&&(u=a[(s=a[4])?5:(s=3,3)],a[4]=a[5]=e):a[0]<=p&&((n=r<2&&p<a[1])?(s=0,f.v=i,f.n=a[1]):p<h&&(n=r<3||a[0]>i||i>h)&&(a[4]=r,a[5]=i,f.n=h,s=0))}if(n||r>1)return o;throw d=!0,i}return function(n,c,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,h),s=c,u=h;(t=s<2?e:u)||!d;){a||(s?s<3?(s>1&&(f.n=-1),p(s,u)):f.n=u:f.v=u);try{if(l=2,a){if(s||(n="next"),t=a[n]){if(!(t=t.call(a,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,s<2&&(s=0)}else 1===s&&(t=a.return)&&t.call(a),s<2&&(u=TypeError("The iterator does not provide a '"+n+"' method"),s=1);a=e}else if((t=(d=f.n<0)?u:r.call(i,f))!==o)break}catch(t){a=e,s=1,u=t}finally{l=1}}return{value:t,done:d}}}(r,n,a),!0),u}var o={};function s(){}function u(){}function l(){}t=Object.getPrototypeOf;var c=l.prototype=s.prototype=Object.create([][i]?t(t([][i]())):(M(t={},i,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,M(e,n,"GeneratorFunction")),e.prototype=Object.create(c),e}return u.prototype=l,M(c,"constructor",l),M(l,"constructor",u),u.displayName="GeneratorFunction",M(l,n,"GeneratorFunction"),M(c),M(c,n,"Generator"),M(c,i,function(){return this}),M(c,"toString",function(){return"[object Generator]"}),(U=function(){return{w:a,m:d}})()}function M(e,t,r,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(M=function(e,t,r,i){function a(t,r){M(e,t,function(e){return this._invoke(t,r,e)})}t?n?n(e,t,{value:r,enumerable:!i,configurable:!i,writable:!i}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,i)}function L(e,t){return a.CurrencyAmount.fromFractionalAmount(q(e.currency,t),e.numerator,e.denominator)}function q(e,t){if(t.involvesToken(e))return e;if(t.involvesToken(e.wrapped))return e.wrapped;if(!(t instanceof m.Pool))throw Error("Expected currency "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol);return t.token0.wrapped.equals(e)?t.token0:t.token1.wrapped.equals(e)?t.token1:e}I.INTERFACE=new s.Interface(f.abi);var K=B(function(e,t,r,i){void 0===i&&(i=!1),this._midPrice=null,(e=i?e:e.filter(function(e){return!(e instanceof m.Pool&&0===e.tickSpacing)})).length>0||u(!1);var n=e[0].chainId;e.every(function(e){return e.chainId===n})||u(!1),this.pathInput=q(t,e[0]),this.pathOutput=q(r,e[e.length-1]),e[0]instanceof m.Pool?e[0].v4InvolvesToken(this.pathInput)||u(!1):e[0].involvesToken(this.pathInput)||u(!1);var a=e[e.length-1];a instanceof m.Pool?a.v4InvolvesToken(r)||a.v4InvolvesToken(r.wrapped)||u(!1):a.involvesToken(r.wrapped)||u(!1);var o=[this.pathInput];e[0].token0.equals(this.pathInput)?o.push(e[0].token1):o.push(e[0].token0);for(var s=1;s<e.length;s++){var l=e[s],c=o[s],d=void 0;if(l instanceof m.Pool&&!l.involvesToken(c)||!(l instanceof m.Pool)&&c.isNative)if(c.equals(l.token0.wrapped))d=l.token1;else{if(!c.wrapped.equals(l.token0)&&!c.wrapped.equals(l.token1))throw Error("POOL_MISMATCH pool: "+JSON.stringify(l)+" inputToken: "+JSON.stringify(c));d=c.wrapped.equals(l.token0)?l.token1:l.token0}else c.equals(l.token0)||c.equals(l.token1)||u(!1),d=c.equals(l.token0)?l.token1:l.token0;o.push(d)}this.pools=e,this.path=o,this.input=t,this.output=null!=r?r:o[o.length-1]},[{key:"chainId",get:function(){return this.pools[0].chainId}},{key:"midPrice",get:function(){if(null!==this._midPrice)return this._midPrice;var e=this.pools.slice(1).reduce(function(e,t){var r=e.price;return e.nextInput.equals(t.token0)?{nextInput:t.token1,price:r.multiply(t.token0Price.asFraction)}:{nextInput:t.token0,price:r.multiply(t.token1Price.asFraction)}},this.pools[0].token0.equals(this.pathInput)?{nextInput:this.pools[0].token1,price:this.pools[0].token0Price.asFraction}:{nextInput:this.pools[0].token0,price:this.pools[0].token1Price.asFraction}).price;return this._midPrice=new a.Price(this.input,this.output,e.denominator,e.numerator)}}]);function W(e,t){return e.inputAmount.currency.equals(t.inputAmount.currency)||u(!1),e.outputAmount.currency.equals(t.outputAmount.currency)||u(!1),e.outputAmount.equalTo(t.outputAmount)?e.inputAmount.equalTo(t.inputAmount)?e.swaps.reduce(function(e,t){return e+t.route.path.length},0)-t.swaps.reduce(function(e,t){return e+t.route.path.length},0):e.inputAmount.lessThan(t.inputAmount)?-1:1:e.outputAmount.lessThan(t.outputAmount)?1:-1}var V,G=function(){function e(e){var t=e.routes,r=e.tradeType,i=t[0].inputAmount.currency,n=t[0].outputAmount.currency;t.every(function(e){return i.wrapped.equals(e.route.input.wrapped)})||u(!1),t.every(function(e){return n.wrapped.equals(e.route.output.wrapped)})||u(!1);for(var o,s=t.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),l=new Set,d=C(t);!(o=d()).done;)for(var f,p=C(o.value.route.pools);!(f=p()).done;){var g=f.value;if(g instanceof m.Pool)l.add(g.poolId);else if(g instanceof c.Pool)l.add(c.Pool.getAddress(g.token0,g.token1,g.fee));else{if(!(g instanceof h.Pair))throw Error("Unexpected pool type in route when constructing trade object");l.add(h.Pair.getAddress(g.token0,g.token1))}}s!==l.size&&u(!1),r!==a.TradeType.EXACT_INPUT&&u(!1),this.swaps=t,this.tradeType=r}t=R(U().m(function t(r,i,n){var o,s,l,c,d;return U().w(function(t){for(;;)switch(t.n){case 0:o=Array(r.path.length),n!==a.TradeType.EXACT_INPUT&&u(!1),i.currency.equals(r.input)||u(!1),o[0]=L(i,r.pools[0]),c=0;case 1:if(!(c<r.path.length-1)){t.n=4;break}return d=r.pools[c],t.n=2,d.getOutputAmount(L(o[c],d));case 2:o[c+1]=t.v[0];case 3:c++,t.n=1;break;case 4:return s=a.CurrencyAmount.fromFractionalAmount(r.input,i.numerator,i.denominator),l=a.CurrencyAmount.fromFractionalAmount(r.output,o[o.length-1].numerator,o[o.length-1].denominator),t.a(2,new e({routes:[{inputAmount:s,outputAmount:l,route:r}],tradeType:n}))}},t)})),e.fromRoute=function(e,r,i){return t.apply(this,arguments)},r=R(U().m(function t(r,i){var n,o,s,l,c,d,f,p,h,m,g;return U().w(function(t){for(;;)switch(t.n){case 0:n=[],i!==a.TradeType.EXACT_INPUT&&u(!1),o=C(r);case 1:if((s=o()).done){t.n=7;break}c=(l=s.value).route,d=l.amount,f=Array(c.path.length),p=void 0,h=void 0,d.currency.equals(c.input)||u(!1),p=a.CurrencyAmount.fromFractionalAmount(c.input,d.numerator,d.denominator),f[0]=a.CurrencyAmount.fromFractionalAmount(c.pathInput,d.numerator,d.denominator),m=0;case 2:if(!(m<c.path.length-1)){t.n=5;break}return g=c.pools[m],t.n=3,g.getOutputAmount(L(f[m],g));case 3:f[m+1]=t.v[0];case 4:m++,t.n=2;break;case 5:h=a.CurrencyAmount.fromFractionalAmount(c.output,f[f.length-1].numerator,f[f.length-1].denominator),n.push({route:c,inputAmount:p,outputAmount:h});case 6:t.n=1;break;case 7:return t.a(2,new e({routes:n,tradeType:i}))}},t)})),e.fromRoutes=function(e,t){return r.apply(this,arguments)},e.createUncheckedTrade=function(t){return new e(D({},t,{routes:[{inputAmount:t.inputAmount,outputAmount:t.outputAmount,route:t.route}]}))},e.createUncheckedTradeWithMultipleRoutes=function(t){return new e(t)};var t,r,i,n=e.prototype;return n.minimumAmountOut=function(e,t){void 0===t&&(t=this.outputAmount),e.lessThan(A)&&u(!1);var r=new a.Fraction(w).add(e).invert().multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},n.maximumAmountIn=function(e,t){return void 0===t&&(t=this.inputAmount),e.lessThan(A)&&u(!1),t},n.worstExecutionPrice=function(e){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},i=R(U().m(function t(r,i,n,o,s,l,c){var d,f,p,g,b,y,x,w,v,S,k,T,E,P,I;return U().w(function(t){for(;;)switch(t.p=t.n){case 0:p=void 0===(f=(d=void 0===o?{}:o).maxNumResults)?3:f,b=void 0===(g=d.maxHops)?3:g,void 0===s&&(s=[]),void 0===l&&(l=i),void 0===c&&(c=[]),r.length>0||u(!1),b>0||u(!1),i===l||s.length>0||u(!1),y=l,x=0;case 1:if(!(x<r.length)){t.n=15;break}if((w=r[x]).token0.equals((v=w instanceof m.Pool?y:y.wrapped).currency)||w.token1.equals(v.currency)){t.n=2;break}return t.a(3,14);case 2:if(!(w instanceof h.Pair)||!w.reserve0.equalTo(A)&&!w.reserve1.equalTo(A)){t.n=3;break}return t.a(3,14);case 3:if(S=void 0,t.p=4,!(w instanceof m.Pool)){t.n=6;break}return t.n=5,w.getOutputAmount(v);case 5:T=t.v,t.n=8;break;case 6:return t.n=7,w.getOutputAmount(v.wrapped);case 7:T=t.v;case 8:S=T[0],t.n=11;break;case 9:if(t.p=9,!(E=t.v).isInsufficientInputAmountError){t.n=10;break}return t.a(3,14);case 10:throw E;case 11:if(!S.currency.wrapped.equals(n.wrapped)){t.n=13;break}return P=a.sortedInsert,I=c,t.n=12,e.fromRoute(new K([].concat(s,[w]),i.currency,n),i,a.TradeType.EXACT_INPUT);case 12:P(I,t.v,p,W),t.n=14;break;case 13:if(!(b>1&&r.length>1)){t.n=14;break}return k=r.slice(0,x).concat(r.slice(x+1,r.length)),t.n=14,e.bestTradeExactIn(k,i,n,{maxNumResults:p,maxHops:b-1},[].concat(s,[w]),S,c);case 14:x++,t.n=1;break;case 15:return t.a(2,c)}},t,null,[[4,9]])})),e.bestTradeExactIn=function(e,t,r,n,a,o,s){return i.apply(this,arguments)},B(e,[{key:"route",get:function(){return 1!==this.swaps.length&&u(!1),this.swaps[0].route}},{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;for(var e,t=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=C(this.swaps);!(e=r()).done;){var i=e.value;t=t.add(i.route.midPrice.quote(i.inputAmount))}var n=t.subtract(this.outputAmount).divide(t);return this._priceImpact=new a.Percent(n.numerator,n.denominator),this._priceImpact}}])}();function j(e,t){if(t.token0.wrapped.equals(e.wrapped))return t.token0;if(t.token1.wrapped.equals(e.wrapped))return t.token1;throw Error("Expected token "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol)}(V=r.Protocol||(r.Protocol={})).V2="V2",V.V3="V3",V.V4="V4",V.MIXED="MIXED";var z=function(e){function t(t){var i;return(i=e.call(this,t.pairs,t.input,t.output)||this).protocol=r.Protocol.V2,i.pools=i.pairs,i.pathInput=j(t.input,i.pairs[0]),i.pathOutput=j(t.output,i.pairs[i.pairs.length-1]),i}return F(t,e),t}(h.Route),H=function(e){function t(t){var i;return(i=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.V3,i.path=t.tokenPath,i.pathInput=j(t.input,i.pools[0]),i.pathOutput=j(t.output,i.pools[i.pools.length-1]),i}return F(t,e),t}(c.Route),X=function(e){function t(t){var i;return(i=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.V4,i.path=t.currencyPath,i}return F(t,e),t}(m.Route),Q=function(e){function t(t){var i;return(i=e.call(this,t.pools,t.input,t.output)||this).protocol=r.Protocol.MIXED,i}return F(t,e),t}(K),J=function(){function e(e){var t=e.v2Routes,r=e.v3Routes,i=e.v4Routes,n=e.mixedRoutes,a=e.tradeType;this.swaps=[],this.routes=[];for(var o,s=C(void 0===t?[]:t);!(o=s()).done;){var l=o.value,d=l.inputAmount,f=l.outputAmount,p=new z(l.routev2);this.routes.push(p),this.swaps.push({route:p,inputAmount:d,outputAmount:f})}for(var g,b=C(void 0===r?[]:r);!(g=b()).done;){var y=g.value,x=y.inputAmount,A=y.outputAmount,w=new H(y.routev3);this.routes.push(w),this.swaps.push({route:w,inputAmount:x,outputAmount:A})}for(var v,S=C(void 0===i?[]:i);!(v=S()).done;){var k=v.value,T=k.inputAmount,E=k.outputAmount,P=new X(k.routev4);this.routes.push(P),this.swaps.push({route:P,inputAmount:T,outputAmount:E})}for(var I,_=C(void 0===n?[]:n);!(I=_()).done;){var N=I.value,R=N.inputAmount,O=N.outputAmount,B=new Q(N.mixedRoute);this.routes.push(B),this.swaps.push({route:B,inputAmount:R,outputAmount:O})}if(0===this.swaps.length)throw Error("No routes provided when calling Trade constructor");this.tradeType=a;var D=this.swaps[0].inputAmount.currency,F=this.swaps[0].outputAmount.currency;this.swaps.every(function(e){return D.wrapped.equals(e.route.input.wrapped)})||u(!1),this.swaps.every(function(e){return F.wrapped.equals(e.route.output.wrapped)})||u(!1);for(var U,M=this.swaps.map(function(e){return e.route.pools.length}).reduce(function(e,t){return e+t},0),L=new Set,q=C(this.swaps);!(U=q()).done;)for(var K,W=C(U.value.route.pools);!(K=W()).done;){var V=K.value;if(V instanceof m.Pool)L.add(V.poolId);else if(V instanceof c.Pool)L.add(c.Pool.getAddress(V.token0,V.token1,V.fee));else{if(!(V instanceof h.Pair))throw Error("Unexpected pool type in route when constructing trade object");L.add(h.Pair.getAddress(V.token0,V.token1))}}M!==L.size&&u(!1)}var t,r,i=e.prototype;return i.isWrappedNative=function(e){return e.equals(a.Ether.onChain(e.chainId).wrapped)},i.minimumAmountOut=function(e,t){if(void 0===t&&(t=this.outputAmount),e.lessThan(A)&&u(!1),this.tradeType===a.TradeType.EXACT_OUTPUT)return t;var r=new a.Fraction(w).add(e).invert().multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},i.maximumAmountIn=function(e,t){if(void 0===t&&(t=this.inputAmount),e.lessThan(A)&&u(!1),this.tradeType===a.TradeType.EXACT_INPUT)return t;var r=new a.Fraction(w).add(e).multiply(t.quotient).quotient;return a.CurrencyAmount.fromRawAmount(t.currency,r)},i.worstExecutionPrice=function(e){return new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.maximumAmountIn(e).quotient,this.minimumAmountOut(e).quotient)},t=R(U().m(function t(r,i,n,a,o){var s,u,l,d,f,p,g,b,y,x,A,w,v,S,k,T,E,P,I,_,N,R,O,B,D,F,M;return U().w(function(t){for(;;)switch(t.n){case 0:for(s=[],u=[],l=[],d=[],f=C(r);!(p=f()).done;)y=new h.Trade(b=(g=p.value).routev2,g.amount,n),s.push({routev2:b,inputAmount:y.inputAmount,outputAmount:y.outputAmount});x=C(i);case 1:if((A=x()).done){t.n=4;break}return v=(w=A.value).routev3,S=w.amount,t.n=2,c.Trade.fromRoute(v,S,n);case 2:u.push({routev3:v,inputAmount:(k=t.v).inputAmount,outputAmount:k.outputAmount});case 3:t.n=1;break;case 4:if(!o){t.n=8;break}T=C(o);case 5:if((E=T()).done){t.n=8;break}return I=(P=E.value).routev4,_=P.amount,t.n=6,m.Trade.fromRoute(I,_,n);case 6:l.push({routev4:I,inputAmount:(N=t.v).inputAmount,outputAmount:N.outputAmount});case 7:t.n=5;break;case 8:if(!a){t.n=12;break}R=C(a);case 9:if((O=R()).done){t.n=12;break}return D=(B=O.value).mixedRoute,F=B.amount,t.n=10,G.fromRoute(D,F,n);case 10:d.push({mixedRoute:D,inputAmount:(M=t.v).inputAmount,outputAmount:M.outputAmount});case 11:t.n=9;break;case 12:return t.a(2,new e({v2Routes:s,v3Routes:u,v4Routes:l,mixedRoutes:d,tradeType:n}))}},t)})),e.fromRoutes=function(e,r,i,n,a){return t.apply(this,arguments)},r=R(U().m(function t(r,i,n){var a,o,s,u,l,d,f,p;return U().w(function(t){for(;;)switch(t.n){case 0:if(a=[],o=[],s=[],u=[],!(r instanceof h.Route)){t.n=1;break}l=new h.Trade(r,i,n),a=[{routev2:r,inputAmount:l.inputAmount,outputAmount:l.outputAmount}],t.n=8;break;case 1:if(!(r instanceof c.Route)){t.n=3;break}return t.n=2,c.Trade.fromRoute(r,i,n);case 2:o=[{routev3:r,inputAmount:(d=t.v).inputAmount,outputAmount:d.outputAmount}],t.n=8;break;case 3:if(!(r instanceof m.Route)){t.n=5;break}return t.n=4,m.Trade.fromRoute(r,i,n);case 4:s=[{routev4:r,inputAmount:(f=t.v).inputAmount,outputAmount:f.outputAmount}],t.n=8;break;case 5:if(!(r instanceof K)){t.n=7;break}return t.n=6,G.fromRoute(r,i,n);case 6:u=[{mixedRoute:r,inputAmount:(p=t.v).inputAmount,outputAmount:p.outputAmount}],t.n=8;break;case 7:throw Error("Invalid route type");case 8:return t.a(2,new e({v2Routes:a,v3Routes:o,v4Routes:s,mixedRoutes:u,tradeType:n}))}},t)})),e.fromRoute=function(e,t,i){return r.apply(this,arguments)},B(e,[{key:"inputAmount",get:function(){if(this._inputAmount)return this._inputAmount;var e=this.swaps[0].inputAmount.currency,t=this.swaps.map(function(e){return e.inputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._inputAmount=t,this._inputAmount}},{key:"outputAmount",get:function(){if(this._outputAmount)return this._outputAmount;var e=this.swaps[0].outputAmount.currency,t=this.swaps.map(function(e){return e.outputAmount}).reduce(function(e,t){return e.add(t)},a.CurrencyAmount.fromRawAmount(e,0));return this._outputAmount=t,this._outputAmount}},{key:"amounts",get:function(){var e,t,r=null==(e=this.swaps.find(function(e){return e.inputAmount.currency.isNative}))?void 0:e.inputAmount.currency,i=null==(t=this.swaps.find(function(e){return e.outputAmount.currency.isNative}))?void 0:t.outputAmount.currency;return{inputAmount:this.inputAmount,inputAmountNative:r?this.swaps.reduce(function(e,t){return t.route.pathInput.isNative?e.add(t.inputAmount):e},a.CurrencyAmount.fromRawAmount(r,0)):void 0,outputAmount:this.outputAmount,outputAmountNative:i?this.swaps.reduce(function(e,t){return t.route.pathOutput.isNative?e.add(t.outputAmount):e},a.CurrencyAmount.fromRawAmount(i,0)):void 0}}},{key:"numberOfInputWraps",get:function(){return this.inputAmount.currency.isNative?this.wethInputRoutes.length:0}},{key:"numberOfInputUnwraps",get:function(){return this.isWrappedNative(this.inputAmount.currency)?this.nativeInputRoutes.length:0}},{key:"nativeInputRoutes",get:function(){return this._nativeInputRoutes||(this._nativeInputRoutes=this.routes.filter(function(e){return e.pathInput.isNative})),this._nativeInputRoutes}},{key:"wethInputRoutes",get:function(){var e=this;return this._wethInputRoutes||(this._wethInputRoutes=this.routes.filter(function(t){return e.isWrappedNative(t.pathInput)})),this._wethInputRoutes}},{key:"executionPrice",get:function(){var e;return null!=(e=this._executionPrice)?e:this._executionPrice=new a.Price(this.inputAmount.currency,this.outputAmount.currency,this.inputAmount.quotient,this.outputAmount.quotient)}},{key:"inputTax",get:function(){var e=this.inputAmount.currency;return e.isNative||!e.wrapped.sellFeeBps?v:new a.Percent(e.wrapped.sellFeeBps.toNumber(),1e4)}},{key:"outputTax",get:function(){var e=this.outputAmount.currency;return e.isNative||!e.wrapped.buyFeeBps?v:new a.Percent(e.wrapped.buyFeeBps.toNumber(),1e4)}},{key:"priceImpact",get:function(){if(this._priceImpact)return this._priceImpact;if(this.outputTax.equalTo(S))return v;for(var e,t=a.CurrencyAmount.fromRawAmount(this.outputAmount.currency,0),r=C(this.swaps);!(e=r()).done;){var i=e.value,n=i.route.midPrice,o=i.inputAmount.multiply(new a.Fraction(w).subtract(this.inputTax));t=t.add(n.quote(o))}if(t.equalTo(A))return v;var s=this.outputAmount.divide(new a.Fraction(w).subtract(this.outputTax)),u=t.subtract(s).divide(t);return this._priceImpact=new a.Percent(u.numerator,u.denominator),this._priceImpact}}])}();function Y(e,t){var r,i;if(null!=t?t:e.pools.some(function(e){return e instanceof m.Pool})){r=[e.pathInput.isNative?b:e.pathInput.address],i=["address"];for(var n,a=e.pathInput,o=C(e.pools);!(n=o()).done;){var s=n.value,u=a.equals(s.token0)?s.token1:s.token0;if(s instanceof m.Pool)0===s.tickSpacing?(r.push(0,u.isNative?b:u.wrapped.address),i.push("uint8","address")):(r.push(s.fee+4194304,s.tickSpacing,s.hooks,u.isNative?b:u.wrapped.address),i.push("uint24","uint24","address","address"));else if(s instanceof c.Pool)r.push(s.fee+3145728,u.wrapped.address),i.push("uint24","address");else{if(!(s instanceof h.Pair))throw Error("Unsupported pool type "+JSON.stringify(s));r.push(32,u.wrapped.address),i.push("uint8","address")}a=u}}else{var l=e.pools.reduce(function(e,t,r){var i=e.inputToken,n=e.path,a=e.types,o=t.token0.equals(i)?t.token1:t.token0;return 0===r?{inputToken:o,types:["address","uint24","address"],path:[i.wrapped.address,t instanceof c.Pool?t.fee:8388608,o.wrapped.address]}:{inputToken:o,types:[].concat(a,["uint24","address"]),path:[].concat(n,[t instanceof c.Pool?t.fee:8388608,o.wrapped.address])}},{inputToken:e.input,path:[],types:[]});r=l.path,i=l.types}return g.pack(i,r)}var Z=function(e){for(var t=[],r=0,i=0;i<e.pools.length;)(e.pools[r]instanceof m.Pool&&!(e.pools[i]instanceof m.Pool)||e.pools[r]instanceof c.Pool&&!(e.pools[i]instanceof c.Pool)||e.pools[r]instanceof h.Pair&&!(e.pools[i]instanceof h.Pair))&&(t.push(e.pools.slice(r,i)),r=i),++i===e.pools.length&&t.push(e.pools.slice(r,i));return t},$=function(e,t){return e.reduce(function(e,t){var r=e.inputToken;if(!t.involvesToken(r))throw Error("PATH");return{inputToken:t.token0.equals(r)?t.token1:t.token0}},{inputToken:t}).inputToken},ee=o.BigInt(0),et=new a.Percent(o.BigInt(50),o.BigInt(100)),er=function(){function e(){}return e.encodeV2Swap=function(t,r,i,n){var o=c.toHex(t.maximumAmountIn(r.slippageTolerance).quotient),s=c.toHex(t.minimumAmountOut(r.slippageTolerance).quotient),u=t.route.path.map(function(e){return e.address}),l=i?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient);return t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[o,n?0:s,u,l]):e.INTERFACE.encodeFunctionData("swapTokensForExactTokens",[s,o,u,l])},e.encodeV3Swap=function(t,r,i,n){for(var o,s=[],u=C(t.swaps);!(o=u()).done;){var l=o.value,d=l.route,f=l.outputAmount,p=c.toHex(t.maximumAmountIn(r.slippageTolerance,l.inputAmount).quotient),h=c.toHex(t.minimumAmountOut(r.slippageTolerance,f).quotient),m=1===d.pools.length,g=i?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient);if(m)s.push(t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:g,amountIn:p,amountOutMinimum:n?0:h,sqrtPriceLimitX96:0}]):e.INTERFACE.encodeFunctionData("exactOutputSingle",[{tokenIn:d.tokenPath[0].address,tokenOut:d.tokenPath[1].address,fee:d.pools[0].fee,recipient:g,amountOut:h,amountInMaximum:p,sqrtPriceLimitX96:0}]));else{var b=c.encodeRouteToPath(d,t.tradeType===a.TradeType.EXACT_OUTPUT);s.push(t.tradeType===a.TradeType.EXACT_INPUT?e.INTERFACE.encodeFunctionData("exactInput",[{path:b,recipient:g,amountIn:p,amountOutMinimum:n?0:h}]):e.INTERFACE.encodeFunctionData("exactOutput",[{path:b,recipient:g,amountOut:h,amountInMaximum:p}]))}}return s},e.encodeMixedRouteSwap=function(t,r,i,n){var o=[];t.tradeType!==a.TradeType.EXACT_INPUT&&u(!1);for(var s,l=C(t.swaps);!(s=l()).done;)!function(){var u=s.value,l=u.route,d=u.inputAmount,f=u.outputAmount;if(l.pools.some(function(e){return e instanceof m.Pool}))throw Error("Encoding mixed routes with V4 not supported");var p=c.toHex(t.maximumAmountIn(r.slippageTolerance,d).quotient),h=c.toHex(t.minimumAmountOut(r.slippageTolerance,f).quotient),g=1===l.pools.length,b=i?x:void 0===r.recipient?y:a.validateAndParseAddress(r.recipient),A=function(e){return e.pools.every(function(e){return e instanceof c.Pool})};if(g)if(A(l))o.push(e.INTERFACE.encodeFunctionData("exactInputSingle",[{tokenIn:l.path[0].wrapped.address,tokenOut:l.path[1].wrapped.address,fee:l.pools[0].fee,recipient:b,amountIn:p,amountOutMinimum:n?0:h,sqrtPriceLimitX96:0}]));else{var w=l.path.map(function(e){return e.wrapped.address});o.push(e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",[p,n?0:h,w,b]))}else for(var v,S=Z(l),k=function(e){return e===S.length-1},T=l.input.wrapped,E=0;E<S.length;E++){var P=S[E];v=$(P,T);var I=new Q(new K([].concat(P),P[0].token0.equals(T)?P[0].token0:P[0].token1,v));if(T=v.wrapped,A(I)){var _={path:Y(I),recipient:k(E)?b:x,amountIn:0===E?p:0,amountOutMinimum:k(E)?h:0};o.push(e.INTERFACE.encodeFunctionData("exactInput",[_]))}else{var N=[0===E?p:0,k(E)?h:0,I.path.map(function(e){return e.wrapped.address}),k(E)?b:x];o.push(e.INTERFACE.encodeFunctionData("swapExactTokensForTokens",N))}}}();return o},e.encodeSwaps=function(t,i,n){if(t instanceof J){t.swaps.every(function(e){return e.route.protocol===r.Protocol.V3||e.route.protocol===r.Protocol.V2||e.route.protocol===r.Protocol.MIXED})||u(!1);for(var o,s=[],l=C(t.swaps);!(o=l()).done;){var d=o.value,f=d.route,p=d.inputAmount,m=d.outputAmount;if(f.protocol===r.Protocol.V2)s.push(new h.Trade(f,t.tradeType===a.TradeType.EXACT_INPUT?p:m,t.tradeType));else if(f.protocol===r.Protocol.V3)s.push(c.Trade.createUncheckedTrade({route:f,inputAmount:p,outputAmount:m,tradeType:t.tradeType}));else{if(f.protocol!==r.Protocol.MIXED)throw Error("UNSUPPORTED_TRADE_PROTOCOL");s.push(G.createUncheckedTrade({route:f,inputAmount:p,outputAmount:m,tradeType:t.tradeType}))}}t=s}Array.isArray(t)||(t=[t]);var g=t.reduce(function(e,t){return e+(t instanceof c.Trade||t instanceof G?t.swaps.length:1)},0),b=t[0];t.every(function(e){return e.inputAmount.currency.equals(b.inputAmount.currency)})||u(!1),t.every(function(e){return e.outputAmount.currency.equals(b.outputAmount.currency)})||u(!1),t.every(function(e){return e.tradeType===b.tradeType})||u(!1);var y=[],x=b.inputAmount.currency.isNative,A=b.outputAmount.currency.isNative,w=b.tradeType===a.TradeType.EXACT_INPUT&&g>2,v=A||!!i.fee||!!n||w;i.inputTokenPermit&&(b.inputAmount.currency.isToken||u(!1),y.push(c.SelfPermit.encodePermit(b.inputAmount.currency,i.inputTokenPermit)));for(var S,k=C(t);!(S=k()).done;){var T=S.value;if(T instanceof h.Trade)y.push(e.encodeV2Swap(T,i,v,w));else if(T instanceof c.Trade)for(var E,P=C(e.encodeV3Swap(T,i,v,w));!(E=P()).done;)y.push(E.value);else{if(!(T instanceof G))throw Error("Unsupported trade object");for(var I,_=C(e.encodeMixedRouteSwap(T,i,v,w));!(I=_()).done;)y.push(I.value)}}var N=a.CurrencyAmount.fromRawAmount(b.inputAmount.currency,0),R=a.CurrencyAmount.fromRawAmount(b.outputAmount.currency,0),O=t.reduce(function(e,t){return e.add(t.minimumAmountOut(i.slippageTolerance))},R),B=t.reduce(function(e,t){return e.add(t.outputAmount)},R);return{calldatas:y,sampleTrade:b,routerMustCustody:v,inputIsNative:x,outputIsNative:A,totalAmountIn:t.reduce(function(e,t){return e.add(t.maximumAmountIn(i.slippageTolerance))},N),minimumAmountOut:O,quoteAmountOut:B}},e.swapCallParameters=function(t,r){var i=e.encodeSwaps(t,r),n=i.calldatas,o=i.sampleTrade,s=i.inputIsNative,u=i.totalAmountIn,l=i.minimumAmountOut;return i.routerMustCustody&&n.push(i.outputIsNative?I.encodeUnwrapWETH9(l.quotient,r.recipient,r.fee):I.encodeSweepToken(o.outputAmount.currency.wrapped,l.quotient,r.recipient,r.fee)),s&&(o.tradeType===a.TradeType.EXACT_OUTPUT||e.riskOfPartialFill(t))&&n.push(c.Payments.encodeRefundETH()),{calldata:E.encodeMulticall(n,r.deadlineOrPreviousBlockhash),value:c.toHex(s?u.quotient:ee)}},e.swapAndAddCallParameters=function(t,i,n,o,s,l){var d=e.encodeSwaps(t,i,!0),f=d.calldatas,p=d.inputIsNative,h=d.outputIsNative,m=d.sampleTrade,g=d.totalAmountIn,b=d.quoteAmountOut,y=d.minimumAmountOut;i.outputTokenPermit&&(b.currency.isToken||u(!1),f.push(c.SelfPermit.encodePermit(b.currency,i.outputTokenPermit)));var x=m.route.chainId,A=n.pool.token0.wrapped.address===g.currency.wrapped.address,w=e.getPositionAmounts(n,A),v=w.positionAmountIn,S=w.positionAmountOut,k=p?a.WETH9[x]:v.currency.wrapped,P=h?a.WETH9[x]:S.currency.wrapped,_=S.subtract(b.wrapped);_.greaterThan(a.CurrencyAmount.fromRawAmount(S.currency,0))&&f.push(h?I.encodeWrapETH(_.quotient):I.encodePull(P,_.quotient)),f.push(p?I.encodeWrapETH(v.quotient):I.encodePull(k,v.quotient)),s!==r.ApprovalTypes.NOT_REQUIRED&&f.push(T.encodeApprove(k,s)),l!==r.ApprovalTypes.NOT_REQUIRED&&f.push(T.encodeApprove(P,l));var N,R=c.Position.fromAmounts({pool:n.pool,tickLower:n.tickLower,tickUpper:n.tickUpper,amount0:A?n.amount0.quotient.toString():y.quotient.toString(),amount1:A?y.quotient.toString():n.amount1.quotient.toString(),useFullPrecision:!1});return f.push(T.encodeAddLiquidity(n,R,o,i.slippageTolerance)),f.push(p?I.encodeUnwrapWETH9(ee):I.encodeSweepToken(k,ee)),f.push(h?I.encodeUnwrapWETH9(ee):I.encodeSweepToken(P,ee)),N=p?g.wrapped.add(v.wrapped).quotient:h?_.quotient:ee,{calldata:E.encodeMulticall(f,i.deadlineOrPreviousBlockhash),value:N.toString()}},e.riskOfPartialFill=function(t){return Array.isArray(t)?t.some(function(t){return e.v3TradeWithHighPriceImpact(t)}):e.v3TradeWithHighPriceImpact(t)},e.v3TradeWithHighPriceImpact=function(e){return!(e instanceof h.Trade)&&e.priceImpact.greaterThan(et)},e.getPositionAmounts=function(e,t){var r=e.mintAmounts,i=r.amount1,n=a.CurrencyAmount.fromRawAmount(e.pool.token0,r.amount0),o=a.CurrencyAmount.fromRawAmount(e.pool.token1,i),s=t?[n,o]:[o,n];return{positionAmountIn:s[0],positionAmountOut:s[1]}},e}();er.INTERFACE=new s.Interface(p.abi),r.ADDRESS_THIS=x,r.ADDRESS_ZERO=b,r.ApproveAndCall=T,r.MIXED_QUOTER_V1_V2_FEE_PATH_PLACEHOLDER=8388608,r.MIXED_QUOTER_V2_V2_FEE_PATH_PLACEHOLDER=32,r.MIXED_QUOTER_V2_V3_FEE_PATH_PLACEHOLDER=3145728,r.MIXED_QUOTER_V2_V4_FEE_PATH_PLACEHOLDER=4194304,r.MSG_SENDER=y,r.MixedRoute=Q,r.MixedRouteSDK=K,r.MixedRouteTrade=G,r.MulticallExtended=E,r.ONE=w,r.ONE_HUNDRED_PERCENT=S,r.PaymentsExtended=I,r.RouteV2=z,r.RouteV3=H,r.RouteV4=X,r.SwapRouter=er,r.Trade=J,r.ZERO=A,r.ZERO_PERCENT=v,r.amountWithPathCurrency=L,r.encodeMixedRouteToPath=Y,r.getOutputOfPools=$,r.getPathCurrency=q,r.getPathToken=j,r.isMint=k,r.partitionMixedRouteByProtocol=Z,r.tradeComparator=W},520108,(e,t,r)=>{"use strict";t.exports=e.r(177483)},622175,(e,t,r)=>{!function(r){"use strict";var i,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,o=Math.floor,s="[BigNumber Error] ",u=s+"Number primitive has more than 15 significant digits: ",l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function c(e){var t=0|e;return e>0||e===t?t:t-1}function d(e){for(var t,r,i=1,n=e.length,a=e[0]+"";i<n;){for(r=14-(t=e[i++]+"").length;r--;t="0"+t);a+=t}for(n=a.length;48===a.charCodeAt(--n););return a.slice(0,n+1||1)}function f(e,t){var r,i,n=e.c,a=t.c,o=e.s,s=t.s,u=e.e,l=t.e;if(!o||!s)return null;if(r=n&&!n[0],i=a&&!a[0],r||i)return r?i?0:-s:o;if(o!=s)return o;if(r=o<0,i=u==l,!n||!a)return i?0:!n^r?1:-1;if(!i)return u>l^r?1:-1;for(o=0,s=(u=n.length)<(l=a.length)?u:l;o<s;o++)if(n[o]!=a[o])return n[o]>a[o]^r?1:-1;return u==l?0:u>l^r?1:-1}function p(e,t,r,i){if(e<t||e>r||e!==o(e))throw Error(s+(i||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function h(e){var t=e.c.length-1;return c(e.e/14)==t&&e.c[t]%2!=0}function m(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function g(e,t,r){var i,n;if(t<0){for(n=r+".";++t;n+=r);e=n+e}else if(i=e.length,++t>i){for(n=r,t-=i;--t;n+=r);e+=n}else t<i&&(e=e.slice(0,t)+"."+e.slice(t));return e}if((i=function e(t){var r,i,b,y,x,A,w,v,S,k=M.prototype={constructor:M,toString:null,valueOf:null},T=new M(1),E=20,P=4,I=-7,_=21,N=-1e7,R=1e7,O=!1,B=1,C=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},F="0123456789abcdefghijklmnopqrstuvwxyz",U=!0;function M(e,t){var r,i,a,s,l,c,d,f,h=this;if(!(h instanceof M))return new M(e,t);if(null==t){if(e&&!0===e._isBigNumber){h.s=e.s,!e.c||e.e>R?h.c=h.e=null:e.e<N?h.c=[h.e=0]:(h.e=e.e,h.c=e.c.slice());return}if((c="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,l=e;l>=10;l/=10,s++);s>R?h.c=h.e=null:(h.e=s,h.c=[e]);return}f=String(e)}else{if(!n.test(f=String(e)))return S(h,f,c);h.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(s=f.indexOf("."))>-1&&(f=f.replace(".","")),(l=f.search(/e/i))>0?(s<0&&(s=l),s+=+f.slice(l+1),f=f.substring(0,l)):s<0&&(s=f.length)}else{if(p(t,2,F.length,"Base"),10==t&&U)return W(h=new M(e),E+h.e+1,P);if(f=String(e),c="number"==typeof e){if(0*e!=0)return S(h,f,c,t);if(h.s=1/e<0?(f=f.slice(1),-1):1,M.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else h.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=F.slice(0,t),s=l=0,d=f.length;l<d;l++)if(0>r.indexOf(i=f.charAt(l))){if("."==i){if(l>s){s=d;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,l=-1,s=0;continue}return S(h,String(e),c,t)}c=!1,(s=(f=v(f,t,10,h.s)).indexOf("."))>-1?f=f.replace(".",""):s=f.length}for(l=0;48===f.charCodeAt(l);l++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(l,++d)){if(d-=l,c&&M.DEBUG&&d>15&&(e>0x1fffffffffffff||e!==o(e)))throw Error(u+h.s*e);if((s=s-l-1)>R)h.c=h.e=null;else if(s<N)h.c=[h.e=0];else{if(h.e=s,h.c=[],l=(s+1)%14,s<0&&(l+=14),l<d){for(l&&h.c.push(+f.slice(0,l)),d-=14;l<d;)h.c.push(+f.slice(l,l+=14));l=14-(f=f.slice(l)).length}else l-=d;for(;l--;f+="0");h.c.push(+f)}}else h.c=[h.e=0]}function L(e,t,r,i){var n,a,o,s,u;if(null==r?r=P:p(r,0,8),!e.c)return e.toString();if(n=e.c[0],o=e.e,null==t)u=d(e.c),u=1==i||2==i&&(o<=I||o>=_)?m(u,o):g(u,o,"0");else if(a=(e=W(new M(e),t,r)).e,s=(u=d(e.c)).length,1==i||2==i&&(t<=a||a<=I)){for(;s<t;u+="0",s++);u=m(u,a)}else if(t-=o,u=g(u,a,"0"),a+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=a-s)>0)for(a+1==s&&(u+=".");t--;u+="0");return e.s<0&&n?"-"+u:u}function q(e,t){for(var r,i,n=1,a=new M(e[0]);n<e.length;n++)(i=new M(e[n])).s&&(r=f(a,i))!==t&&(0!==r||a.s!==t)||(a=i);return a}function K(e,t,r){for(var i=1,n=t.length;!t[--n];t.pop());for(n=t[0];n>=10;n/=10,i++);return(r=i+14*r-1)>R?e.c=e.e=null:r<N?e.c=[e.e=0]:(e.e=r,e.c=t),e}function W(e,t,r,i){var n,s,u,c,d,f,p,h=e.c;if(h){t:{for(n=1,c=h[0];c>=10;c/=10,n++);if((s=t-n)<0)s+=14,u=t,p=o((d=h[f=0])/l[n-u-1]%10);else if((f=a((s+1)/14))>=h.length)if(i){for(;h.length<=f;h.push(0));d=p=0,n=1,s%=14,u=s-14+1}else break t;else{for(n=1,d=c=h[f];c>=10;c/=10,n++);s%=14,p=(u=s-14+n)<0?0:o(d/l[n-u-1]%10)}if(i=i||t<0||null!=h[f+1]||(u<0?d:d%l[n-u-1]),i=r<4?(p||i)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||i||6==r&&(s>0?u>0?d/l[n-u]:0:h[f-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,i?(t-=e.e+1,h[0]=l[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==s?(h.length=f,c=1,f--):(h.length=f+1,c=l[14-s],h[f]=u>0?o(d/l[n-u]%l[u])*c:0),i)for(;;)if(0==f){for(s=1,u=h[0];u>=10;u/=10,s++);for(u=h[0]+=c,c=1;u>=10;u/=10,c++);s!=c&&(e.e++,1e14==h[0]&&(h[0]=1));break}else{if(h[f]+=c,1e14!=h[f])break;h[f--]=0,c=1}for(s=h.length;0===h[--s];h.pop());}e.e>R?e.c=e.e=null:e.e<N&&(e.c=[e.e=0])}return e}function V(e){var t,r=e.e;return null===r?e.toString():(t=d(e.c),t=r<=I||r>=_?m(t,r):g(t,r,"0"),e.s<0?"-"+t:t)}return M.clone=e,M.ROUND_UP=0,M.ROUND_DOWN=1,M.ROUND_CEIL=2,M.ROUND_FLOOR=3,M.ROUND_HALF_UP=4,M.ROUND_HALF_DOWN=5,M.ROUND_HALF_EVEN=6,M.ROUND_HALF_CEIL=7,M.ROUND_HALF_FLOOR=8,M.EUCLID=9,M.config=M.set=function(e){var t,r;if(null!=e)if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(p(r=e[t],0,1e9,t),E=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(p(r=e[t],0,8,t),P=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(p(r[0],-1e9,0,t),p(r[1],0,1e9,t),I=r[0],_=r[1]):(p(r,-1e9,1e9,t),I=-(_=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)p(r[0],-1e9,-1,t),p(r[1],1,1e9,t),N=r[0],R=r[1];else if(p(r,-1e9,1e9,t),r)N=-(R=r<0?-r:r);else throw Error(s+t+" cannot be zero: "+r);if(e.hasOwnProperty(t="CRYPTO"))if(!!(r=e[t])===r)if(r)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))O=r;else throw O=!r,Error(s+"crypto unavailable");else O=r;else throw Error(s+t+" not true or false: "+r);if(e.hasOwnProperty(t="MODULO_MODE")&&(p(r=e[t],0,9,t),B=r),e.hasOwnProperty(t="POW_PRECISION")&&(p(r=e[t],0,1e9,t),C=r),e.hasOwnProperty(t="FORMAT"))if("object"==typeof(r=e[t]))D=r;else throw Error(s+t+" not an object: "+r);if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(s+t+" invalid: "+r);U="0123456789"==r.slice(0,10),F=r}}else throw Error(s+"Object expected: "+e);return{DECIMAL_PLACES:E,ROUNDING_MODE:P,EXPONENTIAL_AT:[I,_],RANGE:[N,R],CRYPTO:O,MODULO_MODE:B,POW_PRECISION:C,FORMAT:D,ALPHABET:F}},M.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!M.DEBUG)return!0;var t,r,i=e.c,n=e.e,a=e.s;t:if("[object Array]"==({}).toString.call(i)){if((1===a||-1===a)&&n>=-1e9&&n<=1e9&&n===o(n)){if(0===i[0]){if(0===n&&1===i.length)return!0;break t}if((t=(n+1)%14)<1&&(t+=14),String(i[0]).length==t){for(t=0;t<i.length;t++)if((r=i[t])<0||r>=1e14||r!==o(r))break t;if(0!==r)return!0}}}else if(null===i&&null===n&&(null===a||1===a||-1===a))return!0;throw Error(s+"Invalid BigNumber: "+e)},M.maximum=M.max=function(){return q(arguments,-1)},M.minimum=M.min=function(){return q(arguments,1)},r=0x20000000000000*Math.random()&2097151?function(){return o(0x20000000000000*Math.random())}:function(){return(0x40000000*Math.random()|0)*8388608+(8388608*Math.random()|0)},M.random=function(e){var t,i,n,u,c,d=0,f=[],h=new M(T);if(null==e?e=E:p(e,0,1e9),u=a(e/14),O)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(u*=2));d<u;)(c=131072*t[d]+(t[d+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),t[d]=i[0],t[d+1]=i[1]):(f.push(c%1e14),d+=2);d=u/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(u*=7);d<u;)(c=(31&t[d])*0x1000000000000+0x10000000000*t[d+1]+0x100000000*t[d+2]+0x1000000*t[d+3]+(t[d+4]<<16)+(t[d+5]<<8)+t[d+6])>=9e15?crypto.randomBytes(7).copy(t,d):(f.push(c%1e14),d+=7);d=u/7}else throw O=!1,Error(s+"crypto unavailable");if(!O)for(;d<u;)(c=r())<9e15&&(f[d++]=c%1e14);for(u=f[--d],e%=14,u&&e&&(c=l[14-e],f[d]=o(u/c)*c);0===f[d];f.pop(),d--);if(d<0)f=[n=0];else{for(n=-1;0===f[0];f.splice(0,1),n-=14);for(d=1,c=f[0];c>=10;c/=10,d++);d<14&&(n-=14-d)}return h.e=n,h.c=f,h},M.sum=function(){for(var e=1,t=arguments,r=new M(t[0]);e<t.length;)r=r.plus(t[e++]);return r},v=function(){var e="0123456789";function t(e,t,r,i){for(var n,a,o=[0],s=0,u=e.length;s<u;){for(a=o.length;a--;o[a]*=t);for(o[0]+=i.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(r,i,n,a,o){var s,u,l,c,f,p,h,m,b=r.indexOf("."),y=E,x=P;for(b>=0&&(c=C,C=0,r=r.replace(".",""),p=(m=new M(i)).pow(r.length-b),C=c,m.c=t(g(d(p.c),p.e,"0"),10,n,e),m.e=m.c.length),l=c=(h=t(r,i,n,o?(s=F,e):(s=e,F))).length;0==h[--c];h.pop());if(!h[0])return s.charAt(0);if(b<0?--l:(p.c=h,p.e=l,p.s=a,h=(p=w(p,m,y,x,n)).c,f=p.r,l=p.e),b=h[u=l+y+1],c=n/2,f=f||u<0||null!=h[u+1],f=x<4?(null!=b||f)&&(0==x||x==(p.s<0?3:2)):b>c||b==c&&(4==x||f||6==x&&1&h[u-1]||x==(p.s<0?8:7)),u<1||!h[0])r=f?g(s.charAt(1),-y,s.charAt(0)):s.charAt(0);else{if(h.length=u,f)for(--n;++h[--u]>n;)h[u]=0,u||(++l,h=[1].concat(h));for(c=h.length;!h[--c];);for(b=0,r="";b<=c;r+=s.charAt(h[b++]));r=g(r,l,s.charAt(0))}return r}}(),w=function(){function e(e,t,r){var i,n,a,o,s=0,u=e.length,l=t%1e7,c=t/1e7|0;for(e=e.slice();u--;)i=c*(a=e[u]%1e7)+(o=e[u]/1e7|0)*l,s=((n=l*a+i%1e7*1e7+s)/r|0)+(i/1e7|0)+c*o,e[u]=n%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,i){var n,a;if(r!=i)a=r>i?1:-1;else for(n=a=0;n<r;n++)if(e[n]!=t[n]){a=e[n]>t[n]?1:-1;break}return a}function r(e,t,r,i){for(var n=0;r--;)e[r]-=n,n=+(e[r]<t[r]),e[r]=n*i+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,n,a,s,u){var l,d,f,p,h,m,g,b,y,x,A,w,v,S,k,T,E,P=i.s==n.s?1:-1,I=i.c,_=n.c;if(!I||!I[0]||!_||!_[0])return new M(!i.s||!n.s||(I?_&&I[0]==_[0]:!_)?NaN:I&&0==I[0]||!_?0*P:P/0);for(y=(b=new M(P)).c=[],P=a+(d=i.e-n.e)+1,u||(u=1e14,d=c(i.e/14)-c(n.e/14),P=P/14|0),f=0;_[f]==(I[f]||0);f++);if(_[f]>(I[f]||0)&&d--,P<0)y.push(1),p=!0;else{for(S=I.length,T=_.length,f=0,P+=2,(h=o(u/(_[0]+1)))>1&&(_=e(_,h,u),I=e(I,h,u),T=_.length,S=I.length),v=T,A=(x=I.slice(0,T)).length;A<T;x[A++]=0);E=[0].concat(E=_.slice()),k=_[0],_[1]>=u/2&&k++;do{if(h=0,(l=t(_,x,T,A))<0){if(w=x[0],T!=A&&(w=w*u+(x[1]||0)),(h=o(w/k))>1)for(h>=u&&(h=u-1),g=(m=e(_,h,u)).length,A=x.length;1==t(m,x,g,A);)h--,r(m,T<g?E:_,g,u),g=m.length,l=1;else 0==h&&(l=h=1),g=(m=_.slice()).length;if(g<A&&(m=[0].concat(m)),r(x,m,A,u),A=x.length,-1==l)for(;1>t(_,x,T,A);)h++,r(x,T<A?E:_,A,u),A=x.length}else 0===l&&(h++,x=[0]);y[f++]=h,x[0]?x[A++]=I[v]||0:(x=[I[v]],A=1)}while((v++<S||null!=x[0])&&P--)p=null!=x[0],y[0]||y.splice(0,1)}if(1e14==u){for(f=1,P=y[0];P>=10;P/=10,f++);W(b,a+(b.e=f+14*d-1)+1,s,p)}else b.e=d,b.r=+p;return b}}(),i=/^(-?)0([xbo])(?=\w[\w.]*$)/i,b=/^([^.]+)\.$/,y=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,A=/^\s*\+(?=[\w.])|^\s+|\s+$/g,S=function(e,t,r,n){var a,o=r?t:t.replace(A,"");if(x.test(o))e.s=isNaN(o)?null:o<0?-1:1;else{if(!r&&(o=o.replace(i,function(e,t,r){return a="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=a?e:t}),n&&(a=n,o=o.replace(b,"$1").replace(y,"0.$1")),t!=o))return new M(o,a);if(M.DEBUG)throw Error(s+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},k.absoluteValue=k.abs=function(){var e=new M(this);return e.s<0&&(e.s=1),e},k.comparedTo=function(e,t){return f(this,new M(e,t))},k.decimalPlaces=k.dp=function(e,t){var r,i,n;if(null!=e)return p(e,0,1e9),null==t?t=P:p(t,0,8),W(new M(this),e+this.e+1,t);if(!(r=this.c))return null;if(i=((n=r.length-1)-c(this.e/14))*14,n=r[n])for(;n%10==0;n/=10,i--);return i<0&&(i=0),i},k.dividedBy=k.div=function(e,t){return w(this,new M(e,t),E,P)},k.dividedToIntegerBy=k.idiv=function(e,t){return w(this,new M(e,t),0,1)},k.exponentiatedBy=k.pow=function(e,t){var r,i,n,u,l,c,d,f,p,m=this;if((e=new M(e)).c&&!e.isInteger())throw Error(s+"Exponent not an integer: "+V(e));if(null!=t&&(t=new M(t)),c=e.e>14,!m.c||!m.c[0]||1==m.c[0]&&!m.e&&1==m.c.length||!e.c||!e.c[0])return p=new M(Math.pow(+V(m),c?e.s*(2-h(e)):+V(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new M(NaN);(i=!d&&m.isInteger()&&t.isInteger())&&(m=m.mod(t))}else{if(e.e>9&&(m.e>0||m.e<-1||(0==m.e?m.c[0]>1||c&&m.c[1]>=24e7:m.c[0]<8e13||c&&m.c[0]<=9999975e7)))return u=m.s<0&&h(e)?-0:0,m.e>-1&&(u=1/u),new M(d?1/u:u);C&&(u=a(C/14+2))}for(c?(r=new M(.5),d&&(e.s=1),f=h(e)):f=(n=Math.abs(+V(e)))%2,p=new M(T);;){if(f){if(!(p=p.times(m)).c)break;u?p.c.length>u&&(p.c.length=u):i&&(p=p.mod(t))}if(n){if(0===(n=o(n/2)))break;f=n%2}else if(W(e=e.times(r),e.e+1,1),e.e>14)f=h(e);else{if(0==(n=+V(e)))break;f=n%2}m=m.times(m),u?m.c&&m.c.length>u&&(m.c.length=u):i&&(m=m.mod(t))}return i?p:(d&&(p=T.div(p)),t?p.mod(t):u?W(p,C,P,l):p)},k.integerValue=function(e){var t=new M(this);return null==e?e=P:p(e,0,8),W(t,t.e+1,e)},k.isEqualTo=k.eq=function(e,t){return 0===f(this,new M(e,t))},k.isFinite=function(){return!!this.c},k.isGreaterThan=k.gt=function(e,t){return f(this,new M(e,t))>0},k.isGreaterThanOrEqualTo=k.gte=function(e,t){return 1===(t=f(this,new M(e,t)))||0===t},k.isInteger=function(){return!!this.c&&c(this.e/14)>this.c.length-2},k.isLessThan=k.lt=function(e,t){return 0>f(this,new M(e,t))},k.isLessThanOrEqualTo=k.lte=function(e,t){return -1===(t=f(this,new M(e,t)))||0===t},k.isNaN=function(){return!this.s},k.isNegative=function(){return this.s<0},k.isPositive=function(){return this.s>0},k.isZero=function(){return!!this.c&&0==this.c[0]},k.minus=function(e,t){var r,i,n,a,o=this.s;if(t=(e=new M(e,t)).s,!o||!t)return new M(NaN);if(o!=t)return e.s=-t,this.plus(e);var s=this.e/14,u=e.e/14,l=this.c,d=e.c;if(!s||!u){if(!l||!d)return l?(e.s=-t,e):new M(d?this:NaN);if(!l[0]||!d[0])return d[0]?(e.s=-t,e):new M(l[0]?this:3==P?-0:0)}if(s=c(s),u=c(u),l=l.slice(),o=s-u){for((a=o<0)?(o=-o,n=l):(u=s,n=d),n.reverse(),t=o;t--;n.push(0));n.reverse()}else for(i=(a=(o=l.length)<(t=d.length))?o:t,o=t=0;t<i;t++)if(l[t]!=d[t]){a=l[t]<d[t];break}if(a&&(n=l,l=d,d=n,e.s=-e.s),(t=(i=d.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=1e14-1;i>o;){if(l[--i]<d[i]){for(r=i;r&&!l[--r];l[r]=t);--l[r],l[i]+=1e14}l[i]-=d[i]}for(;0==l[0];l.splice(0,1),--u);return l[0]?K(e,l,u):(e.s=3==P?-1:1,e.c=[e.e=0],e)},k.modulo=k.mod=function(e,t){var r,i;return(e=new M(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==B?(i=e.s,e.s=1,r=w(this,e,0,3),e.s=i,r.s*=i):r=w(this,e,0,B),(e=this.minus(r.times(e))).c[0]||1!=B||(e.s=this.s),e):new M(this):new M(NaN)},k.multipliedBy=k.times=function(e,t){var r,i,n,a,o,s,u,l,d,f,p,h,m,g=this.c,b=(e=new M(e,t)).c;if(!g||!b||!g[0]||!b[0])return this.s&&e.s&&(!g||g[0]||b)&&(!b||b[0]||g)?(e.s*=this.s,g&&b?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(i=c(this.e/14)+c(e.e/14),e.s*=this.s,(u=g.length)<(f=b.length)&&(m=g,g=b,b=m,n=u,u=f,f=n),n=u+f,m=[];n--;m.push(0));for(n=f;--n>=0;){for(r=0,p=b[n]%1e7,h=b[n]/1e7|0,a=n+(o=u);a>n;)s=h*(l=g[--o]%1e7)+(d=g[o]/1e7|0)*p,r=((l=p*l+s%1e7*1e7+m[a]+r)/1e14|0)+(s/1e7|0)+h*d,m[a--]=l%1e14;m[a]=r}return r?++i:m.splice(0,1),K(e,m,i)},k.negated=function(){var e=new M(this);return e.s=-e.s||null,e},k.plus=function(e,t){var r,i=this.s;if(t=(e=new M(e,t)).s,!i||!t)return new M(NaN);if(i!=t)return e.s=-t,this.minus(e);var n=this.e/14,a=e.e/14,o=this.c,s=e.c;if(!n||!a){if(!o||!s)return new M(i/0);if(!o[0]||!s[0])return s[0]?e:new M(o[0]?this:0*i)}if(n=c(n),a=c(a),o=o.slice(),i=n-a){for(i>0?(a=n,r=s):(i=-i,r=o),r.reverse();i--;r.push(0));r.reverse()}for((i=o.length)-(t=s.length)<0&&(r=s,s=o,o=r,t=i),i=0;t;)i=(o[--t]=o[t]+s[t]+i)/1e14|0,o[t]=1e14===o[t]?0:o[t]%1e14;return i&&(o=[i].concat(o),++a),K(e,o,a)},k.precision=k.sd=function(e,t){var r,i,n;if(null!=e&&!!e!==e)return p(e,1,1e9),null==t?t=P:p(t,0,8),W(new M(this),e,t);if(!(r=this.c))return null;if(i=14*(n=r.length-1)+1,n=r[n]){for(;n%10==0;n/=10,i--);for(n=r[0];n>=10;n/=10,i++);}return e&&this.e+1>i&&(i=this.e+1),i},k.shiftedBy=function(e){return p(e,-0x1fffffffffffff,0x1fffffffffffff),this.times("1e"+e)},k.squareRoot=k.sqrt=function(){var e,t,r,i,n,a=this.c,o=this.s,s=this.e,u=E+4,l=new M("0.5");if(1!==o||!a||!a[0])return new M(!o||o<0&&(!a||a[0])?NaN:a?this:1/0);if(0==(o=Math.sqrt(+V(this)))||o==1/0?(((t=d(a)).length+s)%2==0&&(t+="0"),o=Math.sqrt(+t),s=c((s+1)/2)-(s<0||s%2),r=new M(t=o==1/0?"5e"+s:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new M(o+""),r.c[0]){for((o=(s=r.e)+u)<3&&(o=0);;)if(n=r,r=l.times(n.plus(w(this,n,u,1))),d(n.c).slice(0,o)===(t=d(r.c)).slice(0,o)){if(r.e<s&&--o,"9999"!=(t=t.slice(o-3,o+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(W(r,r.e+E+2,1),e=!r.times(r).eq(this));break}if(!i&&(W(n,n.e+E+2,0),n.times(n).eq(this))){r=n;break}u+=4,o+=4,i=1}}return W(r,r.e+E+1,P,e)},k.toExponential=function(e,t){return null!=e&&(p(e,0,1e9),e++),L(this,e,t,1)},k.toFixed=function(e,t){return null!=e&&(p(e,0,1e9),e=e+this.e+1),L(this,e,t)},k.toFormat=function(e,t,r){var i;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(s+"Argument not an object: "+r);if(i=this.toFixed(e,t),this.c){var n,a=i.split("."),o=+r.groupSize,u=+r.secondaryGroupSize,l=r.groupSeparator||"",c=a[0],d=a[1],f=this.s<0,p=f?c.slice(1):c,h=p.length;if(u&&(n=o,o=u,u=n,h-=n),o>0&&h>0){for(n=h%o||o,c=p.substr(0,n);n<h;n+=o)c+=l+p.substr(n,o);u>0&&(c+=l+p.slice(n)),f&&(c="-"+c)}i=d?c+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):c}return(r.prefix||"")+i+(r.suffix||"")},k.toFraction=function(e){var t,r,i,n,a,o,u,c,f,p,h,m,g=this.c;if(null!=e&&(!(u=new M(e)).isInteger()&&(u.c||1!==u.s)||u.lt(T)))throw Error(s+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+V(u));if(!g)return new M(this);for(t=new M(T),f=r=new M(T),i=c=new M(T),m=d(g),a=t.e=m.length-this.e-1,t.c[0]=l[(o=a%14)<0?14+o:o],e=!e||u.comparedTo(t)>0?a>0?t:f:u,o=R,R=1/0,u=new M(m),c.c[0]=0;p=w(u,t,0,1),1!=(n=r.plus(p.times(i))).comparedTo(e);)r=i,i=n,f=c.plus(p.times(n=f)),c=n,t=u.minus(p.times(n=t)),u=n;return n=w(e.minus(r),i,0,1),c=c.plus(n.times(f)),r=r.plus(n.times(i)),c.s=f.s=this.s,a*=2,h=1>w(f,i,a,P).minus(this).abs().comparedTo(w(c,r,a,P).minus(this).abs())?[f,i]:[c,r],R=o,h},k.toNumber=function(){return+V(this)},k.toPrecision=function(e,t){return null!=e&&p(e,1,1e9),L(this,e,t,2)},k.toString=function(e){var t,r=this,i=r.s,n=r.e;return null===n?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=n<=I||n>=_?m(d(r.c),n):g(d(r.c),n,"0"):10===e&&U?t=g(d((r=W(new M(r),E+n+1,P)).c),r.e,"0"):(p(e,2,F.length,"Base"),t=v(g(d(r.c),n,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},k.valueOf=k.toJSON=function(){return V(this)},k._isBigNumber=!0,null!=t&&M.set(t),M}()).default=i.BigNumber=i,"function"==typeof define&&define.amd)e.r,void 0!==i&&e.v(i);else t.exports?t.exports=i:(r||(r="undefined"!=typeof self&&self?self:window),r.BigNumber=i)}(e.e)},499675,(e,t,r)=>{"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(r,"__esModule",{value:!0});var n,a,o,s,u=i(e.r(699247)),l=i(e.r(127416)),c=e.r(811874),d=e.r(851694),f=e.r(517258),p=e.r(863062),h=e.r(702503),m=e.r(847994),g=e.r(700334),b=e.r(520108);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.r(477912),e.r(622175),(a=r.CommandType||(r.CommandType={}))[a.V3_SWAP_EXACT_IN=0]="V3_SWAP_EXACT_IN",a[a.V3_SWAP_EXACT_OUT=1]="V3_SWAP_EXACT_OUT",a[a.PERMIT2_TRANSFER_FROM=2]="PERMIT2_TRANSFER_FROM",a[a.PERMIT2_PERMIT_BATCH=3]="PERMIT2_PERMIT_BATCH",a[a.SWEEP=4]="SWEEP",a[a.TRANSFER=5]="TRANSFER",a[a.PAY_PORTION=6]="PAY_PORTION",a[a.V2_SWAP_EXACT_IN=8]="V2_SWAP_EXACT_IN",a[a.V2_SWAP_EXACT_OUT=9]="V2_SWAP_EXACT_OUT",a[a.PERMIT2_PERMIT=10]="PERMIT2_PERMIT",a[a.WRAP_ETH=11]="WRAP_ETH",a[a.UNWRAP_WETH=12]="UNWRAP_WETH",a[a.PERMIT2_TRANSFER_FROM_BATCH=13]="PERMIT2_TRANSFER_FROM_BATCH",a[a.BALANCE_CHECK_ERC20=14]="BALANCE_CHECK_ERC20",a[a.V4_SWAP=16]="V4_SWAP",a[a.V3_POSITION_MANAGER_PERMIT=17]="V3_POSITION_MANAGER_PERMIT",a[a.V3_POSITION_MANAGER_CALL=18]="V3_POSITION_MANAGER_CALL",a[a.V4_INITIALIZE_POOL=19]="V4_INITIALIZE_POOL",a[a.V4_POSITION_MANAGER_CALL=20]="V4_POSITION_MANAGER_CALL",a[a.EXECUTE_SUB_PLAN=33]="EXECUTE_SUB_PLAN",(o=r.Subparser||(r.Subparser={}))[o.V3PathExactIn=0]="V3PathExactIn",o[o.V3PathExactOut=1]="V3PathExactOut",(s=r.Parser||(r.Parser={}))[s.Abi=0]="Abi",s[s.V4Actions=1]="V4Actions",s[s.V3Actions=2]="V3Actions";var A,w,v,S,k,T,E,P,I,_,N,R,O,B,C,D,F,U,M,L,q,K,W,V,G,j,z,H,X,Q=new Set([r.CommandType.EXECUTE_SUB_PLAN]),J=((n={})[r.CommandType.EXECUTE_SUB_PLAN]={parser:r.Parser.Abi,params:[{name:"commands",type:"bytes"},{name:"inputs",type:"bytes[]"}]},n[r.CommandType.PERMIT2_PERMIT]={parser:r.Parser.Abi,params:[{name:"permit",type:"((address token,uint160 amount,uint48 expiration,uint48 nonce) details,address spender,uint256 sigDeadline)"},{name:"signature",type:"bytes"}]},n[r.CommandType.PERMIT2_PERMIT_BATCH]={parser:r.Parser.Abi,params:[{name:"permit",type:"((address token,uint160 amount,uint48 expiration,uint48 nonce)[] details,address spender,uint256 sigDeadline)"},{name:"signature",type:"bytes"}]},n[r.CommandType.PERMIT2_TRANSFER_FROM]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint160"}]},n[r.CommandType.PERMIT2_TRANSFER_FROM_BATCH]={parser:r.Parser.Abi,params:[{name:"transferFrom",type:"(address from,address to,uint160 amount,address token)[]"}]},n[r.CommandType.V3_SWAP_EXACT_IN]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",subparser:r.Subparser.V3PathExactIn,type:"bytes"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V3_SWAP_EXACT_OUT]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",subparser:r.Subparser.V3PathExactOut,type:"bytes"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V2_SWAP_EXACT_IN]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V2_SWAP_EXACT_OUT]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountOut",type:"uint256"},{name:"amountInMax",type:"uint256"},{name:"path",type:"address[]"},{name:"payerIsUser",type:"bool"}]},n[r.CommandType.V4_SWAP]={parser:r.Parser.V4Actions},n[r.CommandType.WRAP_ETH]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}]},n[r.CommandType.UNWRAP_WETH]={parser:r.Parser.Abi,params:[{name:"recipient",type:"address"},{name:"amountMin",type:"uint256"}]},n[r.CommandType.SWEEP]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"amountMin",type:"uint256"}]},n[r.CommandType.TRANSFER]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"value",type:"uint256"}]},n[r.CommandType.PAY_PORTION]={parser:r.Parser.Abi,params:[{name:"token",type:"address"},{name:"recipient",type:"address"},{name:"bips",type:"uint256"}]},n[r.CommandType.BALANCE_CHECK_ERC20]={parser:r.Parser.Abi,params:[{name:"owner",type:"address"},{name:"token",type:"address"},{name:"minBalance",type:"uint256"}]},n[r.CommandType.V4_INITIALIZE_POOL]={parser:r.Parser.Abi,params:[{name:"poolKey",type:"(address currency0,address currency1,uint24 fee,int24 tickSpacing,address hooks)"},{name:"sqrtPriceX96",type:"uint160"}]},n[r.CommandType.V3_POSITION_MANAGER_PERMIT]={parser:r.Parser.V3Actions},n[r.CommandType.V3_POSITION_MANAGER_CALL]={parser:r.Parser.V3Actions},n[r.CommandType.V4_POSITION_MANAGER_CALL]={parser:r.Parser.V4Actions},n),Y=function(){function e(){this.commands="0x",this.inputs=[]}var t=e.prototype;return t.addSubPlan=function(e){return this.addCommand(r.CommandType.EXECUTE_SUB_PLAN,[e.commands,e.inputs],!0),this},t.addCommand=function(e,t,i){void 0===i&&(i=!1);var n=function(e,t){var i=J[e];switch(i.parser){case r.Parser.Abi:return{type:e,encodedInput:m.defaultAbiCoder.encode(i.params.map(function(e){return e.type}),t)};case r.Parser.V4Actions:case r.Parser.V3Actions:return{type:e,encodedInput:t[0]}}}(e,t);if(this.inputs.push(n.encodedInput),i){if(!Q.has(n.type))throw Error("command type: "+n.type+" cannot be allowed to revert");n.type=128|n.type}return this.commands=this.commands.concat(n.type.toString(16).padStart(2,"0")),this},e}();function Z(e,t){if(t.involvesToken(e))return e;if(t.involvesToken(e.wrapped))return e.wrapped;if(t instanceof p.Pool&&t.token0.wrapped.equals(e))return t.token0;if(t instanceof p.Pool&&t.token1.wrapped.equals(e))return t.token1;throw Error("Expected currency "+e.symbol+" to be either "+t.token0.symbol+" or "+t.token1.symbol)}(A=r.RouterActionType||(r.RouterActionType={})).UniswapTrade="UniswapTrade",A.UnwrapWETH="UnwrapWETH",(X=r.UniversalRouterVersion||(r.UniversalRouterVersion={})).V1_2="1.2",X.V2_0="2.0";var $=((H={})[1]={weth:"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",routerConfigs:((w={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x1059809},w[r.UniversalRouterVersion.V2_0]={address:"0x66a9893cc07d91d95644aedd05d03f95e1dba8af",creationBlock:0x67928ff3},w)},H[5]={weth:"0xb4fbf271143f4fbf7b91a5ded31805e42b2208d6",routerConfigs:((v={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8940568},v[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8940568},v)},H[0xaa36a7]={weth:"0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14",routerConfigs:((S={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:3543575},S[r.UniversalRouterVersion.V2_0]={address:"0x3a9d48ab9751398bbfa63ad67599bb04e4bdf98b",creationBlock:7259601},S)},H[137]={weth:"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",routerConfigs:((k={})[r.UniversalRouterVersion.V1_2]={address:"0xec7BE89e9d109e7e3Fec59c222CF297125FEFda2",creationBlock:0x31ca9e9},k[r.UniversalRouterVersion.V2_0]={address:"0x1095692a6237d83c6a72f3f5efedb9a670c49223",creationBlock:0x679006e5},k)},H[80001]={weth:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",routerConfigs:((T={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x218be74},T[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x218be74},T)},H[10]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((E={})[r.UniversalRouterVersion.V1_2]={address:"0xCb1355ff08Ab38bBCE60111F1bb2B784bE25D7e8",creationBlock:0x6d637ba},E[r.UniversalRouterVersion.V2_0]={address:"0x851116d9223fabed8e56c0e6b8ad0c31d98b3507",creationBlock:0x67900f06},E)},H[420]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((P={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8887728},P[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:8887728},P)},H[42161]={weth:"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1",routerConfigs:((I={})[r.UniversalRouterVersion.V1_2]={address:"0x5E325eDA8064b456f4781070C0738d849c824258",creationBlock:0xa19f344},I[r.UniversalRouterVersion.V2_0]={address:"0xa51afafe0263b40edaef0df8781ea9aa03e381a3",creationBlock:0x678ff462},I)},H[421613]={weth:"0xe39Ab88f8A4777030A534146A9Ca3B52bd5D43A3",routerConfigs:((_={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x11f192d},_[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x11f192d},_)},H[42220]={weth:"0x0000000000000000000000000000000000000000",routerConfigs:((N={})[r.UniversalRouterVersion.V1_2]={address:"0x643770e279d5d0733f21d6dc03a8efbabf3255b4",creationBlock:0x146a795},N[r.UniversalRouterVersion.V2_0]={address:"0xcb695bc5D3Aa22cAD1E6DF07801b061a05A0233A",creationBlock:0x2d314d1},N)},H[44787]={weth:"0x0000000000000000000000000000000000000000",routerConfigs:((R={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x10c0bc2},R[r.UniversalRouterVersion.V2_0]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:0x10c0bc2},R)},H[56]={weth:"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c",routerConfigs:((O={})[r.UniversalRouterVersion.V1_2]={address:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",creationBlock:0x21880c7},O[r.UniversalRouterVersion.V2_0]={address:"0x1906c1d672b88cd1b9ac7593301ca990f94eae07",creationBlock:0x67900b1b},O)},H[43114]={weth:"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7",routerConfigs:((B={})[r.UniversalRouterVersion.V1_2]={address:"0x4Dae2f939ACf50408e13d58534Ff8c2776d45265",creationBlock:0x265f8c9},B[r.UniversalRouterVersion.V2_0]={address:"0x94b75331ae8d42c1b61065089b7d48fe14aa73b7",creationBlock:0x679108dc},B)},H[84531]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((C={})[r.UniversalRouterVersion.V1_2]={address:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",creationBlock:6915289},C[r.UniversalRouterVersion.V2_0]={address:"0xd0872d928672ae2ff74bdb2f5130ac12229cafaf",creationBlock:6915289},C)},H[8453]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((D={})[r.UniversalRouterVersion.V1_2]={address:"0x3fC91A3afd70395Cd496C647d5a6CC9D4B2b7FAD",creationBlock:9107268},D[r.UniversalRouterVersion.V2_0]={address:"0x6ff5693b99212da76ad316178a184ab56d299b43",creationBlock:0x6790041d},D)},H[81457]={weth:"0x4300000000000000000000000000000000000004",routerConfigs:((F={})[r.UniversalRouterVersion.V1_2]={address:"0x643770E279d5D0733F21d6DC03A8efbABf3255B4",creationBlock:1116444},F[r.UniversalRouterVersion.V2_0]={address:"0xeabbcb3e8e415306207ef514f660a3f820025be3",creationBlock:0x679121aa},F)},H[7777777]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((U={})[r.UniversalRouterVersion.V1_2]={address:"0x2986d9721A49838ab4297b695858aF7F17f38014",creationBlock:0xb48b5b},U[r.UniversalRouterVersion.V2_0]={address:"0x3315ef7ca28db74abadc6c44570efdf06b04b020",creationBlock:0x67911b2f},U)},H[324]={weth:"0x5aea5775959fbc2557cc8789bc1bf90a239d9a91",routerConfigs:((M={})[r.UniversalRouterVersion.V1_2]={address:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",creationBlock:0xc0e2d3},M[r.UniversalRouterVersion.V2_0]={address:"0x28731BCC616B5f51dD52CF2e4dF0E78dD1136C06",creationBlock:0xc0e2d3},M)},H[480]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((L={})[r.UniversalRouterVersion.V1_2]={address:"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D",creationBlock:4063979},L[r.UniversalRouterVersion.V2_0]={address:"0x8ac7bee993bb44dab564ea4bc9ea67bf9eb5e743",creationBlock:0x67910e05},L)},H[1301]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((q={})[r.UniversalRouterVersion.V1_2]={address:"0x8909Dc15e40173Ff4699343b6eB8132c65e18eC6",creationBlock:1241811},q[r.UniversalRouterVersion.V2_0]={address:"0xf70536b3bcc1bd1a972dc186a2cf84cc6da6be5d",creationBlock:7100543},q)},H[130]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((K={})[r.UniversalRouterVersion.V1_2]={address:"0x4D73A4411CA1c660035e4AECC8270E5DdDEC8C17",creationBlock:23678},K[r.UniversalRouterVersion.V2_0]={address:"0xef740bf23acae26f6492b10de645d6b98dc8eaf3",creationBlock:0x67912f9c},K)},H[10143]={weth:"0x760AfE86e5de5fa0Ee542fc7B7B713e1c5425701",routerConfigs:((W={})[r.UniversalRouterVersion.V1_2]={address:"0x3ae6d8a282d67893e17aa70ebffb33ee5aa65893",creationBlock:23678},W[r.UniversalRouterVersion.V2_0]={address:"0x3ae6d8a282d67893e17aa70ebffb33ee5aa65893",creationBlock:23678},W)},H[84532]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((V={})[r.UniversalRouterVersion.V1_2]={address:"0x492e6456d9528771018deb9e87ef7750ef184104",creationBlock:0x1347b09},V[r.UniversalRouterVersion.V2_0]={address:"0x492e6456d9528771018deb9e87ef7750ef184104",creationBlock:0x1347b09},V)},H[1868]={weth:"0x4200000000000000000000000000000000000006",routerConfigs:((G={})[r.UniversalRouterVersion.V1_2]={address:"0x0e2850543f69f678257266e0907ff9a58b3f13de",creationBlock:3254782},G[r.UniversalRouterVersion.V2_0]={address:"0x0e2850543f69f678257266e0907ff9a58b3f13de",creationBlock:3254782},G)},H[143]={weth:"0x3bd359C1119dA7Da1D913D1C4D2B7c461115433A",routerConfigs:((j={})[r.UniversalRouterVersion.V1_2]={address:"0x0d97dc33264bfc1c226207428a79b26757fb9dc3",creationBlock:0x1be6901},j[r.UniversalRouterVersion.V2_0]={address:"0x0d97dc33264bfc1c226207428a79b26757fb9dc3",creationBlock:0x1be6901},j)},H[196]={weth:"0xe538905cf8410324e03A5A23C1c177a474D59b2b",routerConfigs:((z={})[r.UniversalRouterVersion.V1_2]={address:"0x0000000000000000000000000000000000000000",creationBlock:1},z[r.UniversalRouterVersion.V2_0]={address:"0x6bdbd02e751bca2c029cfc21098da04acce8d582",creationBlock:0x2d78b5e},z)},H),ee=function(e,t){if(!(t in $))throw Error("Universal Router not deployed on chain "+t);return $[t].routerConfigs[e].address},et=function(e){if(!(e in $))throw Error("Universal Router not deployed on chain "+e);if("0x0000000000000000000000000000000000000000"==$[e].weth)throw Error("Chain "+e+" does not have WETH");return $[e].weth},er=d.BigNumber.from(2).pow(255),ei="0x0000000000000000000000000000000000000000",en="0x0000000000000000000000000000000000000001",ea="0x0000000000000000000000000000000000000002";function eo(e){return e.isNative?ei:e.wrapped.address}var es=new h.Percent(50,100),eu=function(){var e;function t(e,t){if(this.trade=e,this.options=t,this.tradeType=r.RouterActionType.UniswapTrade,t.fee&&t.flatFee)throw Error("Only one fee option permitted");this.payerIsUser=!(this.inputRequiresWrap||this.inputRequiresUnwrap||this.options.useRouterBalance)}return t.prototype.encode=function(e,t){this.inputRequiresWrap?e.addCommand(r.CommandType.WRAP_ETH,[ea,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]):this.inputRequiresUnwrap&&(e.addCommand(r.CommandType.PERMIT2_TRANSFER_FROM,[this.trade.inputAmount.currency.address,ea,this.trade.maximumAmountIn(this.options.slippageTolerance).quotient.toString()]),e.addCommand(r.CommandType.UNWRAP_WETH,[ea,0])),this.options.recipient=null!=(i=this.options.recipient)?i:en;for(var i,n,a,o=this.trade.tradeType===h.TradeType.EXACT_INPUT&&this.trade.routes.length>2||this.outputRequiresTransition||!!(n=this.options).fee||!!n.flatFee,s=x(this.trade.swaps);!(a=s()).done;){var u=a.value;switch(u.route.protocol){case b.Protocol.V2:el(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;case b.Protocol.V3:ec(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;case b.Protocol.V4:ed(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;case b.Protocol.MIXED:!function(e,t,i,n,a,o){var s,u=t.route,l=t.inputAmount,c=t.outputAmount,d=o?ea:null!=(s=n.recipient)?s:en;if(1===u.pools.length){if(u.pools[0]instanceof p.Pool)return ed(e,t,i,n,a,o);if(u.pools[0]instanceof f.Pool)return ec(e,t,i,n,a,o);if(u.pools[0]instanceof g.Pair)return el(e,t,i,n,a,o);throw Error("Invalid route type")}for(var h=b.MixedRouteTrade.createUncheckedTrade({route:u,inputAmount:l,outputAmount:c,tradeType:i}),m=h.maximumAmountIn(n.slippageTolerance,l).quotient.toString(),y=o?0:h.minimumAmountOut(n.slippageTolerance,c).quotient.toString(),x=b.partitionMixedRouteByProtocol(u),A=function(e){return e===x.length-1},w=u.pathInput,v=0;v<x.length;v++){var S=x[v],k=S[0],T=b.getOutputOfPools(S,w),E=new b.MixedRoute(new b.MixedRouteSDK([].concat(S),w,T)),P=void 0,I=void 0;if(A(v))P=T,I=d;else{var _=x[v+1][0];P=Z(T,_),I=_ instanceof g.Pair&&T.equals(P)?_.liquidityToken.address:ea}if(k instanceof p.Pool){var N=new p.V4Planner,R=new p.Route(S,E.input,E.output);N.addSettle(w,a&&0===v,0==v?m:er),N.addAction(p.Actions.SWAP_EXACT_IN,[{currencyIn:w.isNative?ei:w.address,path:p.encodeRouteToPath(R),amountIn:0,amountOutMinimum:A(v)?y:0}]),N.addTake(T,I),e.addCommand(r.CommandType.V4_SWAP,[N.finalize()])}else if(k instanceof f.Pool)e.addCommand(r.CommandType.V3_SWAP_EXACT_IN,[I,0==v?m:er,A(v)?y:0,b.encodeMixedRouteToPath(E),a&&0===v]);else{if(!(k instanceof g.Pair))throw Error("Unexpected Pool Type");e.addCommand(r.CommandType.V2_SWAP_EXACT_IN,[I,0===v?m:er,A(v)?y:0,E.path.map(function(e){return e.wrapped.address}),a&&0===v])}A(v)||(T.isNative&&!P.isNative?e.addCommand(r.CommandType.WRAP_ETH,[ea,er]):!T.isNative&&P.isNative&&e.addCommand(r.CommandType.UNWRAP_WETH,[ea,0])),w=P}}(e,u,this.trade.tradeType,this.options,this.payerIsUser,o);break;default:throw Error("UNSUPPORTED_TRADE_PROTOCOL")}}var l=d.BigNumber.from(this.trade.minimumAmountOut(this.options.slippageTolerance).quotient.toString());if(o){var c=this.trade.swaps[0].route.pools,m=eo(Z(this.trade.outputAmount.currency,c[c.length-1]));if(this.options.fee){var y=f.toHex(this.options.fee.fee.multiply(1e4).quotient);e.addCommand(r.CommandType.PAY_PORTION,[m,this.options.fee.recipient,y]),this.trade.tradeType===h.TradeType.EXACT_OUTPUT&&(l=l.sub(l.mul(y).div(1e4)))}if(this.options.flatFee){var A=this.options.flatFee.amount;if(l.lt(A))throw Error("Flat fee amount greater than minimumAmountOut");e.addCommand(r.CommandType.TRANSFER,[m,this.options.flatFee.recipient,A]),this.trade.tradeType===h.TradeType.EXACT_OUTPUT&&(l=l.sub(A))}this.outputRequiresUnwrap?e.addCommand(r.CommandType.UNWRAP_WETH,[this.options.recipient,l]):this.outputRequiresWrap?e.addCommand(r.CommandType.WRAP_ETH,[this.options.recipient,er]):e.addCommand(r.CommandType.SWEEP,[eo(this.trade.outputAmount.currency),this.options.recipient,l])}(this.trade.tradeType===h.TradeType.EXACT_OUTPUT||this.trade.priceImpact.greaterThan(es))&&(this.inputRequiresWrap?e.addCommand(r.CommandType.UNWRAP_WETH,[this.options.recipient,0]):this.inputRequiresUnwrap?e.addCommand(r.CommandType.WRAP_ETH,[this.options.recipient,er]):this.trade.inputAmount.currency.isNative&&e.addCommand(r.CommandType.SWEEP,[ei,this.options.recipient,0])),this.options.safeMode&&e.addCommand(r.CommandType.SWEEP,[ei,this.options.recipient,0])},e=[{key:"isAllV4",get:function(){for(var e,t=!0,r=x(this.trade.swaps);!(e=r()).done;)t=t&&e.value.route.protocol==b.Protocol.V4;return t}},{key:"inputRequiresWrap",get:function(){return this.trade.swaps[0].route.pools[0]instanceof p.Pool?this.trade.inputAmount.currency.isNative&&!this.trade.swaps[0].route.pathInput.isNative:this.trade.inputAmount.currency.isNative}},{key:"inputRequiresUnwrap",get:function(){return this.trade.swaps[0].route.pools[0]instanceof p.Pool&&!this.trade.inputAmount.currency.isNative&&this.trade.swaps[0].route.pathInput.isNative}},{key:"outputRequiresWrap",get:function(){var e=this.trade.swaps[0].route;return e.pools[e.pools.length-1]instanceof p.Pool&&!this.trade.outputAmount.currency.isNative&&e.pathOutput.isNative}},{key:"outputRequiresUnwrap",get:function(){var e=this.trade.swaps[0].route;return e.pools[e.pools.length-1]instanceof p.Pool?this.trade.outputAmount.currency.isNative&&!this.trade.swaps[0].route.pathOutput.isNative:this.trade.outputAmount.currency.isNative}},{key:"outputRequiresTransition",get:function(){return this.outputRequiresWrap||this.outputRequiresUnwrap}}],function(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function el(e,t,i,n,a,o){var s=t.route,u=new g.Trade(s,i==h.TradeType.EXACT_INPUT?t.inputAmount:t.outputAmount,i);i==h.TradeType.EXACT_INPUT?e.addCommand(r.CommandType.V2_SWAP_EXACT_IN,[o?ea:n.recipient,u.maximumAmountIn(n.slippageTolerance).quotient.toString(),o?0:u.minimumAmountOut(n.slippageTolerance).quotient.toString(),s.path.map(function(e){return e.wrapped.address}),a]):i==h.TradeType.EXACT_OUTPUT&&e.addCommand(r.CommandType.V2_SWAP_EXACT_OUT,[o?ea:n.recipient,u.minimumAmountOut(n.slippageTolerance).quotient.toString(),u.maximumAmountIn(n.slippageTolerance).quotient.toString(),s.path.map(function(e){return e.wrapped.address}),a])}function ec(e,t,i,n,a,o){var s=t.route,u=f.Trade.createUncheckedTrade({route:s,inputAmount:t.inputAmount,outputAmount:t.outputAmount,tradeType:i}),l=f.encodeRouteToPath(s,u.tradeType===h.TradeType.EXACT_OUTPUT);i==h.TradeType.EXACT_INPUT?e.addCommand(r.CommandType.V3_SWAP_EXACT_IN,[o?ea:n.recipient,u.maximumAmountIn(n.slippageTolerance).quotient.toString(),o?0:u.minimumAmountOut(n.slippageTolerance).quotient.toString(),l,a]):i==h.TradeType.EXACT_OUTPUT&&e.addCommand(r.CommandType.V3_SWAP_EXACT_OUT,[o?ea:n.recipient,u.minimumAmountOut(n.slippageTolerance).quotient.toString(),u.maximumAmountIn(n.slippageTolerance).quotient.toString(),l,a])}function ed(e,t,i,n,a,o){var s,u=t.inputAmount,l=t.outputAmount,c=t.route.pools.map(function(e){return e}),d=new p.Route(c,u.currency,l.currency),f=p.Trade.createUncheckedTrade({route:d,inputAmount:u,outputAmount:l,tradeType:i}),m=o&&i==h.TradeType.EXACT_INPUT?void 0:n.slippageTolerance,g=new p.V4Planner;g.addTrade(f,m),g.addSettle(f.route.pathInput,a),g.addTake(f.route.pathOutput,o?ea:null!=(s=n.recipient)?s:en),e.addCommand(r.CommandType.V4_SWAP,[g.finalize()])}function ef(e,t){var i=t.signature,n=d.ethers.utils.arrayify(t.signature).length;65!==n&&64!==n||(i=d.ethers.utils.joinSignature(d.ethers.utils.splitSignature(t.signature))),e.addCommand(r.CommandType.PERMIT2_PERMIT,[t,i])}var ep=function(){function e(){}return e.swapCallParameters=function(t,r){var i=new Y,n=new eu(t,r),a=n.trade.inputAmount.currency;a.isNative&&r.inputTokenPermit&&u(!1),r.inputTokenPermit&&ef(i,r.inputTokenPermit);var o=d.BigNumber.from(a.isNative?n.trade.maximumAmountIn(r.slippageTolerance).quotient.toString():0);return n.encode(i,{allowRevert:!1}),e.encodePlan(i,o,{deadline:r.deadlineOrPreviousBlockhash?d.BigNumber.from(r.deadlineOrPreviousBlockhash):void 0})},e.migrateV3ToV4CallParameters=function(t,i){var n=t.outputPosition.pool,a=t.inputPosition.pool.token0,o=t.inputPosition.pool.token1,s=null!=i?i:h.CHAIN_TO_ADDRESSES_MAP[n.chainId].v4PositionManagerAddress;n.currency0.isNative?n.currency0.wrapped.equals(a)&&n.currency1.equals(o)||n.currency0.wrapped.equals(o)&&n.currency1.equals(a)||u(!1):(a!==n.token0&&u(!1),o!==n.token1&&u(!1)),t.v3RemoveLiquidityOptions.liquidityPercentage.equalTo(new h.Percent(100,100))||u(!1),1!=t.v3RemoveLiquidityOptions.burnToken&&u(!1),t.v3RemoveLiquidityOptions.collectOptions.recipient!==s&&u(!1),Object.keys(t.v4AddLiquidityOptions).some(function(e){return"recipient"===e})||u(!1),t.v4AddLiquidityOptions.migrate||u(!1);var l=new Y;if(t.v4AddLiquidityOptions.createPool){var c=p.Pool.getPoolKey(n.currency0,n.currency1,n.fee,n.tickSpacing,n.hooks);l.addCommand(r.CommandType.V4_INITIALIZE_POOL,[c,n.sqrtRatioX96.toString()]),delete t.v4AddLiquidityOptions.createPool}t.v3RemoveLiquidityOptions.permit&&(ee(r.UniversalRouterVersion.V2_0,t.inputPosition.pool.chainId)!=t.v3RemoveLiquidityOptions.permit.spender&&u(!1),m=t.v3RemoveLiquidityOptions.permit,g=t.v3RemoveLiquidityOptions.tokenId,b=f.NonfungiblePositionManager.INTERFACE.encodeFunctionData("permit",[h.validateAndParseAddress(m.spender),g,m.deadline,m.v,m.r,m.s]),l.addCommand(r.CommandType.V3_POSITION_MANAGER_PERMIT,[b]),delete t.v3RemoveLiquidityOptions.permit);for(var m,g,b,y,A=f.NonfungiblePositionManager.removeCallParameters(t.inputPosition,t.v3RemoveLiquidityOptions),w=x(f.Multicall.decodeMulticall(A.calldata));!(y=w()).done;){var v=y.value,S=v.slice(0,10);S!=f.NonfungiblePositionManager.INTERFACE.getSighash("collect")&&S!=f.NonfungiblePositionManager.INTERFACE.getSighash("decreaseLiquidity")&&S!=f.NonfungiblePositionManager.INTERFACE.getSighash("burn")&&u(!1),l.addCommand(r.CommandType.V3_POSITION_MANAGER_CALL,[v])}var k=p.V4PositionManager.addCallParameters(t.outputPosition,t.v4AddLiquidityOptions);return k.calldata.slice(0,10)!=p.V4PositionManager.INTERFACE.getSighash("modifyLiquidities")&&u(!1),l.addCommand(r.CommandType.V4_POSITION_MANAGER_CALL,[k.calldata]),e.encodePlan(l,d.BigNumber.from(0),{deadline:d.BigNumber.from(t.v4AddLiquidityOptions.deadline)})},e.encodePlan=function(t,r,i){void 0===i&&(i={});var n=t.commands,a=t.inputs;return{calldata:e.INTERFACE.encodeFunctionData(i.deadline?"execute(bytes,bytes[],uint256)":"execute(bytes,bytes[])",i.deadline?[n,a,i.deadline]:[n,a]),value:r.toHexString()}},e}();ep.INTERFACE=new c.Interface(l.abi);var eh,em=function(){function e(e,t,i){this.tradeType=r.RouterActionType.UnwrapWETH,this.wethAddress=et(t),this.amount=e,i&&(i.details.token.toLowerCase()!==this.wethAddress.toLowerCase()&&u(!1),i.details.amount>=e||u(!1),this.permit2Data=i)}return e.prototype.encode=function(e,t){var i;(i={permit2Permit:this.permit2Data,permit2TransferFrom:{token:this.wethAddress,amount:this.amount.toString()}}).permit2TransferFrom&&i.permit2Permit&&i.permit2TransferFrom.token!==i.permit2Permit.details.token&&u(!1),i.permit2Permit&&ef(e,i.permit2Permit),i.permit2TransferFrom&&e.addCommand(r.CommandType.PERMIT2_TRANSFER_FROM,[i.permit2TransferFrom.token,i.permit2TransferFrom.recipient?i.permit2TransferFrom.recipient:ea,i.permit2TransferFrom.amount]),e.addCommand(r.CommandType.UNWRAP_WETH,[ea,this.amount])},e}();(eh=r.PoolType||(r.PoolType={})).V2Pool="v2-pool",eh.V3Pool="v3-pool",eh.V4Pool="v4-pool";var eg=function(e){return e.toLowerCase()===ei.toLowerCase()||"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee"===e.toLowerCase()},eb=function(){function e(){}return e.fromClassicQuote=function(t){var i=t.route,n=t.tokenIn,a=t.tokenOut;if(!i)throw Error("Expected route to be present");if(!i.length)throw Error("Expected there to be at least one route");if(i.some(function(e){return!e.length}))throw Error("Expected all routes to have at least one pool");var o=i[0],s=o[0].tokenIn,u=o[o.length-1].tokenOut;if(!s||!u)throw Error("Expected both tokenIn and tokenOut to be present");if(s.chainId!==u.chainId)throw Error("Expected tokenIn and tokenOut to be have same chainId");var l=e.toCurrency(eg(n),s),c=e.toCurrency(eg(a),u),d=i.map(function(t){var i=t[0].amountIn,n=t[t.length-1].amountOut;if(!i||!n)throw Error("Expected both raw amountIn and raw amountOut to be present");var a=h.CurrencyAmount.fromRawAmount(l,i),o=h.CurrencyAmount.fromRawAmount(c,n),s=e.isVersionedRoute(r.PoolType.V2Pool,t),u=e.isVersionedRoute(r.PoolType.V3Pool,t),d=e.isVersionedRoute(r.PoolType.V4Pool,t);return{routev4:d?new p.Route(t.map(e.toV4Pool),l,c):null,routev3:u?new f.Route(t.map(e.toV3Pool),l,c):null,routev2:s?new g.Route(t.map(e.toPair),l,c):null,mixedRoute:d||u||s?null:new b.MixedRouteSDK(t.map(e.toPoolOrPair),l,c),inputAmount:a,outputAmount:o}});return new b.Trade({v2Routes:d.filter(function(e){return e.routev2}).map(function(e){return{routev2:e.routev2,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),v3Routes:d.filter(function(e){return e.routev3}).map(function(e){return{routev3:e.routev3,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),v4Routes:d.filter(function(e){return e.routev4}).map(function(e){return{routev4:e.routev4,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),mixedRoutes:d.filter(function(e){return e.mixedRoute}).map(function(e){return{mixedRoute:e.mixedRoute,inputAmount:e.inputAmount,outputAmount:e.outputAmount}}),tradeType:t.tradeType})},e.toCurrency=function(e,t){return e?h.Ether.onChain(t.chainId):this.toToken(t)},e.toToken=function(e){var t=e.symbol,r=e.buyFeeBps,i=e.sellFeeBps;return new h.Token(e.chainId,e.address,parseInt(e.decimals.toString()),t,void 0,!1,r?d.BigNumber.from(r):void 0,i?d.BigNumber.from(i):void 0)},e.toV3Pool=function(t){var r=t.fee,i=t.sqrtRatioX96,n=t.liquidity,a=t.tickCurrent,o=t.tokenOut;return new f.Pool(e.toToken(t.tokenIn),e.toToken(o),parseInt(r),i,n,parseInt(a))},e.toV4Pool=function(t){var r=e.toCurrency(eg(t.tokenIn.address),t.tokenIn),i=e.toCurrency(eg(t.tokenOut.address),t.tokenOut);return new p.Pool(r,i,parseInt(t.fee),parseInt(t.tickSpacing),t.hooks,t.sqrtRatioX96,t.liquidity,parseInt(t.tickCurrent))},e.isVersionedRoute=function(e,t){return t.every(function(t){return t.type===e})},e}();eb.toPoolOrPair=function(e){switch(e.type){case r.PoolType.V4Pool:return eb.toV4Pool(e);case r.PoolType.V3Pool:return eb.toV3Pool(e);case r.PoolType.V2Pool:return eb.toPair(e);default:throw Error("Invalid pool type")}},eb.toPair=function(e){var t=e.reserve0,r=e.reserve1;return new g.Pair(h.CurrencyAmount.fromRawAmount(eb.toToken(t.token),t.quotient),h.CurrencyAmount.fromRawAmount(eb.toToken(r.token),r.quotient))};var ey=function(){function e(){}return e.parseCalldata=function(t){var r=new ex(J),i=e.INTERFACE.parseTransaction({data:t}).args;return r.parse(i.commands,i.inputs)},e}();ey.INTERFACE=new c.Interface(l.abi);var ex=function(){function e(e){this.commandDefinition=e}return e.prototype.parse=function(t,i){var n=this;return{commands:e.getCommands(t).map(function(e,t){var a=n.commandDefinition[e];if(a.parser===r.Parser.V4Actions){var o=p.V4BaseActionsParser.parseCalldata(i[t]);return{commandName:r.CommandType[e],commandType:e,params:o.actions.map(function(e){return{name:e.actionName,value:e.params.map(function(e){return{name:e.name,value:e.value}})}})}}if(a.parser===r.Parser.Abi){var s=a.params,u=d.ethers.utils.defaultAbiCoder.decode(s.map(function(e){return e.type}),i[t]).map(function(e,t){switch(s[t].subparser){case r.Subparser.V3PathExactIn:return{name:s[t].name,value:function(e){for(var t=e.replace("0x",""),r=d.ethers.utils.getAddress(t.substring(0,40)),i=40,n=[];i<t.length;){var a=t.substring(i,i+46),o=parseInt(a.substring(0,6),16),s=d.ethers.utils.getAddress(a.substring(6,46));n.push({tokenIn:r,tokenOut:s,fee:o}),r=s,i+=46}return n}(e)};case r.Subparser.V3PathExactOut:return{name:s[t].name,value:function(e){for(var t=e.replace("0x",""),r=d.ethers.utils.getAddress(t.substring(t.length-40)),i=t.length-86,n=[];i>=0;){var a=t.substring(i,i+46),o=d.ethers.utils.getAddress(a.substring(0,40)),s=parseInt(a.substring(40,46),16);n.push({tokenIn:r,tokenOut:o,fee:s}),r=o,i-=46}return n}(e)};default:return{name:s[t].name,value:e}}});return{commandName:r.CommandType[e],commandType:e,params:u}}if(a.parser===r.Parser.V3Actions)return{commandName:r.CommandType[e],commandType:e,params:i.map(function(e){return{name:"command",value:e}})};throw Error("Unsupported parser: "+a)})}},e.getCommands=function(e){for(var t=[],r=2;r<e.length;r+=2){var i=e.substring(r,r+2);t.push(parseInt(i,16))}return t},e}();r.COMMAND_DEFINITION=J,r.CommandParser=ey,r.GenericCommandParser=ex,r.ROUTER_AS_RECIPIENT=ea,r.RoutePlanner=Y,r.RouterTradeAdapter=eb,r.SwapRouter=ep,r.UNIVERSAL_ROUTER_ADDRESS=ee,r.UNIVERSAL_ROUTER_CREATION_BLOCK=function(e,t){if(!(t in $))throw Error("Universal Router not deployed on chain "+t);return $[t].routerConfigs[e].creationBlock},r.UniswapTrade=eu,r.UnwrapWETH=em,r.WETH_ADDRESS=et,r.isNativeCurrency=eg},936868,(e,t,r)=>{"use strict";t.exports=e.r(499675)},509597,698430,460070,658957,679265,e=>{"use strict";let t=new Set;async function r(e,r){let i=e.toLowerCase();if(t.has(i))return null;t.add(i);try{let t=await r.getCode({address:e});if(!t||"0x"===t)return!1;return t.toLowerCase().startsWith("0xef0100")}catch(e){return console.error("Error checking EIP-7702 delegation:",e),!1}}function i(e){return"Uniswap V2"===e||"Pancakeswap V2"===e||"Generic Uniswap V2"===e||"Generic Pancakeswap V2"===e?"v2":"Uniswap V3"===e||"Pancakeswap V3"===e||"Generic Uniswap V3"===e||"Generic Pancakeswap V3"===e?"v3":"Fourmeme V2"===e?"fourmeme":"Binance"===e?"binance":(("Uniswap V4"===e||"Generic Uniswap V4"===e)&&console.warn(`Protocol ${e} not yet supported for execution`),null)}e.s(["checkEIP7702Delegation",()=>r],509597),e.s(["getExecutionProtocol",()=>i],698430);var n=e.i(936868),a=e.i(375116),o=e.i(734532),s=e.i(704434);let u="0x0000000000000000000000000000000000000001";function l(e,t){let r=e.map(e=>e.slice(2)),i=t.toString(16).padStart(6,"0");return`0x${r[0]}${i}${r[1]}${r[2]}`.toLowerCase()}function c(e,t,r,i,o=a.AXIOM_ROUTER_ADDRESS,s=!1){return e.addCommand(n.CommandType.V2_SWAP_EXACT_IN,[o,t,r,i,s]),e}function d(e,t,r,i,o,s=a.AXIOM_ROUTER_ADDRESS,u=!1){return e.addCommand(n.CommandType.V3_SWAP_EXACT_IN,[s,t,r,l(i,o),u]),e}e.s(["AXIOM_ROUTER_ABI",0,[{inputs:[{internalType:"bytes",name:"commands",type:"bytes"},{internalType:"bytes[]",name:"inputs",type:"bytes[]"},{internalType:"uint256",name:"deadline",type:"uint256"}],name:"axiomTrade",outputs:[],stateMutability:"payable",type:"function"}],"FOUR_MEME_BUY_TO_USER",0,17,"FOUR_MEME_SELL_FROM_USER",0,18,"FOUR_MEME_SELL_TO_QUOTE_TOKEN",0,20,"MSG_SENDER",0,u,"encodePath",()=>l],460070);let f=BigInt(2)**BigInt(255),p=BigInt(2)**BigInt(254);class h{planner;constructor(){this.planner=new n.RoutePlanner}addFeeWrapAllETH(e=[],t=[]){this.planner.commands=this.planner.commands.concat("22");let r=(0,s.encodeAbiParameters)([{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[e,t]);return this.planner.inputs.push(r),this}addAxiomFee(e=[],t=[]){this.planner.commands=this.planner.commands.concat("23");let r=(0,s.encodeAbiParameters)([{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[e,t]);return this.planner.inputs.push(r),this}addUnwrapAllWethFeeSweep(e,t=[],r=[]){this.planner.commands=this.planner.commands.concat("24");let i=(0,s.encodeAbiParameters)([{name:"amountMinimum",type:"uint256"},{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[e,t,r]);return this.planner.inputs.push(i),this}sendBribe(e){return e>BigInt(0)&&this.planner.addCommand(n.CommandType.TRANSFER,[o.BNB_QUOTE_TOKEN_INFO.bnb.address,a.BLOXROUTE_BRIBE_ADDRESS,e]),this}addSweep(e,t,r=BigInt(0)){return this.planner.addCommand(n.CommandType.SWEEP,[e,t,r]),this}buy(e,t,r,i,n,a="wbnb",l=BigInt(0),p=[],h=[]){var m,g;("v2"===e||"v3"===e)&&"bnb"===a?a="wbnb":("fourmeme"===e||"binance"===e)&&"wbnb"===a&&(a="bnb"),this.sendBribe(l);let b=o.BNB_QUOTE_TOKEN_INFO[a].address;if("bnb"!==a?this.addFeeWrapAllETH(p,h):this.addAxiomFee(p,h),"bnb"!==a&&"wbnb"!==a){let e=o.BNB_QUOTE_TOKEN_INFO[a];if(!e.intermediatePool)throw Error(`No intermediate pool configured for quote token: ${a}`);let{address:t,fee:r}=e.intermediatePool,i=[o.BNB_QUOTE_TOKEN_INFO.wbnb.address,e.address,t];d(this.planner,f,BigInt(0),i,r)}if("fourmeme"===e){let e;m=this.planner,e=(0,s.encodeAbiParameters)([{name:"token",type:"address"},{name:"quoteToken",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,b,r]),m.addCommand(17,[e])}else if("binance"===e){let e;if("bnb"!==a)throw Error("Binance (X Mode) tokens only support BNB as quote token");g=this.planner,g.commands=g.commands.concat("15"),e=(0,s.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountOutMin",type:"uint256"}],[t,r]),g.inputs.push(e)}else{let a=[b,t,i];"v2"===e?c(this.planner,f,r,a,u):d(this.planner,f,r,a,n,u)}return this}sell(e,t,r,i,n,u,l="wbnb",h=BigInt(0),m=[],g=[]){("v2"===e||"v3"===e)&&"bnb"===l?l="wbnb":("fourmeme"===e||"binance"===e)&&"wbnb"===l&&(l="bnb"),this.sendBribe(h);let b=o.BNB_QUOTE_TOKEN_INFO[l].address;if("fourmeme"===e||"binance"===e){var y;let e;if("bnb"===l)return!function(e,t,r,i,n=[],a=[]){let o=(0,s.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"referralAddresses",type:"address[]"},{name:"referralPoints",type:"uint8[]"}],[t,r,i,n,a]);e.addCommand(18,[o])}(this.planner,t,r,i,m,g),this;y=this.planner,e=(0,s.encodeAbiParameters)([{name:"token",type:"address"},{name:"amountIn",type:"uint256"},{name:"quoteToken",type:"address"}],[t,r,b]),y.addCommand(20,[e])}else{let i=[t,b,n];"v2"===e?c(this.planner,r,BigInt(0),i,a.AXIOM_ROUTER_ADDRESS,!0):d(this.planner,r,BigInt(0),i,u,a.AXIOM_ROUTER_ADDRESS,!0)}if("bnb"!==l&&"wbnb"!==l){let t="fourmeme"===e||"binance"===e?p:f,r=o.BNB_QUOTE_TOKEN_INFO[l];if(!r.intermediatePool)throw Error(`No intermediate pool configured for quote token: ${l}`);let{address:i,fee:n}=r.intermediatePool,s=[r.address,o.BNB_QUOTE_TOKEN_INFO.wbnb.address,i];d(this.planner,t,BigInt(0),s,n,a.AXIOM_ROUTER_ADDRESS,"fourmeme"===e||"binance"===e)}return this.addUnwrapAllWethFeeSweep(i,m,g),this}finalize(){return{commands:this.planner.commands,inputs:this.planner.inputs}}}e.s(["ExecutionPlanner",()=>h],658957),e.s([],679265)},438828,206850,448259,e=>{"use strict";var t=e.i(828073);e.i(465903);var r=e.i(767924),i=e.i(375116);function n(e,r,i,n,a){let o=(0,t.default)(e).times(i).times(a-n),s=(0,t.default)(r).times(a).plus((0,t.default)(e).times(a-n));return o.div(s).integerValue(t.default.ROUND_DOWN)}function a({bnb:e,liquidityBnb:a,liquidityToken:o,fee:s,protocol:u}){try{let l=(0,t.default)(e).times(r.AXIOM_FEE_BASIS_POINTS).div(r.BASIS_POINTS_DIVISOR),c=(0,t.default)(e).minus(l);if("Fourmeme V2"===u||"Binance"===u){let e=n(c,a,o,r.FOURMEME_PROTOCOL_FEE,r.BASIS_POINTS_DIVISOR+r.FOURMEME_PROTOCOL_FEE),s=i.FOURMEME_SALE_AMOUNT.plus(o).minus(i.FOURMEME_T0).integerValue(t.default.ROUND_DOWN);if(e.gt(s))return s;return e}return n(c,a,o,s,1e6)}catch{return(0,t.default)(0)}}function o({tokens:e,liquidityBnb:i,liquidityToken:n,fee:a,protocol:o}){try{var s;let u,l,c;"Fourmeme V2"===o&&(a=0);let d=(s=a,l=(u=(0,t.default)(e).times(1e6-s).div(1e6)).times(i),c=(0,t.default)(n).plus(u),l.div(c).integerValue(t.default.ROUND_DOWN)),f=d.times(r.AXIOM_FEE_BASIS_POINTS).div(r.BASIS_POINTS_DIVISOR);if("Fourmeme V2"===o){let e=d.times(r.FOURMEME_PROTOCOL_FEE).div(r.BASIS_POINTS_DIVISOR);return d.minus(e).minus(f)}return d.minus(f)}catch{return(0,t.default)(0)}}function s({targetBnb:e,liquidityBnb:i,liquidityToken:n,fee:a,protocol:o}){var s,u;if((0,t.default)(e).isLessThan(0))throw Error("Invalid amount BNB");if((0,t.default)(e).isGreaterThan(i))throw Error("You cannot sell more than what's in the pool");"Fourmeme V2"===o&&(a=0);let l=(s="Fourmeme V2"===o?(0,t.default)(e).times(r.BASIS_POINTS_DIVISOR).div(r.BASIS_POINTS_DIVISOR-r.FOURMEME_PROTOCOL_FEE-r.AXIOM_FEE_BASIS_POINTS).integerValue(t.default.ROUND_CEIL):(0,t.default)(e).times(r.BASIS_POINTS_DIVISOR).div(r.BASIS_POINTS_DIVISOR-r.AXIOM_FEE_BASIS_POINTS).integerValue(t.default.ROUND_CEIL),u=a,(0,t.default)(s).times(n).div((0,t.default)(i).minus(s)).times(1e6).div(1e6-u).integerValue(t.default.ROUND_CEIL));if(l.isLessThan(0))throw Error("Invalid amount");return l}e.s(["estimateBuyBnb",()=>a],438828),e.s(["estimateSellBnb",()=>o],206850),e.s(["estimateSellInverseBnb",()=>s],448259)},932677,970317,e=>{"use strict";let t=(0,e.i(639372).atom)(Date.now());e.s(["serverTimeAtom",0,t],932677);var r=e.i(375116),i=e.i(514276),n=e.i(750214),a=e.i(271645),o=e.i(736837),s=e.i(746256);e.i(490156);var u=e.i(885438),l=e.i(672464);function c(){let e=(0,n.useAtomCallback)((0,a.useCallback)(e=>e(u.bnbNoncesAtom),[])),t=(0,l.useSetAtom)(u.bnbNoncesAtom);return(0,a.useCallback)((i,n,a,o)=>{let s=e(),u=s[i.toLowerCase()];if(!u)return;let l=u.lastOnChainNonce,c=u.pendingTxs.filter(e=>e.nonce>l)??[],f=Date.now(),p=1e3*r.CANCEL_TRANSACTION_BUFFER_SECONDS;for(let t=l+1;t<a;t++){let r=c.find(e=>e.nonce===t);if(r){let a=f-r.createdAt;a>=p?d(n,t,o):setTimeout(()=>{let r=e()[i.toLowerCase()];r&&!(t<=r.lastOnChainNonce)&&d(n,t,o)},p-a)}else d(n,t,o)}t({...s,[i.toLowerCase()]:{...u,pendingTxs:c}})},[e,t])}async function d(e,t,r){try{let n=(0,o.privateKeyToAccount)(`0x${e}`),a={from:n.address,to:n.address,value:BigInt(0),gas:BigInt(21e3),gasPrice:r,nonce:t,chainId:s.bsc.id},u=await n.signTransaction(a);(0,i.sendBscTransaction)(u,!1)}catch{}}e.s(["useBnbCancelPendingTx",()=>c],970317)},538560,636440,353478,e=>{"use strict";e.s(["QuickBuyButtonBnb",()=>ep],538560);var t,r=e.i(843476),i=e.i(672464),n=e.i(618566),a=e.i(271645),o=e.i(432602),s=e.i(363071),u=e.i(592846);e.i(490156);var l=e.i(542119),c=e.i(741124),d=e.i(352120),f=e.i(538701);e.s(["useBnbSwap",()=>ed],353478);var p=e.i(247167),h=e.i(828073),m=e.i(354640),g=e.i(309682),b=e.i(656679),y=e.i(110163),x=e.i(599509),A=e.i(668375),w=e.i(736837),v=e.i(746256),S=e.i(514276),k=e.i(509597),T=e.i(734532),E=e.i(375116),P=e.i(698430),I=e.i(885438),_=e.i(722607);e.i(679265);var N=e.i(460070),R=e.i(658957),O=e.i(181937),B=e.i(438828),C=e.i(206850),D=e.i(448259),F=e.i(401597),U=e.i(458768),M=e.i(659341),L=e.i(831095),q=e.i(944325),K=e.i(932677),W=e.i(750214),V=e.i(970317),G=e.i(268804),j=e.i(674768),z=e.i(764335),H=e.i(781754),X=e.i(581949);let Q="0xcA11bde05977b3631167028862bE2a173976CA11",J=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"}];async function Y({rpcUrl:e,calls:t,blockNumber:r,includeBlockNumber:i=!1,timeout:n=1e4}){let a=[...t];i&&!r&&a.push({target:Q,allowFailure:!1,callData:(0,b.encodeFunctionData)({abi:J,functionName:"getBlockNumber",args:[]})});let o=(0,b.encodeFunctionData)({abi:J,functionName:"aggregate3",args:[a]}),s=r?[{to:Q,data:o},`0x${r.toString(16)}`]:[{to:Q,data:o},"latest"],u=await X.default.post(e,{jsonrpc:"2.0",id:1,method:"eth_call",params:s},{headers:{"Content-Type":"application/json"},timeout:n});if(!u.data.result)throw Error("Invalid response from RPC");let l=function(e){let t=[],r=128,i=parseInt(e.slice(64,128),16),n=[];for(let t=0;t<i;t++){let t=e.slice(r,r+64);n.push(2*parseInt(t,16)),r+=64}for(let r=0;r<i;r++){let i=n[r]+128,a="1"===e.slice(i,i+64).slice(-1),o=2*parseInt(e.slice(i+64,i+128),16),s=i+o,u=2*parseInt(e.slice(s,s+64),16),l=e.slice(s+64,s+64+u);t.push({success:a,returnData:l})}return t}(u.data.result.slice(2)),c=r;if(i&&!r&&l.length>t.length){let e=l[l.length-1];if(e?.success&&e.returnData.length>=64)c=parseInt(e.returnData.slice(0,64),16);else throw Error("Failed to get block number from multicall")}return{results:i&&!r?l.slice(0,-1):l,blockNumber:c??void 0}}(t={}).NOT_APPROVED="not_approved",t.PENDING="pending",t.APPROVED="approved",t.FETCHING="fetching";let Z=new Map;function $(e,t,r){return[e.toLowerCase(),t.toLowerCase(),r.toLowerCase()]}function ee(e,t,r,i){let[n,a,o]=$(e,t,r),s=Z.get(n);s||(s=new Map,Z.set(n,s));let u=s.get(a);u||(u=new Map,s.set(a,u)),u.set(o,i)}async function et(e,t,r,i){let[n,a,o]=$(e,t,r),s=()=>{let i=Z.get(n),s=i?.get(a),u=s?.get(o);return u?"pending"===u.status&&u.submittedAt&&Date.now()-u.submittedAt>1e3*E.CANCEL_TRANSACTION_BUFFER_SECONDS?(ee(e,t,r,{status:"not_approved"}),"not_approved"):u.status:null},u=s();if(u)return u;let l=i||(0,g.createPublicClient)({chain:v.bsc,transport:(0,y.http)(E.BNB_FRONTEND_RPC)});try{let i=await l.readContract({address:t,abi:z.ERC20_ABI,functionName:"allowance",args:[e,r]}),n=s();if(n)return n;let a=i>=j.maxUint256/BigInt(10)?"approved":"not_approved";return ee(e,t,r,{status:a}),a}catch(e){return console.error("Failed to fetch approval status:",e),"not_approved"}}async function er(e,t){let r=[],i=[];for(let n of e)for(let{token:e,spender:a}of t)r.push({target:e,allowFailure:!0,callData:(0,b.encodeFunctionData)({abi:z.ERC20_ABI,functionName:"allowance",args:[n,a]})}),i.push({wallet:n,token:e,spender:a});try{let{results:e}=await Y({rpcUrl:E.BNB_FRONTEND_RPC,calls:r});e.forEach((e,t)=>{let{wallet:r,token:n,spender:a}=i[t];if(e.success&&e.returnData.length>=64){let t=BigInt("0x"+e.returnData.slice(0,64))>=j.maxUint256/BigInt(10)?"approved":"not_approved";ee(r,n,a,{status:t})}})}catch(e){console.error("Failed to prefetch approvals:",e)}}async function ei(e,t,r,i,n,a,o,s){let u=i.address,l=await et(u,e,t,r);if("approved"!==l&&("buy"!==s||"pending"!==l)){ee(u,e,t,{status:"pending",submittedAt:Date.now()});try{let s=await a(u,r),l={from:i.address,to:e,data:(0,b.encodeFunctionData)({abi:z.ERC20_ABI,functionName:"approve",args:[t,j.maxUint256]}),value:BigInt(0),gas:E.BNB_GAS_CONFIG.gasLimitApprove,gasPrice:n,nonce:s,chainId:v.bsc.id};if(!i.signTransaction)throw Error("Account does not support signing transactions");(async()=>{try{let n=await i.signTransaction(l),a=(0,L.keccak256)(n);(0,S.sendBscTransaction)(n,!1),await (0,H.monitorTransaction)(r,o,a,500,1e3*E.SWAP_DEADLINE_SECONDS),ee(u,e,t,{status:"approved"})}catch(r){console.error("Token approval failed:",r),ee(u,e,t,{status:"not_approved"})}})()}catch(r){console.error("Token approval failed:",r),ee(u,e,t,{status:"not_approved"})}}}async function en(e,t,r,i,n,a,o,s,u){let l=[];"fourmeme"===e||"binance"===e?(l.push(ei(t,E.FOUR_MEME_ROUTER_ADDRESS,i,n,a,o,s,u)),"bnb"!==r&&"wbnb"!==r&&l.push(ei(T.BNB_QUOTE_TOKEN_INFO[r].address,E.AXIOM_ROUTER_ADDRESS,i,n,a,o,s,u))):l.push(ei(t,E.AXIOM_ROUTER_ADDRESS,i,n,a,o,s,u)),await Promise.all(l)}e.s(["handleAllApprovals",()=>en,"prefetchApprovals",()=>er],636440);var ea=e.i(918030),eo=e.i(744066),es=e.i(91204),eu=e.i(705766);async function el({results:e,walletsToUse:t,tokenAddress:r,startTime:i,toastId:n,refreshBnbNonces:a,refreshBalancesEvm:o,handleTokenReferral:s,tradeType:u}){let l=e.filter(e=>e.success).length,c=e.length-l,d=Date.now()-i;l===e.length?"buy"===u?l>1?U.default.txSuccess(`All ${l} buy${l>1?"s":""} successful!`,{toastId:n,elapsedMs:d}):U.default.txSuccess("Buy successful!",{toastId:n,elapsedMs:d}):l>1?U.default.txSellSuccess(`All ${l} sell${l>1?"s":""} successful!`,{toastId:n,elapsedMs:d}):U.default.txSellSuccess("Sell successful!",{toastId:n,elapsedMs:d}):l>0?U.default.warn(`${l}/${e.length} ${u}${l>1?"s":""} successful, ${c} failed`,{toastId:n}):e.length>1?U.default.error(`All ${u}s failed`,{toastId:n}):U.default.error(`${u} failed: Transaction reverted`,{toastId:n}),a(t),o(t,r),setTimeout(()=>{o(t,r)},1e3);let f=e.find(e=>e.success);f&&s(f.hash,r)}function ec(e){return e>=20?2e3:e>=10?1e3:e>=5?500:200}function ed(){let e=(0,i.useAtomValue)(l.isAuthedAtom),t=(0,i.useAtomValue)(I.selectedEvmWalletsAtom),r=(0,i.useAtomValue)(I.monitoredEvmWalletsAtom),n=(0,i.useAtomValue)(I.evmBalancesAtom),o=(0,i.useAtomValue)(I.evmTokenAccountsAtom),s=(0,i.useAtomValue)(q.regionInfoAtom),u=(0,i.useAtomValue)(I.buyVarianceBnbAtom),c=(0,i.useAtomValue)(I.transactionDelayMultiWalletBnbAtom),d=(0,i.useAtomValue)(l.referralDataAtom),f=(0,i.useAtomValue)(l.rewardsPercentageAtom),j=(0,i.useAtomValue)(ea.referredTokenAtom),z=(0,W.useAtomCallback)((0,a.useCallback)(e=>e(K.serverTimeAtom),[])),X=(0,m.useRefreshBalancesEvm)(),Q=(0,_.useGetEvmPreset)(),J=(0,I.useGetAndIncrementNonce)(),Y=(0,I.useRefreshBnbNonces)(),Z=(0,V.useBnbCancelPendingTx)(),$=(0,ea.useHandleTokenReferral)();return(0,a.useCallback)(async({poolConfig:i,tradeType:l,amount:m,overrideWalletAddress:_,presetType:K="default",fetchLatestSwapInfo:W=!1})=>{let V=Date.now(),ee=z(),et=(0,q.getRegionUrl)(s.name),er=new WebSocket(p.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD?et+"/?localhost-password="+p.default.env.NEXT_PUBLIC_LOCAL_WS_PASSWORD:et),ei=[],ea=[];if(er.onopen=()=>{for(let e of ei)e()},er.onmessage=e=>{for(let t of ea)t(e)},setTimeout(()=>{try{er.close()}catch(e){console.error("Error closing WebSocket:",e)}},1e4),!e)return void U.default.error("Please sign in to trade");if(0===t.length)return void U.default.error("Please select a wallet to trade with");let ed=_?[_]:t;if(!i.pairAddress||!i.tokenAddress)return void U.default.error("Invalid pool configuration");let ef=U.default.loadingWithTimer(`${"buy"===l?"Buying":"Selling"} tokens${ed.length>1?` across ${ed.length} wallets`:""}...`,{}),ep={referralPoints:[Math.floor(2*f)],referralAddress:[d?.re0??"0x0000000000000000000000000000000000000000"]};if(d?.re1&&d.r&&(ep.referralAddress.push(d.re1),ep.referralPoints.push(Math.floor(2*d.r))),d?.re2&&(ep.referralAddress.push(d.re2),ep.referralPoints.push(6)),d?.re3&&(ep.referralAddress.push(d.re3),ep.referralPoints.push(4)),j&&j.referrerEvmAddress&&i.tokenAddress===j.tokenAddress){ep.referralAddress.push(j.referrerEvmAddress);let e=d?.re1?5:20;ep.referralPoints.push(Math.floor(2*e))}try{let e=Q(l,K),t=Number(E.BNB_GAS_CONFIG.gasLimit)+Number(E.BNB_GAS_CONFIG.gasLimitApprove);if("buy"===l&&"bnb"!==m.units)return void U.default.error("Buy orders must specify amount in BNB",{toastId:ef});let s=new Map;if("buy"===l&&"bnb"===m.units){let e=new M.default((0,x.parseEther)(m.amountBnb.toString()).toString()),t=(0,F.distributeAmountBN)(e,ed.length,u);for(let e=0;e<ed.length;e++)s.set(ed[e],t[e])}let d=new Map,f=(r,i,a)=>{let o=(0,h.default)(t).multipliedBy(e.customGas).multipliedBy(1e9).plus((0,h.default)(e.bribe).multipliedBy(1e18));"buy"===l&&"bnb"===m.units&&i&&(o=o.plus((0,h.default)(i)));let s=n.data.get(r.toLowerCase()),u=a?(0,h.default)(a[r.toLowerCase()]?.balanceWei??"0"):(0,h.default)(s?.balanceWei??"0");u.isLessThan(o)?d.set(r.toLowerCase(),{balanceWei:u,requiredWei:o}):d.delete(r.toLowerCase())};for(let e of ed)f(e,s.get(e)?.toString());if(d.size>0){let e={publicKeys:Array.from(d.keys())},t=await G.axiomApi.post("/batched-evm-balance",e);for(let e of d.keys())f(e,s.get(e)?.toString(),t);if(d.size>0){for(let e of d.keys()){let t=d.get(e).requiredWei,r=d.get(e).balanceWei;U.default.error(`Insufficient BNB balance for swap and gas fees${ed.length>1?` for ${e}`:""}. Required: ${t.dividedBy(1e18).toPrecision(3)} BNB, Available: ${r.dividedBy(1e18).toPrecision(3)} BNB`,{duration:4e3})}eu.default.dismiss(ef);return}}let p=i;if(W)try{let e=await eo.bnbApi.get("/swap-info",{pairAddress:i.pairAddress}),t=(0,eo.bnbGetDataOrThrow)(e);if(!(p={...i,liquidityBnb:t.liquidityBnb,liquidityToken:t.liquidityToken}).quoteToken){let e=(0,T.getQuoteTokenFromAddresses)(t.quoteTokenAddress);if(!e)return void U.default.error("Fetched invalid quote token",{toastId:ef});p.quoteToken=e}p.protocol||(p.protocol=t.protocol),p.fee||(p.fee=t.fee),p.tokenDecimals||(p.tokenDecimals=t.tokenDecimals)}catch{U.default.error("Failed to fetch latest swap info, using provided values",{toastId:ef});return}let _=(0,P.getExecutionProtocol)(p.protocol);if(!_)return void U.default.error(`Protocol ${p.protocol} not supported`,{toastId:ef});let q=p.pairAddress,j=p.tokenAddress,z=p.fee,et=p.quoteToken,eh=(0,g.createPublicClient)({chain:v.bsc,transport:(0,y.http)(E.BNB_FRONTEND_RPC)}),em=(0,A.parseUnits)(e.customGas.toString(),9),eg=em+(0,A.parseUnits)(e.bribe.toString(),18)/E.BNB_GAS_CONFIG.gasLimit,eb=BigInt(0);if("buy"===l){let t;if("bnb"!==m.units)return void U.default.error("Buy orders must specify amount in BNB",{toastId:ef});if(m.amountBnb<E.MIN_BUY_AMOUNT_BNB)return void U.default.error(`Minimum buy amount is ${E.MIN_BUY_AMOUNT_BNB} BNB`,{toastId:ef});let i=async(t,i)=>{try{let n=r.find(e=>e.publicKey.toLowerCase()===t.toLowerCase())?.privateKey;if(!n)return{wallet:t,hash:"",success:!1};let a=(0,w.privateKeyToAccount)(`0x${n}`),o=BigInt(i.toString()),s=(0,B.estimateBuyBnb)({bnb:o.toString(),liquidityBnb:p.liquidityBnb,liquidityToken:p.liquidityToken,fee:z,protocol:p.protocol}),u=BigInt((0,O.applySlippage)(s,e.slippage,"buy").toFixed(0)),l=new R.ExecutionPlanner;l.buy(_,j,u,q,z,et,eb,ep.referralAddress,ep.referralPoints);let c=l.finalize(),d=BigInt(Math.ceil(Math.max(ee,Date.now())/1e3)+E.SWAP_DEADLINE_SECONDS),f=await J(a.address,eh),h="binance"===_?E.AXIOM_ROUTER_ADDRESS_V2:E.AXIOM_ROUTER_ADDRESS,m=await a.signTransaction({from:a.address,to:h,data:(0,b.encodeFunctionData)({abi:N.AXIOM_ROUTER_ABI,functionName:"axiomTrade",args:[c.commands,c.inputs,d]}),value:o+eb,gas:E.BNB_GAS_CONFIG.gasLimit,gasPrice:eg,nonce:f,chainId:v.bsc.id}),g=(0,L.keccak256)(m);return(0,S.sendBscTransaction)(m,e.antiMevRpc),Z(a.address,n,f,em),en(_,j,et,eh,a,em,J,{ws:er,wsOpenHandlers:ei,wsMessageHandlers:ea},"buy"),await (0,H.monitorTransaction)(eh,{ws:er,wsOpenHandlers:ei,wsMessageHandlers:ea},g,ec(ed.length),(E.SWAP_DEADLINE_SECONDS+1)*1e3),{wallet:t,hash:g,success:!0}}catch(e){return console.error(`Buy failed for wallet ${t}:`,e),{wallet:t,hash:"",success:!1}}};if(0===c)t=await Promise.all(ed.map(e=>i(e,s.get(e))));else{let e=[];for(let t=0;t<ed.length;t++)e.push(i(ed[t],s.get(ed[t]))),t<ed.length-1&&await (0,es.sleep)(c);t=await Promise.all(e)}for(let e of(await el({results:t,walletsToUse:ed,tokenAddress:j,startTime:V,toastId:ef,refreshBnbNonces:Y,refreshBalancesEvm:X,handleTokenReferral:$,tradeType:"buy"}),t.filter(e=>e.success).map(e=>e.wallet)))(async()=>{let t=await (0,k.checkEIP7702Delegation)(e,eh);!0===t&&U.default.warn({message:a.default.createElement("span",null,"You are using a smart wallet which makes trading slower. ",a.default.createElement("a",{href:"https://support.metamask.io/configure/accounts/switch-to-or-revert-from-a-smart-account/#how-to-switch-back-to-a-standard-account",target:"_blank",rel:"noopener noreferrer",className:"underline text-primaryBlue hover:text-primaryBlue/80"},"Follow these steps to disable")," or contact support for help.")},{duration:1/0,toastId:`eip7702-warning-${e}`})})().catch(console.error);return}if("sell"===l){let t,i,n=[],a=new Map;for(let e of ed){let t=(0,I.findEvmTokenBalanceRaw)(o,e,j);t&&"0"!==t||n.push(e)}if(n.length>0)try{let e=await G.axiomApi.post("/batched-evm-token-balances-by-token",{publicKeys:n,tokenAddress:j});for(let t of n){let r=e[t.toLowerCase()],i=r?.tokenBalance||"0";"0"!==i&&a.set(t,i)}}catch(e){console.error("Failed to fetch fresh balances:",e)}let s=e=>a.has(e)?a.get(e):(0,I.findEvmTokenBalanceRaw)(o,e,j)||"0";if("percentage"===m.units)for(let e of(t=new Map,ed)){let r=s(e);if(r&&"0"!==r){let i=(0,h.default)(r).multipliedBy(m.percentage).dividedBy(100).integerValue(h.default.ROUND_DOWN);i.isGreaterThan(0)&&t.set(e,BigInt(i.toFixed(0)))}}else try{t=function(e,t,r,i){let n,a=new Map;if("bnb"===e.units){let r=(0,h.default)(e.amountBnb).multipliedBy(1e18);n=(0,D.estimateSellInverseBnb)({targetBnb:r.toFixed(0),liquidityBnb:t.liquidityBnb,liquidityToken:t.liquidityToken,fee:t.fee,protocol:t.protocol})}else if("tokens"===e.units)n=(0,h.default)(e.amountTokens).multipliedBy(10**t.tokenDecimals);else throw Error("Percentage sells do not use getBnbTokensToSell");let o=(0,h.default)(0);for(let e of r){let t=i(e);o=o.plus(t||"0")}if(n.isGreaterThan(o.multipliedBy(1.01)))throw Error(`Not enough tokens. Need ${n.dividedBy(10**t.tokenDecimals).toFixed(4)} but have ${o.dividedBy(10**t.tokenDecimals).toFixed(4)}`);n.isGreaterThan(o)&&(n=o);let s=n;for(let e of r){if(s.isZero())break;let t=i(e),r=(0,h.default)(t||"0"),n=r.isGreaterThan(s)?s:r;n.isGreaterThan(0)&&(a.set(e,BigInt(n.toFixed(0))),s=s.minus(n))}return a}(m,p,ed,s)}catch(e){U.default.error(e instanceof Error?e.message:"Error calculating sell amounts",{toastId:ef});return}if(0===t.size)return void U.default.error("No tokens to sell",{toastId:ef});let u=async(t,i)=>{try{let n=r.find(e=>e.publicKey.toLowerCase()===t.toLowerCase())?.privateKey;if(!n)return{wallet:t,hash:"",success:!1};let a=(0,w.privateKeyToAccount)(`0x${n}`),o=i;("fourmeme"===_||"binance"===_)&&(o=i/BigInt(1e9)*BigInt(1e9));let s=(0,C.estimateSellBnb)({tokens:o.toString(),liquidityBnb:p.liquidityBnb,liquidityToken:p.liquidityToken,fee:z,protocol:p.protocol}),u=BigInt((0,O.applySlippage)(s,e.slippage,"sell").toFixed(0));await en(_,j,et,eh,a,em,J,{ws:er,wsOpenHandlers:ei,wsMessageHandlers:ea},"sell");let l=new R.ExecutionPlanner;l.sell(_,j,o,u,q,z,et,eb,ep.referralAddress,ep.referralPoints);let c=l.finalize(),d=BigInt(Math.ceil(Math.max(ee,Date.now())/1e3)+E.SWAP_DEADLINE_SECONDS),f=await J(a.address,eh),h=await a.signTransaction({from:a.address,to:E.AXIOM_ROUTER_ADDRESS,data:(0,b.encodeFunctionData)({abi:N.AXIOM_ROUTER_ABI,functionName:"axiomTrade",args:[c.commands,c.inputs,d]}),value:eb,gas:E.BNB_GAS_CONFIG.gasLimit,gasPrice:eg,nonce:f,chainId:v.bsc.id}),m=(0,L.keccak256)(h);return(0,S.sendBscTransaction)(h,e.antiMevRpc),Z(a.address,n,f,em),await (0,H.monitorTransaction)(eh,{ws:er,wsOpenHandlers:ei,wsMessageHandlers:ea},m,ec(ed.length),(E.SWAP_DEADLINE_SECONDS+1)*1e3),{wallet:t,hash:m,success:!0}}catch(e){return console.error(`Sell failed for wallet ${t}:`,e),{wallet:t,hash:"",success:!1}}},l=Array.from(t.entries());if(0===c)i=await Promise.all(l.map(([e,t])=>u(e,t)));else{let e=[];for(let t=0;t<l.length;t++){let[r,i]=l[t];e.push(u(r,i)),t<l.length-1&&await new Promise(e=>setTimeout(e,c))}i=await Promise.all(e)}await el({results:i,walletsToUse:Array.from(t.keys()),tokenAddress:j,startTime:V,toastId:ef,refreshBnbNonces:Y,refreshBalancesEvm:X,handleTokenReferral:$,tradeType:"sell"});return}}catch(e){U.default.error(`${"buy"===l?"Buy":"Sell"} failed: ${e instanceof Error?e.message:"Unknown error"}`,{toastId:ef}),X(ed,i.tokenAddress)}},[e,n,o,z,X,Q,s,J,Y,t,r,Z,$,j,u,c])}var ef=e.i(937491);let ep=(0,a.memo)(function({pairInfo:e,size:t="32px",icon:p=!1,padding:h="12px",hideUnit:m=!1,showLabel:g=!0,pulse:b=!1,rounded:y="999px",keyType:x="default",width:A="",height:w="",seeThrough:v=!1,transparentStyle:S=!1,isSecond:k=!1,isPulse:T=!1,color:E="primaryBlue",shouldRedirect:P=!1,fetchLatestSwapInfo:I=!1}){let _,{t:N}=(0,u.useTranslation)(),R=(0,i.useAtomValue)(f.themeAtom),O=(0,i.useAtomValue)(c.currentChainAtom),[B]=(0,o.useEvmSettings)("lowContrastButtons",!1),C=v&&B?"textPrimary":E,D=C||"primaryBlue",F=C?.startsWith("#"),U="textPrimary"===C,M=F?(0,ef.synthesizeHoverColor)(C):C?U?"textPrimary":`${C}Hover`:"primaryBlueHover",[L,q]=(0,d.useQuickBuyAmount)(k?"second":x,"bnb"),K=ed(),W=(0,i.useAtomValue)(l.isAuthedAtom),V=(0,i.useSetAtom)(l.isSignupModalOpenAtom),G=(0,a.useRef)(null),{uiLocked:j,isLocked:z,lock:H,unlock:X}=(0,s.default)(),[Q,J]=(0,a.useState)(!1),[Y]=(0,o.useEvmSettings)("quickBuyBehavior","nothing"),Z=(0,n.useRouter)(),[$]=(0,o.useEvmSettings)("ultraButtonBorder",!1),[ee]=(0,o.useEvmSettings)("useGigaButtons",!1),et=async t=>{if(t.preventDefault(),t.stopPropagation(),!z()){if(!W)return void V(!0);if(H(),setTimeout(()=>{X()},200),K({poolConfig:{pairAddress:e.pairAddress,tokenAddress:e.tokenAddress,tokenDecimals:e.tokenDecimals,protocol:e.protocol,fee:e.fee,quoteToken:e.quoteToken,liquidityBnb:e.liquidityBnb,liquidityToken:e.liquidityToken},tradeType:"buy",amount:{units:"bnb",amountBnb:L},presetType:k?"second":x,fetchLatestSwapInfo:I}),T&&"nothing"!==Y||!0===P){let t=e.pairAddress;if("tab"===Y){let e=window.open(`/meme/${t}?chain=${O}`,"_blank");e&&e.focus()}else"goto"===Y&&Z.push(`/meme/${t}?chain=${O}`)}}};return(0,r.jsxs)("button",{type:"button",ref:G,onClick:et,className:`${b?v?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":"hover:bg-secondaryStroke bg-primaryStroke text-textSecondary":S?"bg-textPrimary/[0.045] transition-all duration-0 ease-in-out hover:bg-textPrimary/[0.065] active:bg-textPrimary/[0.095]":v?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!F?`bg-${D}`:""} ${!b&&!v&&!S&&!F&&`hover:bg-${M}`} ${b?v?!F?U?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${M} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-textSecondary":S||v?!F?U?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${M} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-[#090909]"} flex flex-row gap-[4px] ${v?"justify-end items-end":"justify-center items-center"} rounded-[${y}] ${w?`${w}`:`h-[${t}]`} whitespace-nowrap transition-all duration-0 relative overflow-hidden group/quickBuyButton ${v?"hover:backdrop-blur-[0.65px]":""} ${v?"border-l border-l-transparent transition-[border-color] duration-0 group-hover/pulseRow:border-l-white/10":""}`,style:{paddingLeft:h,paddingRight:v?"16px":h,paddingBottom:v?"16px":void 0,width:A,...F?{backgroundColor:b||v||S?void 0:D,color:b&&v||S||v?D:void 0}:{},...$&&ee&&T?{boxShadow:`inset 0 0 0 1px ${B?"rgba(255, 255, 255, 0.5)":k&&F?D:R.primaryColor}`,borderRadius:"4px"}:{}},disabled:j,onMouseEnter:e=>{J(!0),!F||b||v||S||(e.currentTarget.style.backgroundColor=M),F&&(b&&v||S||v)&&(e.currentTarget.style.color=M)},onMouseLeave:e=>{J(!1),!F||b||v||S||(e.currentTarget.style.backgroundColor=D),F&&(b&&v||S||v)&&(e.currentTarget.style.color=D)},onMouseMove:e=>{if(v){let t=e.currentTarget.getBoundingClientRect();e.currentTarget.style.setProperty("--mouse-x",`${e.clientX-t.left}px`),e.currentTarget.style.setProperty("--mouse-y",`${e.clientY-t.top}px`)}},children:[v&&(0,r.jsx)("div",{className:`absolute pointer-events-none transition-opacity duration-200 ease-in-out ${Q?"opacity-20":"opacity-0"}`,style:{width:"220px",height:"220px",borderRadius:"50%",left:"var(--mouse-x, 50%)",top:"var(--mouse-y, 50%)",transform:"translate(-50%, -50%)",background:(_=(0,ef.hexToRgb)(ef.DEFAULT_COLORS.textPrimary))?`radial-gradient(circle, rgba(${_.r}, ${_.g}, ${_.b}, 0.15), rgba(${_.r}, ${_.g}, ${_.b}, 0))`:"radial-gradient(circle, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))"}}),j?(0,r.jsx)("div",{className:"animate-spin relative z-10",children:(0,r.jsx)("i",{className:"ri-loader-4-line text-[16px] flex items-center"})}):(0,r.jsxs)(r.Fragment,{children:[p&&(0,r.jsx)("i",{className:`${b?v?U?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary":S?!F?U?"ri-flashlight-fill text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${M} transition-colors duration-0`:"ri-flashlight-fill transition-colors duration-0":v?!F?U?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":`ri-flashlight-fill text-${M} transition-colors duration-0 -mb-[2px]`:"ri-flashlight-fill transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill"} text-[16px] flex items-center relative z-10`,style:F&&!b?{color:S||v?D:void 0}:void 0}),g&&(0,r.jsx)("span",{className:`text-[12px] ${v||S||b?"font-semibold":"font-bold"} ${v||S?"transition-colors duration-0":""} relative z-10`,children:N("Buy")}),q&&(0,r.jsxs)("span",{className:`text-[12px] ${v||S?"font-medium":b?"font-semibold":"font-bold"} ${v||S?"transition-colors duration-0":""} relative z-10`,children:[q,!m&&" BNB"]})]})]})})},431751,e=>{"use strict";var t=e.i(639372),r=e.i(672464),i=e.i(265172),n=e.i(271645),a=e.i(741124),o=e.i(832544);let s=(0,t.atom)([]),u=(0,t.atom)([]),l=(0,t.atom)([]),c=(0,t.atom)(e=>e(s).length>0),d=(0,t.atom)(e=>e(u).length>0),f=(0,t.atom)(e=>e(l).length>0),p=(0,t.atom)(!1),h=(0,t.atom)(!1),m=(0,t.atom)(!1),g=(0,t.atom)(null),b=(0,t.atom)(!1),y=(0,t.atom)(!1),x=(0,t.atom)(!1),A=(0,t.atom)(!1),w=(0,t.atom)(!1),v=(0,t.atom)(!1),S=(0,i.atomWithStorage)("newPairsSearchQuery","",void 0,{getOnInit:!0}),k=(0,i.atomWithStorage)("finalStretchSearchQuery","",void 0,{getOnInit:!0}),T=(0,i.atomWithStorage)("migratedSearchQuery","",void 0,{getOnInit:!0}),E=(0,t.atom)(null,(e,t,r)=>{t(S,r),t(k,r),t(T,r)}),P=(0,t.atom)(null,(e,t,r)=>{let i=e(o.isMobileAtom);t(o.isMobileAtom,r),!1===i&&!0===r&&t(I)}),I=(0,t.atom)(null,(e,t)=>{t(S,""),t(k,""),t(T,"")}),_=(0,i.atomWithStorage)("blacklistedItemsMap",{},void 0,{getOnInit:!0}),N={sol:(0,i.atomWithStorage)("blacklist-sol",{},void 0,{getOnInit:!0}),bnb:(0,i.atomWithStorage)("blacklist-bnb",{},void 0,{getOnInit:!0})},R="blacklist-migration-v1-complete";!function(){if(!localStorage.getItem(R))try{let e=localStorage.getItem("blacklistedItemsMap");if(!e)return void localStorage.setItem(R,"true");let t=JSON.parse(e),r={},i={};for(let[e,n]of Object.entries(t))"ca"===n.type||"dev"===n.type?i[e]=n:r[e]=n;localStorage.setItem("blacklistedItemsMap",JSON.stringify(r)),localStorage.setItem("blacklist-sol",JSON.stringify(i)),localStorage.setItem(R,"true")}catch(e){console.error(" Blacklist migration failed:",e),localStorage.setItem(R,"true")}}();let O=(0,t.atom)(e=>{let t=e(a.currentChainAtom),r=e(_),i=e(N[t]);return{...r,...i}}),B=(0,t.atom)(!1);(0,i.atomWithStorage)("pulseNotificationsEnabled",!0,void 0,{getOnInit:!0});let C=(0,i.atomWithStorage)("pulseSoundEnabled",!1,void 0,{getOnInit:!1}),D=(0,i.atomWithStorage)("pulseSoundVolume",50,void 0,{getOnInit:!0});(0,i.atomWithStorage)("newPairsSoundEnabled",!0,void 0,{getOnInit:!0}),(0,i.atomWithStorage)("migratedPairsSoundEnabled",!0,void 0,{getOnInit:!0}),(0,i.atomWithStorage)("finalStretchSoundEnabled",!0,void 0,{getOnInit:!0});let F=(0,i.atomWithStorage)("newPairsSoundType","default",void 0,{getOnInit:!0}),U=(0,i.atomWithStorage)("finalStretchSoundType","default",void 0,{getOnInit:!0}),M=(0,i.atomWithStorage)("migratedSoundType","default",void 0,{getOnInit:!0}),L={low:"#52C5FF",mid:"#DCC13C",high:"#2FE3AC",thresholdLow:3e4,thresholdHigh:15e4},q={low:"#FFFFFF",high:"#FFFFFF",mid:"#FFFFFF",thresholdLow:10,thresholdHigh:50,isLowOverridden:!1,isMidOverridden:!1,isHighOverridden:!1},K={low:"#FFFFFF",high:"#FFFFFF",mid:"#FFFFFF",thresholdLow:1e3,thresholdHigh:2e3,isLowOverridden:!1,isMidOverridden:!1,isHighOverridden:!1},W={low:"#10B981",high:"#EF4444",mid:"#F59E0B",thresholdLow:10,thresholdHigh:60,thresholdLowUnit:"minutes",thresholdHighUnit:"minutes"},V=(0,t.atom)("protocols"),G=(0,t.atom)("newPairs");e.s(["BLACKLIST_MAX_SIZE",0,1e3,"DEFAULT_HOLDERS_COLORS_SETTINGS",0,q,"DEFAULT_MARKET_CAP_COLORS_SETTINGS",0,L,"DEFAULT_PULSE_COLORS_SETTINGS",0,{marketCap:L,holders:q,volume:K,tweetCreatedAt:W},"DEFAULT_TWEET_CREATED_AT_COLORS_SETTINGS",0,W,"DEFAULT_VOLUME_COLORS_SETTINGS",0,K,"activeSubTabPulseAtom",0,V,"activeTableTabPulseAtom",0,G,"blacklistedItemsMapAtom",0,_,"chainBlacklistAtoms",0,N,"currentChainBlacklistAtom",0,O,"currentSnipePairAtom",0,g,"finalStretchDataAtom",0,u,"finalStretchSearchBarQueryAtom",0,k,"finalStretchSearchQueryAtom",0,k,"finalStretchSoundTypeAtom",0,U,"hasFinalStretchDataAtom",0,d,"hasMigratedDataAtom",0,f,"hasNewPairsDataAtom",0,c,"isAlertsModalOpenAtom",0,B,"isBlacklistModalOpenAtom",0,w,"isFiltersOpenAtom",0,A,"isFinalStretchLoadingAtom",0,h,"isFinalStretchPausedAtom",0,y,"isMigratedLoadingAtom",0,m,"isMigratedPausedAtom",0,x,"isNewPairsLoadingAtom",0,p,"isNewPairsPausedAtom",0,b,"migratedDataAtom",0,l,"migratedSearchBarQueryAtom",0,T,"migratedSearchQueryAtom",0,T,"migratedSoundTypeAtom",0,M,"newPairsDataAtom",0,s,"newPairsSearchBarQueryAtom",0,S,"newPairsSearchQueryAtom",0,S,"newPairsSoundTypeAtom",0,F,"pulseSoundEnabledAtom",0,C,"pulseSoundVolumeAtom",0,D,"showDiscoverBlacklistedItemsAtom",0,v,"updateIsMobileAtom",0,P,"updateMobileSearchQueryAtom",0,E,"useCleanupPulseAtoms",0,()=>{let e=(0,r.useSetAtom)(b),t=(0,r.useSetAtom)(y),i=(0,r.useSetAtom)(x),a=(0,r.useSetAtom)(I);(0,n.useEffect)(()=>()=>{e(!1),t(!1),i(!1),a()},[e,t,i,a])}])},458768,157613,603,e=>{"use strict";e.s(["default",()=>N],458768);var t=e.i(843476),r=e.i(639372),i=e.i(705766),n=e.i(741124),a=e.i(718646),o=e.i(740626);e.s(["QuickBuyButton",()=>v],603);var s=e.i(672464),u=e.i(564012),l=e.i(538560);e.s(["QuickBuyButtonSol",()=>w],157613);var c=e.i(618566),d=e.i(271645),f=e.i(431751),p=e.i(363071),h=e.i(592846);e.i(490156);var m=e.i(542119),g=e.i(352120),b=e.i(182781),y=e.i(538701),x=e.i(350721),A=e.i(937491);let w=(0,d.memo)(function({pairInfo:e,size:r="32px",icon:i=!1,padding:a="12px",hideUnit:o=!1,showLabel:u=!0,snipe:l=!1,pulse:w=!1,rounded:v="999px",keyType:S="default",width:k="",height:T="",seeThrough:E=!1,transparentStyle:P=!1,isSecond:I=!1,isPulse:_=!1,color:R="primaryBlue",shouldRedirect:O=!1}){let B,{t:C}=(0,h.useTranslation)(),D=(0,s.useAtomValue)(y.themeAtom),[F]=(0,b.useSettings)("lowContrastButtons",!1),U=E&&F?"textPrimary":R,M=U||"primaryBlue",L=U?.startsWith("#"),q="textPrimary"===U,K=L?(0,A.synthesizeHoverColor)(U):U&&q?"textPrimary":U?`${U}Hover`:"primaryBlueHover",[W,V]=(0,g.useQuickBuyAmount)(I?"second":S,"sol"),G=(0,x.useMarketBuySolMeme)(),j=(0,s.useAtomValue)(m.isAuthedAtom),z=(0,s.useSetAtom)(m.isSignupModalOpenAtom),H=(0,s.useSetAtom)(g.isSnipeModalOpenAtom),X=(0,s.useSetAtom)(g.isSnipeSecondQuickBuyAtom),Q=(0,s.useSetAtom)(f.currentSnipePairAtom),J=(0,d.useRef)(null),{uiLocked:Y,isLocked:Z,lock:$,unlock:ee}=(0,p.default)(),[et,er]=(0,d.useState)(!1),[ei]=(0,b.useSettings)("quickBuyBehavior","nothing"),en=(0,c.useRouter)(),ea=(0,s.useAtomValue)(n.currentChainAtom),[eo]=(0,b.useSettings)("ultraButtonBorder",!1),[es]=(0,b.useSettings)("useGigaButtons",!1),eu=async t=>{if(t.preventDefault(),t.stopPropagation(),!Z()){if(!j)return void z(!0);if(l){if("type"in e&&"full"!==e.type)return N.error(C("Snipe is not available on this quick buy button"));Q(e),H(!0),X(I)}else $(),setTimeout(()=>{ee()},200),G({amountSol:W,pairInfo:e,presetType:I?"second":S});if(_&&"nothing"!==ei||!0===O){let t="pairAddress"in e?e.pairAddress:e.tokenAddress;if("tab"===ei){let e=window.open(`/meme/${t}?chain=${ea}`,"_blank");e&&e.focus()}else"goto"===ei&&en.push(`/meme/${t}?chain=${ea}`)}}};return(0,t.jsxs)("button",{type:"button",ref:J,onClick:eu,className:`${l?E?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!L?`bg-background border border-${M} hover:bg-[#15182C]`:"bg-background border":w?E?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":"hover:bg-secondaryStroke bg-primaryStroke text-textSecondary":P?"bg-textPrimary/[0.045] transition-all duration-0 ease-in-out hover:bg-textPrimary/[0.065] active:bg-textPrimary/[0.095]":E?"bg-transparent transition-all duration-0 ease-in-out hover:bg-textTertiary/[0.045] active:bg-textTertiary/[0.065]":!L?`bg-${M}`:""} ${!l&&!w&&!E&&!P&&!L&&`hover:bg-${K}`} ${l?E?!L?q?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${K} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":!L?q?"text-textPrimary":`text-${M}`:"":w?E?!L?q?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${K} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-textSecondary":P||E?!L?q?"text-textPrimary transition-colors duration-0 ease-in-out":`text-${K} transition-colors duration-0 ease-in-out`:"transition-colors duration-0 ease-in-out":"text-[#090909]"} flex flex-row gap-[4px] ${E?"justify-end items-end":"justify-center items-center"} rounded-[${v}] ${T?`${T}`:`h-[${r}]`} whitespace-nowrap transition-all duration-0 relative overflow-hidden group/quickBuyButton ${E?"hover:backdrop-blur-[0.65px]":""} ${E?"border-l border-l-transparent transition-[border-color] duration-0 group-hover/pulseRow:border-l-white/10":""}`,style:{paddingLeft:a,paddingRight:E?"16px":a,paddingBottom:E?"16px":void 0,width:k,...L?{backgroundColor:l||w||E||P?void 0:M,borderColor:l&&!E?M:void 0,color:l&&!E||l&&E||w&&E||P||E?M:void 0}:{},...eo&&es&&_?{boxShadow:`inset 0 0 0 1px ${F?"rgba(255, 255, 255, 0.5)":I&&L?M:D.primaryColor}`,borderRadius:"4px"}:{}},disabled:Y,onMouseEnter:e=>{er(!0),!L||l||w||E||P||(e.currentTarget.style.backgroundColor=K),L&&l&&!E&&(e.currentTarget.style.backgroundColor="#15182C"),L&&(l&&E||w&&E||P||E)&&(e.currentTarget.style.color=K)},onMouseLeave:e=>{er(!1),!L||l||w||E||P||(e.currentTarget.style.backgroundColor=M),L&&l&&!E&&(e.currentTarget.style.backgroundColor=""),L&&(l&&E||w&&E||P||E)&&(e.currentTarget.style.color=M)},onMouseMove:e=>{if(E){let t=e.currentTarget.getBoundingClientRect();e.currentTarget.style.setProperty("--mouse-x",`${e.clientX-t.left}px`),e.currentTarget.style.setProperty("--mouse-y",`${e.clientY-t.top}px`)}},children:[E&&(0,t.jsx)("div",{className:`absolute pointer-events-none transition-opacity duration-200 ease-in-out ${et?"opacity-20":"opacity-0"}`,style:{width:"220px",height:"220px",borderRadius:"50%",left:"var(--mouse-x, 50%)",top:"var(--mouse-y, 50%)",transform:"translate(-50%, -50%)",background:(B=(0,A.hexToRgb)(A.DEFAULT_COLORS.textPrimary))?`radial-gradient(circle, rgba(${B.r}, ${B.g}, ${B.b}, 0.15), rgba(${B.r}, ${B.g}, ${B.b}, 0))`:"radial-gradient(circle, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0))"}}),Y?(0,t.jsx)("div",{className:"animate-spin relative z-10",children:(0,t.jsx)("i",{className:"ri-loader-4-line text-[16px] flex items-center"})}):(0,t.jsxs)(t.Fragment,{children:[i&&(0,t.jsx)("i",{className:`${l?E?!L?q?"ri-crosshair-2-fill text-textPrimary transition-colors duration-0 -mb-[2px]":`ri-crosshair-2-fill text-${K} transition-colors duration-0 -mb-[2px]`:"ri-crosshair-2-fill transition-colors duration-0 -mb-[2px]":!L?q?"ri-crosshair-2-fill text-textPrimary":`ri-crosshair-2-fill text-${M}`:"ri-crosshair-2-fill":w?E?q?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill text-textTertiary":P?!L?q?"ri-flashlight-fill text-textPrimary transition-colors duration-0":`ri-flashlight-fill text-${K} transition-colors duration-0`:"ri-flashlight-fill transition-colors duration-0":E?!L?q?"ri-flashlight-fill text-textPrimary transition-colors duration-0 -mb-[2px]":`ri-flashlight-fill text-${K} transition-colors duration-0 -mb-[2px]`:"ri-flashlight-fill transition-colors duration-0 -mb-[2px]":"ri-flashlight-fill"} text-[16px] flex items-center relative z-10`,style:L&&!w?{color:l&&!E||l&&E||P||E?M:void 0}:void 0}),u&&(0,t.jsx)("span",{className:`text-[12px] ${E||P||l||w?"font-semibold":"font-bold"} ${E||P?"transition-colors duration-0":""} relative z-10`,children:C("Buy")}),V&&(0,t.jsxs)("span",{className:`text-[12px] ${E||P?"font-medium":w?"font-semibold":"font-bold"} ${E||P?"transition-colors duration-0":""} relative z-10`,children:[V,!o&&" SOL"]})]})]})});function v(e){let r=(0,s.useAtomValue)(n.currentChainAtom);return"sol"===r?(0,t.jsx)(w,{...e}):"bnb"===r?(0,t.jsx)(l.QuickBuyButtonBnb,{...e}):((0,u.assertUnreachable)(r),null)}let S=`
  @keyframes pulseBlueUp {
    0% {
      transform: translateY(600%);
      opacity: 1;
    }
    100% {
      transform: translateY(-650%);
      opacity: 1;
    }
  }
  .pulse-blue-up {
    animation: pulseBlueUp 1.35s cubic-bezier(0.25, 1, 0.5, 1) forwards;
  }
`,k={duration:2e3,animationType:"default"},T=()=>(0,r.getDefaultStore)().get(a.toastPositionAtom)||"top-center",E=(e,t="default",r)=>{let i=(r||T()).includes("bottom");return({default:e?i?"animate-enter-bottom":"animate-enter":i?"animate-leave-bottom":"animate-leave",warning:e?i?"animate-warning-enter-bottom":"animate-warning-enter":i?"animate-warning-leave-bottom":"animate-warning-leave",transaction:e?i?"animate-transaction-enter-bottom":"animate-transaction-enter":i?"animate-transaction-leave-bottom":"animate-transaction-leave"})[t]},P=({startTime:e})=>{let[r,i]=(0,d.useState)(0);(0,d.useEffect)(()=>{let t=setInterval(()=>{i(Date.now()-e)},50);return()=>clearInterval(t)},[e]);let n=(r/1e3).toFixed(2);return(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] text-primaryBlue tabular-nums",children:[n,"s"]})},I=e=>{let t=(0,r.getDefaultStore)(),i=!1,n=null;if("pumpLive"===e){let e=localStorage.getItem("pumpLiveSettings");if(e)try{let t=JSON.parse(e);i=!0===t.toastSound,n=t.toastSoundType||"default"}catch{i=!1}}else i=t.get(a.soundEnabledAtom),n="buy"===e?t.get(a.buySoundAtom):t.get(a.sellSoundAtom);if(!i)return;let o=n?.replace(/"/g,"");if("none"===o)return;if(o?.startsWith("custom-")){let r=localStorage.getItem("buy"===e?"customBuySoundData":"sell"===e?"customSellSoundData":"pumpLiveCustomSoundData");if(r){let i=new Audio(r);return i.volume="pumpLive"===e?JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}").toastVolume||.5:(t.get(a.soundVolumeAtom)??50)/100,i.play().catch(e=>console.error("Failed to play custom notification sound:",e)),i}}let s="kaching"===o?"/sounds/kaching-notification.mp3":"/sounds/notification.mp3",u=.5;u="pumpLive"===e?JSON.parse(localStorage.getItem("pumpLiveSettings")||"{}").toastVolume||.5:(t.get(a.soundVolumeAtom)??50)/100;let l=new Audio(s);l.volume=u,l.play().catch(e=>console.error("Failed to play notification sound:",e))},_={success:(e,r=k)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})},o=r?.animationType||k.animationType,s=r?.position||T();return i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:n})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||T(),duration:r?.duration,id:r?.toastId})},txSuccess:(e,r=k)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})},o=r?.animationType||k.animationType,s=r?.position||T();return I("buy"),i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[8px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary flex items-center",children:[n,r?.elapsedMs!==void 0&&(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] text-primaryBlue tabular-nums",children:[(r.elapsedMs/1e3).toFixed(2),"s"]})]})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||T(),duration:r?.duration,id:r?.toastId})},txSellSuccess:(e,r=k)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-checkbox-circle-fill text-increase text-[16px]"})},o=r?.animationType||k.animationType,s=r?.position||T();return I("sell"),i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[8px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary flex items-center",children:[n,r?.elapsedMs!==void 0&&(0,t.jsxs)("span",{className:"ml-2 font-GeistMono text-[12px] text-primaryBlue tabular-nums",children:[(r.elapsedMs/1e3).toFixed(2),"s"]})]})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||T(),duration:r?.duration,id:r?.toastId})},error:(e,r)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-error-warning-fill text-decrease text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-error-warning-fill text-decrease text-[16px]"})},o=r?.animationType||k.animationType,s=r?.position||T();return i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:n})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||T(),duration:r?.duration||k.duration,id:r?.toastId})},warn:(e,r)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-error-warning-fill text-yellow-500 text-[16px]"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-error-warning-fill text-yellow-500 text-[16px]"})},o=r?.animationType||k.animationType,s=r?.position||T();return i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:n})]})}),(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||T(),duration:r?.duration||k.duration,id:r?.toastId})},loading:(e,r=k)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})},o=r?.animationType||k.animationType,s=r?.position||T();return i.toast.custom(e=>(0,t.jsx)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:n})]})})}),{position:r?.position||T(),duration:r?.duration,id:r?.toastId})},loadingWithTimer:(e,r=k)=>{let n=Date.now(),a=r?.animationType||k.animationType,o=r?.position||T();return i.toast.custom(r=>(0,t.jsx)("div",{className:`${E(r.visible,a,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${r.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px]`,children:(0,t.jsx)("div",{className:"",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})}),(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary flex items-center",children:[e,(0,t.jsx)(P,{startTime:n})]})]})})}),{position:r?.position||T(),duration:r?.duration||1/0,id:r?.toastId})},turboToast:(e,r=k)=>{let{message:n,icon:a}="string"==typeof e?{message:e,icon:(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})}:{...e,icon:e.icon??(0,t.jsx)("i",{className:"ri-loader-line text-textPrimary text-[16px] animate-spin"})},o=r?.animationType||k.animationType,s=r?.position||T();return i.toast.custom(e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{children:S}),(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} relative ${e.visible?"":"pointer-events-none"}`,children:[(0,t.jsx)("div",{className:"absolute bg-secondaryStroke inset-[-1px] z-0 rounded-[8px] sm:rounded-[4px] pointer-events-none"}),(0,t.jsx)("div",{className:"absolute inset-[-2px] z-[1] rounded-[8px] sm:rounded-[4px] overflow-hidden pointer-events-none",children:e.visible&&(0,t.jsx)("div",{className:"absolute inset-0 bottom-0 h-[50%] w-full pulse-blue-up bg-primaryBlueHover"})}),(0,t.jsx)("div",{className:`z-10 bg-backgroundTertiary shadow-lg rounded-[7px] sm:rounded-[3px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[16px] relative`,children:(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)("div",{className:"flex items-center gap-[8px]",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-[20px] h-[20px]",children:a}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:n})]})})})]})]}),{position:r?.position||T(),duration:r?.duration,id:r?.toastId})},notify:(e,r)=>{let n=(r?.position||T()).includes("bottom");return i.toast.custom(r=>(0,t.jsx)("div",{className:`${r.visible?n?"animate-notify-enter-bottom":"animate-notify-enter":n?"animate-notify-leave-bottom":"animate-notify-leave"} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${r.visible?"pointer-events-auto":"pointer-events-none"} flex items-center`,onClick:()=>{r.visible&&(i.toast.dismiss(r.id),setTimeout(()=>{i.toast.dismiss()},100))},children:(0,t.jsx)(o.default,{...e,onClose:()=>{r.visible&&(i.toast.dismiss(r.id),setTimeout(()=>{i.toast.dismiss()},100))}})}),{position:r?.position||T(),duration:r?.duration||15e3,id:r?.toastId})},priceAlert:(e,r=k)=>{let{message:n}="string"==typeof e?{message:e}:e,a=r?.animationType||k.animationType,o=r?.position||T();return i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,a,o)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center px-[16px] gap-[8px]`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:n})})}),(0,t.jsx)("div",{className:"flex flex-row gap-[4px]",children:(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})})]}),{position:r?.position||T(),duration:r?.duration||1e3,id:r?.toastId})},tracker:(e,r=k,n,a)=>{let{message:o}="string"==typeof e?{message:e}:{...e},s=r?.animationType||k.animationType,u=r?.position||T(),l=!0;return i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,s,u)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center ${r?.isLegacy?"px-[16px] gap-[8px]":""}`,style:r?.style,children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:o})})}),(0,t.jsxs)("div",{className:r?.isLegacy?"flex flex-row gap-[4px]":"flex flex-col h-full justify-between items-end",children:[!r?.isLegacy&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-row gap-[2px] pt-[3px] pr-[3px]",children:[(0,t.jsx)("button",{type:"button",onClick:e=>{try{e.stopPropagation(),n(),l=!l}catch(e){console.error("Error toggling toast alerts:",e),_.error("Error toggling toast alerts")}},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:`${l?"ri-notification-fill text-decrease":"ri-notification-line text-textTertiary/50"} text-[13px]`})}),(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[17px]"})})]}),a&&a.showQuickBuy&&(0,t.jsx)("span",{className:"pl-[8px] pr-[11px] pb-[11px]",children:(0,t.jsx)(v,{pairInfo:a.pairInfo,size:"20px",height:"h-[20px]",padding:"6px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:a.shouldRedirect})})]}),r?.isLegacy&&(0,t.jsx)("button",{type:"button",onClick:e=>{try{e.stopPropagation(),n(),l=!l}catch(e){console.error("Error toggling toast alerts:",e),_.error("Error toggling toast alerts")}},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:`${l?"ri-notification-fill text-decrease":"ri-notification-line text-textTertiary/50"} text-[16px]`})}),r?.isLegacy&&(0,t.jsx)("button",{type:"button",onClick:()=>{i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})]})]}),{position:r?.position||T(),duration:r?.duration||1e3,id:r?.toastId})},pumpLive:(e,r=k,a)=>{let o=r?.animationType||k.animationType,s=r?.position||T(),{message:u}="string"==typeof e?{message:e}:{...e};return I("pumpLive"),i.toast.custom(e=>(0,t.jsxs)("div",{className:`${E(e.visible,o,s)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${e.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[12px] relative cursor-pointer`,style:r?.style,onClick:()=>{r?.pairAddress&&(window.location.href=`/meme/${r.pairAddress}?chain=${(0,n.getChainFromUrl)()}`)},children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-[16px]",children:[(0,t.jsx)("div",{className:"",children:(0,t.jsx)("div",{className:"flex items-center gap-[8px]",children:(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:u})})}),(0,t.jsx)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:a&&a.showQuickBuy&&(0,t.jsx)("span",{className:"pl-[8px] pr-[8px] pb-[11px]",children:(0,t.jsx)(v,{pairInfo:a.pairInfo,size:"20px",height:"h-[24px]",padding:"8px",rounded:"999px",transparentStyle:!0,icon:!0,hideUnit:!0,showLabel:!1,shouldRedirect:a.shouldRedirect})})})]})}),(0,t.jsx)("button",{type:"button",onClick:t=>{t.stopPropagation(),i.toast.dismiss(e.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})]}),{position:r?.position||T(),duration:r?.duration||1e3,id:r?.toastId})},social:(e,r,n,a,o,s,u,l=k)=>{let c=l?.animationType||k.animationType,d=l?.position||T();return i.toast.custom(l=>(0,t.jsxs)("div",{className:`${E(l.visible,c,d)} bg-backgroundTertiary border border-secondaryStroke shadow-lg rounded-[8px] sm:rounded-[4px] ${l.visible?"pointer-events-auto":"pointer-events-none"} flex items-center p-[16px] h-[52px] gap-[12px]`,children:[(0,t.jsxs)("div",{className:"flex-shrink-0 relative w-[24px] h-[24px] rounded-full overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full border-white/[0.1] border-[1px] z-[15] pointer-events-none rounded-full"}),e?(0,t.jsx)("img",{src:e,alt:r,className:"h-[24px] w-[24px] rounded-full object-cover"}):(0,t.jsx)("div",{className:"flex h-[24px] w-[24px] items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-pink-500",children:(0,t.jsx)("span",{className:"text-[10px] font-medium text-textPrimary",children:r.charAt(0).toUpperCase()})})]}),(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-[8px]",children:[(0,t.jsxs)("div",{className:"text-[14px] leading-[20px] font-normal text-textPrimary",children:[(0,t.jsx)("span",{className:"font-medium",children:r}),(0,t.jsxs)("span",{className:"text-textSecondary",children:[" ",n]})]}),a&&o&&(0,t.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,t.jsxs)("div",{className:"relative w-[16px] h-[16px] rounded-[4px] overflow-hidden flex-shrink-0",children:[(0,t.jsx)("div",{className:"absolute inset-0 w-full h-full border-white/[0.1] border-[1px] z-[15] pointer-events-none rounded-[4px]"}),(0,t.jsx)("img",{src:a,alt:o,className:"h-[16px] w-[16px] rounded-[4px] object-cover"})]}),(0,t.jsx)("span",{className:"text-[14px] leading-[20px] font-medium text-textPrimary",children:o})]})]}),s&&u&&(0,t.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),u(),i.toast.dismiss(l.id)},className:"flex-shrink-0 flex flex-row h-[24px] px-[6px] justify-center items-center rounded-full bg-primaryBlue hover:bg-primaryBlue/80 hover:brightness-110 transition-all duration-[150ms] cursor-pointer",children:(0,t.jsx)("span",{className:"text-[12px] font-bold text-background",children:s})}),(0,t.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),i.toast.dismiss(l.id),setTimeout(()=>{i.toast.dismiss()},100)},className:"w-[24px] h-[24px] border border-transparent rounded-[4px] p-3 flex items-center justify-center text-sm font-medium hover:bg-primaryStroke/60",children:(0,t.jsx)("i",{className:"ri-close-line text-textTertiary text-[20px]"})})]}),{position:l?.position||T(),duration:l?.duration||5e3,id:l?.toastId})}},N=_},942730,e=>{"use strict";e.s(["useVanishRefresh",()=>c,"useVanishTransactionsRefresh",()=>d]);var t=e.i(40039);e.i(490156);var r=e.i(754825),i=e.i(672464),n=e.i(682382),a=e.i(458768),o=e.i(247317),s=e.i(271645),u=e.i(750214),l=e.i(472660);function c(){let e=(0,u.useAtomCallback)((0,s.useCallback)(e=>e(r.solPublicKeyAtom),[])),l=(0,u.useAtomCallback)((0,s.useCallback)(e=>e(r.solPrivateKeyAtom),[])),c=(0,i.useSetAtom)(r.batchUpdateTokenAccountsAtom),d=(0,i.useSetAtom)(r.updateSolBalanceAtom),f=(0,i.useSetAtom)(r.loadedVanishBalancesAtom);return(0,s.useCallback)(async()=>{let r=e(),i=l();if(r&&i)try{f(!1);let e=await (0,t.getVanishBalances)({userAddress:r,privateKeyBase58:i}),a=e.find(e=>e.token_address===n.NATIVE_SOL_TOKEN_ADDRESS),o=e.filter(e=>e.token_address!==n.NATIVE_SOL_TOKEN_ADDRESS).map(e=>({tokenAddress:e.token_address,balanceRaw:e.balance,lastUpdatedSlot:0,tokenAccountAddress:e.token_address,tokenProgram:e.program_id}));c(n.VANISH_WALLET_ADDRESS,0,o),d(n.VANISH_WALLET_ADDRESS,{slot:0,balanceSol:Number(a?.balance??0)/1e9}),f(!0)}catch(e){a.default.error(`Error refreshing Vanish: ${(0,o.getErrorMessage)(e)}`)}},[e,l,c,d,f])}function d(){let e=(0,i.useSetAtom)(l.vanishTransactionsAtomSol),n=(0,u.useAtomCallback)((0,s.useCallback)(e=>e(r.solPrivateKeyAtom),[])),o=(0,u.useAtomCallback)((0,s.useCallback)(e=>e(r.solPublicKeyAtom),[]));return(0,s.useCallback)(async(r,i)=>{let s=o(),u=n();if(!s||!u){a.default.error("Failed to get public or private key for Vanish transactions"),console.error("Failed to get public or private key for Vanish transactions");return}let l=await (0,t.getVanishTransactionsByToken)({userAddress:s,privateKeyBase58:u,tokenAddress:r});e(await (0,t.coalesceVanishWithAxiomTransactions)(l,r,i))},[n,o,e])}},506405,711698,e=>{"use strict";function t(e){let t=atob(e);return Uint8Array.from(t,e=>e.charCodeAt(0))}function r(e){(e=e.replace(/^0x/,"")).length%2!=0&&(e="0"+e);let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return t}function i(e){return Array.from(e instanceof Uint8Array?e:new Uint8Array(e)).map(e=>e.toString(16).padStart(2,"0")).join("")}function n(e){let t=e instanceof Uint8Array?e:new Uint8Array(e);return btoa(String.fromCharCode.apply(null,Array.from(t)))}async function a(e,r){let n=t(r),a=await window.crypto.subtle.importKey("raw",n,"AES-GCM",!1,["decrypt"]),o=t(e.split(":")[0]),s=t(e.split(":")[1]);return i(await window.crypto.subtle.decrypt({name:"AES-GCM",iv:o},a,s))}e.s(["base64ToUint8Array",()=>t,"hexToUint8Array",()=>r,"uint8ArrayToBase64",()=>n,"uint8ArrayToHex",()=>i],711698),e.s(["decryptKey",()=>a],506405)},251193,e=>{"use strict";var t=e.i(271645);e.s(["default",0,function(e,r){let i=(0,t.useRef)(void 0);(0,t.useEffect)(()=>{i.current=e},[e]),(0,t.useEffect)(()=>{if(null!==r){let e=setInterval(function(){i.current?.()},r);return()=>clearInterval(e)}},[r])}])},859749,e=>{"use strict";var t=e.i(639372),r=e.i(758219),i=e.i(265172);let n=(0,t.atom)(""),a=(0,t.atom)(""),o=(0,i.atomWithStorage)("search-is-pump",!1,(0,r.safeSSRNoSyncStorage)()),s=(0,i.atomWithStorage)("search-is-bonk",!1,(0,r.safeSSRNoSyncStorage)()),u=(0,i.atomWithStorage)("search-is-bags",!1,(0,r.safeSSRNoSyncStorage)()),l=(0,i.atomWithStorage)("search-is-usd1",!1,(0,r.safeSSRNoSyncStorage)()),c=(0,i.atomWithStorage)("search-is-og-only",!1,(0,r.safeSSRNoSyncStorage)()),d=(0,i.atomWithStorage)("search-only-bonded",!1,(0,r.safeSSRNoSyncStorage)()),f=(0,i.atomWithStorage)("search-sort-by","volume",(0,r.safeSSRNoSyncStorage)()),p=(0,i.atomWithStorage)("search-bnb-protocol",null,(0,r.safeSSRNoSyncStorage)());e.s(["searchBnbProtocolAtom",0,p,"searchIsBagsAtom",0,u,"searchIsBonkAtom",0,s,"searchIsOgOnlyAtom",0,c,"searchIsPumpAtom",0,o,"searchIsUsd1Atom",0,l,"searchOnlyBondedAtom",0,d,"searchQueryAtom",0,a,"searchSortByAtom",0,f,"searchValueAtom",0,n])},19179,60166,783156,354287,e=>{"use strict";var t=e.i(711698);async function r(e,r){let i=(0,t.base64ToUint8Array)(r),n=await window.crypto.subtle.importKey("raw",i,"AES-GCM",!1,["encrypt"]),a=window.crypto.getRandomValues(new Uint8Array(12)),o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:a},n,(0,t.hexToUint8Array)(e));return(0,t.uint8ArrayToBase64)(a)+":"+(0,t.uint8ArrayToBase64)(o)}e.s(["encryptKey",()=>r],19179);var i=e.i(672464),n=e.i(569692),a=e.i(392335),o=e.i(639372),s=e.i(265172);let u=(0,o.atom)(null),l=(0,o.atom)([]),c=(0,o.atom)(new Map),d=(0,s.atomWithStorage)("lobby-chat-draft",null),f=(0,s.atomWithStorage)("lastMessageSentTimestamp",[]),p=(0,o.atom)(""),h=(0,s.atomWithStorage)("showLobbyMessage",!0),m=(0,s.atomWithStorage)("showLobbyActivity",!1),g=(0,s.atomWithStorage)("showLobbyAlerts",!1);e.s(["BURST_MAX_MESSAGE_IN_WINDOW",0,7,"BURST_MESSAGE_INTERVAL",0,5e3,"NON_BURST_MESSAGE_INTERVAL",0,1e3,"chatDraftAtom",0,d,"lastChatCursorAtom",0,u,"lastMessageSentTimestampAtom",0,f,"lobbyChatMessagesAtom",0,l,"lobbySearchQueryAtom",0,p,"messageAuthorsAtom",0,c,"showLobbyActivityAtom",0,m,"showLobbyAlertsAtom",0,g,"showLobbyMessageAtom",0,h],60166);var b=e.i(800473);e.i(490156);var y=e.i(716689);e.s(["useResetSocialTrackerAtoms",0,()=>{let e,t,r,o=(0,i.useSetAtom)(n.friendListInitializedAtom),s=(0,i.useSetAtom)(n.friendProfileDataAtom),u=(0,i.useSetAtom)(n.userProfileAtom),p=(0,i.useSetAtom)(n.sharedPresetsAtom),h=(0,i.useSetAtom)(n.sharedThemeAtom),m=(0,i.useSetAtom)(n.friendListAtom),g=(0,i.useSetAtom)(n.incomingFriendListAtom),x=(0,i.useSetAtom)(n.sentFriendListAtom),A=(0,i.useSetAtom)(n.blockedFriendListAtom),w=(0,i.useSetAtom)(n.relationshipToFriendAtom),v=(0,i.useSetAtom)(n.usernameToDataAtom),S=(0,i.useSetAtom)(n.userIdToDataAtom),k=(0,i.useSetAtom)(n.addFriendModalOpenAtom),T=(0,i.useSetAtom)(n.addFriendModalInitialTabAtom),E=(0,i.useSetAtom)(a.myLobbyInfoAtom),P=(0,i.useSetAtom)(a.lobbyUserMapAtom),I=(0,i.useSetAtom)(a.lobbyInvitesAtom),_=(0,i.useSetAtom)(a.lobbyRequestsAtom),N=(0,i.useSetAtom)(a.friendLobbyDataAtom),R=(0,i.useSetAtom)(a.sharedSolWalletsAtom),O=(0,i.useSetAtom)(a.sharedBnbWalletsAtom),B=(0,i.useSetAtom)(l),C=(0,i.useSetAtom)(c),D=(0,i.useSetAtom)(d),F=(0,i.useSetAtom)(b.lobbyWalletsAtomSol),U=(0,i.useSetAtom)(b.lobbyWalletsAtomBnb),M=(0,i.useSetAtom)(b.lobbyTransactionsAtomSol),L=(0,i.useSetAtom)(b.lobbyTransactionsAtomBnb),q=(0,i.useSetAtom)(b.lobbyAlertsAtom),K=(0,i.useSetAtom)(b.lobbyAlertsCurrentPriceAtom),W=(0,i.useSetAtom)(f),{resetSocialUIAtoms:V}=(e=(0,i.useSetAtom)(y.socialTrackerOpenAtom),t=(0,i.useSetAtom)(a.followedLobbyUserAtom),r=(0,i.useSetAtom)(y.socialProfileOpenAtom),{resetSocialUIAtoms:()=>{e(!1),t(null),r(!1)}});return{resetSocialTrackerAtoms:()=>{V(),o(!1),s(null),u(null),p(null),h(null),m(new Map),g(new Map),x(new Map),A(new Map),w(new Map),v(new Map),S(new Map),k(!1),T(null),E(null),P(new Map),I(new Map),_(new Map),N(new Map),R([]),O([]),B([]),C(new Map),D(null),F(new Map),U(new Map),M(new Map),L(new Map),q([]),K(new Map),W([])}}}],783156);var x=e.i(271645),A=e.i(561676),w=e.i(662537),v=e.i(542119);function S(){let e=(0,i.useAtomValue)(v.userIdAtom);(0,x.useEffect)(()=>{e?(A.datadogRum.setUser({id:e}),w.setUser({id:e})):(A.datadogRum.clearUser(),w.setUser(null))},[e])}e.s(["useDatadogUser",()=>S],354287)},118455,e=>{"use strict";e.s(["hasRegisteredRefWalletsAtom",()=>y,"isRegisteringRefWalletsAtom",()=>A,"refAutoEnrollmentFailedAtom",()=>v,"refWalletsAtom",()=>x,"useAutoEnrollInRefProgram",()=>S,"useCreateWallet",()=>b,"useReferralEnrollment",()=>w]);var t=e.i(271645),r=e.i(639372),i=e.i(672464),n=e.i(592846),a=e.i(458768),o=e.i(863568),s=e.i(247317),u=e.i(754825),l=e.i(885438),c=e.i(268804),d=e.i(354640),f=e.i(447800),p=e.i(91204),h=e.i(182781),m=e.i(265172),g=e.i(750214);function b(){let{t:e}=(0,n.useTranslation)(),r=(0,o.useTurnkeyClient)(),m=(0,d.useInitializeWallets)(),b=(0,t.useRef)(!1),y=(0,i.useAtomValue)(u.allSolWalletsAtom),x=(0,i.useAtomValue)(l.allEvmWalletsAtom),w=(0,i.useAtomValue)(u.monitoredSolWalletsAtom),v=(0,i.useAtomValue)(l.monitoredEvmWalletsAtom),[S]=(0,h.useSettings)("experimentalWallets",!1),k=(0,g.useAtomCallback)(e=>e(A)),T=(0,t.useCallback)(async()=>{if(!b.current){if(k())return a.default.error(e("You can't create a wallet right now"),{toastId:"create-wallet"});try{let t,i;if(b.current=!0,a.default.loading(e("Creating Solana wallet..."),{toastId:"create-wallet",duration:1/0}),!r)throw Error(e("Turnkey account not found, if this persists try logging out and in again"));let n=S?f.MAX_OVERRIDE_WALLETS:f.MAX_TOTAL_WALLETS,o=S?f.MAX_OVERRIDE_WALLETS:f.MAX_ACTIVE_WALLETS;if(y.length>=n)throw Error(e(`Maximum of ${n} wallets allowed, delete archived wallets to create more`));let s=(await r.getWallets()).wallets.find(e=>"Primary"===e.walletName);if(!s)throw Error(e("Failed to find primary wallet"));if(w.length>=o)throw Error(e(`Maximum of ${o} active wallets allowed`));let u=[];for(;u.length<5e3;){let e=await r.getWalletAccounts({walletId:s.walletId,paginationOptions:{limit:"100",after:t}});if(u.push(...e.accounts),e.accounts.length<100)break;t=e.accounts[e.accounts.length-1].walletAccountId}let l=u.filter(e=>"ADDRESS_FORMAT_SOLANA"===e.addressFormat),d=0;for(let e of l){let t=parseInt(e.path.split("/")[3].replace("'",""));t>d&&(d=t)}try{i=await r.createWalletAccounts({walletId:s.walletId,accounts:[{curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${d+1}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"}]})}catch(e){throw e}let h=i.addresses[0];await c.axiomApiV2.post("/add-sol-wallet",{walletAddress:h,exp:S}),await (0,p.sleep)(1e3),await m(),a.default.success(e("Solana wallet created successfully"),{toastId:"create-wallet"})}catch(t){(0,o.isTurnkeyError)(t)?3===t.code?a.default.error(e("Maximum of generated wallets reached 5000"),{toastId:"create-wallet"}):(0,o.isTurnkeySessionExpiryError)(t)&&a.default.error(e("Turnkey session expired, please log out and in again"),{toastId:"create-wallet"}):a.default.error(`${e("Error creating wallet")}: ${(0,s.getErrorMessage)(t)}`,{toastId:"create-wallet"})}finally{b.current=!1}}},[e,r,S,y,w,m,k]),E=(0,t.useCallback)(async()=>{if(!b.current){if(k())return a.default.error(e("You can't create a wallet right now"),{toastId:"create-wallet"});try{let t,i;if(b.current=!0,a.default.loading(e("Creating EVM wallet..."),{toastId:"create-wallet",duration:1/0}),!r)throw Error(e("Turnkey account not found, if this persists try logging out and in again"));let n=f.MAX_TOTAL_WALLETS,o=f.MAX_ACTIVE_WALLETS;if(x.length>=n)throw Error(e(`Maximum of ${n} EVM wallets allowed, delete archived wallets to create more`));let s=(await r.getWallets()).wallets.find(e=>"Primary"===e.walletName);if(!s)throw Error(e("Failed to find primary wallet"));if(v.length>=o)throw Error(e(`Maximum of ${o} active EVM wallets allowed`));let u=[];for(;u.length<5e3;){let e=await r.getWalletAccounts({walletId:s.walletId,paginationOptions:{limit:"100",after:t}});if(u.push(...e.accounts),e.accounts.length<100)break;t=e.accounts[e.accounts.length-1].walletAccountId}let l=u.filter(e=>"ADDRESS_FORMAT_ETHEREUM"===e.addressFormat),d=-1;for(let e of l){let t=parseInt(e.path.split("/")[5]?.replace("'","")||"-1");t>d&&(d=t)}try{i=await r.createWalletAccounts({walletId:s.walletId,accounts:[{curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/0'/0/${d+1}`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}]})}catch(e){throw e}let h=i.addresses[0].toLowerCase();await c.axiomApiV2.post("/add-evm-wallet",{walletAddress:h,exp:!1}),await (0,p.sleep)(1e3),await m(),a.default.success(e("EVM wallet created successfully"),{toastId:"create-wallet"})}catch(t){(0,o.isTurnkeyError)(t)?3===t.code?a.default.error(e("Maximum of generated wallets reached 5000"),{toastId:"create-wallet"}):(0,o.isTurnkeySessionExpiryError)(t)&&a.default.error(e("Turnkey session expired, please log out and in again"),{toastId:"create-wallet"}):a.default.error(`${e("Error creating wallet")}: ${(0,s.getErrorMessage)(t)}`,{toastId:"create-wallet"})}finally{b.current=!1}}},[e,r,x,v,m,k]);return{createSolWallet:T,createEvmWallet:E}}let y=(0,m.atomWithStorage)("hasRegisteredRefWallets",!1,void 0,{getOnInit:!0}),x=(0,m.atomWithStorage)("refWallets",null),A=(0,r.atom)(!1);function w(){let e=(0,o.useTurnkeyClient)(),r=(0,g.useAtomCallback)((0,t.useCallback)(e=>e(y),[])),n=(0,i.useSetAtom)(A),u=(0,i.useSetAtom)(y),l=(0,g.useAtomCallback)((0,t.useCallback)(e=>e(A),[])),d=(0,g.useAtomCallback)((0,t.useCallback)(e=>e(x),[])),f=(0,i.useSetAtom)(x);return{checkIfEnrolledInRefProgram:(0,t.useCallback)(async e=>{if(r()&&!e)return{hasRefWallet:!0};try{let e=await c.axiomApiV2.get("/check-has-ref-wallet");return u(e.hasRefWallet),e}catch(t){return e&&a.default.error("Error checking if reference wallets are registered: "+(0,s.getErrorMessage)(t)),null}},[r,u]),enrollInRefProgram:(0,t.useCallback)(async t=>{if(l())return t&&a.default.error("Already enrolling..."),null;if(r())return t&&a.default.error("Already enrolled"),!0;try{let r;if(n(!0),t&&a.default.loading("Enrolling...",{toastId:"enroll-in-ref-program",duration:1/0}),!e)throw Error("Turnkey account not found, if this persists try logging out and in again");let i=(await e.getWallets()).wallets.find(e=>"Primary"===e.walletName);if(!i)throw Error("Failed to find primary wallet");let o=[];for(;o.length<6e3;){let t=await e.getWalletAccounts({walletId:i.walletId,paginationOptions:{limit:"100",after:r}});if(o.push(...t.accounts),t.accounts.length<100)break;r=t.accounts[t.accounts.length-1].walletAccountId}let s=o.filter(e=>"ADDRESS_FORMAT_SOLANA"===e.addressFormat),l=0;for(let e of s){let t=parseInt(e.path.split("/")[3].replace("'",""));t>l&&(l=t)}let p=o.filter(e=>"ADDRESS_FORMAT_ETHEREUM"===e.addressFormat),h=-1;for(let e of p){let t=parseInt(e.path.split("/")[5]?.replace("'","")||"-1");t>h&&(h=t)}let m=d();if(!t&&m&&Date.now()-m.dateEnrolled<36e5)return null;let g=await e.createWalletAccounts({walletId:i.walletId,accounts:[{curve:"CURVE_ED25519",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/501'/${l+1}'/0'`,addressFormat:"ADDRESS_FORMAT_SOLANA"},{curve:"CURVE_SECP256K1",pathFormat:"PATH_FORMAT_BIP32",path:`m/44'/60'/0'/0/${h+1}`,addressFormat:"ADDRESS_FORMAT_ETHEREUM"}]}),b=g.addresses[0],y=g.addresses[1].toLowerCase();return f({solWallet:b,evmWallet:y,dateEnrolled:Date.now()}),await c.axiomApiV2.post("/upload-ref-wallets",{evmWallet:y,solWallet:b}),t&&a.default.success("Enrolled in referral program",{toastId:"enroll-in-ref-program"}),u(!0),!0}catch(e){return t&&((0,o.isTurnkeyError)(e)?3===e.code?a.default.error("Failed to generate more wallets",{toastId:"enroll-in-ref-program"}):(0,o.isTurnkeySessionExpiryError)(e)&&a.default.error("Turnkey session expired, please log out and in again",{toastId:"enroll-in-ref-program"}):a.default.error("Error enrolling: "+(0,s.getErrorMessage)(e),{toastId:"enroll-in-ref-program"})),!1}finally{n(!1)}},[l,r,n,u,e])}}let v=(0,r.atom)(!1);function S(){let{checkIfEnrolledInRefProgram:e,enrollInRefProgram:r}=w(),n=(0,o.useTurnkeyClient)(),a=(0,i.useSetAtom)(v);(0,t.useEffect)(()=>{n&&e().then(async e=>{e&&(e.hasRefWallet||!1===await r(!1)&&a(!0))})},[e,r,n,a])}},815062,667587,e=>{"use strict";e.s(["AuthProvider",()=>z,"clientTimeOffsetAtom",()=>K,"useLogout",()=>W,"useOnAuth",()=>j,"useSaveBundle",()=>V,"useSaveBundles",()=>G],815062);var t=e.i(467034),r=e.i(843476);e.i(284795);var i=e.i(784503),n=e.i(356026),a=e.i(103476),o=e.i(639372),s=e.i(672464),u=e.i(265172),l=e.i(750214),c=e.i(618566),d=e.i(271645),f=e.i(268804),p=e.i(251193),h=e.i(863568),m=e.i(542119),g=e.i(718646),b=e.i(735013),y=e.i(944325),x=e.i(859749),A=e.i(182781);e.i(255730);var w=e.i(885438),v=e.i(754825),S=e.i(458768),k=e.i(711858),T=e.i(19179),E=e.i(247317),P=e.i(354640),I=e.i(783156),_=e.i(354287),N=e.i(118455),R=e.i(758219),O=e.i(741124),B=e.i(253646);let C=(0,o.atom)(""),D=(0,u.atomWithStorage)("portfolioSelectedList-sol",[],(0,R.safeSSRNoSyncStorage)(),{getOnInit:!0}),F=(0,u.atomWithStorage)("portfolioSelectedList-bnb",[],(0,R.safeSSRNoSyncStorage)(),{getOnInit:!0}),U=(0,o.atom)(e=>{let t=e(O.currentChainAtom);return e("sol"===t?D:F)},(e,t,r)=>{let i=e(O.currentChainAtom),n=e("sol"===i?D:F);t("sol"===i?D:F,"function"==typeof r?r(n):r)}),M=(0,o.atom)(e=>new Set(e(U))),L=(0,o.atom)(e=>{let t=e(C);return t&&((0,B.isValidSolanaAddress)(t)||(0,B.isValidEvmAddress)(t))?(0,B.isValidSolanaAddress)(t)?"sol":"bnb":e(O.currentChainAtom)});e.s(["portfolioChainAtom",0,L,"portfolioSearchAddressAtom",0,C,"portfolioSelectedListAsSetAtom",0,M,"portfolioSelectedListAtom",0,U,"portfolioSelectedListBnbAtom",0,F,"portfolioSelectedListSolAtom",0,D],667587);var q=e.i(447800);let K=(0,o.atom)(null);function W(e){let t=(0,s.useSetAtom)(m.isAuthedAtom),r=(0,s.useSetAtom)(m.userIdAtom),i=(0,s.useSetAtom)(m.turnkeyOrgIdAtom),n=(0,s.useSetAtom)(m.authMethodAtom),a=(0,s.useSetAtom)(A.settingsInternalAtom),o=(0,s.useSetAtom)(g.notificationsAtom),p=(0,s.useSetAtom)(v.monitoredSolWalletsAtom),y=(0,s.useSetAtom)(v.allSolWalletsAtom),k=(0,s.useSetAtom)(v.selectedSolWalletsAtom),T=(0,s.useSetAtom)(w.monitoredEvmWalletsAtom),P=(0,s.useSetAtom)(w.allEvmWalletsAtom),_=(0,s.useSetAtom)(w.selectedEvmWalletsAtom),R=(0,s.useSetAtom)(w.evmPublicKeyAtom),O=(0,s.useSetAtom)(w.evmPrivateKeyAtom),B=(0,s.useSetAtom)(w.hlUsdcBalanceAtom),C=(0,s.useSetAtom)(m.profilePictureAtom),U=(0,s.useSetAtom)(m.usernameAtom),M=(0,s.useSetAtom)(m.usernameLoadedAtom),L=(0,s.useSetAtom)(m.bundleAtom),q=(0,s.useSetAtom)(b.ordersAtom),K=(0,s.useSetAtom)(m.sBundlesAtom),W=(0,s.useSetAtom)(m.eBundleAtom),V=(0,s.useSetAtom)(m.eBundlesAtom),G=(0,s.useSetAtom)(A.settingsLoadedAtom),j=(0,s.useSetAtom)(m.referralDataAtom),z=(0,s.useSetAtom)(m.rewardsPercentageAtom),H=(0,s.useSetAtom)(x.searchIsPumpAtom),X=(0,s.useSetAtom)(x.searchIsBonkAtom),Q=(0,s.useSetAtom)(x.searchIsBagsAtom),J=(0,s.useSetAtom)(x.searchIsUsd1Atom),Y=(0,s.useSetAtom)(x.searchIsOgOnlyAtom),Z=(0,s.useSetAtom)(x.searchOnlyBondedAtom),$=(0,s.useSetAtom)(x.searchSortByAtom),ee=(0,s.useSetAtom)(x.searchBnbProtocolAtom),et=(0,s.useSetAtom)(N.hasRegisteredRefWalletsAtom),er=(0,s.useSetAtom)(N.refWalletsAtom),ei=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(m.turnkeyPublicKeyAtom),[])),en=(0,h.useTurnkeyClient)(),ea=(0,c.useRouter)(),eo=(0,s.useSetAtom)(D),es=(0,s.useSetAtom)(F),{resetSocialTrackerAtoms:eu}=(0,I.useResetSocialTrackerAtoms)();return async()=>{let s=S.default.loading("Logging out...",{duration:1/0});try{if(en)try{let e=(await en.getWhoami()).userId,t=await en.getApiKeys({userId:e}),r=ei(),i=t.apiKeys.find(e=>e.credential.publicKey===r);i&&i.expirationSeconds&&await en.deleteApiKeys({userId:e,apiKeyIds:[i.apiKeyId]})}catch{}await f.axiomApiV2.post("/logout",{allSessions:!1}),e?.(),eo([]),es([]),eu(),t(u.RESET),r(u.RESET),i(u.RESET),n(u.RESET),a(u.RESET),G(!1),o(u.RESET),p(u.RESET),y(u.RESET),k(u.RESET),T(u.RESET),P(u.RESET),_(u.RESET),R(u.RESET),O(u.RESET),B(u.RESET),C(u.RESET),U(u.RESET),M(u.RESET),L(u.RESET),K(u.RESET),W(u.RESET),V(u.RESET),q(u.RESET),j(u.RESET),z(u.RESET),H(u.RESET),X(u.RESET),Q(u.RESET),J(u.RESET),Y(u.RESET),Z(u.RESET),$(u.RESET),ee(u.RESET),et(u.RESET),er(u.RESET),S.default.success("Logged out",{toastId:s}),ea.push("/")}catch(e){S.default.error("Error logging out: "+(0,E.getErrorMessage)(e),{toastId:s})}}}function V(){let e=(0,s.useSetAtom)(m.bundleAtom);return(0,d.useCallback)(async t=>{try{let r=await f.axiomApiV2.post("/api/bundle-key"),i=await (0,T.encryptKey)(t,r);e(i)}catch(e){S.default.error("Error saving bundle: "+(0,E.getErrorMessage)(e))}},[e])}function G(){let e=(0,s.useSetAtom)(m.bundleAtom),r=(0,s.useSetAtom)(m.sBundlesAtom),i=(0,s.useSetAtom)(m.eBundlesAtom),n=(0,s.useSetAtom)(m.eBundleAtom);return(0,d.useCallback)(async(o,s,u,l)=>{try{let[c,d,f]=await Promise.all([(0,T.encryptKey)(o,l),Promise.all(s.map(e=>(0,T.encryptKey)(t.Buffer.from(a.default.decode(e)).toString("hex"),l))),Promise.all(u.map(e=>(0,T.encryptKey)(e,l)))]);e(c),r(d),i(f),n(null)}catch(e){S.default.error("Error saving bundles: "+(0,E.getErrorMessage)(e))}},[e,r,i,n])}function j(){let e=(0,P.useInitializeWallets)(),t=(0,s.useSetAtom)(m.turnkeyOrgIdAtom),r=(0,s.useSetAtom)(m.authMethodAtom),n=(0,s.useSetAtom)(m.isAuthedAtom),a=(0,s.useSetAtom)(m.userIdAtom),o=(0,s.useSetAtom)(A.settingsInternalAtom),c=V(),f=(0,s.useSetAtom)(D),p=(0,s.useSetAtom)(F),h=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredSolWalletsAtom),[])),g=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(w.monitoredEvmWalletsAtom),[]));return async(s,l,d,m,b)=>{let y;y="bundle"===s.type?(0,i.decryptCredentialBundle)(s.turnkeyCredentialBundle,s.authPrivateKey):s.apiPrivateKey,o(u.RESET),c(y);try{await e(l,y),f(h().map(e=>e.publicKey).slice(0,q.MAX_PORTFOLIO_WALLETS)),p(g().map(e=>e.publicKey).slice(0,q.MAX_PORTFOLIO_WALLETS))}catch(e){S.default.error("Error initializing wallets: "+(0,E.getErrorMessage)(e))}t(l),r(m),n(!0),a(d),b?.()}}function z({children:e}){let a=(0,P.useInitializeWallets)(),o=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(m.turnkeyOrgIdAtom),[])),u=(0,s.useSetAtom)(K),[c,g]=(0,s.useAtom)(y.regionInfoAtom),b=(0,l.useAtomCallback)((0,d.useCallback)(e=>e(m.isAuthedAtom),[])),x=(0,s.useSetAtom)(m.isAuthedAtom);(0,_.useDatadogUser)(),(0,d.useEffect)(()=>{c.notEdited&&g({name:y.Region.GLOBAL})},[c,g]),(0,d.useEffect)(()=>{(async()=>{try{let e=Date.now(),t=(await f.axiomApiV2.get("/server-time")).serverTime,i=Date.now()-e,n=Math.abs(Date.now()-t);i<4e3?u(n):S.default.warn("Your connection is unstable, please check your network"),i<1e4&&Math.abs(n)>6e4&&S.default.error({message:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Sync your "}),(0,r.jsx)(k.Tooltip,{content:"Open tutorial to sync your system clock",position:"bottom",children:(0,r.jsx)("a",{href:navigator.userAgent.toLowerCase().includes("mac")?"https://support.apple.com/en-hk/guide/mac-help/mchlp2996/mac":"https://support.microsoft.com/en-us/windows/set-time-date-and-time-zone-settings-in-windows-dfaa7122-479f-5b98-2a7b-fa0b6e01b261",target:"_blank",rel:"noopener noreferrer",className:"underline hover:opacity-80",children:"system clock"})}),(0,r.jsx)("span",{children:" and restart your browser."})]})},{duration:1/0})}catch(e){S.default.error("Error checking time sync: "+(0,E.getErrorMessage)(e))}})()},[u]);let A=(0,d.useCallback)(async()=>{if(!document.hidden&&b()&&navigator.onLine)try{await f.axiomApiV2.post("/refresh-access-token"),x(!0)}catch(e){"Invalid refresh JWT token"===(0,E.getErrorMessage)(e)&&(S.default.error("Your session has expired. Please log in again."),x(!1))}},[b,x]);(0,d.useEffect)(()=>(A(),window.addEventListener("online",A),()=>window.removeEventListener("online",A)),[A]);let w=V(),v=(0,h.useTurnkeyClient)(),T=(0,s.useAtomValue)(m.turnkeyPublicKeyAtom),I=(0,d.useRef)(!1),N=(0,s.useSetAtom)(m.turnkeyPrivateKeyAtom),R=(0,s.useSetAtom)(m.turnkeyPublicKeyAtom);return(0,d.useEffect)(()=>{v&&!I.current&&T&&(I.current=!0,(async()=>{try{let e=(await v.getWhoami()).userId,r=(await v.getApiKeys({userId:e})).apiKeys.find(e=>e.credential.publicKey===l);if(!r||(Number(r.createdAt.seconds)+Number(r.expirationSeconds??0))*1e3-Date.now()>18144e5)return;let a=(0,n.generateP256KeyPair)(),o=crypto.randomUUID(),s=await v.createReadWriteSession({apiKeyName:`Axiom Refresh Session: ${o}`,targetPublicKey:a.publicKeyUncompressed,userId:e,expirationSeconds:"2592000"}),u=(0,i.decryptCredentialBundle)(s.credentialBundle,a.privateKey),l=t.Buffer.from((0,n.getPublicKey)(u)).toString("hex");N(u),R(l),await w(u),r.expirationSeconds&&await v.deleteApiKeys({userId:e,apiKeyIds:[r.apiKeyId]})}catch{}})())},[v,T,w,N,R]),(0,d.useEffect)(()=>{(async()=>{let e=o();if(e)try{await a(e)}catch(e){S.default.error("Error initializing wallets: "+(0,E.getErrorMessage)(e))}})()},[o,a]),(0,p.default)(A,24e4),(0,r.jsx)(r.Fragment,{children:e})}},354640,e=>{"use strict";e.s(["WalletProvider",()=>U,"getHlUsdcBalance",()=>O,"getPublicKeyFromPrivate",()=>_,"useInitializeWallets",()=>F,"useRefreshBalancesEvm",()=>N,"useRefreshBalancesHl",()=>B,"useRefreshBalancesSol",()=>R]);var t=e.i(467034),r=e.i(127261);e.i(284795);var i=e.i(784503),n=e.i(356026);e.i(258291);var a=e.i(874107),o=e.i(581949),s=e.i(103476),u=e.i(7836),l=e.i(672464),c=e.i(750214),d=e.i(271645),f=e.i(247317),p=e.i(91204),h=e.i(942730),m=e.i(268804),g=e.i(682382),b=e.i(40039),y=e.i(592e3),x=e.i(447800),A=e.i(542119);e.i(255730);var w=e.i(754825),v=e.i(885438),S=e.i(458768),k=e.i(564012),T=e.i(506405),E=e.i(815062),P=e.i(182781),I=e.i(275195);function _(e,t){if("sol"===t){let t=s.default.decode(e);return r.Keypair.fromSecretKey(t).publicKey.toString()}if("evm"===t){let t=e.startsWith("0x")?e:`0x${e}`;return new u.ethers.Wallet(t).address}(0,k.assertUnreachable)(t)}function N(){let e=B(),t=(0,l.useSetAtom)(v.updateEvmBalanceAtom),r=(0,l.useSetAtom)(v.batchUpdateEvmTokenAccountsAtom),i=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredEvmWalletsAtom),[]));return(0,d.useCallback)(async(n,a,o)=>{try{if(!i().length)return null;let s=async()=>{let e=await m.axiomApi.post("/batched-evm-balance",{publicKeys:n});for(let[r,i]of Object.entries(e))i&&t(r,{blockNumber:i.blockNumber,balanceWei:i.balanceWei})},u=async(e,t)=>{if(e){let i=await m.axiomApi.post("/batched-evm-token-balances-by-token",{publicKeys:n,tokenAddress:e,blockNumber:t});for(let[t,n]of Object.entries(i))n&&r(t,n.blockNumber,[{tokenAddress:e,balanceRaw:n.tokenBalance}],e)}else{let e=await m.axiomApi.post("/batched-evm-token-balances",{publicKeys:n});for(let[t,i]of Object.entries(e))i&&r(t,i.blockNumber,i.tokenBalances)}},l=[];a||l.push(e()),l.push(s()),l.push(u(a,o)),await Promise.all(l)}catch(e){return S.default.error(`Error refreshing EVM balances: ${(0,f.getErrorMessage)(e)}`),null}},[e,t,r,i])}function R(){let e=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.solPublicKeyAtom),[])),t=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.monitoredSolWalletsAtom),[])),r=(0,l.useSetAtom)(w.batchUpdateTokenAccountsAtom),i=(0,l.useSetAtom)(w.updateSolBalanceAtom),n=(0,h.useVanishRefresh)();return(0,d.useCallback)(async(a,o)=>{try{if(!t().length)return null;if(!a){let t=e();if(!t)return null;a=[t]}let s=a.includes(g.VANISH_WALLET_ADDRESS);a=a.filter(e=>e!==g.VANISH_WALLET_ADDRESS);let u=async()=>{let e=await m.axiomApi.post("/batched-sol-balance",{publicKeys:a});for(let[t,r]of Object.entries(e))r&&i(t,{slot:r.slot,balanceSol:r.solBalance})},l=async()=>{let e=await m.axiomApi.post("/batched-wallet-token-accounts",{publicKeys:a});for(let[t,i]of Object.entries(e))i&&r(t,i.slot,i.tokenAccounts)},c=async()=>{s&&await n()},d=[];o||d.push(u()),d.push(l()),d.push(c()),await Promise.all(d)}catch(e){return S.default.error(`Error refreshing balances: ${(0,f.getErrorMessage)(e)}`),null}},[t,e,r,i,n])}async function O(e){try{return(await o.default.post("https://api.hyperliquid.xyz/info",{user:e,type:"clearinghouseState"})).data.withdrawable??null}catch{return null}}function B(){let e=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.evmPublicKeyAtom),[])),t=(0,l.useSetAtom)(v.hlUsdcBalanceAtom);return(0,d.useCallback)(async()=>{let r=e();if(!r)return;let i=await O(r);i&&t(i)},[e,t])}let C=!1,D=!1;function F(){let e=(0,l.useSetAtom)(v.evmPublicKeyAtom),o=(0,l.useSetAtom)(v.evmPrivateKeyAtom),f=(0,l.useSetAtom)(A.turnkeyPublicKeyAtom),h=(0,l.useSetAtom)(A.turnkeyPrivateKeyAtom),b=(0,E.useSaveBundles)(),y=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.sBundlesAtom),[])),k=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.eBundleAtom),[])),P=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.eBundlesAtom),[])),I=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.bundleAtom),[])),_=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.vanishEnabledAtom),[])),O=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.allSolWalletsAtom),[])),B=(0,l.useSetAtom)(w.allSolWalletsAtom),F=(0,l.useSetAtom)(w.monitoredSolWalletsAtom),U=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.monitoredSolWalletsAtom),[])),M=(0,l.useSetAtom)(w.selectedSolWalletsAtom),L=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.selectedSolWalletsAtom),[])),q=R(),K=N(),W=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(A.turnkeyOrgIdAtom),[])),V=(0,v.useRefreshBnbNonces)(),G=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.allEvmWalletsAtom),[])),j=(0,l.useSetAtom)(v.allEvmWalletsAtom),z=(0,l.useSetAtom)(v.monitoredEvmWalletsAtom),H=(0,l.useSetAtom)(w.solWalletsLoadedAtom),X=(0,l.useSetAtom)(v.evmWalletsLoadedAtom),Q=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.monitoredEvmWalletsAtom),[])),J=(0,l.useSetAtom)(v.selectedEvmWalletsAtom),Y=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(v.selectedEvmWalletsAtom),[])),Z=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.solNoncesAtom),[])),$=(0,d.useCallback)(async e=>{try{let t=await m.axiomApiV2.post("/user-nonce-accounts",{userWallets:e}),r=Z();for(let e of t){r.has(e.authority)||r.set(e.authority,[]);let t=r.get(e.authority),i=t.find(t=>t.account===e.account);i?i.slot<e.slot&&(i.nonce=e.nonce,i.slot=e.slot,i.available=!0):t.push({account:e.account,nonce:e.nonce,slot:e.slot,available:!0})}}catch{S.default.error("Error fetching nonce accounts")}},[Z]);return(0,d.useCallback)(async(l,c)=>{let{bundleKey:d,wallets:A}=await m.axiomApiV2.post("/bundle-key-and-wallets"),w=I();for(let e of A)"evm"===e.network&&(e.walletAddress=e.walletAddress.toLowerCase());if(!c){if(!w)throw Error("Missing authentication bundle, please re-login");if(!(c=await (0,T.decryptKey)(w,d)))throw Error("Missing Turnkey credentials, please re-login")}if(!l){let e=W();if(!e)throw Error("Authentication organization not found, please re-login");l=e}let v=t.Buffer.from((0,n.getPublicKey)(c)).toString("hex");f(v),h(c);let S=A.filter(e=>"sol"===e.network),E=S.find(e=>e.isPrimary);if(!E)throw Error("Missing primary Solana wallet, please re-login");let N=S.map(e=>({walletAddress:e.walletAddress,isArchived:e.isArchived,isPrimary:e.isPrimary,name:e.name})),R=A.filter(e=>"evm"===e.network),Z=R.find(e=>e.isPrimary);if(!Z)throw Error("Missing primary EVM wallet, please re-login");let ee=R.map(e=>({walletAddress:e.walletAddress,isArchived:e.isArchived,isPrimary:e.isPrimary,name:e.name}));_()&&N.splice(1,0,{walletAddress:g.VANISH_WALLET_ADDRESS,isArchived:!1,isPrimary:!1,name:g.VANISH_WALLET_NAME});let et=O(),er=[];JSON.stringify([...et].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))===JSON.stringify([...N].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))?er=et.filter(e=>!e.isArchived&&e.walletAddress!==g.VANISH_WALLET_ADDRESS).map(e=>e.walletAddress):(B(e=>{let t=new Map(N.map(e=>[e.walletAddress,e])),r=new Set(e.map(e=>e.walletAddress)),i=e.map(e=>t.get(e.walletAddress)??null).filter(e=>null!==e);for(let e of N)r.has(e.walletAddress)||i.push(e);return i}),er=N.filter(e=>!e.isArchived&&e.walletAddress!==g.VANISH_WALLET_ADDRESS).map(e=>e.walletAddress));let ei=G(),en=[];JSON.stringify([...ei].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))===JSON.stringify([...ee].sort((e,t)=>e.walletAddress.localeCompare(t.walletAddress)))?en=ei.filter(e=>!e.isArchived).map(e=>e.walletAddress):(j(e=>{let t=new Map(ee.map(e=>[e.walletAddress,e])),r=new Set(e.map(e=>e.walletAddress)),i=e.map(e=>t.get(e.walletAddress)??null).filter(e=>null!==e);for(let e of ee)r.has(e.walletAddress)||i.push(e);return i}),en=ee.filter(e=>!e.isArchived).map(e=>e.walletAddress)),C=!0,D=!0,H(!0),X(!0),$(er.slice(0,x.MAX_TRADING_WALLETS));let ea=new Map,eo=new Map,es=y(),eu=k(),el=P().length>0?P():eu?[eu]:[];try{if(!w||0===es.length||0===el.length)throw Error("Missing some authentication bundles, please re-login");let[e,i]=await Promise.all([Promise.all(es.map(async e=>s.default.encode(t.Buffer.from(await (0,T.decryptKey)(e,d),"hex")))),Promise.all(el.map(async e=>await (0,T.decryptKey)(e,d)))]),n=new Map;for(let t of e){let e=r.Keypair.fromSecretKey(s.default.decode(t)).publicKey.toString();n.set(e,t)}for(let e of er){let t=n.get(e);if(!t)throw Error("Bundle state does not match");ea.set(e,t)}let a=new Map;for(let e of i){let t=u.ethers.computeAddress("0x"+e);a.set(t.toLowerCase(),e)}for(let e of en){let t=a.get(e.toLowerCase());if(!t)throw Error("Bundle state does not match");eo.set(e.toLowerCase(),t)}(e.length!==er.length||i.length!==en.length)&&b(c,Array.from(n.values()),Array.from(a.values()),d)}catch{let e=(0,n.generateP256KeyPair)(),o=new a.Turnkey({apiBaseUrl:"https://api.turnkey.com",apiPrivateKey:c,apiPublicKey:v,defaultOrganizationId:l,activityPoller:{intervalMs:250,numRetries:60}}),f=o.apiClient().getPrivateKeys({organizationId:l}),h=async r=>{try{return await o.apiClient().exportWalletAccount({organizationId:l,address:r,targetPublicKey:e.publicKeyUncompressed})}catch{let i=(await f).privateKeys.find(e=>s.default.encode(t.Buffer.from(e.publicKey,"hex"))===r);if(!i)throw Error("Credentials not found, please re-login");try{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:i.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}catch{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:i.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}}},m=async t=>{try{return await o.apiClient().exportWalletAccount({organizationId:l,address:u.ethers.getAddress(t),targetPublicKey:e.publicKeyUncompressed})}catch{let r=(await f).privateKeys.find(e=>e.addresses.find(e=>e.address?.toLowerCase()===t.toLowerCase())?.address?.toLowerCase()===t.toLowerCase());if(!r)throw Error("Credentials not found, please re-login");try{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:r.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}catch{return await o.apiClient().exportPrivateKey({organizationId:l,privateKeyId:r.privateKeyId,targetPublicKey:e.publicKeyUncompressed})}}},g=er.filter(e=>!ea.has(e)),y=en.filter(e=>!eo.has(e.toLowerCase()));try{let t=[],n=[];for(let e=0;e<g.length;e+=25){e>0&&await (0,p.sleep)(250);let r=g.slice(e,e+25),i=await Promise.all(r.map(h));t.push(...i)}for(let e=0;e<y.length;e+=25){e>0&&await (0,p.sleep)(250);let t=y.slice(e,e+25),r=await Promise.all(t.map(m));n.push(...r)}let[a,o]=await Promise.all([Promise.all(t.map(t=>(0,i.decryptExportBundle)({exportBundle:t.exportBundle,embeddedKey:e.privateKey,keyFormat:"SOLANA",organizationId:l,returnMnemonic:!1}))),Promise.all(n.map(t=>(0,i.decryptExportBundle)({exportBundle:t.exportBundle,embeddedKey:e.privateKey,organizationId:l,returnMnemonic:!1})))]);for(let e of a){let t=r.Keypair.fromSecretKey(s.default.decode(e)).publicKey.toString();ea.set(t,e)}for(let e of o){let t=u.ethers.computeAddress("0x"+e);eo.set(t.toLowerCase(),e)}if(!eo.get(Z.walletAddress.toLowerCase()))throw Error("Missing primary EVM wallet key");b(c,Array.from(ea.values()),Array.from(eo.values()),d)}catch{throw Error("Error fetching Turnkey info, please re-login")}}_()&&er.push(g.VANISH_WALLET_ADDRESS);let ec=new Set(U().map(e=>e.publicKey)),ed=[],ef=er.map(e=>{if(ec.has(e)||ed.push(e),g.VANISH_WALLET_ADDRESS===e){let t=ea.get(E.walletAddress);if(!t)throw Error("Missing primary Solana wallet, please re-login");return{publicKey:e,privateKey:t}}{let t=ea.get(e);if(!t)throw Error("Missing Solana wallet, please re-login");return{publicKey:e,privateKey:t}}});0!==L().length&&L().every(e=>ef.some(t=>t.publicKey===e))||M([E.walletAddress]),F(ef);let ep=[],eh=new Set(Q().map(e=>e.publicKey)),em=en.map(e=>{eh.has(e)||ep.push(e);let t=eo.get(e.toLowerCase());if(!t)throw Error(`Missing EVM wallet key for ${e}`);return{publicKey:e,privateKey:t}});0!==Y().length&&Y().every(e=>em.some(t=>t.publicKey.toLowerCase()===e.toLowerCase()))||J([Z.walletAddress]),z(em),e(Z.walletAddress),o(eo.get(Z.walletAddress.toLowerCase())||null);let eg=[];ed.length>0&&ed.filter(e=>e!==g.VANISH_WALLET_ADDRESS).length<=x.MAX_TRADING_WALLETS&&eg.push(q(ed)),ep.length>0&&ep.length<=x.MAX_TRADING_WALLETS&&eg.push(K(ep)),await Promise.all(eg),V()},[I,y,k,P,b,U,F,e,o,f,h,W,B,M,L,q,$,_,O,G,j,z,Q,Y,J,K,V,H,X])}function U(){let e=(0,l.useSetAtom)(w.loadedBalancesSolAtom),t=(0,l.useSetAtom)(w.loadedBalancesEvmAtom),r=(0,l.useAtomValue)(v.evmPublicKeyAtom),i=B(),n=(0,l.useAtomValue)(w.allSolWalletsAtom),a=(0,l.useAtomValue)(v.allEvmWalletsAtom),o=(0,l.useAtomValue)(w.solWalletsLoadedAtom),s=(0,l.useAtomValue)(v.evmWalletsLoadedAtom),u=(0,c.useAtomCallback)(e=>e(w.monitoredSolWalletsAtom)),f=(0,c.useAtomCallback)(e=>e(v.monitoredEvmWalletsAtom)),p=(0,l.useSetAtom)(w.monitoredSolWalletsAtom),m=(0,l.useSetAtom)(v.monitoredEvmWalletsAtom),A=R(),S=N(),k=(0,l.useAtomValue)(w.vanishEnabledAtom),T=(0,l.useAtomValue)(w.solPublicKeyAtom),E=(0,l.useAtomValue)(w.solPrivateKeyAtom),_=(0,c.useAtomCallback)((0,d.useCallback)(e=>e(w.selectedSolWalletsAtom),[])),O=(0,h.useVanishRefresh)();(0,d.useEffect)(()=>{r&&i()},[r,i]),(0,d.useEffect)(()=>{if(n.length>0&&!u().length){let t=n.filter(e=>!e.isArchived).map(e=>e.walletAddress);p(t.map(e=>({publicKey:e,privateKey:null}))),t.filter(e=>e!==g.VANISH_WALLET_ADDRESS).length<=x.MAX_TRADING_WALLETS?A(t).then(()=>{e(!0)}):A(_()).then(()=>{e(!0)})}},[n,u,A,p,_]),(0,d.useEffect)(()=>{if(a.length>0&&!f().length){let e=a.filter(e=>!e.isArchived).map(e=>e.walletAddress);m(e.map(e=>({publicKey:e,privateKey:null}))),S(e).then(()=>{t(!0)})}},[a,f,S,m,t]);let[F,U]=(0,P.useSettings)("solWalletsAndGroups",[]),M=(0,l.useAtomValue)(I.isMountedAtom),L=(0,l.useAtomValue)(P.settingsLoadedAtom);(0,d.useEffect)(()=>{if(!o||!n.length||!M||!L)return;let e=new Set(n.map(e=>e.walletAddress)),t=!1,r=[],i=new Set;for(let n of F)if("wallet"===n.type)e.has(n.address)||n.address===g.VANISH_WALLET_ADDRESS?(r.push(n),i.add(n.address)):t=!0;else if("group"===n.type){let a=n.group.wallets.filter(t=>e.has(t)||t===g.VANISH_WALLET_ADDRESS);for(let e of(a.length!==n.group.wallets.length&&(t=!0),r.push({...n,group:{...n.group,wallets:a}}),a))i.add(e)}let a=[];for(let e of n)i.has(e.walletAddress)||a.push({type:"wallet",address:e.walletAddress});C&&t?U([...r,...a]):a.length>0&&U([...F,...a]),C=!1},[M,n,F,U,L,o]);let[q,K]=(0,P.useSettings)("evmWalletsAndGroups",[]);return(0,d.useEffect)(()=>{if(!s||!a.length||!M||!L)return;let e=new Set(a.map(e=>e.walletAddress)),t=!1,r=[],i=new Set;for(let n of q)if("wallet"===n.type)e.has(n.address)?(r.push(n),i.add(n.address)):t=!0;else if("group"===n.type){let a=n.group.wallets.filter(t=>e.has(t));for(let e of(a.length!==n.group.wallets.length&&(t=!0),r.push({...n,group:{...n.group,wallets:a}}),a))i.add(e)}let n=[];for(let e of a)i.has(e.walletAddress)||n.push({type:"wallet",address:e.walletAddress});D&&t?K([...r,...n]):n.length>0&&K([...q,...n]),D=!1},[M,a,q,K,L,s]),(0,d.useEffect)(()=>{let e=async(e,t)=>{let r=await (0,b.getVanishPendingActions)({privateKeyBase58:e,userAddress:t}),i=[];for(let e of r)i.push((0,b.commitVanishAction)({txId:e.tx_id}));await Promise.all(i),await O()};k&&E&&((0,y.fetchAndSetVanishOneTimeWallet)(),O(),e(E,T).catch(()=>{}))},[k,O,E,T]),null}}]);

//# debugId=36ca5611-99f3-0430-5ec1-a58869e1f114
//# sourceMappingURL=2ffc67d4736b107d.js.map