;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7b7b8d73-4902-4e72-7e77-5a8c576239ab")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,422876,e=>{"use strict";var t=e.i(127261);let i=new t.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r=new t.PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),n=new t.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),o=new t.PublicKey("So11111111111111111111111111111111111111112");new t.PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP"),e.s(["ASSOCIATED_TOKEN_PROGRAM_ID",0,n,"NATIVE_MINT",0,o,"TOKEN_2022_PROGRAM_ID",0,r,"TOKEN_PROGRAM_ID",0,i])},123424,e=>{"use strict";var t=e.i(467034),i=e.i(127261),r=e.i(422876);function n(e,i,o,s,u=r.TOKEN_PROGRAM_ID,l=r.ASSOCIATED_TOKEN_PROGRAM_ID){return a(e,i,o,s,t.Buffer.alloc(0),u,l)}function o(e,i,n,s,u=r.TOKEN_PROGRAM_ID,l=r.ASSOCIATED_TOKEN_PROGRAM_ID){return a(e,i,n,s,t.Buffer.from([1]),u,l)}function a(e,t,n,o,s,u=r.TOKEN_PROGRAM_ID,l=r.ASSOCIATED_TOKEN_PROGRAM_ID){let c=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];return new i.TransactionInstruction({keys:c,programId:l,data:s})}e.s(["createAssociatedTokenAccountIdempotentInstruction",()=>o,"createAssociatedTokenAccountInstruction",()=>n])},151906,(e,t,i)=>{"use strict";var r=e.i(467034);Object.defineProperty(i,"__esModule",{value:!0}),i.toBigIntLE=function(e){{let t=r.Buffer.from(e);t.reverse();let i=t.toString("hex");return 0===i.length?BigInt(0):BigInt(`0x${i}`)}},i.toBigIntBE=function(e){{let t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}},i.toBufferLE=function(e,t){{let i=e.toString(16),n=r.Buffer.from(i.padStart(2*t,"0").slice(0,2*t),"hex");return n.reverse(),n}},i.toBufferBE=function(e,t){{let i=e.toString(16);return r.Buffer.from(i.padStart(2*t,"0").slice(0,2*t),"hex")}}},761405,717725,858010,150237,147618,80070,559136,20459,946865,e=>{"use strict";var t,i,r,n,o,a,s=e.i(467034),u=e.i(444610),l=e.i(127261),c=e.i(422876);function d(e,t,i){if(i.length)for(let r of(e.push({pubkey:t,isSigner:!1,isWritable:!1}),i))e.push({pubkey:r instanceof l.PublicKey?r:r.publicKey,isSigner:!0,isWritable:!1});else e.push({pubkey:t,isSigner:!0,isWritable:!1});return e}e.s(["addSigners",()=>d],717725),(t=n||(n={}))[t.InitializeMint=0]="InitializeMint",t[t.InitializeAccount=1]="InitializeAccount",t[t.InitializeMultisig=2]="InitializeMultisig",t[t.Transfer=3]="Transfer",t[t.Approve=4]="Approve",t[t.Revoke=5]="Revoke",t[t.SetAuthority=6]="SetAuthority",t[t.MintTo=7]="MintTo",t[t.Burn=8]="Burn",t[t.CloseAccount=9]="CloseAccount",t[t.FreezeAccount=10]="FreezeAccount",t[t.ThawAccount=11]="ThawAccount",t[t.TransferChecked=12]="TransferChecked",t[t.ApproveChecked=13]="ApproveChecked",t[t.MintToChecked=14]="MintToChecked",t[t.BurnChecked=15]="BurnChecked",t[t.InitializeAccount2=16]="InitializeAccount2",t[t.SyncNative=17]="SyncNative",t[t.InitializeAccount3=18]="InitializeAccount3",t[t.InitializeMultisig2=19]="InitializeMultisig2",t[t.InitializeMint2=20]="InitializeMint2",t[t.GetAccountDataSize=21]="GetAccountDataSize",t[t.InitializeImmutableOwner=22]="InitializeImmutableOwner",t[t.AmountToUiAmount=23]="AmountToUiAmount",t[t.UiAmountToAmount=24]="UiAmountToAmount",t[t.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",t[t.TransferFeeExtension=26]="TransferFeeExtension",t[t.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",t[t.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",t[t.Reallocate=29]="Reallocate",t[t.MemoTransferExtension=30]="MemoTransferExtension",t[t.CreateNativeMint=31]="CreateNativeMint",t[t.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",t[t.InterestBearingMintExtension=33]="InterestBearingMintExtension",t[t.CpiGuardExtension=34]="CpiGuardExtension",t[t.InitializePermanentDelegate=35]="InitializePermanentDelegate",t[t.TransferHookExtension=36]="TransferHookExtension",t[t.MetadataPointerExtension=39]="MetadataPointerExtension",t[t.GroupPointerExtension=40]="GroupPointerExtension",t[t.GroupMemberPointerExtension=41]="GroupMemberPointerExtension",t[t.ScaledUiAmountExtension=43]="ScaledUiAmountExtension",t[t.PausableExtension=44]="PausableExtension",e.s(["TokenInstruction",()=>n],858010);let m=(0,u.struct)([(0,u.u8)("instruction")]);function p(e,t,i,r=[],o=c.TOKEN_PROGRAM_ID){let a=d([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],i,r),u=s.Buffer.alloc(m.span);return m.encode({instruction:n.CloseAccount},u),new l.TransactionInstruction({keys:a,programId:o,data:u})}e.s(["createCloseAccountInstruction",()=>p],761405),e.s(["MINT_SIZE",()=>K,"MintLayout",()=>N,"getAssociatedTokenAddress",()=>W,"getAssociatedTokenAddressSync",()=>F,"unpackMint",()=>M],946865);let f=e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)});var h=e.i(151906);let g=e=>t=>{let i=(0,u.blob)(e,t),{encode:r,decode:n}=f(i);return i.decode=(e,t)=>{let i=n(e,t);return(0,h.toBigIntLE)(s.Buffer.from(i))},i.encode=(t,i,n)=>r((0,h.toBufferLE)(t,e),i,n),i},b=e=>t=>{let i=(0,u.blob)(e,t),{encode:r,decode:n}=f(i);return i.decode=(e,t)=>{let i=n(e,t);return(0,h.toBigIntBE)(s.Buffer.from(i))},i.encode=(t,i,n)=>r((0,h.toBufferBE)(t,e),i,n),i},A=g(8);b(8);let y=g(16);b(16),g(24),b(24),g(32),b(32),e.s(["u128",0,y,"u64",0,A],150237),new(e.i(828073)).default("1e+18");let w=e=>{let t=(0,u.u8)(e),{encode:i,decode:r}=f(t);return t.decode=(e,t)=>!!r(e,t),t.encode=(e,t,r)=>i(Number(e),t,r),t};e.s(["bool",0,w],147618);let S=e=>{let t=(0,u.blob)(32,e),{encode:i,decode:r}=f(t);return t.decode=(e,t)=>{let i=r(e,t);return new l.PublicKey(i)},t.encode=(e,t,r)=>i(e.toBuffer(),t,r),t};e.s(["publicKey",0,S],80070),e.s([],559136);class k extends Error{constructor(e){super(e)}}class T extends k{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class P extends k{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class I extends k{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class v extends k{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class B extends k{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}(i=o||(o={}))[i.Uninitialized=0]="Uninitialized",i[i.Mint=1]="Mint",i[i.Account=2]="Account",e.s(["ACCOUNT_SIZE",()=>E,"AccountLayout",()=>x],20459),(r=a||(a={}))[r.Uninitialized=0]="Uninitialized",r[r.Initialized=1]="Initialized",r[r.Frozen=2]="Frozen";let x=(0,u.struct)([S("mint"),S("owner"),A("amount"),(0,u.u32)("delegateOption"),S("delegate"),(0,u.u8)("state"),(0,u.u32)("isNativeOption"),A("isNative"),A("delegatedAmount"),(0,u.u32)("closeAuthorityOption"),S("closeAuthority")]),E=x.span,R=(0,u.struct)([(0,u.u8)("m"),(0,u.u8)("n"),w("isInitialized"),S("signer1"),S("signer2"),S("signer3"),S("signer4"),S("signer5"),S("signer6"),S("signer7"),S("signer8"),S("signer9"),S("signer10"),S("signer11")]).span,N=(0,u.struct)([(0,u.u32)("mintAuthorityOption"),S("mintAuthority"),A("supply"),(0,u.u8)("decimals"),w("isInitialized"),(0,u.u32)("freezeAuthorityOption"),S("freezeAuthority")]),K=N.span;function M(e,t,i=c.TOKEN_PROGRAM_ID){if(!t)throw new T;if(!t.owner.equals(i))throw new P;if(t.data.length<K)throw new I;let r=N.decode(t.data.slice(0,K)),n=s.Buffer.alloc(0);if(t.data.length>K){if(t.data.length<=E||t.data.length===R)throw new I;if(t.data[E]!=o.Mint)throw new v;n=t.data.slice(E+1)}return{address:e,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:n}}async function W(e,t,i=!1,r=c.TOKEN_PROGRAM_ID,n=c.ASSOCIATED_TOKEN_PROGRAM_ID){if(!i&&!l.PublicKey.isOnCurve(t.toBuffer()))throw new B;let[o]=await l.PublicKey.findProgramAddress([t.toBuffer(),r.toBuffer(),e.toBuffer()],n);return o}function F(e,t,i=!1,r=c.TOKEN_PROGRAM_ID,n=c.ASSOCIATED_TOKEN_PROGRAM_ID){if(!i&&!l.PublicKey.isOnCurve(t.toBuffer()))throw new B;let[o]=l.PublicKey.findProgramAddressSync([t.toBuffer(),r.toBuffer(),e.toBuffer()],n);return o}},85026,769998,719387,e=>{"use strict";e.s(["AXIOM_ADDRESS_LOOKUP_TABLES_V2",()=>Q,"BRIBE_PREFERED_RATIO",()=>j,"PSOL_PROGRAM_ADDRESS",()=>z,"PSOL_STATE_ADDRESS",()=>X,"PSOL_TOKEN_ADDRESS",()=>V,"addPriorityFeeInstructions",()=>er,"addTokenAccountCloseInstruction",()=>ew,"addTokenAccountInstructions",()=>ey,"calculateAxiomFee",()=>H,"calculateComputeUnits",()=>J,"calculateVanishLoanExtraLamports",()=>ee,"compileTransaction",()=>eo,"customTxMonitor",()=>eb,"handleMassSwapTxCreation",()=>et,"isVanishSigner",()=>Y,"makeCreateATAInstruction",()=>Z,"monitorTransactionSignature",()=>eg,"sendAndMonitorSimpleTxBatched",()=>eA,"sendSimpleSolTransaction",()=>ef,"sendSwapTransactionBatched",()=>ep],85026);var t=e.i(467034),i=e.i(127261),r=e.i(659341),n=e.i(123424),o=e.i(761405),a=e.i(946865),s=e.i(581949),u=e.i(103476),l=e.i(973444);e.i(465903);var c=e.i(767924),d=e.i(700479),m=e.i(268804),p=e.i(247317),f=e.i(40039),h=e.i(592e3),g=e.i(682382);e.s(["AXIOM_ROUTER_PROGRAM_ADDRESS",()=>B,"MEMO_V2_PROGRAM_ADDRESS",()=>O,"RAYDIUM_CLMM_PROGRAM_ADDRESS",()=>M,"buildAxiomRouterInstruction",()=>E,"buildUsdAxiomRouterInstruction",()=>N],719387);var b=e.i(672464),A=e.i(271645),y=e.i(43351);let w="usd1_tick_arrays",S=["DTgyhdzARWt8fiFrA5E2ECTdR5U3rpGho2AmaPWsieWg","B9MydCwPvBL6hWGR4MLUeUmzRC9y9SrNaJtubWuy1GSM","9JtS7quchTtWtprMs614GtpaKeyirgRvX84j9Zt1r1cU","HHKpb1m7QniBGBwJH8fopLnWrkUdxAY2gnTs38f8qvdc","EHLbGyhTj2PCKAtXp4jZo1ZTJM5h3xw5A9divafyMxC1"];function k(e,t){try{let i={data:t,timestamp:Date.now(),usdPerSol:e};localStorage.setItem(w,JSON.stringify(i))}catch(e){console.warn("Failed to cache USD1 tick arrays:",e)}}async function T(e){try{return(await m.axiomApi.post("/get-usd1-tick-accounts",{usdPerSol:e})).tickArrays||null}catch{return null}}let P=e=>5*Math.floor(e/5)+2.5;async function I(e){let t=function(){try{let e=localStorage.getItem(w);if(!e)return null;return JSON.parse(e)}catch{return null}}(),i=P(e),r=null;if(t&&t.usdPerSol===i){let e=Date.now()-t.timestamp;e<6e4&&(r=t.data),e<6e5&&(T(i).then(e=>{e&&e.length>0&&k(i,e)}).catch(),r=t.data)}let n=await T(i);return n&&n.length>0&&k(i,n),(r=n)&&0!==r.length||(r=S),r}let v=(0,A.memo)(function(){let e=(0,b.useAtomValue)(y.usdPerSolAtom),t=(0,A.useMemo)(()=>e?P(e):null,[e]);return(0,A.useEffect)(()=>{if(!t)return;I(t);let e=setInterval(()=>I(t),3e5);return()=>clearInterval(e)},[t]),null});e.s(["Usd1TickArrayCacheWarmer",0,v,"fetchUsd1TickArrays",()=>I],769998);let B="FLASHX8DrLbgeR8FcfNV1F5krxYcYMUdBkrP1EPBtxB9",x={pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA:2,"6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P":3,F5tfvbLog9VdGUPqBDTT8rgXvTTcq7e5UiGnupL1zvBq:4,boop8hVGQGqehUK2iVEMEnMrL5RbjywRzHKBmBE7ry4:5,HEAVENoP2qxoeuF8Dj2oT1GHEnu49U5mJYkdeC8BAX2o:6,LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj:7,Eo7WjKq67rjJQSZxS6z3YkapzY3eMj6Xy8X5EQVn5UaB:8,cpamdpZCGKUy5JxQXB4dcpGPiikHawvSWAd6mEn1sGG:9,LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo:10,MoonCVVNZFSYkqNXP6bxHLPL6QQJiMagDL3qcqUQTrG:11,whirLbMiicVdio4qvUfM5KAg6Ct8VwpYzGff3uctyCc:12,"675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8":13,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK:14,CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C:15,deus4Bvftd5QKcEkE5muQaWGWDoma8GrySvPFrBPjhS:16,vrTGoBuy5rYSxAfV3jaRJWHH6nN9WK4NRExGxsk1bCJ:17,dbcij3LWUppWqq96dh6gJWwBifmcGfLSB5D4DuSMaqN:18,CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY:19,"9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp":20,ExA6GYhHAeRNMWVNLrDir1SKPJZcZA2oaPq6uriSmxfJ:21};function E(e){let r,{type:n,amountIn:o,minAmountOut:a,userWalletAddress:s,inputTokenAccount:u,solWrapperToken:l,steps:d,rewardsData:m}=e,p=[];p.push(R(0)),p.push(o.toArrayLike(t.Buffer,"le",8)),p.push(a.toArrayLike(t.Buffer,"le",8)),"buy"===n?p.push(R(0)):p.push(R(1));let f=d.length+ +!!l;p.push(R(f));let h=[{pubkey:new i.PublicKey(u),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(s),isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey((0,c.getAxiomFeeAddress)()),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(B),isSigner:!1,isWritable:!1}];for(let e of d){for(let t of(h.push({pubkey:new i.PublicKey(e.programAddress.split("_")[0]),isSigner:!1,isWritable:!1}),e.accounts))h.push(t);h.push({pubkey:new i.PublicKey(B),isSigner:!1,isWritable:!1}),p.push(R(x[e.programAddress])),e.extraData&&p.push(e.extraData)}l&&("wsol"===l.type?(h.push({pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),h.push({pubkey:new i.PublicKey(l.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(B),isSigner:!1,isWritable:!1}),p.push(R(0))):"psol"===l.type&&(h.push({pubkey:new i.PublicKey(z),isSigner:!1,isWritable:!1}),h.push({pubkey:new i.PublicKey(X),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(V),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(l.userWrappedTokenAccount),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}),h.push({pubkey:new i.PublicKey(B),isSigner:!1,isWritable:!1}),p.push(R(1))));let g=null!==m.referralAddress,b=null!==m.tokenReferralAddress,A=m.referralAddress??m.tokenReferralAddress??B,y=g?m.tokenReferralAddress??B:B,w=g?m.referralRewardsPercentage??0:20*!!b;return h.push({pubkey:new i.PublicKey((r=Math.floor(8*Math.random())+1,i.PublicKey.findProgramAddressSync([t.Buffer.from("vault"),t.Buffer.from([r])],new i.PublicKey(B))[0])),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(A),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(m.referralLevel2Address??B),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(m.referralLevel3Address??B),isSigner:!1,isWritable:!0}),h.push({pubkey:new i.PublicKey(y),isSigner:!1,isWritable:!0}),p.push(R(2*Math.floor(m.userRewardsPercentage||0))),p.push(R(2*Math.floor(w))),new i.TransactionInstruction({keys:h,programId:new i.PublicKey(B),data:t.Buffer.concat(p)})}function R(e){return t.Buffer.from([e])}async function N(e){var r,n,o;let a,s,u;if("buy"===e.type?a=(s=(0,l.newSafeBN)((0,l.fromSafeBN)(e.amountIn)*e.usdPerSol/e.priceInUsdc*10**(e.tokenDecimals-9))).mul((0,l.newSafeBN)(1e4)).div((0,l.newSafeBN)(1e4+100*e.slippage)):(s=(0,l.newSafeBN)((0,l.fromSafeBN)(e.amountIn)*e.priceInUsdc/e.usdPerSol*10**(9-e.tokenDecimals)),a=(0,l.newSafeBN)((0,l.fromSafeBN)(s)*(100-e.slippage)/100)),"usd1"===e.stableCoin){let t,n,o,a,s;u=1>Math.random()?{programAddress:_,accounts:(n=(t="buy"===(r=e).type)?q:U,o=t?U:q,a=t?r.userWsolAccountAddress:r.userUsdAccountAddress,s=t?r.userUsdAccountAddress:r.userWsolAccountAddress,[{pubkey:new i.PublicKey(r.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey("EbXDFLFkLoGT3d8RjhXiVbMknniaNUbjd2uzw7DtZMHE"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(n),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(o),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}])}:{programAddress:K,accounts:await G({type:e.type,userAccountAddress:e.userAccountAddress,userWsolAccountAddress:e.userWsolAccountAddress,userUsd1AccountAddress:e.userUsdAccountAddress,usdPerSol:e.usdPerSol})}}else if("usdc"===e.stableCoin){let r,a,s,l,d,m;u=1>Math.random()?{programAddress:_,accounts:(a=(r="buy"===(n=e).type)?C:L,s=r?L:C,l=r?n.userWsolAccountAddress:n.userUsdAccountAddress,d=r?n.userUsdAccountAddress:n.userWsolAccountAddress,[{pubkey:new i.PublicKey(n.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey("78j5TUCv26eFYDMeRhu5j57Z36Cx8sn1tp6THyJwWAMM"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(a),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(l),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(d),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}])}:{programAddress:D,accounts:(m="buy"===(o=e).type?"H68hZeFqiX53vZf6ptCnjBTu8ePh6wg9LbxTE263jFb8":"9wZ8Af8iQsFZ6tVooizCZQiLBrDCWTQGj955Vd7UNMnY",[{pubkey:new i.PublicKey(o.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey("FksffEqnBRixYGR791Qw2MgdU7zNCpHVFYBL4Fa4qVuH"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("C3FzbX9n1YD2dow2dCmEv5uNyyf22Gb3TLAEqGBhw5fY"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("3RWFAQBRkNGq7CMGcTLK3kXDgFTe9jgMeFYqk8nHwcWh"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(o.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(o.userUsdAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(m),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("SysvarC1ock11111111111111111111111111111111"),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey("Sysvar1nstructions1111111111111111111111111"),isSigner:!1,isWritable:!1}]),extraData:t.Buffer.from(crypto.getRandomValues(new Uint8Array(8)))}}else throw Error("Invalid stable coin");return{swapInstruction:E({type:e.type,amountIn:e.amountIn,minAmountOut:a,userWalletAddress:e.userAccountAddress,inputTokenAccount:"buy"===e.type?e.userWsolAccountAddress:e.userTokenAccountAddress,solWrapperToken:{type:"wsol",userWrappedTokenAccount:e.userWsolAccountAddress},steps:"buy"===e.type?[u,...e.steps]:[...e.steps,u],rewardsData:e.rewardsData}),expectedAmountOut:s}}let K="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK_LEGACY",M="CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK",W="5QpMZ6MuyKjg8Qa1X8gM5G3YMsd43rpHb2iQ6hdcRM7m",F="DHY2efKhMcZyAgmPw82C2Gez1e98Ab7oWcXfxz9frUCr",O="MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",D="9H6tua7jkLhdm3w8BvgpTn5LZNU7g4ZynDmCiNN3q6Rp",C="7JaTtMqVjFUXM1enFqaU7XWJazLQECACFoEJ5hrEaqZn",L="9QMVhBrBXzgCLMSg4kVS6Vj2WXP1mXoqTfKof9gfZvo9",q="A1PoZroDu1ueFFL7PRSbTzCqcGHxAHGcXrmPNyKyvtxV",U="8XUC2bqNFCFh1RCLr8o8SJfgCJ21a3A6h1AqHysK9MpH",_="ExA6GYhHAeRNMWVNLrDir1SKPJZcZA2oaPq6uriSmxfJ";async function G(e){let t=[{pubkey:new i.PublicKey(e.userAccountAddress),isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey("E64NGkDLLCdQ2yFNPcavaKptrEgmiQaNykUuLC1Qgwyp"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("AQAGYQsdU853WAKhXM79CgNdoyhrRwXvYHX6qrDyC1FS"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("buy"===e.type?e.userWsolAccountAddress:e.userUsd1AccountAddress),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("buy"===e.type?e.userUsd1AccountAddress:e.userWsolAccountAddress),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("buy"===e.type?W:F),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("buy"===e.type?F:W),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("2s8VC2vpZcoUCbvEqwUagvdyHfUeWYQZuKV376acx6iF"),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}];for(let r of(await I(e.usdPerSol)))t.push({pubkey:new i.PublicKey(r),isSigner:!1,isWritable:!0});return t}let V="pSoL47GE52V2bgUUyQvs9LSdWQZsokarp2yNsWQaLYy",z="pBasedTVV99yFBmg2u6Uvka9fJueRcs7SB9PJ2HfrEn",X="BaAw9xsjbixDxa5DqaXyyNFWcaqvwo3vuw5UzBqMbCfN",j=.95,H=e=>e.mul((0,l.newSafeBN)(c.AXIOM_FEE_BASIS_POINTS)).div((0,l.newSafeBN)(c.BASIS_POINTS_DIVISOR)),Q=[new i.AddressLookupTableAccount({key:new i.PublicKey("GwME2SEvkgtiL5d2UeR2ZCsEecvg879majGF5pAA1aTS"),state:i.AddressLookupTableAccount.deserialize(t.Buffer.from("AQAAAP//////////hxwJFgAAAADaAR2Yv793Oc59BVPZLSsUuL9smVEZfewGPES9oLYyRE14AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMGRm/lIRcy/+ytunLDm+e8jOW7xfcSayxDmzpAAAAABqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGSxWjuCKhF9z0peIzwNcMUWyGrNE2AYuqUAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/yMlyWPTiSJ8bs9ECkUjg2DC1oTmdr/EIQEjnvY2+n4WQabiFf+q4GE+2h/Y0YYwDXaxDncGus7VZig8AAAAAABS9lJxDYCwz8gd5DtFqNSTKG5l1zxIaKpDP/sffi2is1BV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCA0HUagoLaYTBf4pnDe5mOWEcdsRNQNzEPi+EEWmCvbuhQ8tbgKkevgk0Jq2ncQtcMsoy/okn7fuV7nSVsEnYu+pKlqLTylZUoQlUKqT/VuVtazmqOuSDJOULkNpDCDsc+sA2fWykrQhSsfQN7TW8GRQuWRgDfNzBSu16E8vjppnsyE/uov5yH+pHkeBlijDg+AL6n6Yx6A+A7oQac/D9vMBVuD2k2Zaz0TbFWi/F1uqUYnLl/XS/ztlXSu2/W0YsDqGXmnuD1SAyrz2Y1fk3C8Y1Y1Fwep0ifs3I9l5PHKmrPE26wH8HE6IPSPItYRKtZo39mrdV8XprDtT4FnTXGQMFN78gl7GdpQlCBi7ZUBl9CmNMVbVcbTU+AkMGOmoY4kLpkT+H1WqGfEc0tLsFNMjO24KS+ru9ytphY4h4XDWCWAMpST3sbfWzLHDlzqgMw0ZA9pgHMm13uPGYrTK0UnM+ALUzMyE1/shtfc7SdgaFsW0yI7jI5ThyR01iMxAgJP/Zbm2NFCyLfXLlNjf5tNjSkF4Wbq8lwDsHrxHLWt0XhE7A3OtRTHRkX4UmSgsor5/Uyc0VOL7yw1ZkP1x6jozxRHBeLZAPcCT5m6HAci1RrRtumdDzLVm6eM34vF/jaz1R0Q2FSRDM3RlF/7BSYR3XQYMIyQT1rR5jeeMz44qjj5sOSRR2GqzgM8UF4rm7xXlbsH4F4NypGRC2xEPejeT/2W/8kf8Dh76zhcb0VYFJLdJisRke9Upy9O0i9m225P/ZcZ2dg2VUpvRPA7z8OzwCFAr/NHJxGzjZkq2iGE5CvHDQyGIyjpjUTWhOhiVG6g28J7c9ttfXVBaMnBQ/5nTdCF2uJxeFMlrdImYQh84EB4J5cWTMbFotiXNJxW7JvYXzUUQr3DHYZIEmfj+l9WyMRpp4ZoXaDyiqqSL7Jp92E4SkMGY54i6DhFPA4IUZ5YI2ij80goWMe/Dk/u/aSrgBMh865j6XOR/gDgG/Sx5RdKVJJWa7ADe2XgU8494RpwlJHx6/mh3nE583EE55WuEze54pO2bR06h+o7pPOIlSsL40N1cvJfjKJwZfLUGKlTz2Va5zm5RFfllZ6pcs+Z32RWVX4iAcxzrSnWgzJbBdPpAlcTh2ZZ6z8QoRa5nrv+Dg4GLqPoow807bV6T+fq48Jebw3IVrMWyRod7qMPJufBGo6LPTuIStPqS/Z0A+k+ws/z9Nh5ArlOR+WA16mNjg3MADqIssmTTSv9koEte+r+7dN3NBImXsZgVR9fREAe0ZyjFA6fIFZjsUWe5tjKg2nvc6Y8HxZZ7EO1veKHOYIzMHfzpYbQ7d5wZFQWm4tO/RdWk20YYrXbILWF1RTVdDjJtTGrX/32PUz/DCQhUvR/vMpEIQA9fVdeeS4eAUYOEdCkuZ1qUtDbssKmYiUIyioPdxiM4ApYSZ8XNYRfLomMXpTug/WjEyVPsMPDgm45zaHUcsoFUhsrj6Z0K+d2NGBoMhJ+pN6bzSt7TCB75VwCqywybs9kJpLkUdSek69QRe5ZGOuprDbyDGh4HnYHacr2qjLLmyH7CUkqIrVpVZR00PM+B28xdjsApZbKrB+dZJyNf5WA3ma+5NWP15b6B+1BsTuaV7jL+DS81TPQbJZCFQpzhg6+Pw3meqCDzcrcoj2zeZFoIvZhyRXD7EOz3W7ccl9haP98vcJgQY3F6MF3fYsrAK+AHlHYNjVtPWWl5U8Ym2zqd/skCGp1wmlhap6OruVZxcMYMa9QlDVImBJx+OhOdnKnLSfxNnAwfzO4kY2YDwqRaa5iqFy0IVpfZGFeUj508Wvm4bSFuhcWYc0wxonmwqxK2bfPe6Qx/t4e3W0fHYEy8XdvX2SC9BUg30iBa7GF4byTfEARd3aYtTkR3BkUh1k3sYHDfoXUwC3Wlt35kMeejmbGEjZxEd98uMxb+kWSgVEt9HIH5nF9saWonOMcQdIO//j2f5pcKaFmypPuEgP6U7gXKouLtg8+6qhEjB1wuRopYMluIN9h1/RcBbvTPHW9oIRM2VtfBtEBOXlWWz5xVDg1iXNFowULCYx1MAhF8zWVf6QkbGRpAul2i8XaZRGHiA6hd9z4V/vWd0YtrRRshEwwEd4kJvkz2oFXtZ9x9U3AypHWCvIrG6zxFuDDn9/eM3uvKiBXqnGjM3HqIl6SCrp5I4T1+3bDksdOq5ZFdcj/2UxwTObjbPjVymbg1TTK4VqVUhT+YwiuT6wP6jrp7KpbG+geEGvdi1tETPELhDus7WIVSwygPfqwTEPrl9RJtJGc3OBZ/wCzplpfRQ5QggCpoHW12+2oThgzAO24hluhENPsjisqR8RuS6vIu/Fm3za4ofOof2GiCaFhtodJXmUMxb/i5hyxRDHQZEOowcreVXJsF6vopOHtEHZ2NZW/cLI8sb4DK1+GbWBD7uTJU+l/NGElNhB/252ESB0q0sy4572WaF8J1FE+x6SNVfEVun+FLiGpGNy4cpnZPsVGtgUe6C7UqQ5MuTBREw6hZ2TKCIDc1ojMCx74rHexhw1PyPeVx5RFcLj6tSWQJNv7C387I+v/7cbWFsGsPRmF7bB15wYcIMkp/XtvJV9mW6ATsndRquMxw15FGqtcOBQoyQlf08G2FaRBSatssaNY0e74pkyXGAiy6OechyaJVv9d9DP6AjJx53URbBDOsolt+Yk4aZqMmYZ84/YWNGn+wCGtc12gXlBLSBSdxb+XbPwAx/6968oI1QXWQ2FhjPYPcgyIZUqLMBP2he7q9mL/Zz/3sgJYEREtQz3GwifgfXeVLkVoI83GEr5qr8H9JUST+pQg7uCHJnQf17VeI6S8NfbmomDtsmHB3wZdvXZJRAKA5ZeTH2qzh72iVW9z3kvJqck3mfXooGnRDtDdKCanVbuMLk+mL+1BigMWCJkDhK8PvZ1DLk6qYdGtfrMg2jKfbeDTWwRicZiUCYQFuSCscVdpYH/vQgEgDkTQSFEXYIlN/AzY41jK4bgOQftLsSbHU/kb1Fm9wrkmvckfbZvNBROyydTSu3M3v8X+/u3lmVWoWDk8ktytEmYsnVn4CJloaI3jtWUxtsKY9AIU6mBdBWcJlYlfxMDEzRwDM+I/s4oIraYzfhOgt3i+ml9G4S8wuISZNlja7My7WrlhnzyKZySv8KiBNdrWbZ0KqUKPVpO3r1ktRWiAbzdrCzDIvNvo4zqSNFhYvJrYqZKNBhDmad2MqKF9xVHZOKOe/9icq3P4HSaCcmqcGKJeeEiT4IFjiGro6AFqaQkJXWsOehFiVIkw757bP9oARAE9VjGhFnh/t7atOO5cWOUrrNVf/j2tStLI71M0ngqvXGnygA2oQH0wIncp30/DxOnVyhv/mEfo+OwFYxQ80r4I14XKo6G0SHS/YwiUry3ojuscWiy7U1dVWGWbKMLFhBvTN/AEE3eBr+vRgO+AktasxStiy+FooW4ow1LW0I6jnZSa5UVYmNUqw0v+hjefm9KFgSzpf1ovv2SE1RiH5yRwyY6BPWQ8EEFxITQ5ySAP1ZPy2D37BBT9jz2CosvW4e3ubO5Rkqhq1rmTOtHUYsjA8Dm4Cn5lLslQtD9oghtnDlm6/G1qAxjMDLd+XfJiRBHnVW/IxwG7udMVuzmgVB/2xst6j9I5RArHNola8E4+0P/on9df2SnTAmx8pWHneSwmrNt/J3VFLMhqns4zl6D1uRy5npG6mtL0Lq539NeK0xy8dbVnC6rlclCVzrSLxuHDhLdN5iRVh0un6jyZDGDTrc28vJPwqKk3/H9XcpN/yy7m3YO3bGFcGMDBjrTPXtXKW6gLU4DNeMc6vpMxC3cb6evO+2606PWXzaqvJdDGxu+TC0vbg5HymAgNFL11hBOnhL7yE6CbJMszp4mQMzhVZDBxic7CSVwi6O4UgsLwFSlNamSkhBk0k6HFg2jh8fDW13bySu4HkH6hAQQVEjbJw1n+pjFHPAhMFE1iWK681dCvtWcnZRF6cDQyFx82RISi5HN6xkJypDYUt7ezKW3M6OBbKhOZLKKgaJw39Df+jzQw0mBO/zaw+DLigjQnNb9pIR2DVi2p2E+24q9/GYSQSuPNbB23b+s5fWYYtUp9G9mod1ijTewUPlGc0vehHZiWKf/dNTgUjNaqUnNlegv7xwrI/SnaKZ33Fl4B+VszaY2gfcoa8yAZxniwrUKIBVyQ7/JZosRUgvFOEPtzbCAktITVlehWcK4fUtmpw246XUjif92qvIGztBjo4+VrtCvHDQyGIyjpjUTlQciQ1oBQH8ZdGjmI0c+GjtBBQ/5kK8cNDIYjKOmNRPP+qL9Ykf9jyj7Al6QmKcu01sFD/mQrxw0MhiMo6Y1FAruI7dqjrqfOIGb1v3qEENrdQUP+ZCvHDQyGIyjpjUUReGkcXLVd69ICDVPazt5WAOPBQ/5kK8cNDIYjKOmNRSA1SUrexw0v1eOzsfYjOJsm6kFD/mQrxw0MhiMo6Y1FLvIpeWDYvHPZxVoQEXeS4EzwwUP+ZCvHDQyGIyjpjUU9rwmn4uprt92nAG4sy+0lcvdBQ/5kK8cNDIYjKOmNRUxr6dZk/Br74YimzEggR2qY/cFD/mQrxw0MhiMo6Y1FWyjKBOcNyj/lak0qY3Shr78EQUP+ZCvHDQyGIyjpjUVp5aozaR95g+lL84h+yPv05QrBQ/5kK8cNDIYjKOmNRXiiimHrMSjH7S2Z5podVjoLEUFD/mQrxw0MhiMo6Y1Fh19qkG1C2AvxD0BEtXGwfzEXwUP+ZCvHDQyGIyjpjUWWHEq+71SHT/Tw5qLQxgrEVx5BQ/5kK8cNDIYjKOmNRaTZKu1xZjaT+NKNAOwaZQl9JMFD/mQrxw0MhiMo6Y1Fs5YLG/N35df8tDNfB26/TqMrQUP+ZCvHDQyGIyjpjUXCUutKdYmVHACV2b0iwxmTyTHBQ/5kK8cNDIYjKOmNRdEPy3j3m0RgBHeAGz4Xc9jvOEFD/mQrxw0MhiMo6Y1F38yrp3ms86QIWSZ5WWvOHhU+wUP+ZCvHDQyGIyjpjUXuiYvV+76i6Aw6zNd0wChjO0VBQ/5kK8cNDIYjKOmNRf1GbAR90FIsEBxzNZAUgqhhS8FD/mQrxw0MhiMo6Y1GDANMMv/iAXAT/hmTq2jc7YdSQUP+ZCvHDQyGIyjpjUYawCxhgfOwtBffv/HGvTcyrVjBQ/5kK8cNDIYjKOmNRil9DJAEBV/4G8FmT+IRkXfTX0FD/mQrxw0MhiMo6Y1GODnsvoYXDzwfowyt/WXrvPllwUP+ZCvHDQyGIyjpjUZG9sztCCi+gCOEswwYukYCH2xBQ/5kK8cNDIYjKOmNRlWzrRuKOm3EJ2ZZajQOoEdFcsFD/mQrxw0MhiMo6Y1GZHCNSgxMHQgrR//IT2L6jGt5QUP+ZCvHDQyGIyjpjUZzLW14jl3MTC8ppiZqt1TRkX/BQ/5kK8cNDIYjKOmNRoHqTacQb3uQMwtMhIYLrxa3hkFD/mQrxw0MhiMo6Y1GkKct1ZKBKtQ27PLioWAJW92MwUP+ZCvHDQyGIyjpjUafZA4EFJLaGDrOmUC8tGOhA5NBQ/5kK8cNDIYjKOmNRq4g7jKWpIlcPrA/ntgIveYpmcFD/mQrxw0MhiMo6Y1GvN3OYRi2OKBCkeX8810YK0+gQUP+ZCvHDQyGIyjpjUbLmq6Pmsfn5EZzjFsOsXJwdabBQ/5kK8cNDIYjKOmNRtpXjr4c2ZcoSlUyuSoFzLWbrUFD/mQrxw0MhiMo6Y1G6RRu7J7rRmxONtkXRVom+sGzwUP+ZCvHDQyGIyjpjUb30U8bIPz1sFIYf3VgroE/57pBQ/5kK8cNDIYjKOmNRwaOL0mjDqT0Vfol03wC24UNwMFD/mQrxw0MhiMo6Y1HFUsPeCUgVDhZ28wxl1c1yjPHQUP+ZCvHDQyGIyjpjUckB++mpzIDfF29co+yq5APWc3BQ/5nyzNU1rKXxc2rIIt0Hc+TZL72KWbKUA1AClakBHHOp5Sp257NEZAoc/FlMi8rQoJEBHKx90Va/g6gz+yII63etbdZfEtJQdH0sOjpm6c4Zzp4cc4hgSRZ3MV31cvhw/f8NDWEOc4CRcf0ZniAaqoBWr/zyJbnVcWuRAkykq5z0Rm5xkebepS5+j3xiPXwNO6u7PYic7466DkkzgOh4nnVjBUpTUPhdyILWFKVWcniKKW3fHqur0KYGeIhJMvTu9qAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAAtwZbHj0XxFOJ1Sf2sEw81YuGxzGqD9tUm20bwD+ClGyEnL/umMNixxf+itGY1D4m20llwoq2DxrrlZe80+/PQGRfZP3LsAd00a+IkCpA22UNQMKdq5BFbJuwuOLqc8zxCTDlqxBG8J0HcxtfogQHDK06ukzfaXiNDKAob1MqBHR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHgzCgMtr4xksUDg4Ac9EMBgPnj+GYyI6yAEGlxDb99UHy5TnV0kQpGsm0Z4gxxeAvGHMIXL7Kqzlbkz+AdjWvvcC3bawd9bs9q7ZRSOZGoXbJ6f3dUqwEgyJ2ArU2LXaJHuJF/oaClnBFjOE5XvKU1JFFb+AcUun43vxMygROELv2LAP8nxBBRnK/Gee1Sg8PLkM6Yq7u4OJb4532qVutltN9LMnrw/JNO0hqMVB4rk/2ou4AB1loQ7FZoPwut2o4KZB+0p9xnbrQKw038qjpHar+PyDwvxBRcu5hpHw3dguezeWv+IwvgW5icu8EGkhGa9AkFPPJT7VMSFb8xowveW/DqLLNk6ppK2shiqH5DzBkJ+1MfvZX8AUjX8cB/DYG6agv+yzZVeCO5wr7F396fqIUJPTawCW9igBaVKhCCfWKy+EPXpPEmOxuCd7WQadA8IVKhrFRurZXVs8wVDdVg8FEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcJ/h1kZHXDyshRTJ1cBKA+75w9IwihSFNbCJrm2AsTU0lc7CqWkF/n8zcaywCNy9eCUJycfw+lJNiwAyBxqpxhC84xG5AQwJWjO+zZFzD36lzS0r3gpFiO1BIDbN9VhFgelx0mCP7+Q5JRzm+EE7QzkfNOD1W4t345aGXi0dhfHeBbmZjDDu3JNxZ5J9sxDBuYDpqrMoG+j404rQK1ZedjYXEs508VZ4LmiCcYmZAJ7qw5p9zFkdDwthi4IadiiahwnOkEPOaHXiIxRyjpUZScnkl1SZi/L29VIDs7GyT1T/KeszODNwtUne7liBz99xuNgD9mYPLnJ/5+pnkI4w9uuiYAlncWQ+j17PQrJyHi+0khtP+pRm/cXz9GXFpAlwf94Y8R2FV462vxjznlxpNHyyyowm5PpoLNsOndqAsIpgYqU87qGd9BoiPIo/FUcw+QszFrbtpttXgwSH4xgBKOKUHjTaJynKs1f3JXl/MkmSzh7M/D7QQqy6hflZC5vYT4PGQasNdev+evbTHb3VU+9xNT9v5v6jaQL0bSRxd5OUuNTprZNBdaVniAFR0GXWOBPuY5tJOktuU2JdmwuRuZVdnC8Upe5rlxQqVZ53/DfSySYRStpO5Cq2qvl8dk9b2fnsSZ5OJ/ouMcvZgkVmRBT5OsmYXOrOYXj9vw7Cs9ACmuXyZfergtQh0BL9r7XUHoNYPVeTb75Kf3h0sLjGOQ7ha2XDxzhe7NyJVt6kc6aehbNW7/TLcoKssJJ9DFDduvwMkKhXOGC0+xLadlmOwEYhmCdTRCky/7YydGycrB2nVWysJfziP+q9pmfhaEq6eKmmBNs3YRSzS09M/nlB+CP6cqaO1ZbkhizvYWsTAkpig1+yapoXijml/i/3OA/BXBj/kjhckpQvYvbmb2QBBxb8r4fVFMURSiPxnhqOk6YAH90bQI6YKmFUxbYIIy+fGFwaJKA+ekO5a7qqIns0bvJ7mS8eB5+Co8t6Jyyk0nkSkvdeJE0sza2YksjVrADA7J3qIe/R0KQxhEpprqtxpl5jCYoKRySbSQzYk2aeaYBoFBDubCYgzQgzFfh/lbqP0+plZwnEXuvXtP+VAECZyOi6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQeDqBUmIQ+UoOjoTSCHADs6QmDSnOedrP4hpOp3H6YoVxqOAcjfeCD51ms8c2W40eSvqBt4VMwu91zvWL0Ihn4HBy8FSrSNmH2k5ZaeYyzd843WQUE0naQbC2lbkdFcOouoBS+9oBDWaPF6ItfJsK05ti+YEl+Ao7jkfwWOT4U9QYimat7vgQTlXxHksRrrrf4DGkyml6mO9sl1F60vk0i2iJ66D0TR7BOkRTFRZAZUw0vRTuSQDQBUvpNvVQuQQxuzMR5wrJ8bgcURSUfILvEio8DlNEIAF54rKAjnMTy0YGmOoXt1QcckTBGkAg97HlOrFzG7LJ+jpunJLKMKzemWuTvTNM9f/Gn18t6R3KzQZQxHFOMa5fHW6ZgGXqHDGntyhlQi4JO2S5KIN4VP7PdWgTY2e53KDFpCcvDeBEiR8emQam3+qRKpvHtF1Fi0p2yuuW7lIB5hlxANBr6srC/Z43muccQHrOyvERB3Ee6vHb7tmq6FmYSy3N5CMGKU7gUEO5VNyibh75G1LE+Pia+Kb1rIxiFW8XHPDyGsUckiuSKMBfFUH3UunCy/ULpN/wL2FOZ/HjxlDj66rszAC5XFV1/isn/INyYA3xRahkj7bku0zutrXckReF/Pl6+lWg==","base64"))})],Z=(e,t,r=c.TOKEN_PROGRAM_ADDRESS,o,s)=>{let u=(0,a.getAssociatedTokenAddressSync)(new i.PublicKey(t),e,s??!1,new i.PublicKey(r),new i.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS));return{ataInstruction:(0,n.createAssociatedTokenAccountIdempotentInstruction)(o??e,u,e,new i.PublicKey(t),new i.PublicKey(r),new i.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS)),ataAddress:u.toString()}};function Y(e){return void 0!==e.vanishKey}function J({baseComputeUnits:e,isUsdc:t,isUsd1:i,isVanish:r}){let n=e;return(t||i)&&(n+=1e5),r&&(n+=5e4),n}function $(e,t,i){return i?Math.min(9,Math.ceil((0,l.fromSafeBN)(e)/10**t/1e9*100/.5)):1}let ee=e=>{let t=new r.default(1e4);e.extraLamports&&(t=t.add(e.extraLamports)),"buy"===e.type&&(t=t.add(e.amount.divn(99).add((0,l.newSafeBN)(1))));let i=1;return e.isWsol&&i++,e.isUsdc&&i++,e.isUsd1&&i++,"buy"===e.type&&(i+=$(e.expectedAmountOut,e.tokenDecimals,!0)),t=t.add((0,l.newSafeBN)(c.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS*i))},et=async({instructions:e,wallet:r,swapSettings:n,blockhash:o,nonceInstruction:a,providers:s,lookupTables:d,computeUnits:m,rewardsPercentage:p,swapInfo:b})=>{let A,y;s=s??["jito"];let w=(A=Math.min(Math.floor(p/2.5),40),y=u.default.encode(t.Buffer.from([A])),`jitodontfront${y}1111111TradeWithAxiomDotTrade`),S=r.vanishKey;return await Promise.all(s.map(async s=>{let p=[...e],A=n;S&&(A={...n,bribeFeeSol:0,priorityFeeSol:0}),ei({instructions:p,walletAddress:r.publicKey,swapSettings:A,computeUnits:m??c.SWAP_COMPUTE_UNITS,provider:s});let y={pubkey:new i.PublicKey(w),isSigner:!1,isWritable:!1};if(!S&&n.priorityFeeSol&&p[0].keys.push(y),a&&p.unshift(a),S){if(!b)throw Error("Swap info not found");let e=new i.TransactionMessage({payerKey:new i.PublicKey(r.publicKey),recentBlockhash:o,instructions:p}),a=new i.VersionedTransaction(e.compileToV0Message(d)),s=t.Buffer.from(a.serialize()).toString("base64"),c=i.Keypair.fromSecretKey(u.default.decode(S)),m=(0,l.newSafeBN)((n.bribeFeeSol+n.priorityFeeSol)*1e9);if(m.lt((0,l.newSafeBN)(1e4)))throw Error("Total bribe + priority fee must be at least 0.00001 SOL for Vanish trades");(0,h.fetchAndSetVanishOneTimeWallet)().catch(()=>{});let A=$(b.expectedAmountOut,b.tokenDecimals,b.sourceTokenAddress===g.NATIVE_SOL_TOKEN_ADDRESS);try{let e=await (0,f.executeVanishTrade)({userAddress:c.publicKey.toString(),privateKeyBase58:S,sourceTokenAddress:b.sourceTokenAddress,targetTokenAddress:b.targetTokenAddress,amount:b.amount.toString(),swapTransaction:s,loanAdditionalSol:b.loanExtraLamports.add(m).toString(),jitoTipAmount:m.toString(),splitRepay:A,oneTimeWallet:r.publicKey});return{base64Tx:"",signature:e.tx_id}}catch{throw Error("Error executing Vanish trade")}}let k=en(r)?r:i.Keypair.fromSecretKey(u.default.decode(r.privateKey));return await eo({instructions:p,blockhash:o,signer:k,lookupTables:d})}))},ei=({instructions:e,computeUnits:t,swapSettings:r,walletAddress:n,provider:o})=>{let a;o=o??"jito";let s=new i.PublicKey(n);if("jito"===o){if(r.bribeFeeSol>=1e-6){let e=["96gYZGLnJYVFmbjzopPSU6QiEV5fGqZNyN9nmNhvrZU5","HFqU5x63VTqvQss8hp11i4wVV8bD44PvwucfZ2bU7gRe","Cw8CFyM9FkoMi7K7Crf6HNQqf4uEMzpKw6QNghXLvLkY","ADaUMid9yfUytqMBgopwjb2DTLSokTSzL1zt6iGPaS49","DfXygSm4jCyNCybVYYK6DwvWqjKee8pbDmJGcLWNDXjh","ADuUkR4vqLUMWXxW9gh6D6L8pMSawimctcNZ5pGwDcEt","DttWaMuVvTiduZRnguLF7jNxTgiMBZ1hyAumKUiL2KRL","3AVi9Tg9Uo68tJfuvoKvqKNWKkC5wPdSSdeBnizKZ6jT"];a=e[Math.floor(Math.random()*e.length)]}}else if("temporal"===o||"temporal-priority"===o||"temporal-bribe"===o){if(r.bribeFeeSol>=.001){let e=["axmMdWvgEnN3NFrxMfTqUURzj9NLhZL2DkHkWCdgiFV","axmQTWU68qZ4fuG7zzkCXCBmxxeHVZrNrLkgxEFCbRv","axmhpocX3hU7nT7KtsLBzNBR1Ur3HtU22Q5P313FREY","axmD4LFJopAcbRKCKsrrmovCZZzmKQCMEfs5qEXj8dG","axmWxBPqgRmcBN2cV12quqaQzsk16SazVXq8397KFKu","axmFmfqQwZGEUZeF3i3MqbRCDiGPfshtbdoBjk41k88","axmYVq9b1ABYqtyizMtyfJppPTPxZGXPLctB3hV6W5b","axm2JQY1FKEktAwgXWqjGYkkWsWPfwKzgbnGVt5kiP4"];a=e[Math.floor(Math.random()*e.length)]}}else if("0xslot"===o||"0xslot-bribe"===o){let e=["Eb2KpSC8uMt9GmzyAEm5Eb1AAAgTjRaXWFjKyFXHZxF3","FCjUJZ1qozm1e8romw216qyfQMaaWKxWsuySnumVCCNe","ENxTEjSQ1YabmUpXAdCgevnHQ9MHdLv8tzFiuiYJqa13","6rYLG55Q9RpsPGvqdPNJs4z5WTxJVatMB8zV3WJhs5EK","Cix2bHfqPcKcM233mzxbLk14kSggUUiz2A87fJtGivXr","6fQaVhYZA4w3MBSXjJ81Vf6W1EDYeUPXpgVQ6UQyU1Av","4HiwLEP2Bzqj3hM2ENxJuzhcPCdsafwiet3oGkMkuQY4","7toBU3inhmrARGngC7z6SjyP85HgGMmCTEwGNRAcYnEK","8mR3wB1nh4D6J9RUCugxUpc6ya8w38LPxZ3ZjcBhgzws","6SiVU5WEwqfFapRuYCndomztEwDjvS5xgtEof3PLEGm9","TpdxgNJBWZRL8UXF5mrEsyWxDWx9HQexA9P1eTWQ42p","D8f3WkQu6dCF33cZxuAsrKHrGsqGP2yvAHf8mX6RXnwf","GQPFicsy3P3NXxB5piJohoxACqTvWE9fKpLgdsMduoHE","Ey2JEr8hDkgN8qKJGrLf2yFjRhW7rab99HVxwi5rcvJE","4iUgjMT8q2hNZnLuhpqZ1QtiV8deFPy2ajvvjEpKKgsS","3Rz8uD83QsU8wKvZbgWAPvCNDU6Fy8TSZTMcPm3RB6zt","6MgjyQU7G988jgL6EGAgfHYoeesCnwYMyPeh1fpJ71FP","AumQWSLrWwDXRq1yDEYPiw8vT5NUBYzrbdWCprJ4ZUa8","ForLDu55GfA2U1aTUaitmjzjs92vvVn1MSqzY3D9HtAK","AsEF2SWSEZ1xpGZ5fdzDKaoka1XEtFSjGo39YUXkpvAh","2WoQNgmc4SEXrR3rKQypmeWmsxGqHHE6rApnVrP6Pt77","12pHu2j2DDShyCVFU7vtSLXga74et9y83VD38mw6XYhB"];a=e[Math.floor(Math.random()*e.length)]}else if("bloxroute"===o){let e=["HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY","95cfoy472fcQHaw4tPGBTKpn6ZQnfEPfBgDQx6gcRmRg","3UQUKjhMKaY2S6bjcQD6yHB7utcZt5bfarRCmctpRtUd","FogxVNs6Mm2w9rnGL1vkARSwJxvLE8mujTv3LK8RnUhF"];a=e[Math.floor(Math.random()*e.length)]}else if("helio"===o)a="HYseAPq3ZPYzA35hLsEgmdsKCZQ3P7FBCcCPPytRtyTz";else if("astralane"===o){let e=["ASTRa2mTtzDFyjDHdSTMGa5sGg7bdVZNqDCPWH6ZZXax","AsTrACB6f3qtnZ1jpwPUui9714sHsS9Jtgaiy1ay4gAx","ASTrARNVyyJrzDm8QxJ7p3BJF3BVB5vWDXjjVGQEuBAX","AstRaL1TEkvTHBWAYvgGRzq9ViBags5nZGQ5eguABJAX"];a=e[Math.floor(Math.random()*e.length)]}else if("nextblock"===o){let e=["NextbLoCkVtMGcV47JzewQdvBpLqT9TxQFozQkN98pE","NexTbLoCkWykbLuB1NkjXgFWkX9oAtcoagQegygXXA2","NeXTBLoCKs9F1y5PJS9CKrFNNLU1keHW71rfh7KgA1X","NexTBLockJYZ7QD7p2byrUa6df8ndV2WSd8GkbWqfbb","neXtBLock1LeC67jYd1QdAa32kbVeubsfPNTJC1V5At","nEXTBLockYgngeRmRrjDV31mGSekVPqZoMGhQEZtPVG","NEXTbLoCkB51HpLBLojQfpyVAMorm3zzKg7w9NFdqid","nextBLoCkPMgmG8ZgJtABeScP35qLa2AMCNKntAP7Xc"];a=e[Math.floor(Math.random()*e.length)]}else if("merkle"===o){let e=["TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","Eqd6r1pThnbYgtn6kLy4a7zFELFHkyiFesiYaC6eYg9v","9xSYXtWXX2Gv6x3QA8Ffv1mGeLzn2oV2Sh3ZLrcxF8EX","ARFWuFgvNjjAyw8Sb77JjZF2kQvduCh9uWyYU9wrdgNp","AKAikQvacoWtK3TC6Wx4TUappTw6NuTnPqWHBA6WymgP","5yhYeqTB7tNXJUEopfCMX43pcFdCaQFjdUxb3RqAg5yY","2NASvutUxvRWuvVygtVyT2vsNgFDbg5Gbe8K8mzZAkje","FGtPX6qVePUPwYJ29tENeDu7ucFVLQmkeNDthYjPYPeB","8B6Ayvfq2yNnAai3dkdmoExpxcyBbwhptTQTdndPZUUG","Aru6VYgVEvz2Bki6Sm4fjNuJAc1XVbD7gyRBLsNe3MoB","BgNWpV557p3fPUmHCREg1qwUdDRKtzKpndJijs4sWd3u","A9Hk5FtpHvED5TN49y4ahmBtc1sNWoFEnPiXXGPxAmNj","H5DNFugVFjFRkPhcTkVCRfTugVzGYa3jATa7zed4pbFg","8h2PSH4XaMp28JWRDEwDmXyQWMyLWT5RYA9WKkcCiPvZ","Hjaq8W4h4RBKx11YNRyQMRJtU7ccVoXv46cgLAbgMEjV","TJzUUoKA3ngRDkgf6g42r2tv4uUNnf2S2mngawi61fi","G7bdAL1cykNJaSnfCZGGVfuBeKf3R1dx2H1JjQhhKsRf","3GHLrYyEPsfVnFwcPg1EJst1rkLhxRHaYuS7UL36kwtA","CPh9BMcZfzYd5NJf2ucDAAz5PWK32EgJY9qRGm2rQNAy","9YS3QR6o8JEfsvyNHNuG5NqxaFsJnRr6t6itM7b73YjD","6TbHNfUpLpGjn1R7PiPMsxsffivE3noMMJ8oCTyxiuPQ"];a=e[Math.floor(Math.random()*e.length)]}else if("flashblock"===o){let e=["FLaShB3iXXTWE1vu9wQsChUKq3HFtpMAhb8kAh1pf1wi","FLashhsorBmM9dLpuq6qATawcpqk1Y2aqaZfkd48iT3W","FLaSHJNm5dWYzEgnHJWWJP5ccu128Mu61NJLxUf7mUXU","FLaSHR4Vv7sttd6TyDF4yR1bJyAxRwWKbohDytEMu3wL","FLASHRzANfcAKDuQ3RXv9hbkBy4WVEKDzoAgxJ56DiE4","FLasHstqx11M8W56zrSEqkCyhMCCpr6ze6Mjdvqope5s","FLAShWTjcweNT4NSotpjpxAkwxUr2we3eXQGhpTVzRwy","FLasHXTqrbNvpWFB6grN47HGZfK6pze9HLNTgbukfPSk","FLAshyAyBcKb39KPxSzXcepiS8iDYUhDGwJcJDPX4g2B","FLAsHZTRcf3Dy1APaz6j74ebdMC6Xx4g6i9YxjyrDybR"];a=e[Math.floor(Math.random()*e.length)]}else if("helius"===o){let e=["4ACfpUFoaSD9bfPdeu6DBt89gB6ENTeHBXCAi87NhDEE","D2L6yPZ2FmmmTKPgzaMKdhu6EWZcTpLy1Vhx8uvZe7NZ","9bnz4RShgq1hAnLnZbP8kbgBg1kEmcJBYQq3gQbmnSta","5VY91ws6B2hMmBFRsXkoAAdsPHBJwRfBht4DXox3xkwn","2nyhqdwKcJZR2vcqCyrYsaPVdAnFoJjiksCXJ7hfEYgD","2q5pghRs6arqVjRvT5gfgWfWcHWmw1ZuCzphgd5KfWGJ","wyvPkWjVZz1M8fHQnMMCDTQDbkManefNNhweYk5WkcF","3KCKozbAaF75qEU33jtzozcJ29yJuaLJTy2jFdzUY8bT","4vieeGHPYPG2MmyPRcYjdiDmmhN3ww7hsFNap8pVN3Ey","4TQLFNWK8AovT1gFvda5jfw2oJeRMKEmw7aH6MGBJ3or"];a=e[Math.floor(Math.random()*e.length)]}let u=r.priorityFeeSol,c=r.bribeFeeSol,d=u+c;if("temporal-priority"===o||"0xslot-priority"===o?(u=.9*d,c=.09999999999999998*d):("temporal-bribe"===o||"0xslot-bribe"===o)&&(u=d*(1-j),c=d*j),a){let t=i.SystemProgram.transfer({fromPubkey:s,toPubkey:new i.PublicKey(a),lamports:BigInt((1e9*c).toFixed(0))});e.push(t)}let m=(0,l.newSafeBN)(1e9*u).mul((0,l.newSafeBN)(1e6)).div((0,l.newSafeBN)(t));u>0&&er({instructions:e,computeUnits:t,microLamports:m})},er=({instructions:e,computeUnits:t,microLamports:r,numPrefixInstructions:n=0})=>{let o=i.ComputeBudgetProgram.setComputeUnitLimit({units:t}),a=i.ComputeBudgetProgram.setComputeUnitPrice({microLamports:BigInt(String(Math.round(Number(r.toString()))))});e.splice(n,0,o,a)},en=e=>void 0!==e.signTransaction,eo=async({signer:e,instructions:r,blockhash:n,lookupTables:o})=>{let a=Array.isArray(e)?e:[e];if(0===a.length)throw Error("No signers provided");let s=en(a[0])?new i.PublicKey(a[0].publicKey):a[0].publicKey,l=new i.TransactionMessage({payerKey:s,recentBlockhash:n,instructions:r}),c=new i.VersionedTransaction(o?l.compileToV0Message(o):l.compileToLegacyMessage());if(a.some(en)){let e=await Promise.all(a.map(async(e,t)=>en(e)?(await e.signTransaction(c)).signatures[t]:(c.sign([e]),c.signatures[t])));for(let t=0;t<e.length;t++)c.signatures[t]=e[t]}else c.sign(a);let d=c.serialize();return{base64Tx:t.Buffer.from(d).toString("base64"),signature:u.default.encode(c.signatures[0])}},ea=e=>{let r=t.Buffer.from(e,"base64");try{let e=i.VersionedTransaction.deserialize(r);return u.default.encode(e.signatures[0])}catch(t){console.error("getSignatureFromBase64",t);let e=i.Transaction.from(r);return u.default.encode(e.signatures[0].signature??[])}},es=async(e,t,i={})=>{try{if(t.mevProtection)return;let r={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:0,...i}]},n=await s.default.post(d.HELIUS_FRONTEND_RPC_URL,r);if(n.data?.result)return n.data.result;return}catch{return}},eu=async(e,t)=>{let i,r=t?"bundles":"transactions",n=`https://slc.mainnet.block-engine.jito.wtf/api/v1/${r}`,o=`https://frankfurt.mainnet.block-engine.jito.wtf/api/v1/${r}`,a=`https://ny.mainnet.block-engine.jito.wtf/api/v1/${r}`,u=`https://tokyo.mainnet.block-engine.jito.wtf/api/v1/${r}`,l=`https://amsterdam.mainnet.block-engine.jito.wtf/api/v1/${r}`,c=`https://london.mainnet.block-engine.jito.wtf/api/v1/${r}`;i="bundles"===r?{jsonrpc:"2.0",id:1,method:"sendBundle",params:[[e,t],{encoding:"base64"}]}:{jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",maxRetries:5}]};let d=[n,o,a,u,l,c];for(let e=0;e<d.length;e++)s.default.post(d[e],i).catch(()=>{})},el=async(e,t,i)=>{let r=i?"d0815c33-5d16-468e-8413-8101482faacc":t?"9acaf288-e73b-4133-a5f3-12fa5d31205b":"0ce8ae77-b0e2-4e12-81af-00cd2bfb974b";for(let t of[`https://nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://lax1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://ash1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://ewr1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://fra2.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://pit1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://ams1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://sgp1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`,`https://tyo1.secure.nozomi.temporal.xyz/api/sendTransaction2?c=${r}`])s.default.post(t,e,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},ec=async(e,t,i)=>{let r=i?"&secure=true":t?"&anti-mev=true":"",n={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64"}]};for(let e of[`https://la1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://ny3.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://ash1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://dal1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://ams1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://de1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://jp1.0slot.trade/?id=047c0844952a48fab5d608fb7647a9ae${r}`,`https://sgp1.0slot.trade/?id=e619b143d79f4049a12cb2f336104cfd${r}`,`https://chi1.0slot.trade/?id=e619b143d79f4049a12cb2f336104cfd${r}`,`https://sv1.0slot.trade/?id=e619b143d79f4049a12cb2f336104cfd${r}`])s.default.post(e,n,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},ed=async(e,t)=>{if(t)return;let i={jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0}]};for(let e of["https://quicksol.merkle.io/"])s.default.post(e,i).catch(()=>{})},em=async(e,t)=>{let i="AxiomozyNSTbBlP88VY35BvSdDVS3du1be8Q1VMmconPgpWFVWnpmfnpUrhRj97F";for(let r of[`https://axiom-fra.gateway.astralane.io/iris2?api-key=${i}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://axiom-ca.gateway.astralane.io/iris2?api-key=${i}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://fr.gateway.astralane.io/iris2?api-key=${i}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://ams.gateway.astralane.io/iris2?api-key=${i}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://jp.gateway.astralane.io/iris2?api-key=${i}&method=sendTransaction${t?"&mev-protect=true":""}`,`https://sg.gateway.astralane.io/iris2?api-key=${i}&method=sendTransaction${t?"&mev-protect=true":""}`])s.default.post(r,e,{headers:{"Content-Type":"text/plain"}}).catch(()=>{})},ep=(e,t,i,r)=>{let n={mevProtection:t.mevProtection,enhancedMevProtection:t.enhancedMevProtection,wallets:e.map(e=>({transactions:e.transactions.map(e=>({base64Tx:e.base64Tx,provider:e.provider}))}))};if(0!==n.wallets.length){if(m.axiomApi.post("/batched-send-tx-v2",n).catch(()=>{}),m.axiomApiV2.post("/batched-send-tx-v2",n,{urlOverride:"https://axiom-backend-production.up.railway.app/tx-pro"}).catch(()=>{}),!r){for(let e of n.wallets.slice(0,3))for(let i of e.transactions)"0xslot"===i.provider&&ec(i.base64Tx,t.mevProtection,t.enhancedMevProtection);if(!t.enhancedMevProtection)for(let e of n.wallets.slice(0,3))s.default.post("https://tx.axiomext.net",{message:e.transactions[0]?.base64Tx},{headers:{"Content-Type":"text/plain"}}).catch(()=>{});for(let e of n.wallets.slice(0,3))for(let i of e.transactions)"temporal"===i.provider&&el(i.base64Tx,t.mevProtection,t.enhancedMevProtection);for(let e of n.wallets[0].transactions)"temporal-bribe"===e.provider?el(e.base64Tx,t.mevProtection,t.enhancedMevProtection):"0xslot-bribe"===e.provider&&ec(e.base64Tx,t.mevProtection,t.enhancedMevProtection);for(let e of(es(n.wallets[0].transactions[0].base64Tx,t),n.wallets.slice(0,3)))for(let i of e.transactions)"jito"===i.provider?eu(i.base64Tx):"merkle"===i.provider?ed(i.base64Tx,t.mevProtection):"astralane"===i.provider&&em(i.base64Tx,t.mevProtection)}if(t.customRpcUrl&&!t.mevProtection){let e={customRpcUrl:t.customRpcUrl,transactions:n.wallets.map(e=>({base64Tx:e.transactions[0].base64Tx}))};m.axiomApiV2.post("/batched-send-custom-tx",e,{urlOverride:"https://axiom-backend-production.up.railway.app/tx-custom"}).catch(()=>{})}}},ef=async e=>{let t={mevProtection:!1},i={skipPreflight:!0,preflightCommitment:"confirmed"},r=eh(e,t,i),n=es(e,t,i);try{let e=await r;if(e)return e;throw Error("Unexpected Error")}catch(t){let e=await n;if(e)return e;throw t}},eh=async(e,t,i={})=>{let r={isSmartMEV:t.mevProtection,jsonrpc:"2.0",id:1,method:"sendTransaction",params:[e,{encoding:"base64",skipPreflight:!0,preflightCommitment:"confirmed",maxRetries:5,...i}]};return(await s.default.post("/api/swap",r)).data.result};function eg(e){let{signature:t,callback:r,commitment:n,protocol:o,pairAddress:a}=e;return(e.connection??new i.Connection(d.HELIUS_FRONTEND_RPC_URL)).onSignature(t,e=>{if(e.err){let t=e.err?.InstructionError?.[1],i=t?.Custom;if(30===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(100===i)r(!1,"Transaction failed and priority fees were consumed: Insufficient input tokens");else if(17===i)r(!1,"Transaction failed and priority fees were consumed: token creator froze your tokens");else if(29===i)r(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(6005===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded or bonding curve complete");else if(o===c.PROTOCOL_HEAVEN&&6013===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(o===c.PROTOCOL_HEAVEN)r(!1,"Transaction failed and priority fees were consumed: Trading is not enabled yet, wait for an official announcement.");else if(6027===i||6013===i||6006===i)r(!1,"Transaction failed and priority fees were consumed: bonding curve complete");else if(6001===i||6002===i||6003===i||6004===i||6005===i||103===i||6040===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(6e3===i)r(!1,"Transaction failed and priority fees were consumed: pool not open yet");else if(2505===i)r(!1,"Transaction failed and priority fees were consumed: pool liquidity too low");else if(3012===i)r(!1,"Transaction failed and priority fees were consumed: Cannot find your token account, refreshing");else if(1===i||40===i||6023===i)r(!1,"Transaction failed and priority fees were consumed: Insufficient tokens");else if(38===i)r(!1,"Transaction failed and priority fees were consumed: token account closed, refresh and retry");else if(0===i)r(!1,"Transaction failed and priority fees were consumed: slippage exceeded");else if(3003===i)r(!1,"Transaction failed and priority fees were consumed: Account not extended, place a buy of any size in order to sell");else if(6015===i)r(!1,"Transaction failed and priority fees were consumed: Price out of allowed range of the pool, try a different pool");else if(2001===i)r(!1,"Transaction failed and priority fees were consumed: Did you change primary wallets after creating a yield account?");else if(2006===i){if(r(!1,"Transaction failed and priority fees were consumed: Coin creator changed, refreshing data..."),(o===c.PROTOCOL_PUMP||o===c.PROTOCOL_PUMP_AMM)&&a){let e=o===c.PROTOCOL_PUMP?"bondingCurve":"pool";m.axiomApiV2.post("/update-pump-creator",{pairAddress:a,type:e}).catch(()=>{})}}else"UnbalancedInstruction"===t?r(!1,"Transaction failed and priority fees were consumed: The Pump program has a bug, place a buy of any size in order to sell"):"ComputationalBudgetExceeded"===t?r(!1,"Transaction failed and priority fees were consumed: Transaction too large, contact support"):"ProgramFailedToComplete"===t?r(!1,"Transaction failed and priority fees were consumed: Invalid swap data, contact support"):r(!1,`Transaction failed and priority fees were consumed: ${JSON.stringify(e.err)}`)}else r(!0,"Transaction confirmed!")},n??"confirmed")}let eb=(e,t,i,r,n)=>{let o=()=>{i.send(JSON.stringify({action:"join",room:e}))};i.readyState===WebSocket.OPEN?o():r.push(o),n.push(i=>{try{JSON.parse(i.data).room===e&&t(!0,"Transaction confirmed!")}catch{}})};async function eA(e){let t=[],r=0,n=new i.Connection(d.HELIUS_FRONTEND_RPC_URL),o=[];try{let i=[];for(let t of e)eh(t,{mevProtection:!1},{skipPreflight:!0}).catch(console.error),i.push(ea(t));let a=new Promise(e=>{setTimeout(()=>{e()},6e4)}),s=await Promise.race([Promise.all(i.map(e=>new Promise(i=>{let a=eg({signature:e,callback:(e,n)=>{e?r++:t.push(n),i()},connection:n});o.push(a)}))),a]);return Array.isArray(s)||t.push("Transaction(s) timed out"),{numSuccess:r,numFailed:e.length-r,errorMessages:t}}catch(i){return t.push((0,p.getErrorMessage)(i)),{numSuccess:r,numFailed:e.length-r,errorMessages:t}}finally{for(let e of o)n.removeSignatureListener(e).catch(()=>{})}}async function ey(e){let r,n,o,a,{userWalletAddress:s,tokenAddress:u,tokenProgramAddress:l}=e;if(e.userTokenAccountAddress)r=e.userTokenAccountAddress;else{let{ataInstruction:t,ataAddress:n}=Z(new i.PublicKey(s),u,l);r=n,e.instructions.push(t)}if(e.usdc){let{ataInstruction:t,ataAddress:r}=Z(new i.PublicKey(s),c.USDC_TOKEN_ADDRESS,c.TOKEN_PROGRAM_ADDRESS);n=r,e.instructions.push(t)}if(e.usd1){let{ataInstruction:t,ataAddress:r}=Z(new i.PublicKey(s),c.USD1_TOKEN_ADDRESS,c.TOKEN_PROGRAM_ADDRESS);o=r,e.instructions.push(t)}return e.wsolAmount&&(a=e.psol?eS(new i.PublicKey(s),e.wsolAmount,e.instructions).toBase58():function(e,r,n){let[o,a]=i.PublicKey.findProgramAddressSync([t.Buffer.from("wrapped_sol_account"),e.toBuffer()],new i.PublicKey(B)),s=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey(c.WSOL_TOKEN_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],u=r.toArrayLike(t.Buffer,"le",8),l=new i.TransactionInstruction({keys:s,programId:new i.PublicKey(B),data:t.Buffer.concat([t.Buffer.from([1]),u,t.Buffer.from([a])])});return n.push(l),o.toBase58()}(new i.PublicKey(s),e.wsolAmount,e.instructions)),{userTokenAccountAddress:r,userUsdcAccountAddress:n,userUsd1AccountAddress:o,userWsolAccountAddress:a}}let ew=(e,t,r,n=c.TOKEN_PROGRAM_ADDRESS)=>{r.push((0,o.createCloseAccountInstruction)(new i.PublicKey(t),new i.PublicKey(e),new i.PublicKey(e),void 0,new i.PublicKey(n)))},eS=(e,n,o)=>{let{ataInstruction:a,ataAddress:s}=Z(e,V);if(o.push(a),n.lte(new r.default(0)))return new i.PublicKey(s);let u=[{pubkey:new i.PublicKey(X),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey(V),isSigner:!1,isWritable:!0},{pubkey:new i.PublicKey("71J1bTThWGXD9qVxsyYwxZbGG5GbdUzV7t7ohkuGxt5a"),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(s),isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:new i.PublicKey(c.TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(c.ASSOCIATED_TOKEN_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(c.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:new i.PublicKey(c.RENT_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1}],l=n.toArrayLike(t.Buffer,"le",8),d=new i.TransactionInstruction({keys:u,programId:new i.PublicKey(z),data:t.Buffer.concat([t.Buffer.from("2f3e9bac83cd25c9","hex"),l])});return o.push(d),new i.PublicKey(s)}},592e3,114175,e=>{"use strict";e.s(["fetchAndSetVanishOneTimeWallet",()=>y,"processVanishDeposit",()=>k,"processVanishWithdrawal",()=>S,"safeCommitVanishAction",()=>w,"vanishOneTimeWalletAddress",()=>A],592e3);var t=e.i(467034),i=e.i(682382),r=e.i(40039),n=e.i(85026),o=e.i(127261),a=e.i(103476);e.i(465903);var s=e.i(767924),u=e.i(91204),l=e.i(247317),c=e.i(973444),d=e.i(444610);e.i(559136);var m=e.i(150237),p=e.i(422876),f=e.i(717725),h=e.i(858010);let g=(0,d.struct)([(0,d.u8)("instruction"),(0,m.u64)("amount")]);function b(e,i,r,n,a=[],s=p.TOKEN_PROGRAM_ID){let u=(0,f.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],r,a),l=t.Buffer.alloc(g.span);return g.encode({instruction:h.TokenInstruction.Transfer,amount:BigInt(n)},l),new o.TransactionInstruction({keys:u,programId:s,data:l})}e.s(["createTransferInstruction",()=>b],114175);let A=null;async function y(){let e=await (0,r.getVanishOneTimeWallet)();return A=e.address,e.address}async function w(e){let t=null;try{t=await (0,r.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending")try{t=await (0,r.commitVanishAction)({txId:e})}catch{}if(t?.status==="pending"){await (0,u.sleep)(1e3);try{t=await (0,r.commitVanishAction)({txId:e})}catch{}}return t?.status==="pending"&&((0,u.sleep)(3e4),t=await (0,r.commitVanishAction)({txId:e})),t?.status==="pending"&&((0,u.sleep)(35e3),t=await (0,r.commitVanishAction)({txId:e})),t}async function S({selectedToken:e,amountRaw:u,primaryWalletAddress:c,primaryWalletKey:d}){(0,n.addPriorityFeeInstructions)({instructions:[],computeUnits:e===i.NATIVE_SOL_TOKEN_ADDRESS?1e4:75e3,microLamports:25e5});let m=await (0,r.withdrawFromVanish)({userAddress:c,tokenAddress:e,amount:u.toString(),additionalSol:e===i.NATIVE_SOL_TOKEN_ADDRESS?"0":s.TOKEN_ACCOUNT_RENT_EXEMPTION_LAMPORTS.toString(),privateKeyBase58:d}),p=o.VersionedTransaction.deserialize(t.Buffer.from(m.transaction,"base64"));p.sign([o.Keypair.fromSecretKey(a.default.decode(d))]);let f=a.default.encode(p.signatures[0]);try{let{numFailed:e,errorMessages:i}=await (0,n.sendAndMonitorSimpleTxBatched)([t.Buffer.from(p.serialize()).toString("base64")]);if(e>0)throw Error(`Error withdrawing from Vanish: ${i.join(", ")}`)}catch(e){throw Error(`Error withdrawing from Vanish: ${(0,l.getErrorMessage)(e)}`)}finally{try{await w(f)}catch(e){throw Error(`Error committing Vanish withdraw: ${(0,l.getErrorMessage)(e)}`)}}}async function k({selectedToken:e,amountRaw:t,primaryWalletAddress:s,primaryWalletKey:l,sourceTokenAccountAddress:d,tokenProgram:m,safeBlockhash:p}){let f,h=await (0,r.getVanishDepositAddress)({tokenAddress:e}),g=[];if(e===i.NATIVE_SOL_TOKEN_ADDRESS){g.push(o.ComputeBudgetProgram.setComputeUnitLimit({units:450})),g.push(o.ComputeBudgetProgram.setComputeUnitPrice({microLamports:1e7}));let e=o.SystemProgram.transfer({fromPubkey:new o.PublicKey(s),toPubkey:new o.PublicKey(h.address),lamports:(0,c.fromSafeBN)(t)});g.push(e)}else{if(!d||!m)throw Error("Source token account address or token program not found");g.push(o.ComputeBudgetProgram.setComputeUnitLimit({units:55e3})),g.push(o.ComputeBudgetProgram.setComputeUnitPrice({microLamports:25e5}));let{ataInstruction:i,ataAddress:r}=(0,n.makeCreateATAInstruction)(new o.PublicKey(h.address),e,m,new o.PublicKey(s),!0);g.push(i);let a=b(new o.PublicKey(d),new o.PublicKey(r),new o.PublicKey(s),BigInt(t.toString()),void 0,new o.PublicKey(m));g.push(a)}let{base64Tx:A,signature:y}=await (0,n.compileTransaction)({signer:o.Keypair.fromSecretKey(a.default.decode(l)),instructions:g,blockhash:p}),{numFailed:w,errorMessages:S}=await (0,n.sendAndMonitorSimpleTxBatched)([A]);if(w>0)throw Error(`Error depositing to Vanish: ${S.join(", ")}`);return"completed"!==(f=await (0,r.commitVanishAction)({txId:y})).status&&(await (0,u.sleep)(1e3),"completed"!==(f=await (0,r.commitVanishAction)({txId:y})).status&&(await (0,u.sleep)(3e3),f=await (0,r.commitVanishAction)({txId:y}))),f}},361884,(e,t,i)=>{var r=e.r(377684),n=e.r(877289);t.exports=function(e){return"symbol"==typeof e||n(e)&&"[object Symbol]"==r(e)}},9903,(e,t,i)=>{var r=e.r(45350),n=e.r(361884),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var i=typeof e;return!!("number"==i||"symbol"==i||"boolean"==i||null==e||n(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},657588,(e,t,i)=>{var r=e.r(587547);function n(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var i=function(){var r=arguments,n=t?t.apply(this,r):r[0],o=i.cache;if(o.has(n))return o.get(n);var a=e.apply(this,r);return i.cache=o.set(n,a)||o,a};return i.cache=new(n.Cache||r),i}n.Cache=r,t.exports=n},688832,(e,t,i)=>{var r=e.r(657588);t.exports=function(e){var t=r(e,function(e){return 500===i.size&&i.clear(),e}),i=t.cache;return t}},902677,(e,t,i)=>{var r=e.r(688832),n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g;t.exports=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(n,function(e,i,r,n){t.push(r?n.replace(o,"$1"):i||e)}),t})},892708,(e,t,i)=>{t.exports=function(e,t){for(var i=-1,r=null==e?0:e.length,n=Array(r);++i<r;)n[i]=t(e[i],i,e);return n}},372537,(e,t,i)=>{var r=e.r(630353),n=e.r(892708),o=e.r(45350),a=e.r(361884),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(o(t))return n(t,e)+"";if(a(t))return l?l.call(t):"";var i=t+"";return"0"==i&&1/t==-s?"-0":i}},702922,(e,t,i)=>{var r=e.r(372537);t.exports=function(e){return null==e?"":r(e)}},186287,(e,t,i)=>{var r=e.r(45350),n=e.r(9903),o=e.r(902677),a=e.r(702922);t.exports=function(e,t){return r(e)?e:n(e,t)?[e]:o(a(e))}},2054,(e,t,i)=>{var r=e.r(361884),n=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}},333141,(e,t,i)=>{var r=e.r(186287),n=e.r(2054);t.exports=function(e,t){t=r(t,e);for(var i=0,o=t.length;null!=e&&i<o;)e=e[n(t[i++])];return i&&i==o?e:void 0}},482820,(e,t,i)=>{var r=e.r(333141);t.exports=function(e,t,i){var n=null==e?void 0:r(e,t);return void 0===n?i:n}},524251,(e,t,i)=>{var r=e.r(841920);t.exports=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},674548,(e,t,i)=>{var r=e.r(524251);t.exports=function(e,t,i){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}},4300,(e,t,i)=>{var r=e.r(674548),n=e.r(25172),o=Object.prototype.hasOwnProperty;t.exports=function(e,t,i){var a=e[t];o.call(e,t)&&n(a,i)&&(void 0!==i||t in e)||r(e,t,i)}},942173,(e,t,i)=>{var r=e.r(4300),n=e.r(186287),o=e.r(66397),a=e.r(12447),s=e.r(2054);t.exports=function(e,t,i,u){if(!a(e))return e;t=n(t,e);for(var l=-1,c=t.length,d=c-1,m=e;null!=m&&++l<c;){var p=s(t[l]),f=i;if("__proto__"===p||"constructor"===p||"prototype"===p)break;if(l!=d){var h=m[p];void 0===(f=u?u(h,p,m):void 0)&&(f=a(h)?h:o(t[l+1])?[]:{})}r(m,p,f),m=m[p]}return e}},348707,(e,t,i)=>{var r=e.r(942173);t.exports=function(e,t,i){return null==e?e:r(e,t,i)}},983607,(e,t,i)=>{t.exports&&(t.exports=function(e){return e.prototype.toFormat=function(e,t,i){if(!this.e&&0!==this.e)return this.toString();var r,n,o,a,s,u,l,c,d,m,p,f,h,g,b,A=this.format||{},y=this.constructor.format||{};if(e!=s?"object"==typeof e?(i=e,e=s):t!=s?"object"==typeof t?(i=t,t=s):"object"!=typeof i&&(i={}):i={}:i={},c=(r=this.toFixed(e,t).split("."))[0],d=r[1],u=(l=this.s<0?c.slice(1):c).length,(m=i.decimalSeparator)==s&&(m=A.decimalSeparator)==s&&(m=y.decimalSeparator)==s&&(m="."),(p=i.groupSeparator)==s&&(p=A.groupSeparator)==s&&(p=y.groupSeparator),p&&((f=i.groupSize)==s&&(f=A.groupSize)==s&&(f=y.groupSize)==s&&(f=0),(h=i.secondaryGroupSize)==s&&(h=A.secondaryGroupSize)==s&&(h=y.secondaryGroupSize)==s&&(h=0),h?(n=+h,u-=o=+f):(n=+f,o=+h),n>0&&u>0)){for(a=u%n||n,c=l.substr(0,a);a<u;a+=n)c+=p+l.substr(a,n);o>0&&(c+=p+l.slice(a)),this.s<0&&(c="-"+c)}return d?((g=i.fractionGroupSeparator)==s&&(g=A.fractionGroupSeparator)==s&&(g=y.fractionGroupSeparator),g&&((b=i.fractionGroupSize)==s&&(b=A.fractionGroupSize)==s&&(b=y.fractionGroupSize)==s&&(b=0),(b*=1)&&(d=d.replace(RegExp("\\d{"+b+"}\\B","g"),"$&"+g))),c+m+d):c},e.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:"",fractionGroupSize:0},e})},651655,(e,t,i)=>{!function(i){"use strict";var r,n={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,a="[DecimalError] ",s=a+"Invalid argument: ",u=a+"Exponent out of range: ",l=Math.floor,c=Math.pow,d=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=l(1286742750677284.5),p={};function f(e,t){var i,r,n,a,s,u,l,c,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?P(t,m):t;if(l=e.d,c=t.d,s=e.e,n=t.e,l=l.slice(),a=s-n){for(a<0?(r=l,a=-a,u=c.length):(r=c,n=s,u=l.length),a>(u=(s=Math.ceil(m/7))>u?s+1:u+1)&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((u=l.length)-(a=c.length)<0&&(a=u,r=c,c=l,l=r),i=0;a;)i=(l[--a]=l[a]+c[a]+i)/1e7|0,l[a]%=1e7;for(i&&(l.unshift(i),++n),u=l.length;0==l[--u];)l.pop();return t.d=l,t.e=n,o?P(t,m):t}function h(e,t,i){if(e!==~~e||e<t||e>i)throw Error(s+e)}function g(e){var t,i,r,n=e.length-1,o="",a=e[0];if(n>0){for(o+=a,t=1;t<n;t++)(i=7-(r=e[t]+"").length)&&(o+=S(i)),o+=r;(i=7-(r=(a=e[t])+"").length)&&(o+=S(i))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}p.absoluteValue=p.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},p.comparedTo=p.cmp=function(e){var t,i,r,n;if(e=new this.constructor(e),this.s!==e.s)return this.s||-e.s;if(this.e!==e.e)return this.e>e.e^this.s<0?1:-1;for(t=0,i=(r=this.d.length)<(n=e.d.length)?r:n;t<i;++t)if(this.d[t]!==e.d[t])return this.d[t]>e.d[t]^this.s<0?1:-1;return r===n?0:r>n^this.s<0?1:-1},p.decimalPlaces=p.dp=function(){var e=this.d.length-1,t=(e-this.e)*7;if(e=this.d[e])for(;e%10==0;e/=10)t--;return t<0?0:t},p.dividedBy=p.div=function(e){return b(this,new this.constructor(e))},p.dividedToIntegerBy=p.idiv=function(e){var t=this.constructor;return P(b(this,new t(e),0,1),t.precision)},p.equals=p.eq=function(e){return!this.cmp(e)},p.exponent=function(){return y(this)},p.greaterThan=p.gt=function(e){return this.cmp(e)>0},p.greaterThanOrEqualTo=p.gte=function(e){return this.cmp(e)>=0},p.isInteger=p.isint=function(){return this.e>this.d.length-2},p.isNegative=p.isneg=function(){return this.s<0},p.isPositive=p.ispos=function(){return this.s>0},p.isZero=function(){return 0===this.s},p.lessThan=p.lt=function(e){return 0>this.cmp(e)},p.lessThanOrEqualTo=p.lte=function(e){return 1>this.cmp(e)},p.logarithm=p.log=function(e){var t,i=this.constructor,n=i.precision,s=n+5;if(void 0===e)e=new i(10);else if((e=new i(e)).s<1||e.eq(r))throw Error(a+"NaN");if(this.s<1)throw Error(a+(this.s?"NaN":"-Infinity"));return this.eq(r)?new i(0):(o=!1,t=b(k(this,s),k(e,s),s),o=!0,P(t,n))},p.minus=p.sub=function(e){return e=new this.constructor(e),this.s==e.s?I(this,e):f(this,(e.s=-e.s,e))},p.modulo=p.mod=function(e){var t,i=this.constructor,r=i.precision;if(!(e=new i(e)).s)throw Error(a+"NaN");return this.s?(o=!1,t=b(this,e,0,1).times(e),o=!0,this.minus(t)):P(new i(this),r)},p.naturalExponential=p.exp=function(){return A(this)},p.naturalLogarithm=p.ln=function(){return k(this)},p.negated=p.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},p.plus=p.add=function(e){return e=new this.constructor(e),this.s==e.s?f(this,e):I(this,(e.s=-e.s,e))},p.precision=p.sd=function(e){var t,i,r;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(s+e);if(t=y(this)+1,i=7*(r=this.d.length-1)+1,r=this.d[r]){for(;r%10==0;r/=10)i--;for(r=this.d[0];r>=10;r/=10)i++}return e&&t>i?t:i},p.squareRoot=p.sqrt=function(){var e,t,i,r,n,s,u,c=this.constructor;if(this.s<1){if(!this.s)return new c(0);throw Error(a+"NaN")}for(e=y(this),o=!1,0==(n=Math.sqrt(+this))||n==1/0?(((t=g(this.d)).length+e)%2==0&&(t+="0"),n=Math.sqrt(t),e=l((e+1)/2)-(e<0||e%2),r=new c(t=n==1/0?"5e"+e:(t=n.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(n.toString()),n=u=(i=c.precision)+3;;)if(r=(s=r).plus(b(this,s,u+2)).times(.5),g(s.d).slice(0,u)===(t=g(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),n==u&&"4999"==t){if(P(s,i+1,0),s.times(s).eq(this)){r=s;break}}else if("9999"!=t)break;u+=4}return o=!0,P(r,i)},p.times=p.mul=function(e){var t,i,r,n,a,s,u,l,c,d=this.constructor,m=this.d,p=(e=new d(e)).d;if(!this.s||!e.s)return new d(0);for(e.s*=this.s,i=this.e+e.e,(l=m.length)<(c=p.length)&&(a=m,m=p,p=a,s=l,l=c,c=s),a=[],r=s=l+c;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,n=l+r;n>r;)u=a[n]+p[r]*m[n-r-1]+t,a[n--]=u%1e7|0,t=u/1e7|0;a[n]=(a[n]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++i:a.shift(),e.d=a,e.e=i,o?P(e,d.precision):e},p.toDecimalPlaces=p.todp=function(e,t){var i=this,r=i.constructor;return(i=new r(i),void 0===e)?i:(h(e,0,1e9),void 0===t?t=r.rounding:h(t,0,8),P(i,e+y(i)+1,t))},p.toExponential=function(e,t){var i,r=this,n=r.constructor;return void 0===e?i=v(r,!0):(h(e,0,1e9),void 0===t?t=n.rounding:h(t,0,8),i=v(r=P(new n(r),e+1,t),!0,e+1)),i},p.toFixed=function(e,t){var i,r,n=this.constructor;return void 0===e?v(this):(h(e,0,1e9),void 0===t?t=n.rounding:h(t,0,8),i=v((r=P(new n(this),e+y(this)+1,t)).abs(),!1,e+y(r)+1),this.isneg()&&!this.isZero()?"-"+i:i)},p.toInteger=p.toint=function(){var e=this.constructor;return P(new e(this),y(this)+1,e.rounding)},p.toNumber=function(){return+this},p.toPower=p.pow=function(e){var t,i,n,s,u,c,d=this,m=d.constructor,p=+(e=new m(e));if(!e.s)return new m(r);if(!(d=new m(d)).s){if(e.s<1)throw Error(a+"Infinity");return d}if(d.eq(r))return d;if(n=m.precision,e.eq(r))return P(d,n);if(c=(t=e.e)>=(i=e.d.length-1),u=d.s,c){if((i=p<0?-p:p)<=0x1fffffffffffff){for(s=new m(r),t=Math.ceil(n/7+4),o=!1;i%2&&B((s=s.times(d)).d,t),0!==(i=l(i/2));)B((d=d.times(d)).d,t);return o=!0,e.s<0?new m(r).div(s):P(s,n)}}else if(u<0)throw Error(a+"NaN");return u=u<0&&1&e.d[Math.max(t,i)]?-1:1,d.s=1,o=!1,s=e.times(k(d,n+12)),o=!0,(s=A(s)).s=u,s},p.toPrecision=function(e,t){var i,r,n=this,o=n.constructor;return void 0===e?(i=y(n),r=v(n,i<=o.toExpNeg||i>=o.toExpPos)):(h(e,1,1e9),void 0===t?t=o.rounding:h(t,0,8),i=y(n=P(new o(n),e,t)),r=v(n,e<=i||i<=o.toExpNeg,e)),r},p.toSignificantDigits=p.tosd=function(e,t){var i=this.constructor;return void 0===e?(e=i.precision,t=i.rounding):(h(e,1,1e9),void 0===t?t=i.rounding:h(t,0,8)),P(new i(this),e,t)},p.toString=p.valueOf=p.val=p.toJSON=function(){var e=y(this),t=this.constructor;return v(this,e<=t.toExpNeg||e>=t.toExpPos)};var b=function(){function e(e,t){var i,r=0,n=e.length;for(e=e.slice();n--;)i=e[n]*t+r,e[n]=i%1e7|0,r=i/1e7|0;return r&&e.unshift(r),e}function t(e,t,i,r){var n,o;if(i!=r)o=i>r?1:-1;else for(n=o=0;n<i;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function i(e,t,i){for(var r=0;i--;)e[i]-=r,r=+(e[i]<t[i]),e[i]=1e7*r+e[i]-t[i];for(;!e[0]&&e.length>1;)e.shift()}return function(r,n,o,s){var u,l,c,d,m,p,f,h,g,b,A,w,S,k,T,I,v,B,x=r.constructor,E=r.s==n.s?1:-1,R=r.d,N=n.d;if(!r.s)return new x(r);if(!n.s)throw Error(a+"Division by zero");for(c=0,l=r.e-n.e,v=N.length,T=R.length,h=(f=new x(E)).d=[];N[c]==(R[c]||0);)++c;if(N[c]>(R[c]||0)&&--l,(w=null==o?o=x.precision:s?o+(y(r)-y(n))+1:o)<0)return new x(0);if(w=w/7+2|0,c=0,1==v)for(d=0,N=N[0],w++;(c<T||d)&&w--;c++)S=1e7*d+(R[c]||0),h[c]=S/N|0,d=S%N|0;else{for((d=1e7/(N[0]+1)|0)>1&&(N=e(N,d),R=e(R,d),v=N.length,T=R.length),k=v,b=(g=R.slice(0,v)).length;b<v;)g[b++]=0;(B=N.slice()).unshift(0),I=N[0],N[1]>=1e7/2&&++I;do d=0,(u=t(N,g,v,b))<0?(A=g[0],v!=b&&(A=1e7*A+(g[1]||0)),(d=A/I|0)>1?(d>=1e7&&(d=1e7-1),p=(m=e(N,d)).length,b=g.length,1==(u=t(m,g,p,b))&&(d--,i(m,v<p?B:N,p))):(0==d&&(u=d=1),m=N.slice()),(p=m.length)<b&&m.unshift(0),i(g,m,b),-1==u&&(b=g.length,(u=t(N,g,v,b))<1&&(d++,i(g,v<b?B:N,b))),b=g.length):0===u&&(d++,g=[0]),h[c++]=d,u&&g[0]?g[b++]=R[k]||0:(g=[R[k]],b=1);while((k++<T||void 0!==g[0])&&w--)}return h[0]||h.shift(),f.e=l,P(f,s?o+y(f)+1:o)}}();function A(e,t){var i,n,a,s,l,d=0,m=0,p=e.constructor,f=p.precision;if(y(e)>16)throw Error(u+y(e));if(!e.s)return new p(r);for(null==t?(o=!1,l=f):l=t,s=new p(.03125);e.abs().gte(.1);)e=e.times(s),m+=5;for(l+=Math.log(c(2,m))/Math.LN10*2+5|0,i=n=a=new p(r),p.precision=l;;){if(n=P(n.times(e),l),i=i.times(++d),g((s=a.plus(b(n,i,l))).d).slice(0,l)===g(a.d).slice(0,l)){for(;m--;)a=P(a.times(a),l);return p.precision=f,null==t?(o=!0,P(a,f)):a}a=s}}function y(e){for(var t=7*e.e,i=e.d[0];i>=10;i/=10)t++;return t}function w(e,t,i){if(t>e.LN10.sd())throw o=!0,i&&(e.precision=i),Error(a+"LN10 precision limit exceeded");return P(new e(e.LN10),t)}function S(e){for(var t="";e--;)t+="0";return t}function k(e,t){var i,n,s,u,l,c,d,m,p,f=1,h=e,A=h.d,S=h.constructor,T=S.precision;if(h.s<1)throw Error(a+(h.s?"NaN":"-Infinity"));if(h.eq(r))return new S(0);if(null==t?(o=!1,m=T):m=t,h.eq(10))return null==t&&(o=!0),w(S,m);if(S.precision=m+=10,n=(i=g(A)).charAt(0),!(15e14>Math.abs(u=y(h))))return d=w(S,m+2,T).times(u+""),h=k(new S(n+"."+i.slice(1)),m-10).plus(d),S.precision=T,null==t?(o=!0,P(h,T)):h;for(;n<7&&1!=n||1==n&&i.charAt(1)>3;)n=(i=g((h=h.times(e)).d)).charAt(0),f++;for(u=y(h),n>1?(h=new S("0."+i),u++):h=new S(n+"."+i.slice(1)),c=l=h=b(h.minus(r),h.plus(r),m),p=P(h.times(h),m),s=3;;){if(l=P(l.times(p),m),g((d=c.plus(b(l,new S(s),m))).d).slice(0,m)===g(c.d).slice(0,m))return c=c.times(2),0!==u&&(c=c.plus(w(S,m+2,T).times(u+""))),c=b(c,new S(f),m),S.precision=T,null==t?(o=!0,P(c,T)):c;c=d,s+=2}}function T(e,t){var i,r,n;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length),r=0;48===t.charCodeAt(r);)++r;for(n=t.length;48===t.charCodeAt(n-1);)--n;if(t=t.slice(r,n)){if(n-=r,e.e=l((i=i-r-1)/7),e.d=[],r=(i+1)%7,i<0&&(r+=7),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=7;r<n;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=n;for(;r--;)t+="0";if(e.d.push(+t),o&&(e.e>m||e.e<-m))throw Error(u+i)}else e.s=0,e.e=0,e.d=[0];return e}function P(e,t,i){var r,n,a,s,d,p,f,h,g=e.d;for(s=1,a=g[0];a>=10;a/=10)s++;if((r=t-s)<0)r+=7,n=t,f=g[h=0];else{if((h=Math.ceil((r+1)/7))>=(a=g.length))return e;for(s=1,f=a=g[h];a>=10;a/=10)s++;r%=7,n=r-7+s}if(void 0!==i&&(d=f/(a=c(10,s-n-1))%10|0,p=t<0||void 0!==g[h+1]||f%a,p=i<4?(d||p)&&(0==i||i==(e.s<0?3:2)):d>5||5==d&&(4==i||p||6==i&&(r>0?n>0?f/c(10,s-n):0:g[h-1])%10&1||i==(e.s<0?8:7))),t<1||!g[0])return p?(a=y(e),g.length=1,t=t-a-1,g[0]=c(10,(7-t%7)%7),e.e=l(-t/7)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(0==r?(g.length=h,a=1,h--):(g.length=h+1,a=c(10,7-r),g[h]=n>0?(f/c(10,s-n)%c(10,n)|0)*a:0),p)for(;;)if(0==h){1e7==(g[0]+=a)&&(g[0]=1,++e.e);break}else{if(g[h]+=a,1e7!=g[h])break;g[h--]=0,a=1}for(r=g.length;0===g[--r];)g.pop();if(o&&(e.e>m||e.e<-m))throw Error(u+y(e));return e}function I(e,t){var i,r,n,a,s,u,l,c,d,m,p=e.constructor,f=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),o?P(t,f):t;if(l=e.d,m=t.d,r=t.e,c=e.e,l=l.slice(),s=c-r){for((d=s<0)?(i=l,s=-s,u=m.length):(i=m,r=c,u=l.length),s>(n=Math.max(Math.ceil(f/7),u)+2)&&(s=n,i.length=1),i.reverse(),n=s;n--;)i.push(0);i.reverse()}else{for((d=(n=l.length)<(u=m.length))&&(u=n),n=0;n<u;n++)if(l[n]!=m[n]){d=l[n]<m[n];break}s=0}for(d&&(i=l,l=m,m=i,t.s=-t.s),u=l.length,n=m.length-u;n>0;--n)l[u++]=0;for(n=m.length;n>s;){if(l[--n]<m[n]){for(a=n;a&&0===l[--a];)l[a]=1e7-1;--l[a],l[n]+=1e7}l[n]-=m[n]}for(;0===l[--u];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,o?P(t,f):t):new p(0)}function v(e,t,i){var r,n=y(e),o=g(e.d),a=o.length;return t?(i&&(r=i-a)>0?o=o.charAt(0)+"."+o.slice(1)+S(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n<0?"e":"e+")+n):n<0?(o="0."+S(-n-1)+o,i&&(r=i-a)>0&&(o+=S(r))):n>=a?(o+=S(n+1-a),i&&(r=i-n-1)>0&&(o=o+"."+S(r))):((r=n+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),i&&(r=i-a)>0&&(n+1===a&&(o+="."),o+=S(r))),e.s<0?"-"+o:o}function B(e,t){if(e.length>t)return e.length=t,!0}function x(e){if(!e||"object"!=typeof e)throw Error(a+"Object expected");var t,i,r,n=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<n.length;t+=3)if(void 0!==(r=e[i=n[t]]))if(l(r)===r&&r>=n[t+1]&&r<=n[t+2])this[i]=r;else throw Error(s+i+": "+r);if(void 0!==(r=e[i="LN10"]))if(r==Math.LN10)this[i]=new this(r);else throw Error(s+i+": "+r);return this}if((n=function e(t){var i,r,n;function o(e){if(!(this instanceof o))return new o(e);if(this.constructor=o,e instanceof o){this.s=e.s,this.e=e.e,this.d=(e=e.d)?e.slice():e;return}if("number"==typeof e){if(0*e!=0)throw Error(s+e);if(e>0)this.s=1;else if(e<0)e=-e,this.s=-1;else{this.s=0,this.e=0,this.d=[0];return}if(e===~~e&&e<1e7){this.e=0,this.d=[e];return}return T(this,e.toString())}if("string"!=typeof e)throw Error(s+e);if(45===e.charCodeAt(0)?(e=e.slice(1),this.s=-1):this.s=1,d.test(e))T(this,e);else throw Error(s+e)}if(o.prototype=p,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=x,void 0===t&&(t={}),t)for(i=0,n=["precision","rounding","toExpNeg","toExpPos","LN10"];i<n.length;)t.hasOwnProperty(r=n[i++])||(t[r]=this[r]);return o.config(t),o}(n)).default=n.Decimal=n,r=new n(1),"function"==typeof define&&define.amd){let t;e.r,void 0!==(t=n)&&e.v(t)}else t.exports?t.exports=n:(i||(i="undefined"!=typeof self&&self&&self.self==self?self:Function("return this")()),i.Decimal=n)}(e.e)},858352,(e,t,i)=>{var r=e.r(674548),n=e.r(25172);t.exports=function(e,t,i){(void 0===i||n(e[t],i))&&(void 0!==i||t in e)||r(e,t,i)}},536755,(e,t,i)=>{t.exports=function(e){return function(t,i,r){for(var n=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++n];if(!1===i(o[u],u,o))break}return t}}},98728,(e,t,i)=>{t.exports=e.r(536755)()},622781,(e,t,i)=>{var r=e.r(139088),n=i&&!i.nodeType&&i,o=n&&t&&!t.nodeType&&t,a=o&&o.exports===n?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var i=e.length,r=s?s(i):new e.constructor(i);return e.copy(r),r}},425393,(e,t,i)=>{var r=e.r(263750);t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},514712,(e,t,i)=>{var r=e.r(425393);t.exports=function(e,t){var i=t?r(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}},776736,(e,t,i)=>{t.exports=function(e,t){var i=-1,r=e.length;for(t||(t=Array(r));++i<r;)t[i]=e[i];return t}},646352,(e,t,i)=>{var r=e.r(12447),n=Object.create;t.exports=function(){function e(){}return function(t){if(!r(t))return{};if(n)return n(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}()},962413,(e,t,i)=>{t.exports=e.r(825717)(Object.getPrototypeOf,Object)},992433,(e,t,i)=>{var r=e.r(646352),n=e.r(962413),o=e.r(763996);t.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(n(e))}},791072,(e,t,i)=>{var r=e.r(351095),n=e.r(877289);t.exports=function(e){return n(e)&&r(e)}},101320,(e,t,i)=>{var r=e.r(377684),n=e.r(962413),o=e.r(877289),a=Object.prototype,s=Function.prototype.toString,u=a.hasOwnProperty,l=s.call(Object);t.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=n(e);if(null===t)return!0;var i=u.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i instanceof i&&s.call(i)==l}},484305,(e,t,i)=>{t.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},372351,(e,t,i)=>{var r=e.r(4300),n=e.r(674548);t.exports=function(e,t,i,o){var a=!i;i||(i={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=o?o(i[l],e[l],l,i,e):void 0;void 0===c&&(c=e[l]),a?n(i,l,c):r(i,l,c)}return i}},513730,(e,t,i)=>{t.exports=function(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}},385689,(e,t,i)=>{var r=e.r(12447),n=e.r(763996),o=e.r(513730),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return o(e);var t=n(e),i=[];for(var s in e)"constructor"==s&&(t||!a.call(e,s))||i.push(s);return i}},689695,(e,t,i)=>{var r=e.r(458877),n=e.r(385689),o=e.r(351095);t.exports=function(e){return o(e)?r(e,!0):n(e)}},837153,(e,t,i)=>{var r=e.r(372351),n=e.r(689695);t.exports=function(e){return r(e,n(e))}},720346,(e,t,i)=>{var r=e.r(858352),n=e.r(622781),o=e.r(514712),a=e.r(776736),s=e.r(992433),u=e.r(473250),l=e.r(45350),c=e.r(791072),d=e.r(356956),m=e.r(771223),p=e.r(12447),f=e.r(101320),h=e.r(3023),g=e.r(484305),b=e.r(837153);t.exports=function(e,t,i,A,y,w,S){var k=g(e,i),T=g(t,i),P=S.get(T);if(P)return void r(e,i,P);var I=w?w(k,T,i+"",e,t,S):void 0,v=void 0===I;if(v){var B=l(T),x=!B&&d(T),E=!B&&!x&&h(T);I=T,B||x||E?l(k)?I=k:c(k)?I=a(k):x?(v=!1,I=n(T,!0)):E?(v=!1,I=o(T,!0)):I=[]:f(T)||u(T)?(I=k,u(k)?I=b(k):(!p(k)||m(k))&&(I=s(T))):v=!1}v&&(S.set(T,I),y(I,T,A,w,S),S.delete(T)),r(e,i,I)}},5702,(e,t,i)=>{var r=e.r(901551),n=e.r(858352),o=e.r(98728),a=e.r(720346),s=e.r(12447),u=e.r(689695),l=e.r(484305);t.exports=function e(t,i,c,d,m){t!==i&&o(i,function(o,u){if(m||(m=new r),s(o))a(t,i,u,c,e,d,m);else{var p=d?d(l(t,u),o,u+"",t,i,m):void 0;void 0===p&&(p=o),n(t,u,p)}},u)}},653336,(e,t,i)=>{t.exports=function(e){return e}},987160,(e,t,i)=>{t.exports=function(e,t,i){switch(i.length){case 0:return e.call(t);case 1:return e.call(t,i[0]);case 2:return e.call(t,i[0],i[1]);case 3:return e.call(t,i[0],i[1],i[2])}return e.apply(t,i)}},172953,(e,t,i)=>{var r=e.r(987160),n=Math.max;t.exports=function(e,t,i){return t=n(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=n(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=o[a];return l[t]=i(u),r(e,this,l)}}},556751,(e,t,i)=>{t.exports=function(e){return function(){return e}}},801647,(e,t,i)=>{var r=e.r(556751),n=e.r(524251),o=e.r(653336);t.exports=n?function(e,t){return n(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o},851994,(e,t,i)=>{var r=Date.now;t.exports=function(e){var t=0,i=0;return function(){var n=r(),o=16-(n-i);if(i=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},184665,(e,t,i)=>{var r=e.r(801647);t.exports=e.r(851994)(r)},395059,(e,t,i)=>{var r=e.r(653336),n=e.r(172953),o=e.r(184665);t.exports=function(e,t){return o(n(e,t,r),e+"")}},170237,(e,t,i)=>{var r=e.r(25172),n=e.r(351095),o=e.r(66397),a=e.r(12447);t.exports=function(e,t,i){if(!a(i))return!1;var s=typeof t;return("number"==s?!!(n(i)&&o(t,i.length)):"string"==s&&t in i)&&r(i[t],e)}},483495,(e,t,i)=>{var r=e.r(395059),n=e.r(170237);t.exports=function(e){return r(function(t,i){var r=-1,o=i.length,a=o>1?i[o-1]:void 0,s=o>2?i[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&n(i[0],i[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=i[r];u&&e(t,u,r,a)}return t})}},411595,(e,t,i)=>{var r=e.r(5702);t.exports=e.r(483495)(function(e,t,i){r(e,t,i)})},290705,49498,e=>{"use strict";let t,i,r,n,o,a,s,u,l,c;var d,m=e.i(127261),p=e.i(85026),f=e.i(659341),h=e.i(973444),g=e.i(467034),b=e.i(581949),A=e.i(482820),y=e.i(348707),w=e.i(946865),S=e.i(422876),k=e.i(444610);e.i(559136);var T=e.i(80070),P=e.i(150237);(ec=ed||(ed={}))[ec.Uninitialized=0]="Uninitialized",ec[ec.TransferFeeConfig=1]="TransferFeeConfig",ec[ec.TransferFeeAmount=2]="TransferFeeAmount",ec[ec.MintCloseAuthority=3]="MintCloseAuthority",ec[ec.ConfidentialTransferMint=4]="ConfidentialTransferMint",ec[ec.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",ec[ec.DefaultAccountState=6]="DefaultAccountState",ec[ec.ImmutableOwner=7]="ImmutableOwner",ec[ec.MemoTransfer=8]="MemoTransfer",ec[ec.NonTransferable=9]="NonTransferable",ec[ec.InterestBearingConfig=10]="InterestBearingConfig",ec[ec.CpiGuard=11]="CpiGuard",ec[ec.PermanentDelegate=12]="PermanentDelegate",ec[ec.NonTransferableAccount=13]="NonTransferableAccount",ec[ec.TransferHook=14]="TransferHook",ec[ec.TransferHookAccount=15]="TransferHookAccount",ec[ec.MetadataPointer=18]="MetadataPointer",ec[ec.TokenMetadata=19]="TokenMetadata",ec[ec.GroupPointer=20]="GroupPointer",ec[ec.TokenGroup=21]="TokenGroup",ec[ec.GroupMemberPointer=22]="GroupMemberPointer",ec[ec.TokenGroupMember=23]="TokenGroupMember",ec[ec.ScaledUiAmountConfig=25]="ScaledUiAmountConfig",ec[ec.PausableConfig=26]="PausableConfig",ec[ec.PausableAccount=27]="PausableAccount";function I(e){return(0,k.struct)([(0,P.u64)("epoch"),(0,P.u64)("maximumFee"),(0,k.u16)("transferFeeBasisPoints")],e)}BigInt(1e4);let v=(0,k.struct)([(0,T.publicKey)("transferFeeConfigAuthority"),(0,T.publicKey)("withdrawWithheldAuthority"),(0,P.u64)("withheldAmount"),I("olderTransferFee"),I("newerTransferFee")]);v.span,(0,k.struct)([(0,P.u64)("withheldAmount")]).span;var B="[big.js] ",x=B+"Invalid ",E=x+"decimal places",R=x+"rounding mode",N=B+"Division by zero",K={},M=void 0,W=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function F(e,t,i,r){var n=e.c;if(i===M&&(i=e.constructor.RM),0!==i&&1!==i&&2!==i&&3!==i)throw Error(R);if(t<1)r=3===i&&(r||!!n[0])||0===t&&(1===i&&n[0]>=5||2===i&&(n[0]>5||5===n[0]&&(r||n[1]!==M))),n.length=1,r?(e.e=e.e-t+1,n[0]=1):n[0]=e.e=0;else if(t<n.length){if(r=1===i&&n[t]>=5||2===i&&(n[t]>5||5===n[t]&&(r||n[t+1]!==M||1&n[t-1]))||3===i&&(r||!!n[0]),n.length=t,r){for(;++n[--t]>9;)if(n[t]=0,0===t){++e.e,n.unshift(1);break}}for(t=n.length;!n[--t];)n.pop()}return e}function O(e,t,i){var r=e.e,n=e.c.join(""),o=n.length;if(t)n=n.charAt(0)+(o>1?"."+n.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)n="0"+n;n="0."+n}else if(r>0)if(++r>o)for(r-=o;r--;)n+="0";else r<o&&(n=n.slice(0,r)+"."+n.slice(r));else o>1&&(n=n.charAt(0)+"."+n.slice(1));return e.s<0&&i?"-"+n:n}K.abs=function(){var e=new this.constructor(this);return e.s=1,e},K.cmp=function(e){var t,i=this.c,r=(e=new this.constructor(e)).c,n=this.s,o=e.s,a=this.e,s=e.e;if(!i[0]||!r[0])return i[0]?n:r[0]?-o:0;if(n!=o)return n;if(t=n<0,a!=s)return a>s^t?1:-1;for(n=-1,o=(a=i.length)<(s=r.length)?a:s;++n<o;)if(i[n]!=r[n])return i[n]>r[n]^t?1:-1;return a==s?0:a>s^t?1:-1},K.div=function(e){var t=this.constructor,i=this.c,r=(e=new t(e)).c,n=this.s==e.s?1:-1,o=t.DP;if(o!==~~o||o<0||o>1e6)throw Error(E);if(!r[0])throw Error(N);if(!i[0])return e.s=n,e.c=[e.e=0],e;var a,s,u,l,c,d=r.slice(),m=a=r.length,p=i.length,f=i.slice(0,a),h=f.length,g=e,b=g.c=[],A=0,y=o+(g.e=this.e-e.e)+1;for(g.s=n,n=y<0?0:y,d.unshift(0);h++<a;)f.push(0);do{for(u=0;u<10;u++){if(a!=(h=f.length))l=a>h?1:-1;else for(c=-1,l=0;++c<a;)if(r[c]!=f[c]){l=r[c]>f[c]?1:-1;break}if(l<0){for(s=h==a?r:d;h;){if(f[--h]<s[h]){for(c=h;c&&!f[--c];)f[c]=9;--f[c],f[h]+=10}f[h]-=s[h]}for(;!f[0];)f.shift()}else break}b[A++]=l?u:++u,f[0]&&l?f[h]=i[m]||0:f=[i[m]]}while((m++<p||f[0]!==M)&&n--)return!b[0]&&1!=A&&(b.shift(),g.e--,y--),A>y&&F(g,y,t.RM,f[0]!==M),g},K.eq=function(e){return 0===this.cmp(e)},K.gt=function(e){return this.cmp(e)>0},K.gte=function(e){return this.cmp(e)>-1},K.lt=function(e){return 0>this.cmp(e)},K.lte=function(e){return 1>this.cmp(e)},K.minus=K.sub=function(e){var t,i,r,n,o=this.constructor,a=this.s,s=(e=new o(e)).s;if(a!=s)return e.s=-s,this.plus(e);var u=this.c.slice(),l=this.e,c=e.c,d=e.e;if(!u[0]||!c[0])return c[0]?e.s=-s:u[0]?e=new o(this):e.s=1,e;if(a=l-d){for((n=a<0)?(a=-a,r=u):(d=l,r=c),r.reverse(),s=a;s--;)r.push(0);r.reverse()}else for(i=((n=u.length<c.length)?u:c).length,a=s=0;s<i;s++)if(u[s]!=c[s]){n=u[s]<c[s];break}if(n&&(r=u,u=c,c=r,e.s=-e.s),(s=(i=c.length)-(t=u.length))>0)for(;s--;)u[t++]=0;for(s=t;i>a;){if(u[--i]<c[i]){for(t=i;t&&!u[--t];)u[t]=9;--u[t],u[i]+=10}u[i]-=c[i]}for(;0===u[--s];)u.pop();for(;0===u[0];)u.shift(),--d;return u[0]||(e.s=1,u=[d=0]),e.c=u,e.e=d,e},K.mod=function(e){var t,i=this,r=i.constructor,n=i.s,o=(e=new r(e)).s;if(!e.c[0])throw Error(N);return(i.s=e.s=1,t=1==e.cmp(i),i.s=n,e.s=o,t)?new r(i):(n=r.DP,o=r.RM,r.DP=r.RM=0,i=i.div(e),r.DP=n,r.RM=o,this.minus(i.times(e)))},K.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e},K.plus=K.add=function(e){var t,i,r,n=this.constructor;if(e=new n(e),this.s!=e.s)return e.s=-e.s,this.minus(e);var o=this.e,a=this.c,s=e.e,u=e.c;if(!a[0]||!u[0])return u[0]||(a[0]?e=new n(this):e.s=this.s),e;if(a=a.slice(),t=o-s){for(t>0?(s=o,r=u):(t=-t,r=a),r.reverse();t--;)r.push(0);r.reverse()}for(a.length-u.length<0&&(r=u,u=a,a=r),t=u.length,i=0;t;a[t]%=10)i=(a[--t]=a[t]+u[t]+i)/10|0;for(i&&(a.unshift(i),++s),t=a.length;0===a[--t];)a.pop();return e.c=a,e.e=s,e},K.pow=function(e){var t=this,i=new t.constructor("1"),r=i,n=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(x+"exponent");for(n&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return n?i.div(r):r},K.prec=function(e,t){if(e!==~~e||e<1||e>1e6)throw Error(x+"precision");return F(new this.constructor(this),e,t)},K.round=function(e,t){if(e===M)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(E);return F(new this.constructor(this),e+this.e+1,t)},K.sqrt=function(){var e,t,i,r=this.constructor,n=this.s,o=this.e,a=new r("0.5");if(!this.c[0])return new r(this);if(n<0)throw Error(B+"No square root");0===(n=Math.sqrt(+O(this,!0,!0)))||n===1/0?((t=this.c.join("")).length+o&1||(t+="0"),o=((o+1)/2|0)-(o<0||1&o),e=new r(((n=Math.sqrt(t))==1/0?"5e":(n=n.toExponential()).slice(0,n.indexOf("e")+1))+o)):e=new r(n+""),o=e.e+(r.DP+=4);do i=e,e=a.times(i.plus(this.div(i)));while(i.c.slice(0,o).join("")!==e.c.slice(0,o).join(""))return F(e,(r.DP-=4)+e.e+1,r.RM)},K.times=K.mul=function(e){var t,i=this.constructor,r=this.c,n=(e=new i(e)).c,o=r.length,a=n.length,s=this.e,u=e.e;if(e.s=this.s==e.s?1:-1,!r[0]||!n[0])return e.c=[e.e=0],e;for(e.e=s+u,o<a&&(t=r,r=n,n=t,u=o,o=a,a=u),t=Array(u=o+a);u--;)t[u]=0;for(s=a;s--;){for(a=0,u=o+s;u>s;)a=t[u]+n[s]*r[u-s-1]+a,t[u--]=a%10,a=a/10|0;t[u]=a}for(a?++e.e:t.shift(),s=t.length;!t[--s];)t.pop();return e.c=t,e},K.toExponential=function(e,t){var i=this,r=i.c[0];if(e!==M){if(e!==~~e||e<0||e>1e6)throw Error(E);for(i=F(new i.constructor(i),++e,t);i.c.length<e;)i.c.push(0)}return O(i,!0,!!r)},K.toFixed=function(e,t){var i=this,r=i.c[0];if(e!==M){if(e!==~~e||e<0||e>1e6)throw Error(E);for(i=F(new i.constructor(i),e+i.e+1,t),e=e+i.e+1;i.c.length<e;)i.c.push(0)}return O(i,!1,!!r)},K[Symbol.for("nodejs.util.inspect.custom")]=K.toJSON=K.toString=function(){var e=this.constructor;return O(this,this.e<=e.NE||this.e>=e.PE,!!this.c[0])},K.toNumber=function(){var e=+O(this,!0,!0);if(!0===this.constructor.strict&&!this.eq(e.toString()))throw Error(B+"Imprecise conversion");return e},K.toPrecision=function(e,t){var i=this,r=i.constructor,n=i.c[0];if(e!==M){if(e!==~~e||e<1||e>1e6)throw Error(x+"precision");for(i=F(new r(i),e,t);i.c.length<e;)i.c.push(0)}return O(i,e<=i.e||i.e<=r.NE||i.e>=r.PE,!!n)},K.valueOf=function(){var e=this.constructor;if(!0===e.strict)throw Error(B+"valueOf disallowed");return O(this,this.e<=e.NE||this.e>=e.PE,!0)};var D=function e(){function t(i){if(!(this instanceof t))return i===M?e():new t(i);if(i instanceof t)this.s=i.s,this.e=i.e,this.c=i.c.slice();else{if("string"!=typeof i){if(!0===t.strict&&"bigint"!=typeof i)throw TypeError(x+"value");i=0===i&&1/i<0?"-0":String(i)}!function(e,t){var i,r,n;if(!W.test(t))throw Error(x+"number");for(e.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(i=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length),n=t.length,r=0;r<n&&"0"==t.charAt(r);)++r;if(r==n)e.c=[e.e=0];else{for(;n>0&&"0"==t.charAt(--n););for(e.e=i-r-1,e.c=[],i=0;r<=n;)e.c[i++]=+t.charAt(r++)}}(this,i)}this.constructor=t}return t.prototype=K,t.DP=20,t.RM=1,t.NE=-7,t.PE=21,t.strict=!1,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}(),C=e.i(983607),L=e.i(651655),q=(e.i(411595),e.i(20459)),U=e.i(123424),_=e.i(761405),G=e.i(858010);(0,k.struct)([(0,k.u8)("instruction")]);var V=e.i(114175),z=Object.defineProperty,X=Object.defineProperties,j=Object.getOwnPropertyDescriptors,H=Object.getOwnPropertySymbols,Q=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,Y=(e,t,i)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,J=(e,t)=>{for(var i in t||(t={}))Q.call(t,i)&&Y(e,i,t[i]);if(H)for(var i of H(t))Z.call(t,i)&&Y(e,i,t[i]);return e},$=(e,t)=>X(e,j(t)),ee=(e,t)=>{var i={};for(var r in e)Q.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&H)for(var r of H(e))0>t.indexOf(r)&&Z.call(e,r)&&(i[r]=e[r]);return i},et=((t=et||{})[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Debug=3]="Debug",t),ei=class{constructor(e){this.logLevel=void 0!==e.logLevel?e.logLevel:0,this.name=e.name}set level(e){this.logLevel=e}get time(){return Date.now().toString()}get moduleName(){return this.name}isLogLevel(e){return e<=this.logLevel}error(...e){return this.isLogLevel(0)&&console.error(this.time,this.name,"sdk logger error",...e),this}logWithError(...e){throw Error(e.map(e=>"object"==typeof e?JSON.stringify(e):e).join(", "))}warning(...e){return this.isLogLevel(1)&&console.warn(this.time,this.name,"sdk logger warning",...e),this}info(...e){return this.isLogLevel(2)&&console.info(this.time,this.name,"sdk logger info",...e),this}debug(...e){return this.isLogLevel(3)&&console.debug(this.time,this.name,"sdk logger debug",...e),this}},er={},en={};function eo(e){let t=(0,A.default)(er,e);if(!t){let i=(0,A.default)(en,e);t=new ei({name:e,logLevel:i}),(0,y.default)(er,e,t)}return t}var ea=eo("Raydium_accountInfo_util");async function es(e,t,i){let{batchRequest:r,commitment:n="confirmed",chunkCount:o=100}=J({batchRequest:!1},i),a=is(t,o),s=Array(a.length).fill([]);if(r){let t=is(a.map(t=>({methodName:"getMultipleAccounts",args:e._buildArgs([t.map(e=>e.toBase58())],n,"base64")})),10);s=(await (await Promise.all(t.map(async t=>await e._rpcBatchRequest(t)))).flat()).map(e=>(e.error&&ea.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.error.message}`),e.result.value.map(e=>{if(e){let{data:t,executable:i,lamports:r,owner:n,rentEpoch:o}=e;return 2!==t.length&&"base64"!==t[1]&&ea.logWithError("info must be base64 encoded, RPC_ERROR"),{data:g.Buffer.from(t[0],"base64"),executable:i,lamports:r,owner:new m.PublicKey(n),rentEpoch:o}}return null})))}else try{s=await Promise.all(a.map(t=>e.getMultipleAccountsInfo(t,n)))}catch(e){e instanceof Error&&ea.logWithError(`failed to get info for multiple accounts, RPC_ERROR, ${e.message}`)}return s.flat()}async function eu(e,t,i){let r=await es(e,t.map(e=>e.pubkey),i);return t.map((e,t)=>$(J({},e),{accountInfo:r[t]}))}var el=((i=el||{})[i.Uninitialized=0]="Uninitialized",i[i.Mint=1]="Mint",i[i.Account=2]="Account",i),ec,ed,em,ep,ef="0123456789abcdef",eh="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",eg="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",eb={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},eA=!0,ey="[DecimalError] ",ew=ey+"Invalid argument: ",eS=ey+"Precision limit exceeded",ek=ey+"crypto unavailable",eT="[object Decimal]",eP=Math.floor,eI=Math.pow,ev=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,eB=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ex=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,eE=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,eR=eh.length-1,eN=eg.length-1,eK={toStringTag:eT};function eM(e){var t,i,r,n=e.length-1,o="",a=e[0];if(n>0){for(o+=a,t=1;t<n;t++)(i=7-(r=e[t]+"").length)&&(o+=eV(i)),o+=r;(i=7-(r=(a=e[t])+"").length)&&(o+=eV(i))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function eW(e,t,i){if(e!==~~e||e<t||e>i)throw Error(ew+e)}function eF(e,t,i,r){var n,o,a,s;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=7,n=0):(n=Math.ceil((t+1)/7),t%=7),o=eI(10,7-t),s=e[n]%o|0,null==r?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),a=i<4&&99999==s||i>3&&49999==s||5e4==s||0==s):a=(i<4&&s+1==o||i>3&&s+1==o/2)&&(e[n+1]/o/100|0)==eI(10,t-2)-1||(s==o/2||0==s)&&(e[n+1]/o/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),a=(r||i<4)&&9999==s||!r&&i>3&&4999==s):a=((r||i<4)&&s+1==o||!r&&i>3&&s+1==o/2)&&(e[n+1]/o/1e3|0)==eI(10,t-3)-1,a}function eO(e,t,i){for(var r,n,o=[0],a=0,s=e.length;a<s;){for(n=o.length;n--;)o[n]*=t;for(o[0]+=ef.indexOf(e.charAt(a++)),r=0;r<o.length;r++)o[r]>i-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/i|0,o[r]%=i)}return o.reverse()}eK.absoluteValue=eK.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),eC(e)},eK.ceil=function(){return eC(new this.constructor(this),this.e+1,2)},eK.clampedTo=eK.clamp=function(e,t){var i=this.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(ew+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new i(this)},eK.comparedTo=eK.cmp=function(e){var t,i,r,n,o=this.d,a=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!o||!a)return s&&u?s!==u?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(r=o.length,n=a.length,t=0,i=r<n?r:n;t<i;++t)if(o[t]!==a[t])return o[t]>a[t]^s<0?1:-1;return r===n?0:r>n^s<0?1:-1},eK.cosine=eK.cos=function(){var e,t,i=this,r=i.constructor;return i.d?i.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(i.e,i.sd())+7,r.rounding=1,i=function(e,t){var i,r,n;if(t.isZero())return t;(r=t.d.length)<32?n=(1/e$(4,i=Math.ceil(r/3))).toString():(i=16,n="2.3283064365386962890625e-10"),e.precision+=i,t=eJ(e,1,t.times(n),new e(1));for(var o=i;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=i,t}(r,e0(r,i)),r.precision=e,r.rounding=t,eC(2==ep||3==ep?i.neg():i,e,t,!0)):new r(1):new r(NaN)},eK.cubeRoot=eK.cbrt=function(){var e,t,i,r,n,o,a,s,u,l,c=this.constructor;if(!this.isFinite()||this.isZero())return new c(this);for(eA=!1,(o=this.s*eI(this.s*this,1/3))&&Math.abs(o)!=1/0?r=new c(o.toString()):(i=eM(this.d),(o=((e=this.e)-i.length+1)%3)&&(i+=1==o||-2==o?"0":"00"),o=eI(i,1/3),e=eP((e+1)/3)-(e%3==(e<0?-1:2)),(r=new c(i=o==1/0?"5e"+e:(i=o.toExponential()).slice(0,i.indexOf("e")+1)+e)).s=this.s),a=(e=c.precision)+3;;)if(r=eD((l=(u=(s=r).times(s).times(s)).plus(this)).plus(this).times(s),l.plus(u),a+2,1),eM(s.d).slice(0,a)===(i=eM(r.d)).slice(0,a))if("9999"!=(i=i.slice(a-3,a+1))&&(n||"4999"!=i)){+i&&(+i.slice(1)||"5"!=i.charAt(0))||(eC(r,e+1,1),t=!r.times(r).times(r).eq(this));break}else{if(!n&&(eC(s,e+1,0),s.times(s).times(s).eq(this))){r=s;break}a+=4,n=1}return eA=!0,eC(r,e,c.rounding,t)},eK.decimalPlaces=eK.dp=function(){var e,t=this.d,i=NaN;if(t){if(i=((e=t.length-1)-eP(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)i--;i<0&&(i=0)}return i},eK.dividedBy=eK.div=function(e){return eD(this,new this.constructor(e))},eK.dividedToIntegerBy=eK.divToInt=function(e){var t=this.constructor;return eC(eD(this,new t(e),0,1,1),t.precision,t.rounding)},eK.equals=eK.eq=function(e){return 0===this.cmp(e)},eK.floor=function(){return eC(new this.constructor(this),this.e+1,3)},eK.greaterThan=eK.gt=function(e){return this.cmp(e)>0},eK.greaterThanOrEqualTo=eK.gte=function(e){var t=this.cmp(e);return 1==t||0===t},eK.hyperbolicCosine=eK.cosh=function(){var e,t,i,r,n,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;i=a.precision,r=a.rounding,a.precision=i+Math.max(o.e,o.sd())+4,a.rounding=1,(n=o.d.length)<32?t=(1/e$(4,e=Math.ceil(n/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=eJ(a,1,o.times(t),new a(1),!0);for(var u,l=e,c=new a(8);l--;)u=o.times(o),o=s.minus(u.times(c.minus(u.times(c))));return eC(o,a.precision=i,a.rounding=r,!0)},eK.hyperbolicSine=eK.sinh=function(){var e,t,i,r,n=this,o=n.constructor;if(!n.isFinite()||n.isZero())return new o(n);if(t=o.precision,i=o.rounding,o.precision=t+Math.max(n.e,n.sd())+4,o.rounding=1,(r=n.d.length)<3)n=eJ(o,2,n,n,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,n=eJ(o,2,n=n.times(1/e$(5,e)),n,!0);for(var a,s=new o(5),u=new o(16),l=new o(20);e--;)a=n.times(n),n=n.times(s.plus(a.times(u.times(a).plus(l))))}return o.precision=t,o.rounding=i,eC(n,t,i,!0)},eK.hyperbolicTangent=eK.tanh=function(){var e,t,i=this.constructor;return this.isFinite()?this.isZero()?new i(this):(e=i.precision,t=i.rounding,i.precision=e+7,i.rounding=1,eD(this.sinh(),this.cosh(),i.precision=e,i.rounding=t)):new i(this.s)},eK.inverseCosine=eK.acos=function(){var e,t=this,i=t.constructor,r=t.abs().cmp(1),n=i.precision,o=i.rounding;return -1!==r?0===r?t.isNeg()?e_(i,n,o):new i(0):new i(NaN):t.isZero()?e_(i,n+4,o).times(.5):(i.precision=n+6,i.rounding=1,t=t.asin(),e=e_(i,n+4,o).times(.5),i.precision=n,i.rounding=o,e.minus(t))},eK.inverseHyperbolicCosine=eK.acosh=function(){var e,t,i=this,r=i.constructor;return i.lte(1)?new r(i.eq(1)?0:NaN):i.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(i.e),i.sd())+4,r.rounding=1,eA=!1,i=i.times(i).minus(1).sqrt().plus(i),eA=!0,r.precision=e,r.rounding=t,i.ln()):new r(i)},eK.inverseHyperbolicSine=eK.asinh=function(){var e,t,i=this,r=i.constructor;return!i.isFinite()||i.isZero()?new r(i):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(i.e),i.sd())+6,r.rounding=1,eA=!1,i=i.times(i).plus(1).sqrt().plus(i),eA=!0,r.precision=e,r.rounding=t,i.ln())},eK.inverseHyperbolicTangent=eK.atanh=function(){var e,t,i,r,n=this,o=n.constructor;return n.isFinite()?n.e>=0?new o(n.abs().eq(1)?n.s/0:n.isZero()?n:NaN):(e=o.precision,t=o.rounding,Math.max(r=n.sd(),e)<-(2*n.e)-1?eC(new o(n),e,t,!0):(o.precision=i=r-n.e,n=eD(n.plus(1),new o(1).minus(n),i+e,1),o.precision=e+4,o.rounding=1,n=n.ln(),o.precision=e,o.rounding=t,n.times(.5))):new o(NaN)},eK.inverseSine=eK.asin=function(){var e,t,i,r,n=this,o=n.constructor;return n.isZero()?new o(n):(t=n.abs().cmp(1),i=o.precision,r=o.rounding,-1!==t?0===t?((e=e_(o,i+4,r).times(.5)).s=n.s,e):new o(NaN):(o.precision=i+6,o.rounding=1,n=n.div(new o(1).minus(n.times(n)).sqrt().plus(1)).atan(),o.precision=i,o.rounding=r,n.times(2)))},eK.inverseTangent=eK.atan=function(){var e,t,i,r,n,o,a,s,u,l=this,c=l.constructor,d=c.precision,m=c.rounding;if(l.isFinite()){if(l.isZero())return new c(l);if(l.abs().eq(1)&&d+4<=eN)return(a=e_(c,d+4,m).times(.25)).s=l.s,a}else{if(!l.s)return new c(NaN);if(d+4<=eN)return(a=e_(c,d+4,m).times(.5)).s=l.s,a}for(c.precision=s=d+10,c.rounding=1,e=i=Math.min(28,s/7+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(eA=!1,t=Math.ceil(s/7),r=1,u=l.times(l),a=new c(l),n=l;-1!==e;)if(n=n.times(u),o=a.minus(n.div(r+=2)),n=n.times(u),void 0!==(a=o.plus(n.div(r+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return i&&(a=a.times(2<<i-1)),eA=!0,eC(a,c.precision=d,c.rounding=m,!0)},eK.isFinite=function(){return!!this.d},eK.isInteger=eK.isInt=function(){return!!this.d&&eP(this.e/7)>this.d.length-2},eK.isNaN=function(){return!this.s},eK.isNegative=eK.isNeg=function(){return this.s<0},eK.isPositive=eK.isPos=function(){return this.s>0},eK.isZero=function(){return!!this.d&&0===this.d[0]},eK.lessThan=eK.lt=function(e){return 0>this.cmp(e)},eK.lessThanOrEqualTo=eK.lte=function(e){return 1>this.cmp(e)},eK.logarithm=eK.log=function(e){var t,i,r,n,o,a,s,u=this.constructor,l=u.precision,c=u.rounding;if(null==e)e=new u(10),t=!0;else{if(i=(e=new u(e)).d,e.s<0||!i||!i[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(i=this.d,this.s<0||!i||!i[0]||this.eq(1))return new u(i&&!i[0]?-1/0:1!=this.s?NaN:i?0:1/0);if(t)if(i.length>1)n=!0;else{for(r=i[0];r%10==0;)r/=10;n=1!==r}if(eA=!1,eF((s=eD(o=eQ(this,a=l+5),t?eU(u,a+10):eQ(e,a),a,1)).d,r=l,c))do if(a+=10,s=eD(o=eQ(this,a),t?eU(u,a+10):eQ(e,a),a,1),!n){+eM(s.d).slice(r+1,r+15)+1==1e14&&(s=eC(s,l+1,0));break}while(eF(s.d,r+=10,c))return eA=!0,eC(s,l,c)},eK.minus=eK.sub=function(e){var t,i,r,n,o,a,s,u,l,c,d,m,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(l=this.d,m=e.d,s=p.precision,u=p.rounding,!l[0]||!m[0]){if(m[0])e.s=-e.s;else{if(!l[0])return new p(3===u?-0:0);e=new p(this)}return eA?eC(e,s,u):e}if(i=eP(e.e/7),c=eP(this.e/7),l=l.slice(),o=c-i){for((d=o<0)?(t=l,o=-o,a=m.length):(t=m,i=c,a=l.length),o>(r=Math.max(Math.ceil(s/7),a)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((d=(r=l.length)<(a=m.length))&&(a=r),r=0;r<a;r++)if(l[r]!=m[r]){d=l[r]<m[r];break}o=0}for(d&&(t=l,l=m,m=t,e.s=-e.s),a=l.length,r=m.length-a;r>0;--r)l[a++]=0;for(r=m.length;r>o;){if(l[--r]<m[r]){for(n=r;n&&0===l[--n];)l[n]=1e7-1;--l[n],l[r]+=1e7}l[r]-=m[r]}for(;0===l[--a];)l.pop();for(;0===l[0];l.shift())--i;return l[0]?(e.d=l,e.e=eq(l,i),eA?eC(e,s,u):e):new p(3===u?-0:0)},eK.modulo=eK.mod=function(e){var t,i=this.constructor;return e=new i(e),this.d&&e.s&&(!e.d||e.d[0])?e.d&&(!this.d||this.d[0])?(eA=!1,9==i.modulo?(t=eD(this,e.abs(),0,3,1),t.s*=e.s):t=eD(this,e,0,i.modulo,1),t=t.times(e),eA=!0,this.minus(t)):eC(new i(this),i.precision,i.rounding):new i(NaN)},eK.naturalExponential=eK.exp=function(){return eH(this)},eK.naturalLogarithm=eK.ln=function(){return eQ(this)},eK.negated=eK.neg=function(){var e=new this.constructor(this);return e.s=-e.s,eC(e)},eK.plus=eK.add=function(e){var t,i,r,n,o,a,s,u,l,c,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new d(e.d||this.s===e.s?this:NaN)):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(l=this.d,c=e.d,s=d.precision,u=d.rounding,!l[0]||!c[0])return c[0]||(e=new d(this)),eA?eC(e,s,u):e;if(o=eP(this.e/7),r=eP(e.e/7),l=l.slice(),n=o-r){for(n<0?(i=l,n=-n,a=c.length):(i=c,r=o,a=l.length),n>(a=(o=Math.ceil(s/7))>a?o+1:a+1)&&(n=a,i.length=1),i.reverse();n--;)i.push(0);i.reverse()}for((a=l.length)-(n=c.length)<0&&(n=a,i=c,c=l,l=i),t=0;n;)t=(l[--n]=l[n]+c[n]+t)/1e7|0,l[n]%=1e7;for(t&&(l.unshift(t),++r),a=l.length;0==l[--a];)l.pop();return e.d=l,e.e=eq(l,r),eA?eC(e,s,u):e},eK.precision=eK.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(ew+e);return this.d?(t=eG(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},eK.round=function(){var e=this.constructor;return eC(new e(this),this.e+1,e.rounding)},eK.sine=eK.sin=function(){var e,t,i=this,r=i.constructor;return i.isFinite()?i.isZero()?new r(i):(e=r.precision,t=r.rounding,r.precision=e+Math.max(i.e,i.sd())+7,r.rounding=1,i=function(e,t){var i,r=t.d.length;if(r<3)return t.isZero()?t:eJ(e,2,t,t);i=(i=1.4*Math.sqrt(r))>16?16:0|i,t=eJ(e,2,t=t.times(1/e$(5,i)),t);for(var n,o=new e(5),a=new e(16),s=new e(20);i--;)n=t.times(t),t=t.times(o.plus(n.times(a.times(n).minus(s))));return t}(r,e0(r,i)),r.precision=e,r.rounding=t,eC(ep>2?i.neg():i,e,t,!0)):new r(NaN)},eK.squareRoot=eK.sqrt=function(){var e,t,i,r,n,o,a=this.d,s=this.e,u=this.s,l=this.constructor;if(1!==u||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?this:1/0);for(eA=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=eM(a)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=eP((s+1)/2)-(s<0||s%2),r=new l(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new l(u.toString()),i=(s=l.precision)+3;;)if(r=(o=r).plus(eD(this,o,i+2,1)).times(.5),eM(o.d).slice(0,i)===(t=eM(r.d)).slice(0,i))if("9999"!=(t=t.slice(i-3,i+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(eC(r,s+1,1),e=!r.times(r).eq(this));break}else{if(!n&&(eC(o,s+1,0),o.times(o).eq(this))){r=o;break}i+=4,n=1}return eA=!0,eC(r,s,l.rounding,e)},eK.tangent=eK.tan=function(){var e,t,i=this,r=i.constructor;return i.isFinite()?i.isZero()?new r(i):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(i=i.sin()).s=1,i=eD(i,new r(1).minus(i.times(i)).sqrt(),e+10,0),r.precision=e,r.rounding=t,eC(2==ep||4==ep?i.neg():i,e,t,!0)):new r(NaN)},eK.times=eK.mul=function(e){var t,i,r,n,o,a,s,u,l,c=this.constructor,d=this.d,m=(e=new c(e)).d;if(e.s*=this.s,!d||!d[0]||!m||!m[0])return new c(!e.s||d&&!d[0]&&!m||m&&!m[0]&&!d?NaN:!d||!m?e.s/0:0*e.s);for(i=eP(this.e/7)+eP(e.e/7),(u=d.length)<(l=m.length)&&(o=d,d=m,m=o,a=u,u=l,l=a),o=[],r=a=u+l;r--;)o.push(0);for(r=l;--r>=0;){for(t=0,n=u+r;n>r;)s=o[n]+m[r]*d[n-r-1]+t,o[n--]=s%1e7|0,t=s/1e7|0;o[n]=(o[n]+t)%1e7|0}for(;!o[--a];)o.pop();return t?++i:o.shift(),e.d=o,e.e=eq(o,i),eA?eC(e,c.precision,c.rounding):e},eK.toBinary=function(e,t){return e1(this,2,e,t)},eK.toDecimalPlaces=eK.toDP=function(e,t){var i=this,r=i.constructor;return i=new r(i),void 0===e?i:(eW(e,0,1e9),void 0===t?t=r.rounding:eW(t,0,8),eC(i,e+i.e+1,t))},eK.toExponential=function(e,t){var i,r=this,n=r.constructor;return void 0===e?i=eL(r,!0):(eW(e,0,1e9),void 0===t?t=n.rounding:eW(t,0,8),i=eL(r=eC(new n(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+i:i},eK.toFixed=function(e,t){var i,r,n=this.constructor;return void 0===e?i=eL(this):(eW(e,0,1e9),void 0===t?t=n.rounding:eW(t,0,8),i=eL(r=eC(new n(this),e+this.e+1,t),!1,e+r.e+1)),this.isNeg()&&!this.isZero()?"-"+i:i},eK.toFraction=function(e){var t,i,r,n,o,a,s,u,l,c,d,m,p=this.d,f=this.constructor;if(!p)return new f(this);if(l=i=new f(1),r=u=new f(0),a=(o=(t=new f(r)).e=eG(p)-this.e-1)%7,t.d[0]=eI(10,a<0?7+a:a),null==e)e=o>0?t:l;else{if(!(s=new f(e)).isInt()||s.lt(l))throw Error(ew+s);e=s.gt(t)?o>0?t:l:s}for(eA=!1,s=new f(eM(p)),c=f.precision,f.precision=o=7*p.length*2;d=eD(s,t,0,1,1),1!=(n=i.plus(d.times(r))).cmp(e);)i=r,r=n,n=l,l=u.plus(d.times(n)),u=n,n=t,t=s.minus(d.times(n)),s=n;return n=eD(e.minus(i),r,0,1,1),u=u.plus(n.times(l)),i=i.plus(n.times(r)),u.s=l.s=this.s,m=1>eD(l,r,o,1).minus(this).abs().cmp(eD(u,i,o,1).minus(this).abs())?[l,r]:[u,i],f.precision=c,eA=!0,m},eK.toHexadecimal=eK.toHex=function(e,t){return e1(this,16,e,t)},eK.toNearest=function(e,t){var i=this,r=i.constructor;if(i=new r(i),null==e){if(!i.d)return i;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:eW(t,0,8),!i.d)return e.s?i:e;if(!e.d)return e.s&&(e.s=i.s),e}return e.d[0]?(eA=!1,i=eD(i,e,0,t,1).times(e),eA=!0,eC(i)):(e.s=i.s,i=e),i},eK.toNumber=function(){return+this},eK.toOctal=function(e,t){return e1(this,8,e,t)},eK.toPower=eK.pow=function(e){var t,i,r,n,o,a,s=this,u=s.constructor,l=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(eI(+s,l));if((s=new u(s)).eq(1))return s;if(r=u.precision,o=u.rounding,e.eq(1))return eC(s,r,o);if((t=eP(e.e/7))>=e.d.length-1&&(i=l<0?-l:l)<=0x1fffffffffffff)return n=ez(u,s,i,r),e.s<0?new u(1).div(n):eC(n,r,o);if((a=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(t=0!=(i=eI(+s,l))&&isFinite(i)?new u(i+"").e:eP(l*(Math.log("0."+eM(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?a/0:0):(eA=!1,u.rounding=s.s=1,i=Math.min(12,(t+"").length),(n=eH(e.times(eQ(s,r+i)),r)).d&&eF((n=eC(n,r+5,1)).d,r,o)&&(t=r+10,+eM((n=eC(eH(e.times(eQ(s,t+i)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(n=eC(n,r+1,0))),n.s=a,eA=!0,u.rounding=o,eC(n,r,o))},eK.toPrecision=function(e,t){var i,r=this,n=r.constructor;return void 0===e?i=eL(r,r.e<=n.toExpNeg||r.e>=n.toExpPos):(eW(e,1,1e9),void 0===t?t=n.rounding:eW(t,0,8),i=eL(r=eC(new n(r),e,t),e<=r.e||r.e<=n.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+i:i},eK.toSignificantDigits=eK.toSD=function(e,t){var i=this.constructor;return void 0===e?(e=i.precision,t=i.rounding):(eW(e,1,1e9),void 0===t?t=i.rounding:eW(t,0,8)),eC(new i(this),e,t)},eK.toString=function(){var e=this.constructor,t=eL(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},eK.truncated=eK.trunc=function(){return eC(new this.constructor(this),this.e+1,1)},eK.valueOf=eK.toJSON=function(){var e=this.constructor,t=eL(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var eD=function(){function e(e,t,i){var r,n=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+n,e[o]=r%i|0,n=r/i|0;return n&&e.unshift(n),e}function t(e,t,i,r){var n,o;if(i!=r)o=i>r?1:-1;else for(n=o=0;n<i;n++)if(e[n]!=t[n]){o=e[n]>t[n]?1:-1;break}return o}function i(e,t,i,r){for(var n=0;i--;)e[i]-=n,n=+(e[i]<t[i]),e[i]=n*r+e[i]-t[i];for(;!e[0]&&e.length>1;)e.shift()}return function(r,n,o,a,s,u){var l,c,d,m,p,f,h,g,b,A,y,w,S,k,T,P,I,v,B,x,E=r.constructor,R=r.s==n.s?1:-1,N=r.d,K=n.d;if(!N||!N[0]||!K||!K[0])return new E(!r.s||!n.s||(N?K&&N[0]==K[0]:!K)?NaN:N&&0==N[0]||!K?0*R:R/0);for(u?(p=1,c=r.e-n.e):(u=1e7,p=7,c=eP(r.e/p)-eP(n.e/p)),B=K.length,I=N.length,A=(b=new E(R)).d=[],d=0;K[d]==(N[d]||0);d++);if(K[d]>(N[d]||0)&&c--,null==o?(k=o=E.precision,a=E.rounding):k=s?o+(r.e-n.e)+1:o,k<0)A.push(1),f=!0;else{if(k=k/p+2|0,d=0,1==B){for(m=0,K=K[0],k++;(d<I||m)&&k--;d++)T=m*u+(N[d]||0),A[d]=T/K|0,m=T%K|0;f=m||d<I}else{for((m=u/(K[0]+1)|0)>1&&(K=e(K,m,u),N=e(N,m,u),B=K.length,I=N.length),P=B,w=(y=N.slice(0,B)).length;w<B;)y[w++]=0;(x=K.slice()).unshift(0),v=K[0],K[1]>=u/2&&++v;do m=0,(l=t(K,y,B,w))<0?(S=y[0],B!=w&&(S=S*u+(y[1]||0)),(m=S/v|0)>1?(m>=u&&(m=u-1),g=(h=e(K,m,u)).length,w=y.length,1==(l=t(h,y,g,w))&&(m--,i(h,B<g?x:K,g,u))):(0==m&&(l=m=1),h=K.slice()),(g=h.length)<w&&h.unshift(0),i(y,h,w,u),-1==l&&(w=y.length,(l=t(K,y,B,w))<1&&(m++,i(y,B<w?x:K,w,u))),w=y.length):0===l&&(m++,y=[0]),A[d++]=m,l&&y[0]?y[w++]=N[P]||0:(y=[N[P]],w=1);while((P++<I||void 0!==y[0])&&k--)f=void 0!==y[0]}A[0]||A.shift()}if(1==p)b.e=c,em=f;else{for(d=1,m=A[0];m>=10;m/=10)d++;b.e=d+c*p-1,eC(b,s?o+b.e+1:o,a,f)}return b}}();function eC(e,t,i,r){var n,o,a,s,u,l,c,d,m,p=e.constructor;e:if(null!=t){if(!(d=e.d))return e;for(n=1,s=d[0];s>=10;s/=10)n++;if((o=t-n)<0)o+=7,a=t,u=(c=d[m=0])/eI(10,n-a-1)%10|0;else if((m=Math.ceil((o+1)/7))>=(s=d.length))if(r){for(;s++<=m;)d.push(0);c=u=0,n=1,o%=7,a=o-7+1}else break e;else{for(c=s=d[m],n=1;s>=10;s/=10)n++;o%=7,u=(a=o-7+n)<0?0:c/eI(10,n-a-1)%10|0}if(r=r||t<0||void 0!==d[m+1]||(a<0?c:c%eI(10,n-a-1)),l=i<4?(u||r)&&(0==i||i==(e.s<0?3:2)):u>5||5==u&&(4==i||r||6==i&&(o>0?a>0?c/eI(10,n-a):0:d[m-1])%10&1||i==(e.s<0?8:7)),t<1||!d[0])return d.length=0,l?(t-=e.e+1,d[0]=eI(10,(7-t%7)%7),e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=m,s=1,m--):(d.length=m+1,s=eI(10,7-o),d[m]=a>0?(c/eI(10,n-a)%eI(10,a)|0)*s:0),l)for(;;)if(0==m){for(o=1,a=d[0];a>=10;a/=10)o++;for(a=d[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(e.e++,1e7==d[0]&&(d[0]=1));break}else{if(d[m]+=s,1e7!=d[m])break;d[m--]=0,s=1}for(o=d.length;0===d[--o];)d.pop()}return eA&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function eL(e,t,i){if(!e.isFinite())return eZ(e);var r,n=e.e,o=eM(e.d),a=o.length;return t?(i&&(r=i-a)>0?o=o.charAt(0)+"."+o.slice(1)+eV(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):n<0?(o="0."+eV(-n-1)+o,i&&(r=i-a)>0&&(o+=eV(r))):n>=a?(o+=eV(n+1-a),i&&(r=i-n-1)>0&&(o=o+"."+eV(r))):((r=n+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),i&&(r=i-a)>0&&(n+1===a&&(o+="."),o+=eV(r))),o}function eq(e,t){var i=e[0];for(t*=7;i>=10;i/=10)t++;return t}function eU(e,t,i){if(t>eR)throw eA=!0,i&&(e.precision=i),Error(eS);return eC(new e(eh),t,1,!0)}function e_(e,t,i){if(t>eN)throw Error(eS);return eC(new e(eg),t,i,!0)}function eG(e){var t=e.length-1,i=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)i--;for(t=e[0];t>=10;t/=10)i++}return i}function eV(e){for(var t="";e--;)t+="0";return t}function ez(e,t,i,r){var n,o=new e(1),a=Math.ceil(r/7+4);for(eA=!1;;){if(i%2&&e2((o=o.times(t)).d,a)&&(n=!0),0===(i=eP(i/2))){i=o.d.length-1,n&&0===o.d[i]&&++o.d[i];break}e2((t=t.times(t)).d,a)}return eA=!0,o}function eX(e){return 1&e.d[e.d.length-1]}function ej(e,t,i){for(var r,n=new e(t[0]),o=0;++o<t.length;)if((r=new e(t[o])).s)n[i](r)&&(n=r);else{n=r;break}return n}function eH(e,t){var i,r,n,o,a,s,u,l=0,c=0,d=0,m=e.constructor,p=m.rounding,f=m.precision;if(!e.d||!e.d[0]||e.e>17)return new m(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(eA=!1,u=f):u=t,s=new m(.03125);e.e>-2;)e=e.times(s),d+=5;for(u+=r=Math.log(eI(2,d))/Math.LN10*2+5|0,i=o=a=new m(1),m.precision=u;;){if(o=eC(o.times(e),u,1),i=i.times(++c),eM((s=a.plus(eD(o,i,u,1))).d).slice(0,u)===eM(a.d).slice(0,u)){for(n=d;n--;)a=eC(a.times(a),u,1);if(null!=t)return m.precision=f,a;if(!(l<3&&eF(a.d,u-r,p,l)))return eC(a,m.precision=f,p,eA=!0);m.precision=u+=10,i=o=s=new m(1),c=0,l++}a=s}}function eQ(e,t){var i,r,n,o,a,s,u,l,c,d,m,p=1,f=e,h=f.d,g=f.constructor,b=g.rounding,A=g.precision;if(f.s<0||!h||!h[0]||!f.e&&1==h[0]&&1==h.length)return new g(h&&!h[0]?-1/0:1!=f.s?NaN:h?0:f);if(null==t?(eA=!1,c=A):c=t,g.precision=c+=10,r=(i=eM(h)).charAt(0),!(15e14>Math.abs(o=f.e)))return l=eU(g,c+2,A).times(o+""),f=eQ(new g(r+"."+i.slice(1)),c-10).plus(l),g.precision=A,null==t?eC(f,A,b,eA=!0):f;for(;r<7&&1!=r||1==r&&i.charAt(1)>3;)r=(i=eM((f=f.times(e)).d)).charAt(0),p++;for(o=f.e,r>1?(f=new g("0."+i),o++):f=new g(r+"."+i.slice(1)),d=f,u=a=f=eD(f.minus(1),f.plus(1),c,1),m=eC(f.times(f),c,1),n=3;;){if(a=eC(a.times(m),c,1),eM((l=u.plus(eD(a,new g(n),c,1))).d).slice(0,c)===eM(u.d).slice(0,c))if(u=u.times(2),0!==o&&(u=u.plus(eU(g,c+2,A).times(o+""))),u=eD(u,new g(p),c,1),null!=t)return g.precision=A,u;else{if(!eF(u.d,c-10,b,s))return eC(u,g.precision=A,b,eA=!0);g.precision=c+=10,l=a=f=eD(d.minus(1),d.plus(1),c,1),m=eC(f.times(f),c,1),n=s=1}u=l,n+=2}}function eZ(e){return String(e.s*e.s/0)}function eY(e,t){var i,r,n;for((i=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length),r=0;48===t.charCodeAt(r);r++);for(n=t.length;48===t.charCodeAt(n-1);--n);if(t=t.slice(r,n)){if(n-=r,e.e=i=i-r-1,e.d=[],r=(i+1)%7,i<0&&(r+=7),r<n){for(r&&e.d.push(+t.slice(0,r)),n-=7;r<n;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=n;for(;r--;)t+="0";e.d.push(+t),eA&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function eJ(e,t,i,r,n){var o,a,s,u,l=e.precision,c=Math.ceil(l/7);for(eA=!1,u=i.times(i),s=new e(r);;){if(a=eD(s.times(u),new e(t++*t++),l,1),s=n?r.plus(a):r.minus(a),r=eD(a.times(u),new e(t++*t++),l,1),void 0!==(a=s.plus(r)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=r,r=a,a=o}return eA=!0,a.d.length=c+1,a}function e$(e,t){for(var i=e;--t;)i*=e;return i}function e0(e,t){var i,r=t.s<0,n=e_(e,e.precision,1),o=n.times(.5);if((t=t.abs()).lte(o))return ep=r?4:1,t;if((i=t.divToInt(n)).isZero())ep=r?3:2;else{if((t=t.minus(i.times(n))).lte(o))return ep=eX(i)?r?2:3:r?4:1,t;ep=eX(i)?r?1:4:r?3:2}return t.minus(n).abs()}function e1(e,t,i,r){var n,o,a,s,u,l,c,d,m,p=e.constructor,f=void 0!==i;if(f?(eW(i,1,1e9),void 0===r?r=p.rounding:eW(r,0,8)):(i=p.precision,r=p.rounding),e.isFinite()){for(a=(c=eL(e)).indexOf("."),f?(n=2,16==t?i=4*i-3:8==t&&(i=3*i-2)):n=t,a>=0&&(c=c.replace(".",""),(m=new p(1)).e=c.length-a,m.d=eO(eL(m),10,n),m.e=m.d.length),o=u=(d=eO(c,10,n)).length;0==d[--u];)d.pop();if(d[0]){if(a<0?o--:((e=new p(e)).d=d,e.e=o,d=(e=eD(e,m,i,r,0,n)).d,o=e.e,l=em),a=d[i],s=n/2,l=l||void 0!==d[i+1],l=r<4?(void 0!==a||l)&&(0===r||r===(e.s<0?3:2)):a>s||a===s&&(4===r||l||6===r&&1&d[i-1]||r===(e.s<0?8:7)),d.length=i,l)for(;++d[--i]>n-1;)d[i]=0,i||(++o,d.unshift(1));for(u=d.length;!d[u-1];--u);for(a=0,c="";a<u;a++)c+=ef.charAt(d[a]);if(f){if(u>1)if(16==t||8==t){for(a=16==t?4:3,--u;u%a;u++)c+="0";for(u=(d=eO(c,n,t)).length;!d[u-1];--u);for(a=1,c="1.";a<u;a++)c+=ef.charAt(d[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>u)for(o-=u;o--;)c+="0";else o<u&&(c=c.slice(0,o)+"."+c.slice(o))}else c=f?"0p+0":"0";c=(16==t?"0x":2==t?"0b":8==t?"0o":"")+c}else c=eZ(e);return e.s<0?"-"+c:c}function e2(e,t){if(e.length>t)return e.length=t,!0}function e6(e){return new this(e).abs()}function e4(e){return new this(e).acos()}function e5(e){return new this(e).acosh()}function e3(e,t){return new this(e).plus(t)}function e7(e){return new this(e).asin()}function e8(e){return new this(e).asinh()}function e9(e){return new this(e).atan()}function te(e){return new this(e).atanh()}function tt(e,t){e=new this(e),t=new this(t);var i,r=this.precision,n=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(i=t.s<0?e_(this,r,n):new this(0)).s=e.s:!e.d||t.isZero()?(i=e_(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,i=this.atan(eD(e,t,o,1)),t=e_(this,o,1),this.precision=r,this.rounding=n,i=e.s<0?i.minus(t):i.plus(t)):i=this.atan(eD(e,t,o,1)):(i=e_(this,o,1).times(t.s>0?.25:.75)).s=e.s:i=new this(NaN),i}function ti(e){return new this(e).cbrt()}function tr(e){return eC(e=new this(e),e.e+1,2)}function tn(e,t,i){return new this(e).clamp(t,i)}function to(e){if(!e||"object"!=typeof e)throw Error(ey+"Object expected");var t,i,r,n=!0===e.defaults,o=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(i=o[t],n&&(this[i]=eb[i]),void 0!==(r=e[i]))if(eP(r)===r&&r>=o[t+1]&&r<=o[t+2])this[i]=r;else throw Error(ew+i+": "+r);if(i="crypto",n&&(this[i]=eb[i]),void 0!==(r=e[i]))if(!0===r||!1===r||0===r||1===r)if(r)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[i]=!0;else throw Error(ek);else this[i]=!1;else throw Error(ew+i+": "+r);return this}function ta(e){return new this(e).cos()}function ts(e){return new this(e).cosh()}function tu(e,t){return new this(e).div(t)}function tl(e){return new this(e).exp()}function tc(e){return eC(e=new this(e),e.e+1,3)}function td(){var e,t,i=new this(0);for(eA=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)i.d&&(i=i.plus(t.times(t)));else{if(t.s)return eA=!0,new this(1/0);i=t}return eA=!0,i.sqrt()}function tm(e){return e instanceof tM||e&&e.toStringTag===eT||!1}function tp(e){return new this(e).ln()}function tf(e,t){return new this(e).log(t)}function th(e){return new this(e).log(2)}function tg(e){return new this(e).log(10)}function tb(){return ej(this,arguments,"lt")}function tA(){return ej(this,arguments,"gt")}function ty(e,t){return new this(e).mod(t)}function tw(e,t){return new this(e).mul(t)}function tS(e,t){return new this(e).pow(t)}function tk(e){var t,i,r,n,o=0,a=new this(1),s=[];if(void 0===e?e=this.precision:eW(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(n=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=n%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(r*=4);o<r;)(n=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(s.push(n%1e7),o+=4);o=r/4}else throw Error(ek);else for(;o<r;)s[o++]=1e7*Math.random()|0;for(r=s[--o],e%=7,r&&e&&(n=eI(10,7-e),s[o]=(r/n|0)*n);0===s[o];o--)s.pop();if(o<0)i=0,s=[0];else{for(i=-1;0===s[0];i-=7)s.shift();for(r=1,n=s[0];n>=10;n/=10)r++;r<7&&(i-=7-r)}return a.e=i,a.d=s,a}function tT(e){return eC(e=new this(e),e.e+1,this.rounding)}function tP(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function tI(e){return new this(e).sin()}function tv(e){return new this(e).sinh()}function tB(e){return new this(e).sqrt()}function tx(e,t){return new this(e).sub(t)}function tE(){var e=0,t=arguments,i=new this(t[0]);for(eA=!1;i.s&&++e<t.length;)i=i.plus(t[e]);return eA=!0,eC(i,this.precision,this.rounding)}function tR(e){return new this(e).tan()}function tN(e){return new this(e).tanh()}function tK(e){return eC(e=new this(e),e.e+1,1)}eK[Symbol.for("nodejs.util.inspect.custom")]=eK.toString,eK[Symbol.toStringTag]="Decimal";var tM=eK.constructor=function e(t){var i,r,n;function o(e){var t,i,r;if(!(this instanceof o))return new o(e);if(this.constructor=o,tm(e)){this.s=e.s,eA?!e.d||e.e>o.maxE?(this.e=NaN,this.d=null):e.e<o.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(r=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(t=0,i=e;i>=10;i/=10)t++;eA?t>o.maxE?(this.e=NaN,this.d=null):t<o.minE?(this.e=0,this.d=[0]):(this.e=t,this.d=[e]):(this.e=t,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return eY(this,e.toString())}if("string"!==r)throw Error(ew+e);return 45===(i=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===i&&(e=e.slice(1)),this.s=1),eE.test(e)?eY(this,e):function(e,t){var i,r,n,o,a,s,u,l,c;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),eE.test(t))return eY(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(eB.test(t))i=16,t=t.toLowerCase();else if(ev.test(t))i=2;else if(ex.test(t))i=8;else throw Error(ew+t);for((o=t.search(/p/i))>0?(u=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=(o=t.indexOf("."))>=0,r=e.constructor,a&&(o=(s=(t=t.replace(".","")).length)-o,n=ez(r,new r(i),o,2*o)),o=c=(l=eO(t,i,1e7)).length-1;0===l[o];--o)l.pop();return o<0?new r(0*e.s):(e.e=eq(l,c),e.d=l,eA=!1,a&&(e=eD(e,n,4*s)),u&&(e=e.times(54>Math.abs(u)?eI(2,u):tM.pow(2,u))),eA=!0,e)}(this,e)}if(o.prototype=eK,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=to,o.clone=e,o.isDecimal=tm,o.abs=e6,o.acos=e4,o.acosh=e5,o.add=e3,o.asin=e7,o.asinh=e8,o.atan=e9,o.atanh=te,o.atan2=tt,o.cbrt=ti,o.ceil=tr,o.clamp=tn,o.cos=ta,o.cosh=ts,o.div=tu,o.exp=tl,o.floor=tc,o.hypot=td,o.ln=tp,o.log=tf,o.log10=tg,o.log2=th,o.max=tb,o.min=tA,o.mod=ty,o.mul=tw,o.pow=tS,o.random=tk,o.round=tT,o.sign=tP,o.sin=tI,o.sinh=tv,o.sqrt=tB,o.sub=tx,o.sum=tE,o.tan=tR,o.tanh=tN,o.trunc=tK,void 0===t&&(t={}),t&&!0!==t.defaults)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<n.length;)t.hasOwnProperty(r=n[i++])||(t[r]=this[r]);return o.config(t),o}(eb);eh=new tM(eh),eg=new tM(eg);var tW=C.default,tF=((r=tF||{})[r.ROUND_DOWN=0]="ROUND_DOWN",r[r.ROUND_HALF_UP=1]="ROUND_HALF_UP",r[r.ROUND_UP=2]="ROUND_UP",r);function tO(e){let t=eo("Raydium_parseBigNumberish");if(e instanceof f.default)return e;if("string"==typeof e){if(e.match(/^-?[0-9]+$/))return new f.default(e);t.logWithError(`invalid BigNumberish string: ${e}`)}return"number"==typeof e?(e%1&&t.logWithError(`BigNumberish number underflow: ${e}`),(e>=0x1fffffffffffff||e<=-0x1fffffffffffff)&&t.logWithError(`BigNumberish number overflow: ${e}`),new f.default(String(e))):"bigint"==typeof e?new f.default(e.toString()):(t.error(`invalid BigNumberish value: ${e}`),new f.default(0))}var tD=eo("module/fraction"),tC=tW(D),tL=tW(L.default),tq={0:tL.ROUND_DOWN,1:tL.ROUND_HALF_UP,2:tL.ROUND_UP},tU={0:D.roundDown,1:D.roundHalfUp,2:D.roundUp},t_=class{constructor(e,t=new f.default(1)){this.numerator=tO(e),this.denominator=tO(t)}get quotient(){return this.numerator.div(this.denominator)}invert(){return new t_(this.denominator,this.numerator)}add(e){let t=e instanceof t_?e:new t_(tO(e));return this.denominator.eq(t.denominator)?new t_(this.numerator.add(t.numerator),this.denominator):new t_(this.numerator.mul(t.denominator).add(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}sub(e){let t=e instanceof t_?e:new t_(tO(e));return this.denominator.eq(t.denominator)?new t_(this.numerator.sub(t.numerator),this.denominator):new t_(this.numerator.mul(t.denominator).sub(t.numerator.mul(this.denominator)),this.denominator.mul(t.denominator))}mul(e){let t=e instanceof t_?e:new t_(tO(e));return new t_(this.numerator.mul(t.numerator),this.denominator.mul(t.denominator))}div(e){let t=e instanceof t_?e:new t_(tO(e));return new t_(this.numerator.mul(t.denominator),this.denominator.mul(t.numerator))}toSignificant(e,t={groupSeparator:""},i=1){Number.isInteger(e)||tD.logWithError(`${e} is not an integer.`),e<=0&&tD.logWithError(`${e} is not positive.`),tL.set({precision:e+1,rounding:tq[i]});let r=new tL(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return r.toFormat(r.decimalPlaces(),t)}toFixed(e,t={groupSeparator:""},i=1){return Number.isInteger(e)||tD.logWithError(`${e} is not an integer.`),e<0&&tD.logWithError(`${e} is negative.`),tC.DP=e,tC.RM=tU[i]||1,new tC(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}isZero(){return this.numerator.isZero()}},tG=eo("Raydium_amount"),tV=tW(D),tz=class extends t_{constructor(e,t,i=!0,r){let n=new f.default(0),o=io.pow(new f.default(e.decimals));if(i)n=tO(t);else{let i=new f.default(0),r=new f.default(0);if("string"==typeof t||"number"==typeof t||"bigint"==typeof t){let[n,o]=function(e,t){let i="0",r="0";if(e.includes(".")){let n=e.split(".");2===n.length?([i,r]=n,r=r.padEnd(t,"0")):tG.logWithError(`invalid number string, num: ${e}`)}else i=e;return[i,r.slice(0,t)||r]}(t.toString(),e.decimals);i=tO(n),r=tO(o)}n=(i=i.mul(o)).add(r)}super(n,o),this.logger=eo(r||"TokenAmount"),this.token=e}get raw(){return this.numerator}isZero(){return this.raw.isZero()}gt(e){return this.token.equals(e.token)||this.logger.logWithError("gt token not equals"),this.raw.gt(e.raw)}lt(e){return this.token.equals(e.token)||this.logger.logWithError("lt token not equals"),this.raw.lt(e.raw)}add(e){return this.token.equals(e.token)||this.logger.logWithError("add token not equals"),new tz(this.token,this.raw.add(e.raw))}subtract(e){return this.token.equals(e.token)||this.logger.logWithError("sub token not equals"),new tz(this.token,this.raw.sub(e.raw))}toSignificant(e=this.token.decimals,t,i=0){return super.toSignificant(e,t,i)}toFixed(e=this.token.decimals,t,i=0){return e>this.token.decimals&&this.logger.logWithError("decimals overflow"),super.toFixed(e,t,i)}toExact(e={groupSeparator:""}){return tV.DP=this.token.decimals,new tV(this.numerator.toString()).div(this.denominator.toString()).toFormat(e)}},tX={chainId:101,address:m.PublicKey.default.toBase58(),programId:S.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"SOL",name:"solana",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}},tj={chainId:101,address:"So11111111111111111111111111111111111111112",programId:S.TOKEN_PROGRAM_ID.toBase58(),decimals:9,symbol:"WSOL",name:"Wrapped SOL",logoURI:"https://img-v1.raydium.io/icon/So11111111111111111111111111111111111111112.png",tags:[],priority:2,type:"raydium",extensions:{coingeckoId:"solana"}};function tH({pubkey:e,isSigner:t=!1,isWritable:i=!0}){return{pubkey:e,isWritable:i,isSigner:t}}tH({pubkey:S.TOKEN_PROGRAM_ID,isWritable:!1}),tH({pubkey:m.SystemProgram.programId,isWritable:!1}),tH({pubkey:m.SYSVAR_RENT_PUBKEY,isWritable:!1});function tQ({publicKey:e,transformSol:t}){let i=tZ(e.toString());if(i instanceof m.PublicKey)return t&&i.equals(t4)?t6:i;if(t&&i.toString()===t4.toBase58())return t6;if("string"==typeof i){if(i===m.PublicKey.default.toBase58())return m.PublicKey.default;try{return new m.PublicKey(i)}catch{}}throw Error("invalid public key")}function tZ(e){try{return new m.PublicKey(e)}catch{return e}}var tY=new m.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),tJ=new m.PublicKey("MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"),t$=new m.PublicKey("SysvarRent111111111111111111111111111111111"),t0=new m.PublicKey("SysvarC1ock11111111111111111111111111111111"),t1=new m.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),t2=(new m.PublicKey("Sysvar1nstructions1111111111111111111111111"),m.SystemProgram.programId),t6=(new m.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),new m.PublicKey("Ea5SjE2Y6yvCeW5dYTn7PYMuW5ikXkvbGdcmSnXeaLjS"),new m.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),new m.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"),new m.PublicKey("Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"),new m.PublicKey("mSoLzYCxHdYgdzU16g5QSh3i5K3z3KZK7ytfqcJm7So"),new m.PublicKey("7dHbWXmci3dT8UFYWYZweBLXgycu7Y3iL6trKn1Y7ARj"),new m.PublicKey("USDH1SM1ojwWUga67PGrgFWUHibbjqMvuMaDkRJTgkX"),new m.PublicKey("NRVwhjBQiUPYtfDT5zRBVJajzFQHaBUNtC7SNVvqRFa"),new m.PublicKey("ANAxByE6G2WjFp7A4NqtWYXb3mgruyzZYg3spfxe6Lbo"),new m.PublicKey("7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs"),new m.PublicKey("So11111111111111111111111111111111111111112")),t4=m.PublicKey.default;function t5(e){return tQ({publicKey:e,transformSol:!0})}var t3=class{constructor({mint:e,decimals:t,symbol:i,name:r,skipMint:n=!1,isToken2022:o=!1}){if(e===t4.toBase58()||e instanceof m.PublicKey&&t4.equals(e)){this.decimals=tj.decimals,this.symbol=tj.symbol,this.name=tj.name,this.mint=new m.PublicKey(tj.address),this.isToken2022=!1;return}this.decimals=t,this.symbol=i||e.toString().substring(0,6),this.name=r||e.toString().substring(0,6),this.mint=n?m.PublicKey.default:tQ({publicKey:e}),this.isToken2022=o}equals(e){return this===e||this.mint.equals(e.mint)}};t3.WSOL=new t3($(J({},tj),{mint:tj.address}));var t7=class{constructor({decimals:e,symbol:t="UNKNOWN",name:i="UNKNOWN"}){this.decimals=e,this.symbol=t,this.name=i}equals(e){return this===e}};t7.SOL=new t7(tX);var t8=new t_(new f.default(100)),t9=class extends t_{toSignificant(e=5,t,i){return this.mul(t8).toSignificant(e,t,i)}toFixed(e=2,t,i){return this.mul(t8).toFixed(e,t,i)}},ie=eo("Raydium_price"),it=class extends t_{constructor(e){var t,i;let{baseToken:r,quoteToken:n,numerator:o,denominator:a}=e;super(o,a),this.baseToken=r,this.quoteToken=n,this.scalar=new t_((t=r.decimals,io.pow(tO(t))),(i=n.decimals,io.pow(tO(i))))}get raw(){return new t_(this.numerator,this.denominator)}get adjusted(){return super.mul(this.scalar)}invert(){return new it({baseToken:this.quoteToken,quoteToken:this.baseToken,denominator:this.numerator,numerator:this.denominator})}mul(e){this.quoteToken!==e.baseToken&&ie.logWithError("mul token not equals");let t=super.mul(e);return new it({baseToken:this.baseToken,quoteToken:e.quoteToken,denominator:t.denominator,numerator:t.numerator})}toSignificant(e=this.quoteToken.decimals,t,i){return this.adjusted.toSignificant(e,t,i)}toFixed(e=this.quoteToken.decimals,t,i){return this.adjusted.toFixed(e,t,i)}},ii=new f.default(0),ir=new f.default(1),io=(new f.default(2),new f.default(3),new f.default(5),new f.default(10));function ia(e,t,i){return e.mul(t).add(i).sub(new f.default(1)).div(i)}function is(e,t=1,i=[]){let r=[...e];if(t<=0)return i;for(;r.length;)i.push(r.splice(0,t));return i}new f.default(100),new f.default(1e3),new f.default(1e4);var iu=((n=iu||{})[n.V0=0]="V0",n[n.LEGACY=1]="LEGACY",n),il="CreateAccount",ic="ClmmOpenPosition",id="ClmmIncreasePosition",im="ClmmDecreasePosition",ip="ClmmSwapBaseIn",ih=eo("Raydium_txUtil");function ig(e){let t=[],i=[];return e.microLamports&&(t.push(m.ComputeBudgetProgram.setComputeUnitPrice({microLamports:e.microLamports})),i.push("SetComputeUnitPrice")),e.units&&(t.push(m.ComputeBudgetProgram.setComputeUnitLimit({units:e.units})),i.push("SetComputeUnitLimit")),{instructions:t,instructionTypes:i}}async function ib(e,t){var i,r;return null==(r=await (null==(i=e.getLatestBlockhash)?void 0:i.call(e,{commitment:null!=t?t:"confirmed"})))?void 0:r.blockhash}async function iA(e,t){return e.getSignatureStatuses([t]),new Promise((i,r)=>{let n=setTimeout(r,6e4);e.onSignature(t,e=>{(clearTimeout(n),e.err)?r(Object.assign(e.err,{txId:t})):i("")},"confirmed")})}function iy(e,t){e.length<1&&ih.logWithError(`no instructions provided: ${e.toString()}`),t.length<1&&ih.logWithError(`no signers provided:, ${t.toString()}`);let i=new m.Transaction;i.recentBlockhash="11111111111111111111111111111111",i.feePayer=t[0],i.add(...e);try{return g.Buffer.from(i.serialize({verifySignatures:!1})).toString("base64").length<1644}catch{return!1}}function iw(e,t){let[i,r]=m.PublicKey.findProgramAddressSync(e,t);return{publicKey:i,nonce:r}}function iS({instructions:e,payer:t,signers:i}){return iy(e,[t,...i])}function ik({instructions:e,payer:t,lookupTableAddressAccount:i,recentBlockhash:r=m.Keypair.generate().publicKey.toString()}){let n=new m.TransactionMessage({payerKey:t,recentBlockhash:r,instructions:e}).compileToV0Message(Object.values(null!=i?i:{}));try{return g.Buffer.from(new m.VersionedTransaction(n).serialize()).toString("base64").length<1644}catch{return!1}}function iT(e){let t=[];return e.forEach(e=>{e instanceof m.Transaction&&(e.recentBlockhash||(e.recentBlockhash=S.TOKEN_PROGRAM_ID.toBase58()),e.feePayer||(e.feePayer=m.Keypair.generate().publicKey)),t.push((e=>{let t,i=e.serialize({requireAllSignatures:!1,verifySignatures:!1});e instanceof m.VersionedTransaction&&(t=i,i=g.Buffer.isBuffer(t)?t:t instanceof Uint8Array?g.Buffer.from(t.buffer,t.byteOffset,t.byteLength):g.Buffer.from(t));try{return i instanceof g.Buffer?i.toString("base64"):g.Buffer.from(i).toString("base64")}catch{return i.toString("base64")}})(e))}),console.log("simulate tx string:",t),t}function iP(e,t,i){return iw([e.toBuffer(),(null!=i?i:S.TOKEN_PROGRAM_ID).toBuffer(),t.toBuffer()],new m.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"))}var iI=new m.PublicKey("EhhTKczWMGQt46ynNeRX1WfeagwwJd7ufHvCDjRxjo5Q"),iv=new m.PublicKey("CBuCnLe26faBpcBP2fktp4rp8abpcAnTWft6ZrP5Q4T"),iB=new m.PublicKey("9KEPoZmtHUrBbhWN1v1KWLMkkvwY6WLtAVUCPRtRjP4z"),ix=new m.PublicKey("FarmqiPv5eAj3j1GMdMCMUGXqPUvmquZtMy86QH6rzhG"),iE=(new m.PublicKey("CLaimxFqjHzgTJtAGHU47NPhg6qrc5sCnpC4tBLyABQS"),new m.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX")),iR=new m.PublicKey("9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"),iN=new m.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),iK=(new m.PublicKey("5quBtoiQqxF9Jv6KYKctB59NT3gtJD2Y65kdnB1Uev3h"),new m.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo")),iM=new m.PublicKey("CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK"),iW=new m.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE"),iF=new m.PublicKey("kN1kEznaF5Xbd8LYuqtEFcxzWSBk5Fv6ygX6SqEGJVy"),iO=(new m.PublicKey("routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS"),new m.PublicKey("7YttLkHDoNj9wyDur5pM1ejNaAvT9X4eqaYcHQqtj2G5")),iD=new m.PublicKey("6FJon3QE27qgPVggARueB22hLvoh22VzJpXv4rBEoSLF"),iC=new m.PublicKey("CC12se5To1CdEuw7fDS27B7Geo5jJyL7t5UK2B44NgiH"),iL=new m.PublicKey("9HzJyW1qZsEiSfMUf6L2jo3CcTKAyBmSyKdwQeYisHrC"),iq=new m.PublicKey("DropEU8AvevN3UrXWXTMuz3rqnMczQVNjq3kcSdW2SQi"),iU=new m.PublicKey("CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C"),i_=new m.PublicKey("GpMZbSM2GgvTKHJirzeGfMFoaZ8UR2X7F4v8vHTvxFbL"),iG=(new m.PublicKey("DNXgeM9EiiaAbaWvwjHj9fQQLAX5ZsfHyvmYUNRAdNC8"),new m.PublicKey("CPMDWBwJDtYax9qW7AyRuVC19Cc4L4Vcy4n2BHAbHkCW"),new m.PublicKey("7rQ1QFNosMkUCuh7Z7fPbTHvh73b68sQYdirycEzJVuw"),new m.PublicKey("G11FKBRaAkHAKuLCgLM6K6NUc9rTjPAznRCjZifrTQe2"),new m.PublicKey("LockrWmn6K5twhz3y9w1dQERbmgSaRkfnTeTKbpofwE")),iV=(new m.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new m.PublicKey("3f7GcQFG397GAaEnv51zR6tsTVihYRydnydDD1cXekxH")),iz=(new m.PublicKey("7AFUeLVRjBfzqK3tTGw8hN48KLQWSk6DTE8xprWdPqix"),new m.PublicKey("LanMkFSVSncjWqWAM8MUHenZzt9xTcT3DcAp949ZwbF"));function iX(e,t,i,r){if(void 0===t)return{amount:e,fee:void 0,expirationTime:void 0};let n=$(J({},t),{olderTransferFee:{epoch:BigInt(t.olderTransferFee.epoch),maximumFee:BigInt(t.olderTransferFee.maximumFee),transferFeeBasisPoints:t.olderTransferFee.transferFeeBasisPoints},newerTransferFee:{epoch:BigInt(t.newerTransferFee.epoch),maximumFee:BigInt(t.newerTransferFee.maximumFee),transferFeeBasisPoints:t.newerTransferFee.transferFeeBasisPoints}}),o=i.epoch<n.newerTransferFee.epoch?n.olderTransferFee:n.newerTransferFee,a=new f.default(o.maximumFee.toString()),s=i.epoch<n.newerTransferFee.epoch?(Number(n.newerTransferFee.epoch)*i.slotsInEpoch-i.absoluteSlot)*400/1e3:void 0;if(r)if(1e4===o.transferFeeBasisPoints){let t=new f.default(o.maximumFee.toString());return{amount:e.add(t),fee:t,expirationTime:s}}else{let t=iH(e.mul(new f.default(1e4)),new f.default(1e4-o.transferFeeBasisPoints)),i=new f.default(o.maximumFee.toString()),r=t.sub(e).gt(i)?e.add(i):t,n=iH(r.mul(new f.default(o.transferFeeBasisPoints)),new f.default(1e4));return{amount:r,fee:n.gt(a)?a:n,expirationTime:s}}{let t=iH(e.mul(new f.default(o.transferFeeBasisPoints)),new f.default(1e4));return{amount:e,fee:t.gt(a)?a:t,expirationTime:s}}}function ij(e,t){return void 0===e?t:void 0===t?e:Math.min(e,t)}function iH(e,t){let{div:i,mod:r}=e.divmod(t);return r.gt(new f.default(0))?i.add(new f.default(1)):i}function iQ(e,t){if(e.isZero())return new f.default(0);let i=e.div(t);return i.isZero()?new f.default(1):e.mod(t).gt(new f.default(0))?i.add(new f.default(1)):i}async function iZ({connection:e,address:t}){let i=await es(e,[...new Set(t.map(e=>e.toString()))].map(e=>new m.PublicKey(e))),r={};for(let e=0;e<t.length;e++){let n=i[e],o=t[e];if(!n)continue;let a=new m.AddressLookupTableAccount({key:o,state:m.AddressLookupTableAccount.deserialize(n.data)});r[o.toString()]=a,iY[o.toString()]=a}return r}new m.PublicKey("495mQpkX8mHAv18yGsfubCXbFQ9Jok1L1BvMrV9KvCHr"),new m.PublicKey("7soRSLviCKHCKzCbRuVpZDif76NWLVqFtbjt8LpyxWSq"),new m.PublicKey("DG6kZFFCqxdtWXw53Zc28hLs3MTr28Efkm2FrsNERNSQ"),m.PublicKey.default,new m.PublicKey("EoTcMgcDRTJVZDMZWBoU6rhYHZfkNTVEAfz3uUJRcYGj"),m.PublicKey.default,new m.PublicKey("85BFyr98MbCUU9MVTEgzx1nbhWACbJqLzho6zd6DZcWL"),new m.PublicKey("EcLzTrNg9V7qhcdyXDe2qjtPkiGzDM2UbdRaeaadU5r2"),new m.PublicKey("Farm2hJLcqPtPg8M4rR6DMrsRNc5TPm5Cs4bVQrMe2T7"),new m.PublicKey("HWy1jotHpo6UqeQxx49dpYYdQB8wj9Qk9MdxwjLvDHB8"),new m.PublicKey("DDg4VmQaJV9ogWce7LpcjBA9bv22wRp5uaTPa5pGjijF"),new m.PublicKey("devi51mZmdwUJGU9hjN27vEz64Gps7uUefqxg27EAtH"),new m.PublicKey("DLockwT7X7sxtLmGH9g5kmfcjaBtncdbUmi738m5bvQC"),new m.PublicKey("8qmHNvu2Kr2C7U8mJL4Vz1vTDxMhVuXKREwU7TNoaVEo"),new m.PublicKey("BVChZ3XFEwTMUk1o9i3HAf91H6mFxSwa5X2wFAWhYPhU"),new m.PublicKey("3XMrhbv989VxAMi3DErLV9eJht1pHppW5LbKxe9fkEFR");var iY={AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU:new m.AddressLookupTableAccount({key:new m.PublicKey("AcL1Vo8oy1ULiavEcjSUcwfBSForXMudcZvDZy5nzJkU"),state:m.AddressLookupTableAccount.deserialize(g.Buffer.from("AQAAAP//////////I1rcEwAAAAAvAQYwun9CU6c5Ikm2pAj+D9IEnCOR45nK+SFTGSdpd6J6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAbd9uHXZaGT2cvhRs7reawctIXtX1s3kTqM9YV+/wCpBt324e51j94YQl285GzN2rYa/E2DuQ0n/r35KNihi/wFSlNQ+F3IgtYUpVZyeIopbd8eq6vQpgZ4iEky9O72oAVKU1qZKSEGTSTocWDaOHx8NbXdvJK7geQfqEBBBUSNBqfVFxksXFEhjMlMPUrxf1ja7gibof1E49vZigAAAAAGp9UXGMd0yShWY5hpHV62i164o5tLbVxzVVshAAAAAIyXJY9OJInxuz0QKRSODYMLWhOZ2v8QhASOe9jb6fhZC3BlsePRfEU4nVJ/awTDzVi4bHMaoP21SbbRvAP4KUbIScv+6Yw2LHF/6K0ZjUPibbSWXCirYPGuuVl7zT789IUPLW4CpHr4JNCatp3ELXDLKMv6JJ+37le50lbBJ2LvBkX2T9y7AHdNGviJAqQNtlDUDCnauQRWybsLji6nPM8Qkw5asQRvCdB3MbX6IEBwytOrpM32l4jQygKG9TKgR0vZScQ2AsM/IHeQ7RajUkyhuZdc8SGiqQz/7H34torNR/Wir3sl0ruUrVxJWEZfUg+QLNAxxODdBi53/OP7Ioil1cqeBM9dtZC3FLov4yyxWRM/wcGStyJX/QfTnLBAHqkqWotPKVlShCVQqpP9W5W1rOao65IMk5QuQ2kMIOxzDMKAy2vjGSxQODgBz0QwGA+eP4ZjIjrIAQaXENv31QfLlOdXSRCkaybRniDHF4C8YcwhcvsqrOVuTP4B2Na+9wLdtrB31uz2rtlFI5kahdsnp/d1SrASDInYCtTYtdoke4kX+hoKWcEWM4Tle8pTUkUVv4BxS6fje/EzKBE4Qu/YsA/yfEEFGcr8Z57VKDw8uQzpiru7g4lvjnfapW62W030syevD8k07SGoxUHiuT/ai7gAHWWhDsVmg/C63ajgpkH7Sn3GdutArDTfyqOkdqv4/IPC/EFFy7mGkfDd2C57N5a/4jC+BbmJy7wQaSEZr0CQU88lPtUxIVvzGjC95b8Ooss2TqmkrayGKofkPMGQn7Ux+9lfwBSNfxwH8NgbpqC/7LNlV4I7nCvsXf3p+ohQk9NrAJb2KAFpUqEIJ9ZBV7BYDzHF/ORKYlgtvPnXjudZQ6CEo5OzUDaNIomTCCsvhD16TxJjsbgne1kGnQPCFSoaxUbq2V1bPMFQ3VYP6wDZ9bKStCFKx9A3tNbwZFC5ZGAN83MFK7XoTy+OmmcFEr6rLOjfSuTfPvHJkSVxW6Qllwkl67XcBi5v00u2gQsbu+38sp+rd5pA/LvyWj4P94ZGZwc1tE2P88xekCLcAwZGb+UhFzL/7K26csOb57yM5bvF9xJrLEObOkAAAAAn+HWRkdcPKyFFMnVwEoD7vnD0jCKFIU1sImubYCxNTSVzsKpaQX+fzNxrLAI3L14JQnJx/D6Uk2LADIHGqnGELzjEbkBDAlaM77NkXMPfqXNLSveCkWI7UEgNs31WEWB6XHSYI/v5DklHOb4QTtDOR804PVbi3fjloZeLR2F8d4FuZmMMO7ck3Fnkn2zEMG5gOmqsygb6PjTitArVl52NhcSznTxVnguaIJxiZkAnurDmn3MWR0PC2GLghp2KJqHCc6QQ85odeIjFHKOlRlJyeSXVJmL8vb1UgOzsbJPVP8p6zM4M3C1Sd7uWIHP33G42AP2Zg8ucn/n6meQjjD266JgCWdxZD6PXs9CsnIeL7SSG0/6lGb9xfP0ZcWkCXB/3hjxHYVXjra/GPOeXGk0fLLKjCbk+mgs2w6d2oCwimBipTzuoZ30GiI8ij8VRzD5CzMWtu2m21eDBIfjGAEo4pQeNNonKcqzV/cleX8ySZLOHsz8PtBCrLqF+VkLm9hOzIT+6i/nIf6keR4GWKMOD4AvqfpjHoD4DuhBpz8P28+DxkGrDXXr/nr20x291VPvcTU/b+b+o2kC9G0kcXeTlLjU6a2TQXWlZ4gBUdBl1jgT7mObSTpLblNiXZsLkbmVXZwvFKXua5cUKlWed/w30skmEUraTuQqtqr5fHZPW9n57EmeTif6LjHL2YJFZkQU+TrJmFzqzmF4/b8OwrPQAprl8mX3q4LUIdAS/a+11B6DWD1Xk2++Sn94dLC4xjkO4Wtlw8c4XuzciVbepHOmnoWzVu/0y3KCrLCSfQxQ3br8DJCoVzhgtPsS2nZZjsBGIZgnU0QpMv+2MnRsnKwdp1VsrCX84j/qvaZn4WhKunippgTbN2EUs0tPTP55Qfgj+nKmjtWW5IYs72FrEwJKYoNfsmqaF4o5pf4v9zgPwVwY/5I4XJKUL2L25m9kAQcW/K+H1RTFEUoj8Z4ajpOmAB/dG0COmCphVMW2CCMvnxhcGiSgPnpDuWu6qiJ7NG7ye5kvHgefgqPLeicspNJ5EpL3XiRNLM2tmJLI1awAwOyd6iHv0dCkMYRKaa6rcaZeYwmKCkckm0kM2JNmnmmAaBQQ7mwmIM0IMxX4f5W6j9PqZWcJxF7r17T/lQBAmcjoupRiJifbnXCNUv9GhpRF19WcBdeKbivRJVlGop6I2RS6lGImJ9udcI1S/0aGlEXX1ZwF14puK9ElWUainojZFYVHLHD6dIP2ESjqBzg3ol1/wB7+/ylGwd9LS7wSZ2A630CJSVKwH47K9P4bB8PEQP8BwjMFa7xQHOqZFP1XqaQ==","base64"))})},iJ=class{constructor(e){this.instructions=[],this.endInstructions=[],this.lookupTableAddress=[],this.signers=[],this.instructionTypes=[],this.endInstructionTypes=[],this.connection=e.connection,this.feePayer=e.feePayer,this.signAllTransactions=e.signAllTransactions,this.owner=e.owner,this.cluster=e.cluster,this.blockhashCommitment=e.blockhashCommitment,this.loopMultiTxStatus=!!e.loopMultiTxStatus}get AllTxData(){return{instructions:this.instructions,endInstructions:this.endInstructions,signers:this.signers,instructionTypes:this.instructionTypes,endInstructionTypes:this.endInstructionTypes,lookupTableAddress:this.lookupTableAddress}}get allInstructions(){return[...this.instructions,...this.endInstructions]}async getComputeBudgetConfig(){var e;let t=(await b.default.get("https://solanacompass.com/api/fees?cacheFreshTime=300000")).data,{avg:i}=null!=(e=null==t?void 0:t[15])?e:{};if(i)return{units:6e5,microLamports:Math.min(Math.ceil(1e6*i/6e5),25e3)}}addCustomComputeBudget(e){if(e){let{instructions:t,instructionTypes:i}=ig(e);return this.instructions.unshift(...t),this.instructionTypes.unshift(...i),!0}return!1}addTipInstruction(e){var t;return!!e&&(this.endInstructions.push(m.SystemProgram.transfer({fromPubkey:null!=(t=e.feePayer)?t:this.feePayer,toPubkey:new m.PublicKey(e.address),lamports:BigInt(e.amount.toString())})),this.endInstructionTypes.push("TransferTip"),!0)}async calComputeBudget({config:e,defaultIns:t}){try{let i=e||await this.getComputeBudgetConfig();if(this.addCustomComputeBudget(i))return;t&&this.instructions.unshift(...t)}catch{t&&this.instructions.unshift(...t)}}addInstruction({instructions:e=[],endInstructions:t=[],signers:i=[],instructionTypes:r=[],endInstructionTypes:n=[],lookupTableAddress:o=[]}){return this.instructions.push(...e),this.endInstructions.push(...t),this.signers.push(...i),this.instructionTypes.push(...r),this.endInstructionTypes.push(...n),this.lookupTableAddress.push(...o.filter(e=>e!==m.PublicKey.default.toString())),this}async versionBuild({txVersion:e,extInfo:t}){return 0===e?await this.buildV0(J({},t||{})):this.build(t)}build(e){var t;let i=new m.Transaction;return this.allInstructions.length&&i.add(...this.allInstructions),i.feePayer=this.feePayer,(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer),{builder:this,transaction:i,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{recentBlockHash:r,skipPreflight:n=!0,sendAndConfirm:o,notSendToRpc:a}=e||{};if(i.recentBlockhash=null!=r?r:await ib(this.connection,this.blockhashCommitment),this.signers.length&&i.sign(...this.signers),iT([i]),null!=(t=this.owner)&&t.isKeyPair)return{txId:o?await (0,m.sendAndConfirmTransaction)(this.connection,i,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:n}):await this.connection.sendRawTransaction(i.serialize(),{skipPreflight:n}),signedTx:i};if(this.signAllTransactions){let e=await this.signAllTransactions([i]);if(this.signers.length)for(let t of e)try{t.sign(...this.signers)}catch{}return{txId:a?"":await this.connection.sendRawTransaction(e[0].serialize(),{skipPreflight:n}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:e||{}}}buildMultiTx(e){var t;let{extraPreBuildData:i=[],extInfo:r}=e,{transaction:n}=this.build(r),o=i.filter(e=>e.transaction.instructions.length>0),a=[n,...o.map(e=>e.transaction)],s=[this.signers,...o.map(e=>e.signers)],u=[...this.instructionTypes,...o.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),{builder:this,transactions:a,signers:s,instructionTypes:u,execute:async e=>{var t;let{sequentially:i,onTxUpdate:r,skipTxCount:n=0,recentBlockHash:o,skipPreflight:u=!0}=e||{},l=null!=o?o:await ib(this.connection,this.blockhashCommitment);if(null!=(t=this.owner)&&t.isKeyPair){if(i){let e=[],t=0;for(let i of a){if(++t<=n)continue;let r=await (0,m.sendAndConfirmTransaction)(this.connection,i,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:u});e.push(r)}return{txIds:e,signedTxs:a}}return{txIds:await await Promise.all(a.map(async e=>(e.recentBlockhash=l,await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:u})))),signedTxs:a}}if(this.signAllTransactions){let e=a.map((e,t)=>(e.recentBlockhash=l,s[t].length&&e.sign(...s[t]),e));iT(e);let t=await this.signAllTransactions(e);if(i){let e=0,i=[],n=async()=>{if(!t[e])return;let o=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:u});i.push({txId:o,status:"sent",signedTx:t[e]}),null==r||r([...i]),e++;let a=!1,s=null,l=null,c=e=>{null!==s&&clearInterval(s),null!==l&&this.connection.removeSignatureListener(l);let t=i.findIndex(e=>e.txId===o);if(t>-1){if("error"===i[t].status||"success"===i[t].status)return;i[t].status=e.err?"error":"success"}null==r||r([...i]),e.err||n()};this.loopMultiTxStatus&&(s=setInterval(async()=>{var e;if(a)return void clearInterval(s);try{let t=await this.connection.getTransaction(o,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(a=!0,clearInterval(s),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",o))}catch(e){a=!0,clearInterval(s),console.error("getTransaction timeout:",e,o)}},2e3)),l=this.connection.onSignature(o,e=>{a?this.connection.removeSignatureListener(l):(a=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(o)};return await n(),{txIds:i.map(e=>e.txId),signedTxs:t}}{let e=[];for(let i=0;i<t.length;i+=1){let r=await this.connection.sendRawTransaction(t[i].serialize(),{skipPreflight:u});e.push(r)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:r||{}}}async versionMultiBuild({extraPreBuildData:e,txVersion:t,extInfo:i}){return 0===t?await this.buildV0MultiTx({extraPreBuildData:e,buildProps:i||{}}):this.buildMultiTx({extraPreBuildData:e,extInfo:i})}async buildV0(e){var t;let i=e||{},{lookupTableCache:r={},lookupTableAddress:n=[],forerunCreate:o,recentBlockhash:a}=i,s=ee(i,["lookupTableCache","lookupTableAddress","forerunCreate","recentBlockhash"]),u=J(J({},"devnet"===this.cluster?{}:iY),r),l=Array.from(new Set([...n,...this.lookupTableAddress])),c=[];for(let e of l)void 0===u[e]&&c.push(new m.PublicKey(e));for(let[e,t]of Object.entries(await iZ({connection:this.connection,address:c})))u[e]=t;let d=o?m.PublicKey.default.toBase58():null!=a?a:await ib(this.connection,this.blockhashCommitment),p=new m.TransactionMessage({payerKey:this.feePayer,recentBlockhash:d,instructions:[...this.allInstructions]}).compileToV0Message(Object.values(u));(null==(t=this.owner)?void 0:t.signer)&&!this.signers.some(e=>e.publicKey.equals(this.owner.publicKey))&&this.signers.push(this.owner.signer);let f=new m.VersionedTransaction(p);return f.sign(this.signers),{builder:this,transaction:f,signers:this.signers,instructionTypes:[...this.instructionTypes,...this.endInstructionTypes],execute:async e=>{var t;let{skipPreflight:i=!0,sendAndConfirm:r,notSendToRpc:n}=e||{};if(iT([f]),null!=(t=this.owner)&&t.isKeyPair){let e=await this.connection.sendTransaction(f,{skipPreflight:i});return r&&await iA(this.connection,e),{txId:e,signedTx:f}}if(this.signAllTransactions){let e=await this.signAllTransactions([f]);if(this.signers.length)for(let t of e)try{t.sign(this.signers)}catch{}return{txId:n?"":await this.connection.sendTransaction(e[0],{skipPreflight:i}),signedTx:e[0]}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}async buildV0MultiTx(e){var t;let{extraPreBuildData:i=[],buildProps:r}=e,{transaction:n}=await this.buildV0(r),o=i.filter(e=>e.builder.instructions.length>0),a=[n,...o.map(e=>e.transaction)],s=[this.signers,...o.map(e=>e.signers)],u=[...this.instructionTypes,...o.map(e=>e.instructionTypes).flat()];return null!=(t=this.owner)&&t.signer&&s.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||this.signers.push(this.owner.signer)}),a.forEach(async(e,t)=>{e.sign(s[t])}),{builder:this,transactions:a,signers:s,instructionTypes:u,buildProps:r,execute:async e=>{var t;let{sequentially:i,onTxUpdate:r,recentBlockHash:n,skipPreflight:o=!0}=e||{};if(n&&a.forEach(e=>e.message.recentBlockhash=n),iT(a),null!=(t=this.owner)&&t.isKeyPair){if(i){let e=[];for(let t of a){let i=await this.connection.sendTransaction(t,{skipPreflight:o});await iA(this.connection,i),e.push(i)}return{txIds:e,signedTxs:a}}return{txIds:await Promise.all(a.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:o}))),signedTxs:a}}if(this.signAllTransactions){let e=await this.signAllTransactions(a);if(i){let t=0,i=[],n=async()=>{if(!e[t])return;let a=await this.connection.sendTransaction(e[t],{skipPreflight:o});i.push({txId:a,status:"sent",signedTx:e[t]}),null==r||r([...i]),t++;let s=!1,u=null,l=null,c=e=>{null!==u&&clearInterval(u),null!==l&&this.connection.removeSignatureListener(l);let t=i.findIndex(e=>e.txId===a);if(t>-1){if("error"===i[t].status||"success"===i[t].status)return;i[t].status=e.err?"error":"success"}null==r||r([...i]),e.err||n()};this.loopMultiTxStatus&&(u=setInterval(async()=>{var e;if(s)return void clearInterval(u);try{let t=await this.connection.getTransaction(a,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(s=!0,clearInterval(u),c({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",a))}catch(e){s=!0,clearInterval(u),console.error("getTransaction timeout:",e,a)}},2e3)),l=this.connection.onSignature(a,e=>{s?this.connection.removeSignatureListener(l):(s=!0,c(e))},"confirmed"),this.connection.getSignatureStatus(a)};return n(),{txIds:[],signedTxs:e}}{let t=[];for(let i=0;i<e.length;i+=1){let r=await this.connection.sendTransaction(e[i],{skipPreflight:o});t.push(r)}return{txIds:t,signedTxs:e}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:r||{}}}async sizeCheckBuild(e){var t;let i=e||{},{splitIns:r=[],computeBudgetConfig:n}=i,o=ee(i,["splitIns","computeBudgetConfig"]),a=n?ig(n):{instructions:[],instructionTypes:[]},s=this.signers.reduce((e,t)=>$(J({},e),{[t.publicKey.toBase58()]:t}),{}),u=[],l=[],c=[],d=0;if(this.allInstructions.forEach(e=>{let t=[...c,e],i=n?[...a.instructions,...t]:t,o=[...new Set(t.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>new m.PublicKey(e));if(e!==r[d]&&c.length<12&&(iS({instructions:i,payer:this.feePayer,signers:o})||iS({instructions:t,payer:this.feePayer,signers:o})))c.push(e);else{if(0===c.length)throw Error("item ins too big");d+=+(e===r[d]),iS({instructions:n?[...a.instructions,...c]:[...c],payer:this.feePayer,signers:o})?u.push(new m.Transaction().add(...a.instructions,...c)):u.push(new m.Transaction().add(...c)),l.push(Array.from(new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>s[e]).filter(e=>void 0!==e)),c=[e]}}),c.length>0){let e=[...new Set(c.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>s[e]).filter(e=>void 0!==e);iS({instructions:n?[...a.instructions,...c]:[...c],payer:this.feePayer,signers:e.map(e=>e.publicKey)})?u.push(new m.Transaction().add(...a.instructions,...c)):u.push(new m.Transaction().add(...c)),l.push(e)}return u.forEach(e=>e.feePayer=this.feePayer),null!=(t=this.owner)&&t.signer&&l.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:u,signers:l,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:i,onTxUpdate:r,skipTxCount:n=0,recentBlockHash:o,skipPreflight:a=!0}=e||{},s=null!=o?o:await ib(this.connection,this.blockhashCommitment);if(u.forEach(async(e,t)=>{e.recentBlockhash=s,l[t].length&&e.sign(...l[t])}),iT(u),null!=(t=this.owner)&&t.isKeyPair){if(i){let e=0,t=[];for(let i of u){if(++e<=n){t.push("tx skipped");continue}let r=await (0,m.sendAndConfirmTransaction)(this.connection,i,this.signers.find(e=>e.publicKey.equals(this.owner.publicKey))?this.signers:[...this.signers,this.owner.signer],{skipPreflight:a});t.push(r)}return{txIds:t,signedTxs:u}}return{txIds:await Promise.all(u.map(async e=>await this.connection.sendRawTransaction(e.serialize(),{skipPreflight:a}))),signedTxs:u}}if(this.signAllTransactions){let e=await this.signAllTransactions(u.slice(n,u.length)),t=[...u.slice(0,n),...e];if(i){let e=0,i=[],o=async()=>{if(!t[e])return;e<n&&(i.push({txId:"",status:"success",signedTx:t[e]}),null==r||r([...i]),e++,o());let s=await this.connection.sendRawTransaction(t[e].serialize(),{skipPreflight:a});i.push({txId:s,status:"sent",signedTx:t[e]}),null==r||r([...i]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=i.findIndex(e=>e.txId===s);if(t>-1){if("error"===i[t].status||"success"===i[t].status)return;i[t].status=e.err?"error":"success"}null==r||r([...i]),e.err||o()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(s)};return await o(),{txIds:i.map(e=>e.txId),signedTxs:t}}{let e=[];for(let i=0;i<t.length;i+=1){let r=await this.connection.sendRawTransaction(t[i].serialize(),{skipPreflight:a});e.push(r)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:o||{}}}async sizeCheckBuildV0(e){var t;let i=e||{},{computeBudgetConfig:r,splitIns:n=[],lookupTableCache:o={},lookupTableAddress:a=[]}=i,s=ee(i,["computeBudgetConfig","splitIns","lookupTableCache","lookupTableAddress"]),u=J(J({},"devnet"===this.cluster?{}:iY),o),l=Array.from(new Set([...this.lookupTableAddress,...a])),c=[];for(let e of l)void 0===u[e]&&c.push(new m.PublicKey(e));for(let[e,t]of Object.entries(await iZ({connection:this.connection,address:c})))u[e]=t;let d=r?ig(r):{instructions:[],instructionTypes:[]},p=await ib(this.connection,this.blockhashCommitment),f=this.signers.reduce((e,t)=>$(J({},e),{[t.publicKey.toBase58()]:t}),{}),h=[],g=[],b=[],A=0;if(this.allInstructions.forEach(e=>{let t=[...b,e],i=r?[...d.instructions,...t]:t;if(e!==n[A]&&b.length<12&&(ik({instructions:i,payer:this.feePayer,lookupTableAddressAccount:u})||ik({instructions:t,payer:this.feePayer,lookupTableAddressAccount:u})))b.push(e);else{if(0===b.length)throw Error("item ins too big");A+=+(e===n[A]);let t={};for(let e of[...new Set(l)])void 0!==u[e]&&(t[e]=u[e]);if(r&&ik({instructions:[...d.instructions,...b],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:p})){let e=new m.TransactionMessage({payerKey:this.feePayer,recentBlockhash:p,instructions:[...d.instructions,...b]}).compileToV0Message(Object.values(u));h.push(new m.VersionedTransaction(e))}else{let e=new m.TransactionMessage({payerKey:this.feePayer,recentBlockhash:p,instructions:[...b]}).compileToV0Message(Object.values(u));h.push(new m.VersionedTransaction(e))}g.push(Array.from(new Set(b.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat())).map(e=>f[e]).filter(e=>void 0!==e)),b=[e]}}),b.length>0){let e=[...new Set(b.map(e=>e.keys.filter(e=>e.isSigner).map(e=>e.pubkey.toString())).flat()).values()].map(e=>f[e]).filter(e=>void 0!==e);if(r&&ik({instructions:[...d.instructions,...b],payer:this.feePayer,lookupTableAddressAccount:u,recentBlockhash:p})){let e=new m.TransactionMessage({payerKey:this.feePayer,recentBlockhash:p,instructions:[...d.instructions,...b]}).compileToV0Message(Object.values(u));h.push(new m.VersionedTransaction(e))}else{let e=new m.TransactionMessage({payerKey:this.feePayer,recentBlockhash:p,instructions:[...b]}).compileToV0Message(Object.values(u));h.push(new m.VersionedTransaction(e))}g.push(e)}return null!=(t=this.owner)&&t.signer&&g.forEach(e=>{e.some(e=>e.publicKey.equals(this.owner.publicKey))||e.push(this.owner.signer)}),{builder:this,transactions:h,buildProps:e,signers:g,instructionTypes:this.instructionTypes,execute:async e=>{var t;let{sequentially:i,onTxUpdate:r,skipTxCount:n=0,recentBlockHash:o,skipPreflight:a=!0}=e||{};if(h.map(async(e,t)=>{g[t].length&&e.sign(g[t]),o&&(e.message.recentBlockhash=o)}),iT(h),null!=(t=this.owner)&&t.isKeyPair){if(i){let e=0,t=[];for(let i of h){if(++e<=n){console.log("skip tx: ",e),t.push("tx skipped");continue}let r=await this.connection.sendTransaction(i,{skipPreflight:a});await iA(this.connection,r),t.push(r)}return{txIds:t,signedTxs:h}}return{txIds:await Promise.all(h.map(async e=>await this.connection.sendTransaction(e,{skipPreflight:a}))),signedTxs:h}}if(this.signAllTransactions){let e=await this.signAllTransactions(h.slice(n,h.length)),t=[...h.slice(0,n),...e];if(i){let e=0,i=[],o=async()=>{if(!t[e])return;if(e<n){i.push({txId:"",status:"success",signedTx:t[e]}),null==r||r([...i]),e++,o();return}let s=await this.connection.sendTransaction(t[e],{skipPreflight:a});i.push({txId:s,status:"sent",signedTx:t[e]}),null==r||r([...i]),e++;let u=!1,l=null,c=null,d=e=>{null!==l&&clearInterval(l),null!==c&&this.connection.removeSignatureListener(c);let t=i.findIndex(e=>e.txId===s);if(t>-1){if("error"===i[t].status||"success"===i[t].status)return;i[t].status=e.err?"error":"success"}null==r||r([...i]),e.err||o()};this.loopMultiTxStatus&&(l=setInterval(async()=>{var e;if(u)return void clearInterval(l);try{let t=await this.connection.getTransaction(s,{commitment:"confirmed",maxSupportedTransactionVersion:0});t&&(u=!0,clearInterval(l),d({err:(null==(e=t.meta)?void 0:e.err)||null}),console.log("tx status from getTransaction:",s))}catch(e){u=!0,clearInterval(l),console.error("getTransaction timeout:",e,s)}},2e3)),c=this.connection.onSignature(s,e=>{u?this.connection.removeSignatureListener(c):(u=!0,d(e))},"confirmed"),this.connection.getSignatureStatus(s)};return o(),{txIds:[],signedTxs:t}}{let e=[];for(let i=0;i<t.length;i+=1){let r=await this.connection.sendTransaction(t[i],{skipPreflight:a});e.push(r)}return{txIds:e,signedTxs:t}}}throw Error("please provide owner in keypair format or signAllTransactions function")},extInfo:s||{}}}},i$=new f.default(1e6),i0=((o=i0||{}).ALL="all",o.Strict="strict",o),i1=((a=i1||{}).All="all",a.Standard="standard",a.Concentrated="concentrated",a.AllFarm="allFarm",a.StandardFarm="standardFarm",a.ConcentratedFarm="concentratedFarm",a),i2={BASE_HOST:"https://api-v3.raydium.io",OWNER_BASE_HOST:"https://owner-v1.raydium.io",SERVICE_BASE_HOST:"https://service.raydium.io",MONITOR_BASE_HOST:"https://monitor.raydium.io",SERVICE_1_BASE_HOST:"https://service-v1.raydium.io",SEND_TRANSACTION:"/send-transaction",FARM_ARP:"/main/farm/info",FARM_ARP_LINE:"/main/farm-apr-tv",CLMM_CONFIG:"/main/clmm-config",CPMM_CONFIG:"/main/cpmm-config",VERSION:"/main/version",CHECK_AVAILABILITY:"/v3/main/AvailabilityCheckAPI",RPCS:"/main/rpcs",INFO:"/main/info",STAKE_POOLS:"/main/stake-pools",CHAIN_TIME:"/main/chain-time",TOKEN_LIST:"/mint/list",MINT_INFO_ID:"/mint/ids",JUP_TOKEN_LIST:"https://tokens.jup.ag/tokens?tags=lst,community",POOL_LIST:"/pools/info/list",POOL_SEARCH_BY_ID:"/pools/info/ids",POOL_SEARCH_MINT:"/pools/info/mint",POOL_SEARCH_LP:"/pools/info/lps",POOL_KEY_BY_ID:"/pools/key/ids",POOL_LIQUIDITY_LINE:"/pools/line/liquidity",POOL_POSITION_LINE:"/pools/line/position",FARM_INFO:"/farms/info/ids",FARM_LP_INFO:"/farms/info/lp",FARM_KEYS:"/farms/key/ids",OWNER_CREATED_FARM:"/create-pool/{owner}",OWNER_IDO:"/main/ido/{owner}",OWNER_STAKE_FARMS:"/position/stake/{owner}",OWNER_LOCK_POSITION:"/position/clmm-lock/{owner}",IDO_KEYS:"/ido/key/ids",SWAP_HOST:"https://transaction-v1.raydium.io",SWAP_COMPUTE:"/compute/",SWAP_TX:"/transaction/",MINT_PRICE:"/mint/price",MIGRATE_CONFIG:"/main/migrate-lp",PRIORITY_FEE:"/main/auto-fee",CPMM_LOCK:"https://dynamic-ipfs.raydium.io/lock/cpmm/position"};J({},i2);var i6="ray_tab_hash",i4="ray_req_hash",i5=async e=>{let t;var{logCount:i=1e3,removeLastLog:r}=e,n=ee(e,["logCount","removeLastLog"]);let o=JSON.parse(localStorage.getItem(i4)||"[]").slice(0,i-1);r&&o.pop(),new Blob([JSON.stringify(n.data)]).size>1024&&(n.data=JSON.stringify(n.data).substring(0,200)+"..."),o.unshift($(J({},n),{time:Date.now(),session:((t=sessionStorage.getItem(i6))||(t=`ray-${Date.now()}`,sessionStorage.setItem(i6,t)),t)}));try{localStorage.setItem(i4,JSON.stringify(o))}catch{if(r){let e=!1,t=JSON.stringify(n.data).substring(0,100);for(o[0].data=t+(t.length>100?"...":"");!e;){o.pop();let t=JSON.stringify(n.data).substring(0,100);o[0].data=t+(t.length>100?"...":"");try{localStorage.setItem(i4,JSON.stringify(o)),e=!0}catch{e=!1}}return new Promise(e=>e())}return i5($(J({},n),{logCount:i,removeLastLog:!0}))}},i3=eo("Raydium_Api"),i7=new Map,i8=(...e)=>e.map(e=>{try{return"object"==typeof e?JSON.stringify(e):e}catch{return e}}).join(", "),i9=class{constructor({scope:e,moduleName:t}){this.disabled=!1,this.scope=e,this.logger=eo(t)}createTxBuilder(e){return this.scope.checkOwner(),new iJ({connection:this.scope.connection,feePayer:e||this.scope.ownerPubKey,cluster:this.scope.cluster,owner:this.scope.owner,blockhashCommitment:this.scope.blockhashCommitment,loopMultiTxStatus:this.scope.loopMultiTxStatus,api:this.scope.api,signAllTransactions:this.scope.signAllTransactions})}logDebug(...e){this.logger.debug(i8(e))}logInfo(...e){this.logger.info(i8(e))}logAndCreateError(...e){throw Error(i8(e))}checkDisabled(){(this.disabled||!this.scope)&&this.logAndCreateError("module not working")}};function re(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function rt(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}var ri=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),rr=(e,t)=>e<<32-t|e>>>t;function rn(e){return"string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),re(e),e}new Uint8Array(new Uint32Array([0x11223344]).buffer)[0];var ro=class{clone(){return this._cloneInto()}},ra=(e,t,i)=>e&t^~e&i,rs=(e,t,i)=>e&t^e&i^t&i,ru=class extends ro{constructor(e,t,i,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ri(this.buffer)}update(e){rt(this);let{view:t,buffer:i,blockLen:r}=this,n=(e=rn(e)).length;for(let o=0;o<n;){let a=Math.min(r-this.pos,n-o);if(a===r){let t=ri(e);for(;r<=n-o;o+=r)this.process(t,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){rt(this),function(e,t){re(e);let i=t.outputLen;if(e.length<i)throw Error(`digestInto() expects output buffer of length at least ${i}`)}(e,this),this.finished=!0;let{buffer:t,view:i,blockLen:r,isLE:n}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(i,0),o=0);for(let e=o;e<r;e++)t[e]=0;(function(e,t,i,r){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,i,r);let n=BigInt(32),o=BigInt(0xffffffff),a=Number(i>>n&o),s=Number(i&o),u=4*!!r,l=4*!r;e.setUint32(t+u,a,r),e.setUint32(t+l,s,r)})(i,r-8,BigInt(8*this.length),n),this.process(i,0);let a=ri(e),s=this.outputLen;if(s%4)throw Error("_sha2: outputLen should be aligned to 32bit");let u=s/4,l=this.get();if(u>l.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<u;e++)a.setUint32(4*e,l[e],n)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:i,length:r,finished:n,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=n,e.destroyed=o,r%t&&e.buffer.set(i),e}},rl=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),rc=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),rd=new Uint32Array(64),rm=class extends ru{constructor(){super(64,32,8,!1),this.A=0|rc[0],this.B=0|rc[1],this.C=0|rc[2],this.D=0|rc[3],this.E=0|rc[4],this.F=0|rc[5],this.G=0|rc[6],this.H=0|rc[7]}get(){let{A:e,B:t,C:i,D:r,E:n,F:o,G:a,H:s}=this;return[e,t,i,r,n,o,a,s]}set(e,t,i,r,n,o,a,s){this.A=0|e,this.B=0|t,this.C=0|i,this.D=0|r,this.E=0|n,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let i=0;i<16;i++,t+=4)rd[i]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=rd[e-15],i=rd[e-2],r=rr(t,7)^rr(t,18)^t>>>3,n=rr(i,17)^rr(i,19)^i>>>10;rd[e]=n+rd[e-7]+r+rd[e-16]|0}let{A:i,B:r,C:n,D:o,E:a,F:s,G:u,H:l}=this;for(let e=0;e<64;e++){let t=l+(rr(a,6)^rr(a,11)^rr(a,25))+ra(a,s,u)+rl[e]+rd[e]|0,c=(rr(i,2)^rr(i,13)^rr(i,22))+rs(i,r,n)|0;l=u,u=s,s=a,a=o+t|0,o=n,n=r,r=i,i=t+c|0}i=i+this.A|0,r=r+this.B|0,n=n+this.C|0,o=o+this.D|0,a=a+this.E|0,s=s+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(i,r,n,o,a,s,u,l)}roundClean(){rd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},rp=(d=()=>new rm,(s=e=>d().update(rn(e)).digest()).outputLen=(u=d()).outputLen,s.blockLen=u.blockLen,s.create=()=>d(),s),rf=k.Layout,rh=k.Structure,rg=(k.Union,k.BitStructure,k.UInt),rb=(k.Blob,k.greedy,k.u8),rA=k.u16,ry=(k.u24,k.u32),rw=(k.u40,k.u48,k.nu64),rS=(k.u16be,k.u24be,k.u32be,k.u40be,k.u48be,k.nu64be,k.s8,k.s16,k.s24,k.s32);k.s40,k.s48,k.ns64,k.s16be,k.s24be,k.s32be,k.s40be,k.s48be,k.ns64be,k.f32,k.f32be,k.f64,k.f64be;var rk=k.seq,rT=(k.union,k.unionLayoutDiscriminator,k.blob),rP=(k.cstr,k.utf8,k.bits),rI=k.offset,rv=class extends rf{constructor(e,t,i){super(e,i),this.blob=rT(e),this.signed=t}decode(e,t=0){let i=new f.default(this.blob.decode(e,t),10,"le");return this.signed?i.fromTwos(8*this.span).clone():i}encode(e,t,i=0){return"number"==typeof e&&(e=new f.default(e)),this.signed&&(e=e.toTwos(8*this.span)),this.blob.encode(e.toArrayLike(g.Buffer,"le",this.span),t,i)}},rB=class extends rf{constructor(e){super(8,e),this._lower=rP(ry(),!1),this._upper=rP(ry(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e,t=0){let i=this._lower.decode(e,t),r=this._upper.decode(e,t+this._lower.span);return J(J({},i),r)}encode(e,t,i=0){return this._lower.encode(e,t,i)+this._upper.encode(e,t,i+this._lower.span)}};function rx(e){return new rg(1,e)}function rE(e){return new rg(4,e)}function rR(e){return new rv(8,!1,e)}function rN(e){return new rv(16,!1,e)}function rK(e){return new rv(8,!0,e)}var rM=class extends rf{constructor(e,t,i,r){super(e.span,r),this.layout=e,this.decoder=t,this.encoder=i}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,i){return this.layout.encode(this.encoder(e),t,i)}getSpan(e,t){return this.layout.getSpan(e,t)}};function rW(e){return new rM(rT(32),e=>new m.PublicKey(e),e=>e.toBuffer(),e)}function rF(e){return new rM(rb(),rO,rD,e)}function rO(e){if(0===e)return!1;if(1===e)return!0;throw Error("Invalid bool: "+e)}function rD(e){return+!!e}var rC=class extends rh{decode(e,t){return super.decode(e,t)}};function rL(e,t,i){return new rC(e,t,i)}function rq(e,t,i){let r;return rk(e,"number"==typeof t?t:(0,f.isBN)(t)?t.toNumber():new Proxy(t,{get(e,t){if(!r){let t=Reflect.get(e,"count");Reflect.set(e,"count",r=(0,f.isBN)(t)?t.toNumber():t)}return Reflect.get(e,t)},set:(e,t,i)=>("count"===t&&(r=i),Reflect.set(e,t,i))}),i)}rL([rW("mint"),rW("owner"),rR("amount"),rE("delegateOption"),rW("delegate"),rx("state"),rE("isNativeOption"),rR("isNative"),rR("delegatedAmount"),rE("closeAuthorityOption"),rW("closeAuthority")]);eo("Raydium_Util");var rU=rL([rx("instruction")]),r_=rL([rx("instruction")]),rG=rL([rR("rewardState"),rR("rewardOpenTime"),rR("rewardEndTime"),rR("rewardLastUpdateTime"),rR("totalReward"),rR("totalRewardEmissioned"),rR("rewardClaimed"),rR("rewardPerSecond"),rN("accRewardPerShare"),rW("rewardVault"),rW("rewardMint"),rW("rewardSender"),rR("rewardType"),rq(rR(),15,"padding")]),rV=rL([rR("state"),rR("nonce"),rW("lpVault"),rW("rewardVault"),rW(),rW(),rR(),rR(),rR("totalReward"),rN("perShareReward"),rR("lastSlot"),rR("perSlotReward")]),rz=rL([rR("state"),rR("nonce"),rW("lpVault"),rW("rewardVaultA"),rR("totalRewardA"),rN("perShareRewardA"),rR("perSlotRewardA"),rx("option"),rW("rewardVaultB"),rT(7),rR("totalRewardB"),rN("perShareRewardB"),rR("perSlotRewardB"),rR("lastSlot"),rW()]),rX=rL([rR(),rR("state"),rR("nonce"),rR("validRewardTokenNum"),rN("rewardMultiplier"),rR("rewardPeriodMax"),rR("rewardPeriodMin"),rR("rewardPeriodExtend"),rW("lpMint"),rW("lpVault"),rq(rG,5,"rewardInfos"),rW("creator"),rW(),rq(rR(),32,"padding")]),rj=(new Proxy(rV,{get:(e,t,i)=>"decode"===t?(...t)=>{let i=e.decode(...t);return $(J({},i),{version:3,rewardInfos:[{rewardVault:i.rewardVault,totalReward:i.totalReward,perSlotReward:i.perSlotReward,perShareReward:i.perShareReward}]})}:Reflect.get(e,t,i)}),new Proxy(rz,{get:(e,t,i)=>"decode"===t?(...t)=>{let i=e.decode(...t);return $(J({},i),{version:5,rewardInfos:[{rewardVault:i.rewardVaultA,totalReward:i.totalRewardA,perSlotReward:i.perSlotRewardA,perShareReward:i.perShareRewardA},{rewardVault:i.rewardVaultB,totalReward:i.totalRewardB,perSlotReward:i.perSlotRewardB,perShareReward:i.perShareRewardB}]})}:Reflect.get(e,t,i)}),new Proxy(rX,{get:(e,t,i)=>"decode"===t?(...t)=>{let i=e.decode(...t);return $(J({},i),{version:6,rewardInfos:i.rewardInfos.map(e=>{var t;return $(J({},e),{rewardType:(null!=(t=Object.entries(r7).find(t=>String(t[1])===e.rewardType.toString()))?t:["Standard SPL"])[0]})})})}:Reflect.get(e,t,i)})),rH=rL([rR("isSet"),rR("rewardPerSecond"),rR("rewardOpenTime"),rR("rewardEndTime"),rR("rewardType")]),rQ=rL([rx("instruction"),rR("nonce"),rq(rH,5,"rewardTimeInfo")]),rZ=rL([rx("instruction"),rR("rewardReopenTime"),rR("rewardEndTime"),rR("rewardPerSecond")]),rY=rL([rx("instruction"),rR("isSet"),rR("rewardPerSecond"),rR("rewardOpenTime"),rR("rewardEndTime"),rR("rewardType")]),rJ=(rL([rR("state"),rW("id"),rW("owner"),rR("deposited"),rq(rR(),1,"rewardDebts")]),rL([rR("state"),rW("id"),rW("owner"),rR("deposited"),rq(rN(),1,"rewardDebts"),rR(""),rR("voteLockedBalance"),rq(rR(),15)])),r$=(rL([rR("state"),rW("id"),rW("owner"),rR("deposited"),rq(rR(),2,"rewardDebts")]),rL([rR("state"),rW("id"),rW("owner"),rR("deposited"),rq(rN(),2,"rewardDebts"),rq(rR(),17)])),r0=rL([rR(),rR("state"),rW("id"),rW("owner"),rR("deposited"),rq(rN(),5,"rewardDebts"),rq(rR(),16)]),r1=rL([rx("instruction"),rR("amount")]),r2=rL([rW("mint"),rW("grantAuthority"),rR("baselineVoteWeightScaledFactor"),rR("maxExtraLockupVoteWeightScaledFactor"),rR("lockupSaturationSecs"),new rv(1,!0,"digitShift"),rq(rx(),7,"reserved1"),rq(rR(),7,"reserved2")]),r6=(rL([rT(8),rW("governanceProgramId"),rW("realm"),rW("realmGoverningTokenMint"),rW("realmAuthority"),rq(rx(),32,"reserved1"),rq(r2,4,"votingMints"),rK("timeOffset"),rx("bump"),rq(rx(),7,"reserved2"),rq(rR(),11,"reserved3")]),rL([rK("startTime"),rK("endTime"),rx("kind"),rq(rx(),15,"reserved")])),r4=rL([rq(r6,1,"lockup"),rR("amountDeposited_native"),rR("amountInitiallyLockedNative"),rF("isUsed"),rF("allowClawback"),rx("votingMintConfigIdx"),rq(rx(),29,"reserved")]);rL([rT(8),rW("voterAuthority"),rW("registrar"),rq(r4,32,"deposits"),rx("voterBump"),rx("voterWweightRecordBump"),rq(rx(),94,"reserved")]),eo("Raydium_farm_config");var r5=new m.PublicKey("4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R"),r3=new m.PublicKey("FrspKwj8i3pNmKwXreTveC4fu7KL5ZbGeXdZBe2XViu1"),r7={"Standard SPL":0,"Option tokens":1},r8={[iI.toString()]:3,[iv.toString()]:4,[iB.toString()]:5,[ix.toString()]:6},r9=eo("Raydium.farm.util");eo("Raydium_farm_instruction");g.Buffer.from([6,24,245,52,243,255,148,25]),g.Buffer.from([185,131,167,186,159,125,19,67]),g.Buffer.from([242,35,198,137,82,225,242,182]),g.Buffer.from([183,18,70,156,148,109,161,34]),g.Buffer.from([45,185,3,36,109,190,115,169]);var ne=new f.default(0),nt=new f.default(1),ni=new f.default(-1),nr=new f.default(1).shln(64),nn=new f.default(1).shln(128),no=nr.sub(nt),na=nn.subn(1),ns=new f.default("4295048016"),nu=new f.default("79226673521066979257578248091"),nl=new f.default("4295048017"),nc=new f.default("79226673521066979257578248090"),nd=new f.default(10).pow(new f.default(6)),nm=((l=nm||{})[l.rate_500=500]="rate_500",l[l.rate_3000=3e3]="rate_3000",l[l.rate_10000=1e4]="rate_10000",l),np={tvl:0,volumeQuote:0,mintAmountA:0,mintAmountB:0,rewardDefaultInfos:[],farmUpcomingCount:0,farmOngoingCount:0,farmFinishedCount:0,day:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},week:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},month:{volume:0,volumeQuote:0,volumeFee:0,apr:0,feeApr:0,priceMin:0,priceMax:0,rewardApr:[0]},pooltype:[]};function nf(e){let t=new ArrayBuffer(4);return new DataView(t).setInt32(0,e,!1),new Uint8Array(t)}function nh(e,t){let i=0;for(let r=e-1;r>=0&&!t.testn(r);r--)i++;return i}function ng(e,t){let i=0;for(let r=0;r<e&&!t.testn(r);r++)i++;return i}function nb(e,t){for(let i=0;i<e;i++)if(t.testn(i))return!1;return!0}new f.default("18446744073700000000"),g.Buffer.from("amm_config","utf8");var nA=g.Buffer.from("pool","utf8"),ny=g.Buffer.from("pool_vault","utf8"),nw=g.Buffer.from("pool_reward_vault","utf8"),nS=g.Buffer.from("position","utf8"),nk=g.Buffer.from("tick_array","utf8"),nT=g.Buffer.from("operation","utf8"),nP=g.Buffer.from("pool_tick_array_bitmap_extension","utf8"),nI=g.Buffer.from("observation","utf8");function nv(e,t,i){return iw([ny,t.toBuffer(),i.toBuffer()],e)}function nB(e,t,i){return iw([nk,t.toBuffer(),nf(i)],e)}function nx(e,t,i,r){return iw([nS,t.toBuffer(),nf(i),nf(r)],e)}function nE(e,t){return iw([nS,t.toBuffer()],e)}function nR(e){return iw([g.Buffer.from("metadata","utf8"),t1.toBuffer(),e.toBuffer()],t1)}function nN(e,t){return iw([nP,t.toBuffer()],e)}var nK=g.Buffer.from("locked_position","utf8");function nM(e,t){return iw([nK,t.toBuffer()],e)}function nW(e,t){return iw([nK,t.toBuffer()],e)}g.Buffer.from("support_mint","utf8");var nF=class{static getfeeGrowthInside(e,t,i){let r=new f.default(0),n=new f.default(0);e.tickCurrent>=t.tick?(r=t.feeGrowthOutsideX64A,n=t.feeGrowthOutsideX64B):(r=e.feeGrowthGlobalX64A.sub(t.feeGrowthOutsideX64A),n=e.feeGrowthGlobalX64B.sub(t.feeGrowthOutsideX64B));let o=new f.default(0),a=new f.default(0);return e.tickCurrent<i.tick?(o=i.feeGrowthOutsideX64A,a=i.feeGrowthOutsideX64B):(o=e.feeGrowthGlobalX64A.sub(i.feeGrowthOutsideX64A),a=e.feeGrowthGlobalX64B.sub(i.feeGrowthOutsideX64B)),{feeGrowthInsideX64A:nq.wrappingSubU128(nq.wrappingSubU128(e.feeGrowthGlobalX64A,r),o),feeGrowthInsideBX64:nq.wrappingSubU128(nq.wrappingSubU128(e.feeGrowthGlobalX64B,n),a)}}static GetPositionFees(e,t,i,r){let{feeGrowthInsideX64A:n,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,i,r),a=nq.mulDivFloor(nq.wrappingSubU128(n,t.feeGrowthInsideLastX64A),t.liquidity,nr),s=t.tokenFeesOwedA.add(a),u=nq.mulDivFloor(nq.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,nr);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionFeesV2(e,t,i,r){let{feeGrowthInsideX64A:n,feeGrowthInsideBX64:o}=this.getfeeGrowthInside(e,i,r),a=nq.mulDivFloor(nq.wrappingSubU128(n,t.feeGrowthInsideLastX64A),t.liquidity,nr),s=t.tokenFeesOwedA.add(a),u=nq.mulDivFloor(nq.wrappingSubU128(o,t.feeGrowthInsideLastX64B),t.liquidity,nr);return{tokenFeeAmountA:s,tokenFeeAmountB:t.tokenFeesOwedB.add(u)}}static GetPositionRewardsV2(e,t,i,r){let n=[],o=this.getRewardGrowthInsideV2(e.tickCurrent,i,r,e.rewardInfos);for(let e=0;e<o.length;e++){let i=o[e],r=t.rewardInfos[e],a=nq.wrappingSubU128(i,r.growthInsideLastX64),s=nq.mulDivFloor(a,t.liquidity,nr),u=r.rewardAmountOwed.add(s);n.push(u)}return n}static GetPositionRewards(e,t,i,r){let n=[],o=this.getRewardGrowthInside(e.tickCurrent,i,r,e.rewardInfos);for(let e=0;e<o.length;e++){let i=o[e],r=t.rewardInfos[e],a=nq.wrappingSubU128(i,r.growthInsideLastX64),s=nq.mulDivFloor(a,t.liquidity,nr),u=r.rewardAmountOwed.add(s);n.push(u)}return n}static getRewardGrowthInside(e,t,i,r){let n=[];for(let o=0;o<r.length;o++){let a=new f.default(0);a=t.liquidityGross.eqn(0)?r[o].rewardGrowthGlobalX64:e<t.tick?r[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):t.rewardGrowthsOutsideX64[o];let s=new f.default(0);i.liquidityGross.eqn(0)||(s=e<i.tick?i.rewardGrowthsOutsideX64[o]:r[o].rewardGrowthGlobalX64.sub(i.rewardGrowthsOutsideX64[o])),n.push(nq.wrappingSubU128(nq.wrappingSubU128(r[o].rewardGrowthGlobalX64,a),s))}return n}static getRewardGrowthInsideV2(e,t,i,r){let n=[];for(let o=0;o<r.length;o++){let a=new f.default(0);a=t.liquidityGross.eqn(0)?r[o].rewardGrowthGlobalX64:e<t.tick?r[o].rewardGrowthGlobalX64.sub(t.rewardGrowthsOutsideX64[o]):t.rewardGrowthsOutsideX64[o];let s=new f.default(0);i.liquidityGross.eqn(0)||(s=e<i.tick?i.rewardGrowthsOutsideX64[o]:r[o].rewardGrowthGlobalX64.sub(i.rewardGrowthsOutsideX64[o])),n.push(nq.wrappingSubU128(nq.wrappingSubU128(r[o].rewardGrowthGlobalX64,a),s))}return n}static getAmountsFromLiquidity({poolInfo:e,ownerPosition:t,liquidity:i,slippage:r,add:n,epochInfo:o}){var a,s,u,l;let c=nG.priceToSqrtPriceX64(new tM(e.price),e.mintA.decimals,e.mintB.decimals),d=nG.getSqrtPriceX64FromTick(t.tickLower),m=nG.getSqrtPriceX64FromTick(t.tickUpper),p=n?1+r:1-r,h=nz.getAmountsFromLiquidity(c,d,m,i,n),[g,b]=[iX(h.amountA,null==(a=e.mintA.extensions)?void 0:a.feeConfig,o,!0),iX(h.amountB,null==(s=e.mintB.extensions)?void 0:s.feeConfig,o,!0)],[A,y]=[iX(new f.default(new tM(h.amountA.toString()).mul(p).toFixed(0)),null==(u=e.mintA.extensions)?void 0:u.feeConfig,o,!0),iX(new f.default(new tM(h.amountB.toString()).mul(p).toFixed(0)),null==(l=e.mintB.extensions)?void 0:l.feeConfig,o,!0)];return{liquidity:i,amountA:g,amountB:b,amountSlippageA:A,amountSlippageB:y,expirationTime:ij(g.expirationTime,b.expirationTime)}}},nO=class{static async getTickArrays(e,t,i,r,n,o,a){let s=[],u=nQ.getTickArrayStartIndexByTick(r,n),l=nQ.getInitializedTickArrayInRange(o,a,n,u,Math.floor(7.5));for(let e=0;e<l.length;e++){let{publicKey:r}=nB(t,i,l[e]);s.push(r)}let c=(await es(e,s)).map(e=>null!==e?n4.decode(e.data):null),d={};for(let e=0;e<s.length;e++){let t=c[e];null!==t&&(d[t.startTickIndex]=$(J({},t),{address:s[e]}))}return d}static nextInitializedTick(e,t,i,r,n,o){let{initializedTick:a,tickArrayAddress:s,tickArrayStartTickIndex:u}=this.nextInitializedTickInOneArray(e,t,i,r,n,o);for(;null==a||a.liquidityGross.lten(0);){if(u=nQ.getNextTickArrayStartIndex(u,n,o),this.checkIsValidStartIndex(u,n))throw Error("No enough initialized tickArray");let r=i[u];if(void 0===r)continue;let{nextTick:l,tickArrayAddress:c,tickArrayStartTickIndex:d}=this.firstInitializedTickInOneArray(e,t,r,o);[a,s,u]=[l,c,d]}if(null==a)throw Error("No invaild tickArray cache");return{nextTick:a,tickArrayAddress:s,tickArrayStartTickIndex:u}}static nextInitializedTickArray(e,t,i,r,n){let o=Math.floor(e/nO.tickCount(t)),a=i?nQ.searchLowBitFromStart(r,n,o-1,1,t):nQ.searchHightBitFromStart(r,n,o+1,1,t);return a.length>0?{isExist:!0,nextStartIndex:a[0]}:{isExist:!1,nextStartIndex:0}}static firstInitializedTickInOneArray(e,t,i,r){let n;if(r){let e=nj-1;for(;e>=0;){let t=i.ticks[e];if(t.liquidityGross.gtn(0)){n=t;break}e-=1}}else{let e=0;for(;e<nj;){let t=i.ticks[e];if(t.liquidityGross.gtn(0)){n=t;break}e+=1}}let{publicKey:o}=nB(e,t,i.startTickIndex);return{nextTick:n,tickArrayAddress:o,tickArrayStartTickIndex:i.startTickIndex}}static nextInitializedTickInOneArray(e,t,i,r,n,o){let a,s=nQ.getTickArrayStartIndexByTick(r,n),u=Math.floor((r-s)/n),l=i[s];if(null==l)return{initializedTick:void 0,tickArrayAddress:void 0,tickArrayStartTickIndex:s};if(o)for(;u>=0;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){a=e;break}u-=1}else for(u+=1;u<nj;){let e=l.ticks[u];if(e.liquidityGross.gtn(0)){a=e;break}u+=1}let{publicKey:c}=nB(e,t,s);return{initializedTick:a,tickArrayAddress:c,tickArrayStartTickIndex:l.startTickIndex}}static getArrayStartIndex(e,t){let i=this.tickCount(t);return Math.floor(e/i)*i}static checkIsValidStartIndex(e,t){return nQ.checkIsOutOfBoundary(e)?!(e>443636)&&e==nQ.getTickArrayStartIndexByTick(-443636,t):e%this.tickCount(t)==0}static tickCount(e){return nj*e}},nD=class{static maxTickInTickarrayBitmap(e){return e*nj*nH}static getBitmapTickBoundary(e,t){let i=this.maxTickInTickarrayBitmap(t),r=Math.floor(Math.abs(e)/i);e<0&&Math.abs(e)%i!=0&&(r+=1);let n=i*r;return e<0?{minValue:-n,maxValue:-n+i}:{minValue:n,maxValue:n+i}}static nextInitializedTickArrayStartIndex(e,t,i,r){var n,o;if(!nO.checkIsValidStartIndex(t,i))throw Error("nextInitializedTickArrayStartIndex check error");let a=this.maxTickInTickarrayBitmap(i),s=r?t-nO.tickCount(i):t+nO.tickCount(i);if(s<-a||s>=a)return{isInit:!1,tickIndex:t};let u=i*nj,l=s/u+512;s<0&&s%u!=0&&l--;let c=Math.abs(l);if(r){let t=nb(1024,n=e.shln(1024-c-1))?null:nh(1024,n);return null!==t?{isInit:!0,tickIndex:(c-t-512)*u}:{isInit:!1,tickIndex:-a}}{let t=nb(1024,o=e.shrn(c))?null:ng(1024,o);return null!==t?{isInit:!0,tickIndex:(c+t-512)*u}:{isInit:!1,tickIndex:a-nO.tickCount(i)}}}},nC=class{static getBitmapOffset(e,t){if(!nO.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");this.checkExtensionBoundary(e,t);let i=nD.maxTickInTickarrayBitmap(t),r=Math.floor(Math.abs(e)/i)-1;return e<0&&Math.abs(e)%i==0&&r--,r}static getBitmap(e,t,i){let r=this.getBitmapOffset(e,t);return e<0?{offset:r,tickarrayBitmap:i.negativeTickArrayBitmap[r]}:{offset:r,tickarrayBitmap:i.positiveTickArrayBitmap[r]}}static checkExtensionBoundary(e,t){let{positiveTickBoundary:i,negativeTickBoundary:r}=this.extensionTickBoundary(t);if(e>=r&&e<i)throw Error("checkExtensionBoundary -> InvalidTickArrayBoundary")}static extensionTickBoundary(e){let t=nD.maxTickInTickarrayBitmap(e),i=-t;if(443636<=t)throw Error(`extensionTickBoundary check error: 443636, ${t}`);if(i<=-443636)throw Error(`extensionTickBoundary check error: ${i}, -443636`);return{positiveTickBoundary:t,negativeTickBoundary:i}}static checkTickArrayIsInit(e,t,i){let{tickarrayBitmap:r}=this.getBitmap(e,t,i),n=this.tickArrayOffsetInBitmap(e,t);return{isInitialized:nQ.mergeTickArrayBitmap(r).testn(n),startIndex:e}}static nextInitializedTickArrayFromOneBitmap(e,t,i,r){let n=nO.tickCount(t),o=i?e-n:e+n,{tickarrayBitmap:a}=this.getBitmap(o,t,r);return this.nextInitializedTickArrayInBitmap(a,o,t,i)}static nextInitializedTickArrayInBitmap(e,t,i,r){let{minValue:n,maxValue:o}=nD.getBitmapTickBoundary(t,i),a=this.tickArrayOffsetInBitmap(t,i);if(r){let r=nQ.mergeTickArrayBitmap(e).shln(nH-1-a),o=nb(512,r)?null:nh(512,r);return null!==o?{isInit:!0,tickIndex:t-o*nO.tickCount(i)}:{isInit:!1,tickIndex:n}}{let r=nQ.mergeTickArrayBitmap(e).shrn(a),n=nb(512,r)?null:ng(512,r);return null!==n?{isInit:!0,tickIndex:t+n*nO.tickCount(i)}:{isInit:!1,tickIndex:o-nO.tickCount(i)}}}static tickArrayOffsetInBitmap(e,t){let i=Math.abs(e)%nD.maxTickInTickarrayBitmap(t),r=Math.floor(i/nO.tickCount(t));return e<0&&0!=i&&(r=nH-r),r}},nL=class{static getOutputAmountAndRemainAccounts(e,t,i,r,n,o=!1){let a=i.toBase58()===e.mintA.address,s=[],{isExist:u,startIndex:l,nextAccountMeta:c}=this.getFirstInitializedTickArray(e,a);if(!u||void 0===l||!c)throw Error("Invalid tick array");s.push(c);let{allTrade:d,amountCalculated:m,accounts:p,sqrtPriceX64:f,feeAmount:h}=nX.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,a,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,r,l,n,o);return s.push(...p),{allTrade:d,expectedAmountOut:m.mul(ni),remainingAccounts:s,executionPrice:f,feeAmount:h}}static getInputAmountAndRemainAccounts(e,t,i,r,n){let o=i.toBase58()===e.mintB.address,a=[],{isExist:s,startIndex:u,nextAccountMeta:l}=this.getFirstInitializedTickArray(e,o);if(!s||void 0===u||!l)throw Error("Invalid tick array");try{let t=this.preInitializedTickArrayStartIndex(e,o);if(t.isExist){let{publicKey:i}=nB(e.programId,e.id,t.nextStartIndex);a.push(i)}}catch{}a.push(l);let{amountCalculated:c,accounts:d,sqrtPriceX64:m,feeAmount:p}=nX.swapCompute(e.programId,e.id,t,e.tickArrayBitmap,e.exBitmapInfo,o,e.ammConfig.tradeFeeRate,e.liquidity,e.tickCurrent,e.tickSpacing,e.sqrtPriceX64,r.mul(ni),u,n);return a.push(...d),{expectedAmountIn:c,remainingAccounts:a,executionPrice:m,feeAmount:p}}static getFirstInitializedTickArray(e,t){let{isInitialized:i,startIndex:r}=nL.isOverflowDefaultTickarrayBitmap(e.tickSpacing,[e.tickCurrent])?nC.checkTickArrayIsInit(nO.getArrayStartIndex(e.tickCurrent,e.tickSpacing),e.tickSpacing,e.exBitmapInfo):nQ.checkTickArrayIsInitialized(nQ.mergeTickArrayBitmap(e.tickArrayBitmap),e.tickCurrent,e.tickSpacing);if(i){let{publicKey:t}=nB(e.programId,e.id,r);return{isExist:!0,startIndex:r,nextAccountMeta:t}}let{isExist:n,nextStartIndex:o}=this.nextInitializedTickArrayStartIndex(e,nO.getArrayStartIndex(e.tickCurrent,e.tickSpacing),t);if(n){let{publicKey:t}=nB(e.programId,e.id,o);return{isExist:!0,startIndex:o,nextAccountMeta:t}}return{isExist:!1,nextAccountMeta:void 0,startIndex:void 0}}static preInitializedTickArrayStartIndex(e,t){let i=Math.floor(e.tickCurrent/nO.tickCount(e.tickSpacing)),r=t?nQ.searchHightBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,i+1,1,e.tickSpacing):nQ.searchLowBitFromStart(e.tickArrayBitmap,e.exBitmapInfo,i-1,1,e.tickSpacing);return r.length>0?{isExist:!0,nextStartIndex:r[0]}:{isExist:!1,nextStartIndex:0}}static nextInitializedTickArrayStartIndex(e,t,i){for(t=nO.getArrayStartIndex(e.tickCurrent,e.tickSpacing);;){let{isInit:r,tickIndex:n}=nD.nextInitializedTickArrayStartIndex(nQ.mergeTickArrayBitmap(e.tickArrayBitmap),t,e.tickSpacing,i);if(r)return{isExist:!0,nextStartIndex:n};t=n;let{isInit:o,tickIndex:a}=nC.nextInitializedTickArrayFromOneBitmap(t,e.tickSpacing,i,e.exBitmapInfo);if(o)return{isExist:!0,nextStartIndex:a};if((t=a)<-443636||t>443636)return{isExist:!1,nextStartIndex:0}}}static async updatePoolRewardInfos({connection:e,apiPoolInfo:t,chainTime:i,poolLiquidity:r,rewardInfos:n}){var o,a,s;let u=[];for(let l=0;l<n.length;l++){let c=n[l],d=null!=(s=null==(o=t.rewardDefaultInfos[l])?void 0:o.mint.programId)?s:null==(a=await e.getAccountInfo(c.tokenMint))?void 0:a.owner;if(void 0===d)throw Error("get new reward mint info error");let p=$(J({},c),{perSecond:nq.x64ToDecimal(c.emissionsPerSecondX64),remainingRewards:void 0,tokenProgramId:new m.PublicKey(d)});if(p.tokenMint.equals(m.PublicKey.default))continue;if(i<=p.openTime.toNumber()||r.eq(ne)){u.push(p);continue}let h=new f.default(Math.min(p.endTime.toNumber(),i)),g=h.sub(p.lastUpdateTime),b=nq.mulDivFloor(g,p.emissionsPerSecondX64,r),A=p.rewardGrowthGlobalX64.add(b),y=nq.mulDivFloor(g,p.emissionsPerSecondX64,nr),w=p.rewardTotalEmissioned.add(y);u.push($(J({},p),{rewardGrowthGlobalX64:A,rewardTotalEmissioned:w,lastUpdateTime:h}))}return u}static isOverflowDefaultTickarrayBitmap(e,t){let{maxTickBoundary:i,minTickBoundary:r}=this.tickRange(e);for(let n of t){let t=nQ.getTickArrayStartIndexByTick(n,e);if(t>=i||t<r)return!0}return!1}static tickRange(e){let t=nD.maxTickInTickarrayBitmap(e),i=-t;return t>443636&&(t=nO.getArrayStartIndex(443636,e)+nO.tickCount(e)),i<-443636&&(i=nO.getArrayStartIndex(-443636,e)),{maxTickBoundary:t,minTickBoundary:i}}static get_tick_array_offset(e,t){if(!nO.checkIsValidStartIndex(e,t))throw Error("No enough initialized tickArray");return e/nO.tickCount(t)*nH}static async fetchExBitmaps({connection:e,exBitmapAddress:t,batchRequest:i}){let r=await eu(e,t.map(e=>({pubkey:e})),{batchRequest:i}),n={};for(let e of r)null!==e.accountInfo&&(n[e.pubkey.toString()]=n3.decode(e.accountInfo.data));return n}static async fetchMultiplePoolTickArrays({connection:e,poolKeys:t,batchRequest:i}){let r={},n=[];for(let e of t){let t=nQ.getTickArrayStartIndexByTick(e.tickCurrent,e.tickSpacing);for(let i of nQ.getInitializedTickArrayInRange(e.tickArrayBitmap,e.exBitmapInfo,e.tickSpacing,t,7)){let{publicKey:t}=nB(e.programId,e.id,i);n.push({pubkey:t}),r[t.toString()]=e.id}}let o=await eu(e,n,{batchRequest:i}),a={};for(let e of o){if(!e.accountInfo)continue;let t=r[e.pubkey.toString()];if(!t)continue;void 0===a[t.toString()]&&(a[t.toString()]={});let i=n4.decode(e.accountInfo.data);a[t.toString()][i.startTickIndex]=$(J({},i),{address:e.pubkey})}return a}static async fetchPoolsAccountPosition({pools:e,connection:t,ownerInfo:i,batchRequest:r=!1,updateOwnerRewardAndFee:n=!0}){var o;let a=[];for(let t=0;t<e.length;t++){let i=e[t];null!==i&&(a.find(e=>e.equals(i.state.programId))||a.push(i.state.programId))}if(i){let s=i.tokenAccounts.map(e=>e.accountInfo.mint),u=[];for(let e of s)for(let t of a)u.push(nE(t,e).publicKey);let l=await es(t,u,{batchRequest:r}),c={};for(let t of l){if(null===t)continue;let i=n2.decode(t.data),r=i.poolId.toString(),n=e.find(e=>e.state.id.toBase58()===r);if(void 0===n)continue;let a=n.state,s=nQ._getTickPriceLegacy({poolInfo:a,tick:i.tickLower,baseIn:!0}),u=nQ._getTickPriceLegacy({poolInfo:a,tick:i.tickUpper,baseIn:!0}),{amountA:l,amountB:d}=nz.getAmountsFromLiquidity(a.sqrtPriceX64,s.tickSqrtPriceX64,u.tickSqrtPriceX64,i.liquidity,!1),m=1/(1-Math.sqrt(Math.sqrt(s.price.div(u.price).toNumber())));n.positionAccount=[...null!=(o=n.positionAccount)?o:[],{poolId:i.poolId,nftMint:i.nftMint,priceLower:s.price,priceUpper:u.price,amountA:l,amountB:d,tickLower:i.tickLower,tickUpper:i.tickUpper,liquidity:i.liquidity,feeGrowthInsideLastX64A:i.feeGrowthInsideLastX64A,feeGrowthInsideLastX64B:i.feeGrowthInsideLastX64B,tokenFeesOwedA:i.tokenFeesOwedA,tokenFeesOwedB:i.tokenFeesOwedB,rewardInfos:i.rewardInfos.map(e=>$(J({},e),{pendingReward:new f.default(0)})),leverage:m,tokenFeeAmountA:new f.default(0),tokenFeeAmountB:new f.default(0)}];let p=await nQ.getTickArrayAddressByTick(n.state.programId,i.poolId,i.tickLower,n.state.tickSpacing),h=await nQ.getTickArrayAddressByTick(n.state.programId,i.poolId,i.tickUpper,n.state.tickSpacing);c[`${n.state.programId.toString()}-${i.poolId.toString()}-${i.tickLower}`]=p,c[`${n.state.programId.toString()}-${i.poolId.toString()}-${i.tickUpper}`]=h}if(n){let i=Object.values(c),n=await es(t,i,{batchRequest:r}),o={};for(let e=0;e<i.length;e++){let t=n[e];null!==t&&(o[i[e].toString()]=n4.decode(t.data))}for(let{state:t,positionAccount:i}of e)if(i)for(let e of i){let i=`${t.programId.toString()}-${t.id.toString()}-${e.tickLower}`,r=`${t.programId.toString()}-${t.id.toString()}-${e.tickUpper}`,n=o[c[i].toString()],a=o[c[r].toString()],s=n.ticks[nQ.getTickOffsetInArray(e.tickLower,t.tickSpacing)],u=a.ticks[nQ.getTickOffsetInArray(e.tickUpper,t.tickSpacing)],{tokenFeeAmountA:l,tokenFeeAmountB:d}=await nF.GetPositionFees(t,e,s,u),m=await nF.GetPositionRewards(t,e,s,u);e.tokenFeeAmountA=l.gte(new f.default(0))?l:new f.default(0),e.tokenFeeAmountB=d.gte(new f.default(0))?d:new f.default(0);for(let t=0;t<m.length;t++)e.rewardInfos[t].pendingReward=m[t].gte(new f.default(0))?m[t]:new f.default(0)}}}return e}static computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:i,epochInfo:r,amountIn:n,slippage:o,priceLimit:a=new tM(0),catchLiquidityInsufficient:s=!1}){var u;let l,c=i.toBase58()===e.mintA.address,[d,m]=c?[e.mintA.extensions.feeConfig,e.mintB.extensions.feeConfig]:[e.mintB.extensions.feeConfig,e.mintA.extensions.feeConfig];l=a.equals(new tM(0))?c?ns.add(new f.default(1)):nu.sub(new f.default(1)):nG.priceToSqrtPriceX64(a,e.mintA.decimals,e.mintB.decimals);let p=iX(n,d,r,!1),{allTrade:h,expectedAmountOut:g,remainingAccounts:b,executionPrice:A,feeAmount:y}=nL.getOutputAmountAndRemainAccounts(e,t,i,p.amount.sub(null!=(u=p.fee)?u:ne),l,s),w=iX(g,m,r,!1),S=nG.sqrtPriceX64ToPrice(A,e.mintA.decimals,e.mintB.decimals),k=c?S:new tM(1).div(S),T=iX(g.mul(new f.default(Math.floor((1-o)*1e10))).div(new f.default(1e10)),m,r,!1),P=c?e.currentPrice:new tM(1).div(e.currentPrice),I=new tM(k).sub(P).abs(),v=new t9(new tM(I).mul(1e15).toFixed(0),new tM(P).mul(1e15).toFixed(0));return{allTrade:h,realAmountIn:p,amountOut:w,minAmountOut:T,expirationTime:ij(p.expirationTime,w.expirationTime),currentPrice:e.currentPrice,executionPrice:k,priceImpact:v,fee:y,remainingAccounts:b,executionPriceX64:A}}static computeAmountOutFormat({poolInfo:e,tickArrayCache:t,amountIn:i,tokenOut:r,slippage:n,epochInfo:o,catchLiquidityInsufficient:a=!1}){let[s,u]=r.address===e.mintB.address?[e.mintA,e.mintB]:[e.mintB,e.mintA],[l,c]=[new t3($(J({},s),{mint:s.address,isToken2022:s.programId===S.TOKEN_2022_PROGRAM_ID.toBase58()})),new t3($(J({},u),{mint:u.address,isToken2022:u.programId===S.TOKEN_2022_PROGRAM_ID.toBase58()}))],{allTrade:d,realAmountIn:p,amountOut:h,minAmountOut:g,expirationTime:b,currentPrice:A,executionPrice:y,priceImpact:w,fee:k,remainingAccounts:T,executionPriceX64:P}=nL.computeAmountOut({poolInfo:e,tickArrayCache:t,baseMint:new m.PublicKey(s.address),amountIn:i,slippage:n,epochInfo:o,catchLiquidityInsufficient:a});return{allTrade:d,realAmountIn:$(J({},p),{amount:new tz(l,p.amount),fee:void 0===p.fee?void 0:new tz(l,p.fee)}),amountOut:$(J({},h),{amount:new tz(c,h.amount),fee:void 0===h.fee?void 0:new tz(c,h.fee)}),minAmountOut:$(J({},g),{amount:new tz(c,g.amount),fee:void 0===g.fee?void 0:new tz(c,g.fee)}),expirationTime:b,currentPrice:new it({baseToken:l,denominator:new f.default(10).pow(new f.default(20+l.decimals)),quoteToken:c,numerator:A.mul(new tM(10**(20+c.decimals))).toFixed(0)}),executionPrice:new it({baseToken:l,denominator:new f.default(10).pow(new f.default(20+l.decimals)),quoteToken:c,numerator:y.mul(new tM(10**(20+c.decimals))).toFixed(0)}),priceImpact:w,fee:new tz(l,k),remainingAccounts:T,executionPriceX64:P}}static computeAmountIn({poolInfo:e,tickArrayCache:t,baseMint:i,epochInfo:r,amountOut:n,slippage:o,priceLimit:a=new tM(0)}){var s;let u=i.toBase58()===e.mintA.address,l={[e.mintA.address]:e.mintA.extensions.feeConfig,[e.mintB.address]:e.mintB.extensions.feeConfig},c;c=a.equals(new tM(0))?u?nu.sub(new f.default(1)):ns.add(new f.default(1)):nG.priceToSqrtPriceX64(a,e.mintA.decimals,e.mintB.decimals);let d=iX(n,l[i.toString()],r,!0),{expectedAmountIn:m,remainingAccounts:p,executionPrice:h,feeAmount:g}=nL.getInputAmountAndRemainAccounts(e,t,i,d.amount.sub(null!=(s=d.fee)?s:ne),c),b=u?e.mintB.address:e.mintA.address,A=iX(m,l[b],r,!1),y=nG.sqrtPriceX64ToPrice(h,e.mintA.decimals,e.mintB.decimals),w=u?y:new tM(1).div(y),S=iX(m.mul(new f.default(Math.floor((1+o)*1e10))).div(new f.default(1e10)),l[b],r,!0),k=u?e.currentPrice:new tM(1).div(e.currentPrice),T=new tM(w).sub(k).abs(),P=new t9(new tM(T).mul(1e15).toFixed(0),new tM(k).mul(1e15).toFixed(0));return{amountIn:A,maxAmountIn:S,realAmountOut:d,expirationTime:ij(A.expirationTime,d.expirationTime),currentPrice:e.currentPrice,executionPrice:w,priceImpact:P,fee:g,remainingAccounts:p}}static estimateAprsForPriceRangeMultiplier({poolInfo:e,aprType:t,positionTickLowerIndex:i,positionTickUpperIndex:r}){var n,o,a;let s=e[t],u=nQ.getTickPrice({poolInfo:e,tick:i,baseIn:!0}).price.toNumber(),l=nQ.getTickPrice({poolInfo:e,tick:r,baseIn:!0}).price.toNumber(),c=Math.max(u,s.priceMin),d=Math.min(l,s.priceMax)-c,m=l-u,p=s.priceMax-s.priceMin,f;return f=d<=0?0:m===d?p/d:p===d?d/m:d/p*(d/m),{feeApr:s.feeApr*f,rewardsApr:[(null!=(n=s.rewardApr[0])?n:0)*f,(null!=(o=s.rewardApr[1])?o:0)*f,(null!=(a=s.rewardApr[2])?a:0)*f],apr:s.apr*f}}static estimateAprsForPriceRangeDelta({poolInfo:e,poolLiquidity:t,aprType:i,mintPrice:r,liquidity:n,positionTickLowerIndex:o,positionTickUpperIndex:a,chainTime:s}){let u=e[i],l=r[t5(e.mintA.address).toString()],c=r[t5(e.mintB.address).toString()],d=e.mintA.decimals,m=e.mintB.decimals;if(!u||!l||!c)return{feeApr:0,rewardsApr:[0,0,0],apr:0};let p=nG.priceToSqrtPriceX64(new tM(e.price),e.mintA.decimals,e.mintB.decimals),f=nG.getSqrtPriceX64FromTick(o),h=nG.getSqrtPriceX64FromTick(a),{amountSlippageA:g,amountSlippageB:b}=nz.getAmountsFromLiquidityWithSlippage(p,f,h,t,!1,!1,0),{amountSlippageA:A,amountSlippageB:y}=nz.getAmountsFromLiquidityWithSlippage(p,f,h,n,!1,!1,0),w=new tM(g.toString()).div(new tM(10).pow(d)).mul(l.value).add(new tM(b.toString()).div(new tM(10).pow(m)).mul(c.value)),S=new tM(A.toString()).div(new tM(10).pow(d)).mul(l.value).add(new tM(y.toString()).div(new tM(10).pow(m)).mul(c.value)),k=new tM(1).div(w.add(S)),T=new tM(u.volumeFee).mul(365).div("day"===i?1:"week"===i?7:30*("month"===i)).mul(k).mul(100).toNumber(),P=e.rewardDefaultInfos.map(e=>{var t,i;let n=e.mint.decimals,o=r[e.mint.address];return s<(null!=(t=e.startTime)?t:0)||s>(null!=(i=e.endTime)?i:0)||!e.perSecond||!o||void 0===n?0:new tM(o.value).mul(new tM(e.perSecond).mul(31536e3)).div(new tM(10).pow(n)).mul(k).mul(100).toNumber()});return{feeApr:T,rewardsApr:P,apr:T+P.reduce((e,t)=>e+t,0)}}static async getLiquidityAmountOutFromAmountIn({poolInfo:e,inputA:t,tickLower:i,tickUpper:r,amount:n,slippage:o,add:a,epochInfo:s,amountHasFee:u}){var l,c;let d=nG.priceToSqrtPriceX64(new tM(e.price),e.mintA.decimals,e.mintB.decimals),m=nG.getSqrtPriceX64FromTick(i),p=nG.getSqrtPriceX64FromTick(r),h=iX(n,null==(l=e[t?"mintA":"mintB"].extensions)?void 0:l.feeConfig,s,!u),g=new f.default(new tM(h.amount.sub(null!=(c=h.fee)?c:ne).toString()).toFixed(0)),b;if(d.lte(m))b=t?nz.getLiquidityFromTokenAmountA(m,p,g,!a):new f.default(0);else if(d.lte(p)){let e=nz.getLiquidityFromTokenAmountA(d,p,g,!a),i=nz.getLiquidityFromTokenAmountB(m,d,g);b=t?e:i}else b=t?new f.default(0):nz.getLiquidityFromTokenAmountB(m,p,g);let A=await nL.getAmountsFromLiquidity({epochInfo:s,poolInfo:e,tickLower:i,tickUpper:r,liquidity:b,slippage:o,add:a});return{liquidity:b,amountA:t?h:A.amountA,amountB:t?A.amountB:h,amountSlippageA:t?h:A.amountSlippageA,amountSlippageB:t?A.amountSlippageB:h,expirationTime:A.expirationTime}}static async getAmountsFromLiquidity({epochInfo:e,poolInfo:t,tickLower:i,tickUpper:r,liquidity:n,slippage:o,add:a}){var s,u,l,c;let d=nG.getSqrtPriceX64FromTick(i),m=nG.getSqrtPriceX64FromTick(r),p=a?1+o:1-o,f=nz.getAmountsFromLiquidity(nG.priceToSqrtPriceX64(new tM(t.price),t.mintA.decimals,t.mintB.decimals),d,m,n,a),[h,g]=[iX(f.amountA,null==(s=t.mintA.extensions)?void 0:s.feeConfig,e,!0),iX(f.amountB,null==(u=t.mintB.extensions)?void 0:u.feeConfig,e,!0)],[b,A]=[iX(f.amountA.muln(p),null==(l=t.mintA.extensions)?void 0:l.feeConfig,e,!0),iX(f.amountB.muln(p),null==(c=t.mintB.extensions)?void 0:c.feeConfig,e,!0)];return{liquidity:n,amountA:h,amountB:g,amountSlippageA:b,amountSlippageB:A,expirationTime:ij(h.expirationTime,g.expirationTime)}}static async fetchComputeMultipleClmmInfo({connection:e,poolList:t,rpcDataMap:i={}}){let r=t.filter(e=>!i[e.id]).map(e=>new m.PublicKey(e.id));(await es(e,r)).forEach((e,t)=>{e&&(i[r[t].toBase58()]=n0.decode(e.data))});let n=t.map(e=>nN(new m.PublicKey(e.programId),new m.PublicKey(e.id)).publicKey),o=await nL.fetchExBitmaps({connection:e,exBitmapAddress:n,batchRequest:!1});return t.reduce((e,t)=>$(J({},e),{[t.id]:$(J({},i[t.id]),{id:new m.PublicKey(t.id),version:6,programId:new m.PublicKey(t.programId),mintA:t.mintA,mintB:t.mintB,ammConfig:$(J({},t.config),{id:new m.PublicKey(t.config.id),fundOwner:""}),currentPrice:new tM(t.price),exBitmapAccount:nN(new m.PublicKey(t.programId),new m.PublicKey(t.id)).publicKey,exBitmapInfo:o[nN(new m.PublicKey(t.programId),new m.PublicKey(t.id)).publicKey.toBase58()],startTime:i[t.id].startTime.toNumber(),rewardInfos:i[t.id].rewardInfos})}),{})}static async fetchComputeClmmInfo({connection:e,poolInfo:t,rpcData:i}){return(await this.fetchComputeMultipleClmmInfo({connection:e,rpcDataMap:i?{[t.id]:i}:void 0,poolList:[t]}))[t.id]}},nq=class{static mulDivRoundingUp(e,t,i){let r=e.mul(t),n=r.div(i);return r.mod(i).eq(ne)||(n=n.add(nt)),n}static mulDivFloor(e,t,i){if(i.eq(ne))throw Error("division by 0");return e.mul(t).div(i)}static mulDivCeil(e,t,i){if(i.eq(ne))throw Error("division by 0");return e.mul(t).add(i.sub(nt)).div(i)}static x64ToDecimal(e,t){return new tM(e.toString()).div(tM.pow(2,64)).toDecimalPlaces(t)}static decimalToX64(e){return new f.default(e.mul(tM.pow(2,64)).floor().toFixed())}static wrappingSubU128(e,t){return e.add(nn).sub(t).mod(nn)}};function nU(e,t){return n_(e.mul(t),64,256)}function n_(e,t,i){let r=e.toTwos(i).shrn(t);return r.imaskn(i-t+1),r.fromTwos(i-t)}var nG=class{static sqrtPriceX64ToPrice(e,t,i){return nq.x64ToDecimal(e).pow(2).mul(tM.pow(10,t-i))}static priceToSqrtPriceX64(e,t,i){return nq.decimalToX64(e.mul(tM.pow(10,i-t)).sqrt())}static getNextSqrtPriceX64FromInput(e,t,i,r){if(!e.gt(ne))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(ne))throw Error("liquidity must greater than 0");return r?this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,i,!0):this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,i,!0)}static getNextSqrtPriceX64FromOutput(e,t,i,r){if(!e.gt(ne))throw Error("sqrtPriceX64 must greater than 0");if(!t.gt(ne))throw Error("liquidity must greater than 0");return r?this.getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,i,!1):this.getNextSqrtPriceFromTokenAmountARoundingUp(e,t,i,!1)}static getNextSqrtPriceFromTokenAmountARoundingUp(e,t,i,r){if(i.eq(ne))return e;let n=t.shln(64);if(r){let t=n.add(i.mul(e));return t.gte(n)?nq.mulDivCeil(n,e,t):nq.mulDivRoundingUp(n,nt,n.div(e).add(i))}{let t=i.mul(e);if(!n.gt(t))throw Error("getNextSqrtPriceFromTokenAmountARoundingUp,liquidityLeftShift must gt amountMulSqrtPrice");let r=n.sub(t);return nq.mulDivCeil(n,e,r)}}static getNextSqrtPriceFromTokenAmountBRoundingDown(e,t,i,r){let n=i.shln(64);if(r)return e.add(n.div(t));{let i=nq.mulDivRoundingUp(n,nt,t);if(!e.gt(i))throw Error("getNextSqrtPriceFromTokenAmountBRoundingDown sqrtPriceX64 must gt amountDivLiquidity");return e.sub(i)}}static getSqrtPriceX64FromTick(e){if(!Number.isInteger(e))throw Error("tick must be integer");if(e<-443636||e>443636)throw Error("tick must be in MIN_TICK and MAX_TICK");let t=e<0?-1*e:e,i=new f.default((1&t)!=0?"18445821805675395072":"18446744073709551616");return(2&t)!=0&&(i=nU(i,new f.default("18444899583751176192"))),(4&t)!=0&&(i=nU(i,new f.default("18443055278223355904"))),(8&t)!=0&&(i=nU(i,new f.default("18439367220385607680"))),(16&t)!=0&&(i=nU(i,new f.default("18431993317065453568"))),(32&t)!=0&&(i=nU(i,new f.default("18417254355718170624"))),(64&t)!=0&&(i=nU(i,new f.default("18387811781193609216"))),(128&t)!=0&&(i=nU(i,new f.default("18329067761203558400"))),(256&t)!=0&&(i=nU(i,new f.default("18212142134806163456"))),(512&t)!=0&&(i=nU(i,new f.default("17980523815641700352"))),(1024&t)!=0&&(i=nU(i,new f.default("17526086738831433728"))),(2048&t)!=0&&(i=nU(i,new f.default("16651378430235570176"))),(4096&t)!=0&&(i=nU(i,new f.default("15030750278694412288"))),(8192&t)!=0&&(i=nU(i,new f.default("12247334978884435968"))),(16384&t)!=0&&(i=nU(i,new f.default("8131365268886854656"))),(32768&t)!=0&&(i=nU(i,new f.default("3584323654725218816"))),(65536&t)!=0&&(i=nU(i,new f.default("696457651848324352"))),(131072&t)!=0&&(i=nU(i,new f.default("26294789957507116"))),(262144&t)!=0&&(i=nU(i,new f.default("37481735321082"))),e>0&&(i=na.div(i)),i}static getTickFromPrice(e,t,i){return nG.getTickFromSqrtPriceX64(nG.priceToSqrtPriceX64(e,t,i))}static getTickFromSqrtPriceX64(e){let t;if(e.gt(nu)||e.lt(ns))throw Error("Provided sqrtPrice is not within the supported sqrtPrice range.");let i=e.bitLength()-1,r=((t=new f.default(i-64).toTwos(128).shln(32)).imaskn(129),t.fromTwos(128)),n=new f.default("8000000000000000","hex"),o=0,a=new f.default(0),s=i>=64?e.shrn(i-63):e.shln(63-i);for(;n.gt(new f.default(0))&&o<16;){let e=(s=s.mul(s)).shrn(127);s=s.shrn(63+e.toNumber()),a=a.add(n.mul(e)),n=n.shrn(1),o+=1}let u=a.shrn(32),l=r.add(u).mul(new f.default("59543866431248")),c=n_(l.sub(new f.default("184467440737095516")),64,128).toNumber(),d=n_(l.add(new f.default("15793534762490258745")),64,128).toNumber();return c==d?c:nG.getSqrtPriceX64FromTick(d).lte(e)?d:c}},nV=class{static getTickWithPriceAndTickspacing(e,t,i,r){let n=nG.getTickFromSqrtPriceX64(nG.priceToSqrtPriceX64(e,i,r))/t;return(n=n<0?Math.floor(n):Math.ceil(n))*t}static roundPriceWithTickspacing(e,t,i,r){let n=nV.getTickWithPriceAndTickspacing(e,t,i,r),o=nG.getSqrtPriceX64FromTick(n);return nG.sqrtPriceX64ToPrice(o,i,r)}},nz=class{static addDelta(e,t){return e.add(t)}static getTokenAmountAFromLiquidity(e,t,i,r){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(ne))throw Error("sqrtPriceX64A must greater than 0");let n=i.ushln(64),o=t.sub(e);return r?nq.mulDivRoundingUp(nq.mulDivCeil(n,o,t),nt,e):nq.mulDivFloor(n,o,t).div(e)}static getTokenAmountBFromLiquidity(e,t,i,r){if(e.gt(t)&&([e,t]=[t,e]),!e.gt(ne))throw Error("sqrtPriceX64A must greater than 0");return r?nq.mulDivCeil(i,t.sub(e),nr):nq.mulDivFloor(i,t.sub(e),nr)}static getLiquidityFromTokenAmountA(e,t,i,r){e.gt(t)&&([e,t]=[t,e]);let n=i.mul(e).mul(t),o=t.sub(e),a=n.div(o);return r?nq.mulDivRoundingUp(a,nt,no):a.shrn(64)}static getLiquidityFromTokenAmountB(e,t,i){return e.gt(t)&&([e,t]=[t,e]),nq.mulDivFloor(i,no,t.sub(e))}static getLiquidityFromTokenAmounts(e,t,i,r,n){if(t.gt(i)&&([t,i]=[i,t]),e.lte(t))return nz.getLiquidityFromTokenAmountA(t,i,r,!1);if(!e.lt(i))return nz.getLiquidityFromTokenAmountB(t,i,n);{let o=nz.getLiquidityFromTokenAmountA(e,i,r,!1),a=nz.getLiquidityFromTokenAmountB(t,e,n);return o.lt(a)?o:a}}static getAmountsFromLiquidity(e,t,i,r,n){return(t.gt(i)&&([t,i]=[i,t]),e.lte(t))?{amountA:nz.getTokenAmountAFromLiquidity(t,i,r,n),amountB:new f.default(0)}:e.lt(i)?{amountA:nz.getTokenAmountAFromLiquidity(e,i,r,n),amountB:nz.getTokenAmountBFromLiquidity(t,e,r,n)}:{amountA:new f.default(0),amountB:nz.getTokenAmountBFromLiquidity(t,i,r,n)}}static getAmountsFromLiquidityWithSlippage(e,t,i,r,n,o,a){let{amountA:s,amountB:u}=nz.getAmountsFromLiquidity(e,t,i,r,o),l=n?1+a:1-a;return{amountSlippageA:new f.default(new tM(s.toString()).mul(l).toFixed(0)),amountSlippageB:new f.default(new tM(u.toString()).mul(l).toFixed(0))}}static getAmountsOutFromLiquidity({poolInfo:e,tickLower:t,tickUpper:i,liquidity:r,slippage:n,add:o,epochInfo:a,amountAddFee:s}){var u,l,c,d;let m=nG.priceToSqrtPriceX64(new tM(e.price),e.mintA.decimals,e.mintB.decimals),p=nG.getSqrtPriceX64FromTick(t),h=nG.getSqrtPriceX64FromTick(i),g=o?1+n:1-n,b=nz.getAmountsFromLiquidity(m,p,h,r,o),[A,y]=[iX(b.amountA,null==(u=e.mintA.extensions)?void 0:u.feeConfig,a,s),iX(b.amountB,null==(l=e.mintB.extensions)?void 0:l.feeConfig,a,s)],[w,S]=[iX(new f.default(new tM(b.amountA.toString()).mul(g).toFixed(0)),null==(c=e.mintA.extensions)?void 0:c.feeConfig,a,s),iX(new f.default(new tM(b.amountB.toString()).mul(g).toFixed(0)),null==(d=e.mintB.extensions)?void 0:d.feeConfig,a,s)];return{liquidity:r,amountA:A,amountB:y,amountSlippageA:w,amountSlippageB:S,expirationTime:ij(A.expirationTime,y.expirationTime)}}},nX=class{static swapCompute(e,t,i,r,n,o,a,s,u,l,c,d,m,p,h=!1){if(d.eq(ne))throw Error("amountSpecified must not be 0");if(p||(p=o?ns.add(nt):nu.sub(nt)),o){if(p.lt(ns))throw Error("sqrtPriceX64 must greater than MIN_SQRT_PRICE_X64");if(p.gte(c))throw Error("sqrtPriceX64 must smaller than current")}else{if(p.gt(nu))throw Error("sqrtPriceX64 must smaller than MAX_SQRT_PRICE_X64");if(p.lte(c))throw Error("sqrtPriceX64 must greater than current")}let g=d.gt(ne),b={amountSpecifiedRemaining:d,amountCalculated:ne,sqrtPriceX64:c,tick:u>m?Math.min(m+nO.tickCount(l)-1,u):m,accounts:[],liquidity:s,feeAmount:new f.default(0)},A=m,y=i[m],w=!o&&y.startTickIndex===b.tick;for(;!b.amountSpecifiedRemaining.eq(ne)&&!b.sqrtPriceX64.eq(p);){let s,u={};u.sqrtPriceStartX64=b.sqrtPriceX64;let c=nQ.nextInitTick(y,b.tick,l,o,w)||null,d=null;if(!(null!=c&&c.liquidityGross.gtn(0))){let a=nL.nextInitializedTickArrayStartIndex({tickCurrent:b.tick,tickSpacing:l,tickArrayBitmap:r,exBitmapInfo:n},A,o);if(!a.isExist){if(h)return{allTrade:!1,amountSpecifiedRemaining:b.amountSpecifiedRemaining,amountCalculated:b.amountCalculated,feeAmount:b.feeAmount,sqrtPriceX64:b.sqrtPriceX64,liquidity:b.liquidity,tickCurrent:b.tick,accounts:b.accounts};throw Error("swapCompute LiquidityInsufficient")}let{publicKey:s}=nB(e,t,A=a.nextStartIndex);d=s,y=i[A];try{c=nQ.firstInitializedTick(y,o)}catch{throw Error("not found next tick info")}}if(u.tickNext=c.tick,u.initialized=c.liquidityGross.gtn(0),m!==A&&d&&(b.accounts.push(d),m=A),u.tickNext<-443636?u.tickNext=-443636:u.tickNext>443636&&(u.tickNext=443636),u.sqrtPriceNextX64=nG.getSqrtPriceX64FromTick(u.tickNext),s=o&&u.sqrtPriceNextX64.lt(p)||!o&&u.sqrtPriceNextX64.gt(p)?p:u.sqrtPriceNextX64,[b.sqrtPriceX64,u.amountIn,u.amountOut,u.feeAmount]=nX.swapStepCompute(b.sqrtPriceX64,s,b.liquidity,b.amountSpecifiedRemaining,a,o),b.feeAmount=b.feeAmount.add(u.feeAmount),g?(b.amountSpecifiedRemaining=b.amountSpecifiedRemaining.sub(u.amountIn.add(u.feeAmount)),b.amountCalculated=b.amountCalculated.sub(u.amountOut)):(b.amountSpecifiedRemaining=b.amountSpecifiedRemaining.add(u.amountOut),b.amountCalculated=b.amountCalculated.add(u.amountIn.add(u.feeAmount))),b.sqrtPriceX64.eq(u.sqrtPriceNextX64)){if(u.initialized){let e=c.liquidityNet;o&&(e=e.mul(ni)),b.liquidity=nz.addDelta(b.liquidity,e)}w=u.tickNext!=b.tick&&!o&&y.startTickIndex===u.tickNext,b.tick=o?u.tickNext-1:u.tickNext}else if(b.sqrtPriceX64!=u.sqrtPriceStartX64){let e=nG.getTickFromSqrtPriceX64(b.sqrtPriceX64);w=e!=b.tick&&!o&&y.startTickIndex===e,b.tick=e}}try{let{nextStartIndex:i,isExist:a}=nO.nextInitializedTickArray(b.tick,l,o,r,n);a&&m!==i&&(b.accounts.push(nB(e,t,i).publicKey),m=i)}catch{}return{allTrade:!0,amountSpecifiedRemaining:ne,amountCalculated:b.amountCalculated,feeAmount:b.feeAmount,sqrtPriceX64:b.sqrtPriceX64,liquidity:b.liquidity,tickCurrent:b.tick,accounts:b.accounts}}static swapStepCompute(e,t,i,r,n,o){let a={sqrtPriceX64Next:new f.default(0),amountIn:new f.default(0),amountOut:new f.default(0),feeAmount:new f.default(0)},s=r.gte(ne);if(s){let s=nq.mulDivFloor(r,nd.sub(new f.default(n.toString())),nd);a.amountIn=o?nz.getTokenAmountAFromLiquidity(t,e,i,!0):nz.getTokenAmountBFromLiquidity(e,t,i,!0),s.gte(a.amountIn)?a.sqrtPriceX64Next=t:a.sqrtPriceX64Next=nG.getNextSqrtPriceX64FromInput(e,i,s,o)}else a.amountOut=o?nz.getTokenAmountBFromLiquidity(t,e,i,!1):nz.getTokenAmountAFromLiquidity(e,t,i,!1),r.mul(ni).gte(a.amountOut)?a.sqrtPriceX64Next=t:a.sqrtPriceX64Next=nG.getNextSqrtPriceX64FromOutput(e,i,r.mul(ni),o);let u=t.eq(a.sqrtPriceX64Next);return o?(u&&s||(a.amountIn=nz.getTokenAmountAFromLiquidity(a.sqrtPriceX64Next,e,i,!0)),u&&!s||(a.amountOut=nz.getTokenAmountBFromLiquidity(a.sqrtPriceX64Next,e,i,!1))):(a.amountIn=u&&s?a.amountIn:nz.getTokenAmountBFromLiquidity(e,a.sqrtPriceX64Next,i,!0),a.amountOut=u&&!s?a.amountOut:nz.getTokenAmountAFromLiquidity(e,a.sqrtPriceX64Next,i,!1)),!s&&a.amountOut.gt(r.mul(ni))&&(a.amountOut=r.mul(ni)),s&&!a.sqrtPriceX64Next.eq(t)?a.feeAmount=r.sub(a.amountIn):a.feeAmount=nq.mulDivCeil(a.amountIn,new f.default(n),nd.sub(new f.default(n))),[a.sqrtPriceX64Next,a.amountIn,a.amountOut,a.feeAmount]}},nj=60,nH=512,nQ=class{static getTickArrayAddressByTick(e,t,i,r){let{publicKey:n}=nB(e,t,nQ.getTickArrayStartIndexByTick(i,r));return n}static getTickOffsetInArray(e,t){if(e%t!=0)throw Error("tickIndex % tickSpacing not equal 0");let i=nQ.getTickArrayStartIndexByTick(e,t),r=Math.floor((e-i)/t);if(r<0||r>=nj)throw Error("tick offset in array overflow");return r}static getTickArrayBitIndex(e,t){let i=nO.tickCount(t),r=e/i;return e<0&&e%i!=0?Math.ceil(r)-1:Math.floor(r)}static getTickArrayStartIndexByTick(e,t){return this.getTickArrayBitIndex(e,t)*nO.tickCount(t)}static getTickArrayOffsetInBitmapByTick(e,t){return Math.abs(Math.floor(e/(t*nj))+512)}static checkTickArrayIsInitialized(e,t,i){let r=i*nj,n=Math.abs(Math.floor(t/r)+512);return{isInitialized:e.testn(n),startIndex:(n-512)*r}}static getNextTickArrayStartIndex(e,t,i){return i?e-t*nj:e+t*nj}static mergeTickArrayBitmap(e){let t=new f.default(0);for(let i=0;i<e.length;i++)t=t.add(e[i].shln(64*i));return t}static getInitializedTickArrayInRange(e,t,i,r,n){let o=Math.floor(r/(i*nj));return[...nQ.searchLowBitFromStart(e,t,o-1,n,i),...nQ.searchHightBitFromStart(e,t,o,n,i)]}static getAllInitializedTickArrayStartIndex(e,t,i){return nQ.searchHightBitFromStart(e,t,-7680,nH,i)}static getAllInitializedTickArrayInfo(e,t,i,r,n){let o=[];for(let a of nQ.getAllInitializedTickArrayStartIndex(i,r,n)){let{publicKey:i}=nB(e,t,a);o.push({tickArrayStartIndex:a,tickArrayAddress:i})}return o}static getAllInitializedTickInTickArray(e){return e.ticks.filter(e=>e.liquidityGross.gtn(0))}static searchLowBitFromStart(e,t,i,r,n){let o=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>nQ.mergeTickArrayBitmap(e)),a=[];for(;i>=-7680;){let e=Math.floor((i+7680)/512),t=(i+7680)%512;if(o[e].testn(t)&&a.push(i),i--,a.length===r)break}let s=nO.tickCount(n);return a.map(e=>e*s)}static searchHightBitFromStart(e,t,i,r,n){let o=[...[...t.negativeTickArrayBitmap].reverse(),e.slice(0,8),e.slice(8,16),...t.positiveTickArrayBitmap].map(e=>nQ.mergeTickArrayBitmap(e)),a=[];for(;i<7680;){let e=Math.floor((i+7680)/512),t=(i+7680)%512;if(o[e].testn(t)&&a.push(i),i++,a.length===r)break}let s=nO.tickCount(n);return a.map(e=>e*s)}static checkIsOutOfBoundary(e){return e<-443636||e>443636}static nextInitTick(e,t,i,r,n){if(nO.getArrayStartIndex(t,i)!=e.startTickIndex)return null;let o=Math.floor((t-e.startTickIndex)/i);if(r)for(;o>=0;){if(e.ticks[o].liquidityGross.gtn(0))return e.ticks[o];o-=1}else for(n||(o+=1);o<nj;){if(e.ticks[o].liquidityGross.gtn(0))return e.ticks[o];o+=1}return null}static firstInitializedTick(e,t){if(t){let t=nj-1;for(;t>=0;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t-=1}}else{let t=0;for(;t<nj;){if(e.ticks[t].liquidityGross.gtn(0))return e.ticks[t];t+=1}}throw Error(`firstInitializedTick check error: ${e} - ${t}`)}static _getTickPriceLegacy({poolInfo:e,tick:t,baseIn:i}){let r=nG.getSqrtPriceX64FromTick(t),n=nG.sqrtPriceX64ToPrice(r,e.mintA.decimals,e.mintB.decimals);return i?{tick:t,price:n,tickSqrtPriceX64:r}:{tick:t,price:new tM(1).div(n),tickSqrtPriceX64:r}}static _getPriceAndTickLegacy({poolInfo:e,price:t,baseIn:i}){let r=i?t:new tM(1).div(t),n=nV.getTickWithPriceAndTickspacing(r,e.ammConfig.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=nG.getSqrtPriceX64FromTick(n),a=nG.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return i?{tick:n,price:a}:{tick:n,price:new tM(1).div(a)}}static getTickPrice({poolInfo:e,tick:t,baseIn:i}){let r=nG.getSqrtPriceX64FromTick(t),n=nG.sqrtPriceX64ToPrice(r,e.mintA.decimals,e.mintB.decimals);return i?{tick:t,price:n,tickSqrtPriceX64:r}:{tick:t,price:new tM(1).div(n),tickSqrtPriceX64:r}}static getPriceAndTick({poolInfo:e,price:t,baseIn:i}){let r=i?t:new tM(1).div(t),n=nV.getTickWithPriceAndTickspacing(r,e.config.tickSpacing,e.mintA.decimals,e.mintB.decimals),o=nG.getSqrtPriceX64FromTick(n),a=nG.sqrtPriceX64ToPrice(o,e.mintA.decimals,e.mintB.decimals);return i?{tick:n,price:a}:{tick:n,price:new tM(1).div(a)}}},nZ=rL([rT(8),rx("bump"),rA("index"),rW(""),rE("protocolFeeRate"),rE("tradeFeeRate"),rA("tickSpacing"),rq(rR(),8,"")]),nY=rL([rE("blockTimestamp"),rK("tickCumulative"),rq(rR(),4)]),nJ=rL([rT(8),rF("initialized"),rR("recentEpoch"),rA("observationIndex"),rW("poolId"),rq(nY,100,"observations"),rq(rR(),4)]),n$=rL([rx("rewardState"),rR("openTime"),rR("endTime"),rR("lastUpdateTime"),rN("emissionsPerSecondX64"),rR("rewardTotalEmissioned"),rR("rewardClaimed"),rW("tokenMint"),rW("tokenVault"),rW("creator"),rN("rewardGrowthGlobalX64")]),n0=rL([rT(8),rx("bump"),rW("ammConfig"),rW("creator"),rW("mintA"),rW("mintB"),rW("vaultA"),rW("vaultB"),rW("observationId"),rx("mintDecimalsA"),rx("mintDecimalsB"),rA("tickSpacing"),rN("liquidity"),rN("sqrtPriceX64"),rS("tickCurrent"),rE(),rN("feeGrowthGlobalX64A"),rN("feeGrowthGlobalX64B"),rR("protocolFeesTokenA"),rR("protocolFeesTokenB"),rN("swapInAmountTokenA"),rN("swapOutAmountTokenB"),rN("swapInAmountTokenB"),rN("swapOutAmountTokenA"),rx("status"),rq(rx(),7,""),rq(n$,3,"rewardInfos"),rq(rR(),16,"tickArrayBitmap"),rR("totalFeesTokenA"),rR("totalFeesClaimedTokenA"),rR("totalFeesTokenB"),rR("totalFeesClaimedTokenB"),rR("fundFeesTokenA"),rR("fundFeesTokenB"),rR("startTime"),rq(rR(),57,"padding")]),n1=rL([rN("growthInsideLastX64"),rR("rewardAmountOwed")]),n2=rL([rT(8),rx("bump"),rW("nftMint"),rW("poolId"),rS("tickLower"),rS("tickUpper"),rN("liquidity"),rN("feeGrowthInsideLastX64A"),rN("feeGrowthInsideLastX64B"),rR("tokenFeesOwedA"),rR("tokenFeesOwedB"),rq(n1,3,"rewardInfos"),rq(rR(),8,"")]),n6=(rL([rT(8),rx("bump"),rW("poolId"),rS("tickLowerIndex"),rS("tickUpperIndex"),rN("liquidity"),rN("feeGrowthInsideLastX64A"),rN("feeGrowthInsideLastX64B"),rR("tokenFeesOwedA"),rR("tokenFeesOwedB"),rq(rN(),3,"rewardGrowthInside"),rq(rR(),8,"")]),rL([rS("tick"),new rv(16,!0,"liquidityNet"),rN("liquidityGross"),rN("feeGrowthOutsideX64A"),rN("feeGrowthOutsideX64B"),rq(rN(),3,"rewardGrowthsOutsideX64"),rq(rE(),13,"")])),n4=rL([rT(8),rW("poolId"),rS("startTickIndex"),rq(n6,nj,"ticks"),rx("initializedTickCount"),rq(rx(),115,"")]),n5=rL([rT(329),rq(rW(),100,"whitelistMints")]),n3=rL([rT(8),rW("poolId"),rq(rq(rR(),8),14,"positiveTickArrayBitmap"),rq(rq(rR(),8),14,"negativeTickArrayBitmap")]);rL([rR(),rx("bump"),rW("owner"),rW("poolId"),rW("positionId"),rW("nftAccount"),rq(rR(),8)]),rL([rT(8),rx("bump"),rW("lockOwner"),rW("poolId"),rW("positionId"),rW("nftAccount"),rW("lockNftMint"),rR("recentEpoch"),rq(rR(),8)]),nJ.span;var n7=eo("Raydium_Clmm"),n8=[233,146,209,142,207,104,64,188],n9=[95,135,192,196,242,129,230,68],oe=[112,52,167,75,32,201,211,137],ot=[77,184,74,214,112,86,241,199],oi=[77,255,174,82,125,29,201,46],or=[123,134,81,0,49,68,98,98],on=[133,29,89,223,69,238,176,10],oo=[58,127,188,62,79,82,196,96],oa=[43,4,237,11,26,201,30,98],os=[18,237,166,197,34,16,213,144],ou=[188,37,179,131,82,150,84,73],ol=[16,72,250,198,14,162,212,19],oc=class{static createPoolInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,f){let h=rL([rN("sqrtPriceX64"),rR("zero")]),b=[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t$,isSigner:!1,isWritable:!1},...(null==f?void 0:f.map(e=>({pubkey:e,isSigner:!1,isWritable:!1})))||[]],A=g.Buffer.alloc(h.span);h.encode({sqrtPriceX64:p,zero:ne},A);let y=g.Buffer.from([...n8,...A]);return new m.TransactionInstruction({keys:b,programId:e,data:y})}static async createPoolInstructions(e){let{programId:t,owner:i,mintA:r,mintB:n,ammConfigId:o,initialPriceX64:a,extendMintAccount:s}=e,[u,l]=[new m.PublicKey(r.address),new m.PublicKey(n.address)],{publicKey:c}=iw([nA,o.toBuffer(),u.toBuffer(),l.toBuffer()],t),{publicKey:d}=iw([nI,c.toBuffer()],t),{publicKey:p}=nv(t,c,u),{publicKey:f}=nv(t,c,l),h=nN(t,c).publicKey;return{signers:[],instructions:[this.createPoolInstruction(t,c,i,o,d,u,p,new m.PublicKey(r.programId||S.TOKEN_PROGRAM_ID),l,f,new m.PublicKey(n.programId||S.TOKEN_PROGRAM_ID),h,a,s)],instructionTypes:[il,"ClmmCreatePool"],address:{poolId:c,observationId:d,exBitmapAccount:h,mintAVault:p,mintBVault:f},lookupTableAddress:[]}}static openPositionFromLiquidityInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,f,h,b,A,y,w,k,T,P,I,v,B,x){let E=rL([rS("tickLowerIndex"),rS("tickUpperIndex"),rS("tickArrayLowerStartIndex"),rS("tickArrayUpperStartIndex"),rN("liquidity"),rR("amountMaxA"),rR("amountMaxB"),rF("withMetadata"),rx("optionBaseFlag"),rF("baseFlag")]),R=[...x?[{pubkey:x,isSigner:!1,isWritable:!0}]:[]],N=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:t1,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},...R],K=g.Buffer.alloc(E.span);E.encode({tickLowerIndex:y,tickUpperIndex:w,tickArrayLowerStartIndex:k,tickArrayUpperStartIndex:T,liquidity:P,amountMaxA:I,amountMaxB:v,withMetadata:"create"===B,baseFlag:!1,optionBaseFlag:0},K);let M=g.Buffer.from([...ot,...K]);return new m.TransactionInstruction({keys:N,programId:e,data:M})}static openPositionFromLiquidityInstruction22(e,t,i,r,n,o,a,s,u,l,c,d,p,f,h,b,A,y,w,k,T,P,I,v,B){let x=rL([rS("tickLowerIndex"),rS("tickUpperIndex"),rS("tickArrayLowerStartIndex"),rS("tickArrayUpperStartIndex"),rN("liquidity"),rR("amountMaxA"),rR("amountMaxB"),rF("withMetadata"),rx("optionBaseFlag"),rF("baseFlag")]),E=[...B?[{pubkey:B,isSigner:!1,isWritable:!0}]:[]],R=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},...E],N=g.Buffer.alloc(x.span);x.encode({tickLowerIndex:A,tickUpperIndex:y,tickArrayLowerStartIndex:w,tickArrayUpperStartIndex:k,liquidity:T,amountMaxA:P,amountMaxB:I,withMetadata:"create"===v,baseFlag:!1,optionBaseFlag:0},N);let K=g.Buffer.from([...oi,...N]);return new m.TransactionInstruction({keys:R,programId:e,data:K})}static async openPositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,tickLower:r,tickUpper:n,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[p,f]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],h;if(l)h=new m.PublicKey((await l(1))[0]);else{let e=m.Keypair.generate();d.push(e),h=e.publicKey}let g=nQ.getTickArrayStartIndexByTick(r,e.config.tickSpacing),b=nQ.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:A}=nB(p,f,g),{publicKey:y}=nB(p,f,b),{publicKey:w}=c?iP(i.wallet,h,S.TOKEN_2022_PROGRAM_ID):iP(i.wallet,h,S.TOKEN_PROGRAM_ID),{publicKey:k}=nR(h),{publicKey:T}=nE(p,h),{publicKey:P}=nx(p,f,r,n);return{signers:d,instructions:[c?this.openPositionFromLiquidityInstruction22(p,i.feePayer,f,i.wallet,h,w,P,A,y,T,i.tokenAccountA,i.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),r,n,g,b,o,a,s,u,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?nN(p,f).publicKey:void 0):this.openPositionFromLiquidityInstruction(p,i.feePayer,f,i.wallet,h,w,k,P,A,y,T,i.tokenAccountA,i.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),r,n,g,b,o,a,s,u,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?nN(p,f).publicKey:void 0)],instructionTypes:[ic],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{nftMint:h,tickArrayLower:A,tickArrayUpper:y,positionNftAccount:w,metadataAccount:k,personalPosition:T,protocolPosition:P}}}static async openPositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,tickLower:r,tickUpper:n,base:o,baseAmount:a,otherAmountMax:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d=[],[p,f]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],h;if(l)h=new m.PublicKey((await l(1))[0]);else{let e=m.Keypair.generate();d.push(e),h=e.publicKey}let g=nQ.getTickArrayStartIndexByTick(r,e.config.tickSpacing),b=nQ.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:A}=nB(p,f,g),{publicKey:y}=nB(p,f,b),{publicKey:w}=c?iP(i.wallet,h,S.TOKEN_2022_PROGRAM_ID):iP(i.wallet,h,S.TOKEN_PROGRAM_ID),{publicKey:k}=nR(h),{publicKey:T}=nE(p,h),{publicKey:P}=nx(p,f,r,n),I=c?this.openPositionFromBaseInstruction22(p,i.feePayer,f,i.wallet,h,w,P,A,y,T,i.tokenAccountA,i.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),r,n,g,b,u,o,a,s,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?nN(p,f).publicKey:void 0):this.openPositionFromBaseInstruction(p,i.feePayer,f,i.wallet,h,w,k,P,A,y,T,i.tokenAccountA,i.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),r,n,g,b,u,o,a,s,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?nN(p,f).publicKey:void 0);return{address:{nftMint:h,tickArrayLower:A,tickArrayUpper:y,positionNftAccount:w,metadataAccount:k,personalPosition:T,protocolPosition:P},instructions:[I],signers:d,instructionTypes:[ic],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static openPositionFromBaseInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,h,b,A,y,w,k,T,P,I,v,B,x,E){let R=rL([rS("tickLowerIndex"),rS("tickUpperIndex"),rS("tickArrayLowerStartIndex"),rS("tickArrayUpperStartIndex"),rN("liquidity"),rR("amountMaxA"),rR("amountMaxB"),rF("withMetadata"),rx("optionBaseFlag"),rF("baseFlag")]),N=[...E?[{pubkey:E,isSigner:!1,isWritable:!0}]:[]],K=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:t1,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},...N],M=g.Buffer.alloc(R.span);R.encode({tickLowerIndex:w,tickUpperIndex:k,tickArrayLowerStartIndex:T,tickArrayUpperStartIndex:P,liquidity:new f.default(0),amountMaxA:"MintA"===v?B:x,amountMaxB:"MintA"===v?x:B,withMetadata:"create"===I,baseFlag:"MintA"===v,optionBaseFlag:1},M);let W=g.Buffer.from([...ot,...M]);return new m.TransactionInstruction({keys:K,programId:e,data:W})}static openPositionFromBaseInstruction22(e,t,i,r,n,o,a,s,u,l,c,d,p,h,b,A,y,w,k,T,P,I,v,B,x){let E=rL([rS("tickLowerIndex"),rS("tickUpperIndex"),rS("tickArrayLowerStartIndex"),rS("tickArrayUpperStartIndex"),rN("liquidity"),rR("amountMaxA"),rR("amountMaxB"),rF("withMetadata"),rx("optionBaseFlag"),rF("baseFlag")]),R=[...x?[{pubkey:x,isSigner:!1,isWritable:!0}]:[]],N=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:A,isSigner:!1,isWritable:!1},...R],K=g.Buffer.alloc(E.span);E.encode({tickLowerIndex:y,tickUpperIndex:w,tickArrayLowerStartIndex:k,tickArrayUpperStartIndex:T,liquidity:new f.default(0),amountMaxA:"MintA"===I?v:B,amountMaxB:"MintA"===I?B:v,withMetadata:"create"===P,baseFlag:"MintA"===I,optionBaseFlag:1},K);let M=g.Buffer.from([...oi,...K]);return new m.TransactionInstruction({keys:N,programId:e,data:M})}static async openPositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,tickLower:r,tickUpper:n,liquidity:o,amountMaxA:a,amountMaxB:s,withMetadata:u,getEphemeralSigners:l,nft2022:c}){let d,p=[];if(l)d=new m.PublicKey((await l(1))[0]);else{let e=m.Keypair.generate();p.push(e),d=e.publicKey}let[f,h]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],g=nQ.getTickArrayStartIndexByTick(r,e.config.tickSpacing),b=nQ.getTickArrayStartIndexByTick(n,e.config.tickSpacing),{publicKey:A}=nB(f,h,g),{publicKey:y}=nB(f,h,b),{publicKey:w}=c?iP(i.wallet,d,S.TOKEN_2022_PROGRAM_ID):iP(i.wallet,d,S.TOKEN_PROGRAM_ID),{publicKey:k}=nR(d),{publicKey:T}=nE(f,d),{publicKey:P}=nx(f,h,r,n),I=c?this.openPositionFromLiquidityInstruction22(f,i.wallet,h,i.wallet,d,w,P,A,y,T,i.tokenAccountA,i.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(t.mintA.address),new m.PublicKey(t.mintB.address),r,n,g,b,o,a,s,u,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?nN(f,h).publicKey:void 0):this.openPositionFromLiquidityInstruction(f,i.wallet,h,i.wallet,d,w,k,P,A,y,T,i.tokenAccountA,i.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(t.mintA.address),new m.PublicKey(t.mintB.address),r,n,g,b,o,a,s,u,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[g,b])?nN(f,h).publicKey:void 0);return{address:{nftMint:d,tickArrayLower:A,tickArrayUpper:y,positionNftAccount:w,metadataAccount:k,personalPosition:T,protocolPosition:P},instructions:[I],signers:p,instructionTypes:[ic],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static closePositionInstruction(e,t,i,r,n,o){let a=rL([]),s=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o?S.TOKEN_2022_PROGRAM_ID:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],u=g.Buffer.alloc(a.span);a.encode({},u);let l=g.Buffer.from([...or,...u]);return new m.TransactionInstruction({keys:s,programId:e,data:l})}static closePositionInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,ownerPosition:r,nft2022:n}){let o=new m.PublicKey(e.programId),a=n?iP(i.wallet,r.nftMint,S.TOKEN_2022_PROGRAM_ID).publicKey:iP(i.wallet,r.nftMint,S.TOKEN_PROGRAM_ID).publicKey,{publicKey:s}=nE(o,r.nftMint),u=[];return u.push(this.closePositionInstruction(o,i.wallet,r.nftMint,a,s,n)),{address:{positionNftAccount:a,personalPosition:s},signers:[],instructions:u,instructionTypes:["ClmmClosePosition"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromLiquidityInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,f,h,b,A,y){let w=rL([rN("liquidity"),rR("amountMaxA"),rR("amountMaxB"),rx("optionBaseFlag"),rF("baseFlag")]),k=[...y?[{pubkey:y,isSigner:!1,isWritable:!0}]:[]],T=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...k],P=g.Buffer.alloc(w.span);w.encode({liquidity:h,amountMaxA:b,amountMaxB:A,optionBaseFlag:0,baseFlag:!1},P);let I=g.Buffer.from([...on,...P]);return new m.TransactionInstruction({keys:T,programId:e,data:I})}static increasePositionFromLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:i,ownerInfo:r,liquidity:n,amountMaxA:o,amountMaxB:a,nft2022:s}){let[u,l]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],c=nQ.getTickArrayStartIndexByTick(i.tickLower,e.config.tickSpacing),d=nQ.getTickArrayStartIndexByTick(i.tickUpper,e.config.tickSpacing),{publicKey:p}=nB(u,l,c),{publicKey:f}=nB(u,l,d),{publicKey:h}=s?iP(r.wallet,i.nftMint,S.TOKEN_2022_PROGRAM_ID):iP(r.wallet,i.nftMint,S.TOKEN_PROGRAM_ID),{publicKey:g}=nE(u,i.nftMint),{publicKey:b}=nx(u,l,i.tickLower,i.tickUpper),A=this.increasePositionFromLiquidityInstruction(u,r.wallet,h,g,l,b,p,f,r.tokenAccountA,r.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),n,o,a,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?nN(u,l).publicKey:void 0);return{address:{tickArrayLower:p,tickArrayUpper:f,positionNftAccount:h,personalPosition:g,protocolPosition:b},signers:[],instructions:[A],instructionTypes:[id],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstructions({poolInfo:e,poolKeys:t,ownerPosition:i,ownerInfo:r,base:n,baseAmount:o,otherAmountMax:a,nft2022:s}){let[u,l]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],c=nQ.getTickArrayStartIndexByTick(i.tickLower,e.config.tickSpacing),d=nQ.getTickArrayStartIndexByTick(i.tickUpper,e.config.tickSpacing),{publicKey:p}=nB(u,l,c),{publicKey:f}=nB(u,l,d),{publicKey:h}=s?iP(r.wallet,i.nftMint,S.TOKEN_2022_PROGRAM_ID):iP(r.wallet,i.nftMint,S.TOKEN_PROGRAM_ID),{publicKey:g}=nE(u,i.nftMint),{publicKey:b}=nx(u,l,i.tickLower,i.tickUpper);return{address:{tickArrayLower:p,tickArrayUpper:f,positionNftAccount:h,personalPosition:g,protocolPosition:b},instructions:[this.increasePositionFromBaseInstruction(u,r.wallet,h,g,l,b,p,f,r.tokenAccountA,r.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),n,o,a,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[c,d])?nN(u,l).publicKey:void 0)],signers:[],instructionTypes:[id],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static increasePositionFromBaseInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,h,b,A,y,w){let k=rL([rN("liquidity"),rR("amountMaxA"),rR("amountMaxB"),rx("optionBaseFlag"),rF("baseFlag")]),T=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[]],P=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},...T],I=g.Buffer.alloc(k.span);k.encode({liquidity:new f.default(0),amountMaxA:"MintA"===b?A:y,amountMaxB:"MintA"===b?y:A,baseFlag:"MintA"===b,optionBaseFlag:1},I);let v=g.Buffer.from([...on,...I]);return new m.TransactionInstruction({keys:P,programId:e,data:v})}static decreaseLiquidityInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,f,h,b,A,y,w){let k=rL([rN("liquidity"),rR("amountMinA"),rR("amountMinB")]),T=[...w?[{pubkey:w,isSigner:!1,isWritable:!0}]:[],...h.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],P=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:f,isSigner:!1,isWritable:!1},...T],I=g.Buffer.alloc(k.span);k.encode({liquidity:b,amountMinA:A,amountMinB:y},I);let v=g.Buffer.from([...oo,...I]);return new m.TransactionInstruction({keys:P,programId:e,data:v})}static decreaseLiquidityInstructions({poolInfo:e,poolKeys:t,ownerPosition:i,ownerInfo:r,liquidity:n,amountMinA:o,amountMinB:a,programId:s,nft2022:u}){let[l,c]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],d=nQ.getTickArrayStartIndexByTick(i.tickLower,e.config.tickSpacing),p=nQ.getTickArrayStartIndexByTick(i.tickUpper,e.config.tickSpacing),{publicKey:f}=nB(l,c,d),{publicKey:h}=nB(l,c,p),{publicKey:g}=u?iP(r.wallet,i.nftMint,S.TOKEN_2022_PROGRAM_ID):iP(r.wallet,i.nftMint,s),{publicKey:b}=nE(l,i.nftMint),{publicKey:A}=nx(l,c,i.tickLower,i.tickUpper),y=[];for(let i=0;i<e.rewardDefaultInfos.length;i++)y.push({poolRewardVault:new m.PublicKey(t.rewardInfos[i].vault),ownerRewardVault:r.rewardAccounts[i],rewardMint:new m.PublicKey(e.rewardDefaultInfos[i].mint.address)});let w=[];return w.push(this.decreaseLiquidityInstruction(l,r.wallet,g,b,c,A,f,h,r.tokenAccountA,r.tokenAccountB,new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B),new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address),y,n,o,a,nL.isOverflowDefaultTickarrayBitmap(e.config.tickSpacing,[d,p])?nN(l,c).publicKey:void 0)),{address:{tickArrayLower:f,tickArrayUpper:h,positionNftAccount:g,personalPosition:b,protocolPosition:A},signers:[],instructions:w,instructionTypes:[im],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static swapInstruction(e,t,i,r,n,o,a,s,u,l,c,d,p,f,h,b,A){let y=rL([rR("amount"),rR("otherAmountThreshold"),rN("sqrtPriceLimitX64"),rF("isBaseInput")]),w=[...A?[{pubkey:A,isSigner:!1,isWritable:!0}]:[],...c.map(e=>({pubkey:e,isSigner:!1,isWritable:!0}))],k=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tY,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},...w],T=g.Buffer.alloc(y.span);y.encode({amount:p,otherAmountThreshold:f,sqrtPriceLimitX64:h,isBaseInput:b},T);let P=g.Buffer.from([...oa,...T]);return new m.TransactionInstruction({keys:k,programId:e,data:P})}static makeSwapBaseInInstructions({poolInfo:e,poolKeys:t,observationId:i,ownerInfo:r,inputMint:n,amountIn:o,amountOutMin:a,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],[d,p]=[new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B)],[f,h]=[new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address)],g=e.mintA.address===n.toString();return{signers:[],instructions:[this.swapInstruction(l,r.wallet,c,new m.PublicKey(e.config.id),g?r.tokenAccountA:r.tokenAccountB,g?r.tokenAccountB:r.tokenAccountA,g?d:p,g?p:d,g?f:h,g?h:f,u,i,o,a,s,!0,nN(l,c).publicKey)],instructionTypes:[ip],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static makeSwapBaseOutInstructions({poolInfo:e,poolKeys:t,observationId:i,ownerInfo:r,outputMint:n,amountOut:o,amountInMax:a,sqrtPriceLimitX64:s,remainingAccounts:u}){let[l,c]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],[d,p]=[new m.PublicKey(t.vault.A),new m.PublicKey(t.vault.B)],[f,h]=[new m.PublicKey(e.mintA.address),new m.PublicKey(e.mintB.address)],g=e.mintA.address===n.toBase58();return{signers:[],instructions:[this.swapInstruction(l,r.wallet,c,new m.PublicKey(e.config.id),g?r.tokenAccountB:r.tokenAccountA,g?r.tokenAccountA:r.tokenAccountB,g?p:d,g?d:p,g?h:f,g?f:h,u,i,o,a,s,!1,nN(l,c).publicKey)],instructionTypes:["ClmmSwapBaseOut"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[],address:{}}}static initRewardInstruction(e,t,i,r,n,o,a,s,u,l,c,d){let p=rL([rR("openTime"),rR("endTime"),rN("emissionsPerSecondX64")]),f=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t$,isSigner:!1,isWritable:!1}],h=g.Buffer.alloc(p.span);p.encode({openTime:tO(l),endTime:tO(c),emissionsPerSecondX64:d},h);let b=g.Buffer.from([...n9,...h]);return new m.TransactionInstruction({keys:f,programId:e,data:b})}static initRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,rewardInfo:r}){var n;let[o,a]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],s=(n=r.mint,iw([nw,a.toBuffer(),n.toBuffer()],o)).publicKey,u=iw([nT],o).publicKey,l=[this.initRewardInstruction(o,i.wallet,a,u,new m.PublicKey(e.config.id),i.tokenAccount,r.programId,r.mint,s,r.openTime,r.endTime,r.emissionsPerSecondX64)];return{address:{poolRewardVault:s,operationId:u},signers:[],instructions:l,instructionTypes:["ClmmInitReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static setRewardInstruction(e,t,i,r,n,o,a,s,u,l,c,d){let p=rL([rx("rewardIndex"),rN("emissionsPerSecondX64"),rR("openTime"),rR("endTime")]),f=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],h=g.Buffer.alloc(p.span);p.encode({rewardIndex:u,emissionsPerSecondX64:d,openTime:tO(l),endTime:tO(c)},h);let b=g.Buffer.from([...oe,...h]);return new m.TransactionInstruction({keys:f,programId:e,data:b})}static setRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,rewardInfo:r}){let[n,o]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],a,s,u;for(let i=0;i<e.rewardDefaultInfos.length;i++)e.rewardDefaultInfos[i].mint.address===r.mint.toString()&&(a=i,s=new m.PublicKey(t.rewardInfos[i].vault),u=new m.PublicKey(t.rewardInfos[i].mint.address));(void 0===a||void 0===s)&&n7.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let l=iw([nT],n).publicKey,c=[this.setRewardInstruction(n,i.wallet,o,l,new m.PublicKey(e.config.id),i.tokenAccount,s,u,a,r.openTime,r.endTime,r.emissionsPerSecondX64)];return{address:{rewardVault:s,operationId:l},signers:[],instructions:c,instructionTypes:["ClmmSetReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static collectRewardInstruction(e,t,i,r,n,o,a){let s=rL([rx("rewardIndex")]),u=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tY,isSigner:!1,isWritable:!1}],l=g.Buffer.alloc(s.span);s.encode({rewardIndex:a},l);let c=g.Buffer.from([...os,...l]);return new m.TransactionInstruction({keys:u,programId:e,data:c})}static collectRewardInstructions({poolInfo:e,poolKeys:t,ownerInfo:i,rewardMint:r}){let[n,o]=[new m.PublicKey(e.programId),new m.PublicKey(e.id)],a,s;for(let i=0;i<e.rewardDefaultInfos.length;i++)e.rewardDefaultInfos[i].mint.address===r.toString()&&(a=i,s=new m.PublicKey(t.rewardInfos[i].vault));(void 0===a||void 0===s)&&n7.logWithError("reward mint check error","no reward mint",e.rewardDefaultInfos);let u=[this.collectRewardInstruction(n,i.wallet,o,i.tokenAccount,s,r,a)];return{address:{rewardVault:s},signers:[],instructions:u,instructionTypes:["ClmmCollectReward"],lookupTableAddress:t.lookupTableAccount?[t.lookupTableAccount]:[]}}static async makeLockPositions({programId:e,authProgramId:t,poolProgramId:i,payer:r,wallet:n,nftMint:o,nft2022:a,getEphemeralSigners:s}){let u=[],l;if(s)l=new m.PublicKey((await s(1))[0]);else{let e=m.Keypair.generate();u.push(e),l=e.publicKey}let c=a?iP(n,o,S.TOKEN_2022_PROGRAM_ID).publicKey:iP(n,o,S.TOKEN_PROGRAM_ID).publicKey,{publicKey:d}=nE(i,o),p=nW(e,l).publicKey,f=iP(n,l,S.TOKEN_PROGRAM_ID).publicKey,h=nR(l).publicKey,g=oc.lockPositionInstructionV2({programId:e,auth:t,payer:r,positionOwner:n,lockOwner:n,positionNftAccount:c,positionId:d,lockPositionId:p,lockNftMint:l,lockNftAccount:f,metadataAccount:h,withMetadata:!0,nft2022:a,positionNftMint:o,authPositionNftAccount:iP(t,o,a?S.TOKEN_2022_PROGRAM_ID:S.TOKEN_PROGRAM_ID).publicKey,positionNftProgram:a?S.TOKEN_2022_PROGRAM_ID:S.TOKEN_PROGRAM_ID});return{address:{positionId:d,lockPositionId:p,lockNftAccount:f,lockNftMint:l,positionNftAccount:c,metadataAccount:h},instructions:[g],signers:u,instructionTypes:["ClmmLockPosition"],lookupTableAddress:[]}}static lockPositionInstructionV2({programId:e,auth:t,payer:i,positionOwner:r,lockOwner:n,positionNftAccount:o,positionId:a,positionNftMint:s,authPositionNftAccount:u,positionNftProgram:l,lockPositionId:c,lockNftMint:d,lockNftAccount:p,metadataAccount:f,withMetadata:h}){let b=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:t1,isSigner:!1,isWritable:!1},{pubkey:S.ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:t$,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1}],A=rL([rF("withMetadata")]),y=g.Buffer.alloc(A.span);A.encode({withMetadata:h},y);let w=g.Buffer.from([...ou,...y]);return new m.TransactionInstruction({keys:b,programId:e,data:w})}static lockPositionInstruction({programId:e,authProgramId:t,poolProgramId:i,owner:r,positionNft:n}){let{publicKey:o}=iP(r,n,S.TOKEN_PROGRAM_ID),{publicKey:a}=nE(i,n),s=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:nM(e,a).publicKey,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:m.SystemProgram.programId,isSigner:!1,isWritable:!1}];return new m.TransactionInstruction({keys:s,programId:e,data:g.Buffer.from(ou)})}static harvestLockPositionInstruction(e){let[t,i]=[new m.PublicKey(e.poolKeys.programId),new m.PublicKey(e.poolKeys.id)],r=nQ.getTickArrayStartIndexByTick(e.ownerPosition.tickLower,e.poolKeys.config.tickSpacing),n=nQ.getTickArrayStartIndexByTick(e.ownerPosition.tickUpper,e.poolKeys.config.tickSpacing),{publicKey:o}=nB(t,i,r),{publicKey:a}=nB(t,i,n),{publicKey:s}=iP(e.owner,e.ownerPosition.nftMint,S.TOKEN_PROGRAM_ID),{publicKey:u}=nE(t,e.ownerPosition.nftMint),{publicKey:l}=nx(t,i,e.ownerPosition.tickLower,e.ownerPosition.tickUpper),c=[];for(let t=0;t<e.poolKeys.rewardInfos.length;t++)c.push({poolRewardVault:new m.PublicKey(e.poolKeys.rewardInfos[t].vault),ownerRewardVault:e.ownerRewardAccounts[t],rewardMint:new m.PublicKey(e.poolKeys.rewardInfos[t].mint.address)});let d=[...c.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],p=[{pubkey:e.authProgramId,isSigner:!1,isWritable:!1},{pubkey:nM(e.programId,u).publicKey,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:e.owner,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:new m.PublicKey(e.poolKeys.vault.A),isSigner:!1,isWritable:!0},{pubkey:new m.PublicKey(e.poolKeys.vault.B),isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:e.userVaultA,isSigner:!1,isWritable:!0},{pubkey:e.userVaultB,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tJ,isSigner:!1,isWritable:!1},{pubkey:new m.PublicKey(e.poolKeys.mintA.address),isSigner:!1,isWritable:!1},{pubkey:new m.PublicKey(e.poolKeys.mintB.address),isSigner:!1,isWritable:!1},...d];return new m.TransactionInstruction({keys:p,programId:e.programId,data:g.Buffer.from(ol)})}static harvestLockPositionInstructionV2({programId:e,auth:t,lockPositionId:i,clmmProgram:r,lockOwner:n,lockNftMint:o,lockNftAccount:a,positionNftAccount:s,positionId:u,poolId:l,protocolPosition:c,vaultA:d,vaultB:p,tickArrayLower:f,tickArrayUpper:h,userVaultA:b,userVaultB:A,mintA:y,mintB:w,rewardAccounts:k,exTickArrayBitmap:T}){let P=[...T?[{pubkey:T,isSigner:!1,isWritable:!0}]:[],...k.map(e=>[{pubkey:e.poolRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.ownerRewardVault,isSigner:!1,isWritable:!0},{pubkey:e.rewardMint,isSigner:!1,isWritable:!1}]).flat()],I=[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:A,isSigner:!1,isWritable:!0},{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:S.TOKEN_2022_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:tJ,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},...P];return new m.TransactionInstruction({keys:I,programId:e,data:g.Buffer.from(ol)})}};rL([rE("mintAuthorityOption"),rW("mintAuthority"),rR("supply"),rx("decimals"),rx("isInitialized"),rE("freezeAuthorityOption"),rW("freezeAuthority")]);var od=new f.default(25),om=new f.default(1e4),op=rL([rx("instruction"),rR("amountIn"),rR("minAmountOut")]),of=rL([rx("instruction"),rR("maxAmountIn"),rR("amountOut")]),oh=(rL([rx("instruction"),rx("nonce")]),rL([rx("instruction"),rx("nonce"),rR("startTime")]),rL([rR("status"),rR("nonce"),rR("maxOrder"),rR("depth"),rR("baseDecimal"),rR("quoteDecimal"),rR("state"),rR("resetFlag"),rR("minSize"),rR("volMaxCutRatio"),rR("amountWaveRatio"),rR("baseLotSize"),rR("quoteLotSize"),rR("minPriceMultiplier"),rR("maxPriceMultiplier"),rR("systemDecimalValue"),rR("minSeparateNumerator"),rR("minSeparateDenominator"),rR("tradeFeeNumerator"),rR("tradeFeeDenominator"),rR("pnlNumerator"),rR("pnlDenominator"),rR("swapFeeNumerator"),rR("swapFeeDenominator"),rR("baseNeedTakePnl"),rR("quoteNeedTakePnl"),rR("quoteTotalPnl"),rR("baseTotalPnl"),rR("poolOpenTime"),rR("punishPcAmount"),rR("punishCoinAmount"),rR("orderbookToInitTime"),rN("swapBaseInAmount"),rN("swapQuoteOutAmount"),rR("swapBase2QuoteFee"),rN("swapQuoteInAmount"),rN("swapBaseOutAmount"),rR("swapQuote2BaseFee"),rW("baseVault"),rW("quoteVault"),rW("baseMint"),rW("quoteMint"),rW("lpMint"),rW("openOrders"),rW("marketId"),rW("marketProgramId"),rW("targetOrders"),rW("withdrawQueue"),rW("lpVault"),rW("owner"),rR("lpReserve"),rq(rR(),3,"padding")])),og=(rL([rR("accountType"),rR("status"),rR("nonce"),rR("maxOrder"),rR("depth"),rR("baseDecimal"),rR("quoteDecimal"),rR("state"),rR("resetFlag"),rR("minSize"),rR("volMaxCutRatio"),rR("amountWaveRatio"),rR("baseLotSize"),rR("quoteLotSize"),rR("minPriceMultiplier"),rR("maxPriceMultiplier"),rR("systemDecimalsValue"),rR("abortTradeFactor"),rR("priceTickMultiplier"),rR("priceTick"),rR("minSeparateNumerator"),rR("minSeparateDenominator"),rR("tradeFeeNumerator"),rR("tradeFeeDenominator"),rR("pnlNumerator"),rR("pnlDenominator"),rR("swapFeeNumerator"),rR("swapFeeDenominator"),rR("baseNeedTakePnl"),rR("quoteNeedTakePnl"),rR("quoteTotalPnl"),rR("baseTotalPnl"),rR("poolOpenTime"),rR("punishPcAmount"),rR("punishCoinAmount"),rR("orderbookToInitTime"),rN("swapBaseInAmount"),rN("swapQuoteOutAmount"),rN("swapQuoteInAmount"),rN("swapBaseOutAmount"),rR("swapQuote2BaseFee"),rR("swapBase2QuoteFee"),rW("baseVault"),rW("quoteVault"),rW("baseMint"),rW("quoteMint"),rW("lpMint"),rW("modelDataAccount"),rW("openOrders"),rW("marketId"),rW("marketProgramId"),rW("targetOrders"),rW("owner"),rq(rR(),64,"padding")]),rL([rx("instruction"),rR("baseAmountIn"),rR("quoteAmountIn"),rR("fixedSide"),rR("otherAmountMin")])),ob=rL([rx("instruction"),rR("lpAmount"),rR("baseAmountMin"),rR("quoteAmountMin")]),oA=rL([rR("fee")]),oy=new m.PublicKey("CDSr3ssLcRB6XYPJwAfFt18MZvEZp4LjHcvzBVZ45duo"),ow=rL([rR("x"),rR("y"),rR("price")]),oS=rL([rR("accountType"),rR("status"),rR("multiplier"),rR("validDataCount"),rq(ow,5e4,"DataElement")]);eo("Raydium_liquidity_instruction");eo("Raydium_liquidity_serum");rL([rT(5),function(e="accountFlags"){let t=new rB(e);return t.addBoolean("initialized"),t.addBoolean("market"),t.addBoolean("openOrders"),t.addBoolean("requestQueue"),t.addBoolean("eventQueue"),t.addBoolean("bids"),t.addBoolean("asks"),t}("accountFlags"),rW("ownAddress"),rR("vaultSignerNonce"),rW("baseMint"),rW("quoteMint"),rW("baseVault"),rR("baseDepositsTotal"),rR("baseFeesAccrued"),rW("quoteVault"),rR("quoteDepositsTotal"),rR("quoteFeesAccrued"),rR("quoteDustThreshold"),rW("requestQueue"),rW("eventQueue"),rW("bids"),rW("asks"),rR("baseLotSize"),rR("quoteLotSize"),rR("feeRateBps"),rR("referrerRebatesAccrued"),rT(7)]);var ok=new f.default(0),oT=((c=oT||{})[c.Floor=0]="Floor",c[c.Ceiling=1]="Ceiling",c),oP=g.Buffer.from("vault_and_lp_mint_auth_seed","utf8"),oI=(g.Buffer.from("amm_config","utf8"),g.Buffer.from("pool","utf8")),ov=g.Buffer.from("pool_lp_mint","utf8"),oB=g.Buffer.from("pool_vault","utf8"),ox=g.Buffer.from("observation","utf8");g.Buffer.from("locked_liquidity","utf8");eo("Raydium_cpmm");var oE=rL([rT(8),rx("bump"),rF("disableCreatePool"),rA("index"),rR("tradeFeeRate"),rR("protocolFeeRate"),rR("fundFeeRate"),rR("createPoolFee"),rW("protocolOwner"),rW("fundOwner"),rq(rR(),16)]),oR=rL([rT(8),rW("configId"),rW("poolCreator"),rW("vaultA"),rW("vaultB"),rW("mintLp"),rW("mintA"),rW("mintB"),rW("mintProgramA"),rW("mintProgramB"),rW("observationId"),rx("bump"),rx("status"),rx("lpDecimals"),rx("mintDecimalA"),rx("mintDecimalB"),rR("lpAmount"),rR("protocolFeesMintA"),rR("protocolFeesMintB"),rR("fundFeesMintA"),rR("fundFeesMintB"),rR("openTime"),rq(rR(),32)]),oN={[iR.toBase58()]:3},oK=rL([rT(5),rT(8),rW("ownAddress"),rR("vaultSignerNonce"),rW("baseMint"),rW("quoteMint"),rW("baseVault"),rR("baseDepositsTotal"),rR("baseFeesAccrued"),rW("quoteVault"),rR("quoteDepositsTotal"),rR("quoteFeesAccrued"),rR("quoteDustThreshold"),rW("requestQueue"),rW("eventQueue"),rW("bids"),rW("asks"),rR("baseLotSize"),rR("quoteLotSize"),rR("feeRateBps"),rR("referrerRebatesAccrued"),rT(7)]),oM=eo("Serum"),oW=new f.default(0),oF=class extends i9{static getPdaPoolId(e,t){return iw([oF.SEED_CONFIG.pool.id,t.toBuffer()],e)}static getPdaOwnerId(e,t,i,r){return iw([oF.SEED_CONFIG.owner.id,t.toBuffer(),i.toBuffer(),g.Buffer.from(new f.default(r).toArray())],e)}static async getAllInfo({connection:e,programId:t,poolIds:i,wallet:r,chainTime:n}){if(0===i.length)return[];let o=i.map(e=>oF.getPdaPoolId(t,e).publicKey),a=[];for(let e=0;e<oF.VERSION_PROJECT.length;e++)a.push(...o.map(i=>oF.getPdaOwnerId(t,i,r,e).publicKey));let s=await es(e,[...o,...a]),u=[];for(let e=0;e<s.length;e++){let r=Math.floor(e/i.length),l=e%i.length,c=o[l],d=a[e],m=s[l],p=s[i.length+e];if(!(m&&p)||m.data.length!==oF.POOL_LAYOUT.span||p.data.length!==oF.OWNER_LAYOUT.span)continue;let h=oF.POOL_LAYOUT.decode(m.data),g=oF.OWNER_LAYOUT.decode(p.data),b=h.openTime.toNumber(),A=h.endTime.toNumber(),y=3!==g.tokenInfo.map(e=>e.debtAmount.gt(new f.default(0))).filter(e=>!e).length,w=n>b&&n<A&&1===h.status,S=y&&w;u.push({programId:t,poolId:c,ammId:h.ammId,ownerAccountId:d,snapshotLpAmount:g.lpAmount,project:oF.VERSION_PROJECT[r],openTime:b,endTime:A,canClaim:S,canClaimErrorType:y?w?void 0:"outOfOperationalTime":"alreadyClaimIt",tokenInfo:h.tokenInfo.map((e,t)=>({mintAddress:e.mintAddress,mintVault:e.mintVault,mintDecimals:e.mintDecimals,perLpLoss:e.perLpLoss,debtAmount:g.tokenInfo[t].debtAmount.add(g.tokenInfo[t].claimedAmount)}))})}return u}async makeClaimTransaction({poolInfo:e,ownerInfo:t,feePayer:i}){t.wallet||this.scope.checkOwner();let r=this.createTxBuilder(i),n=t.wallet||this.scope.ownerPubKey,o=[];for(let i of e.tokenInfo){let{account:e,instructionParams:a}=await this.scope.account.getOrCreateTokenAccount({mint:i.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:i.mintAddress.equals(t3.WSOL.mint),createInfo:{payer:n,amount:0},skipCloseAccount:!i.mintAddress.equals(t3.WSOL.mint),associatedOnly:!i.mintAddress.equals(t3.WSOL.mint)&&t.associatedOnly});a&&r.addInstruction(a),o.push(e)}r.addInstruction({instructions:[oF.makeClaimInstruction({programId:e.programId,poolInfo:e,ownerInfo:{wallet:n,ownerPda:e.ownerAccountId,claimAddress:o}})]});let{transaction:a,signers:s}=r.build();return[{transaction:a,signer:s}]}async makeClaimAllTransaction({poolInfos:e,ownerInfo:t,feePayer:i}){let r=this.createTxBuilder(i),n=t.wallet||this.scope.ownerPubKey,o={};for(let i of e){let e=[];for(let a of i.tokenInfo){let{account:i,instructionParams:s}=await this.scope.account.getOrCreateTokenAccount({mint:a.mintAddress,owner:this.scope.ownerPubKey,notUseTokenAccount:a.mintAddress.equals(t3.WSOL.mint),createInfo:{payer:n,amount:0},skipCloseAccount:!a.mintAddress.equals(t3.WSOL.mint),associatedOnly:!a.mintAddress.equals(t3.WSOL.mint)&&t.associatedOnly});s&&r.addInstruction(s),i&&(o[a.mintAddress.toString()]=i,e.push(i))}r.addInstruction({instructions:[oF.makeClaimInstruction({programId:i.programId,poolInfo:i,ownerInfo:{wallet:n,ownerPda:i.ownerAccountId,claimAddress:e}})]})}let{transaction:a,signers:s}=r.build(),u=r.allInstructions;return iy(u,[n,...s.map(e=>e.publicKey)])?[{transaction:a,signer:s}]:[{transaction:new m.Transaction().add(...u.slice(0,r.AllTxData.instructions.length-1)),signer:s},{transaction:new m.Transaction().add(...u.slice(r.AllTxData.instructions.length-1)),signer:[]},{transaction:new m.Transaction().add(...r.AllTxData.endInstructions),signer:[]}]}static makeClaimInstruction({programId:e,poolInfo:t,ownerInfo:i}){let r=rL([]),n=[{pubkey:i.wallet,isSigner:!0,isWritable:!0},{pubkey:t.poolId,isSigner:!1,isWritable:!0},{pubkey:i.ownerPda,isSigner:!1,isWritable:!0},...i.claimAddress.map(e=>({pubkey:e,isSigner:!1,isWritable:!0})),...t.tokenInfo.map(({mintVault:e})=>({pubkey:e,isSigner:!1,isWritable:!0})),{pubkey:S.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],o=g.Buffer.alloc(r.span);r.encode({},o);let a=g.Buffer.from([10,66,208,184,161,6,191,98,...o]);return new m.TransactionInstruction({keys:n,programId:e,data:a})}};oF.CLAIMED_NUM=3,oF.POOL_LAYOUT=rL([rT(8),rx("bump"),rx("status"),rR("openTime"),rR("endTime"),rW("ammId"),rq(rL([rx("mintDecimals"),rW("mintAddress"),rW("mintVault"),rR("perLpLoss"),rR("totalClaimedAmount")]),oF.CLAIMED_NUM,"tokenInfo"),rq(rR(),10,"padding")]),oF.OWNER_LAYOUT=rL([rT(8),rx("bump"),rx("version"),rW("poolId"),rW("owner"),rR("lpAmount"),rq(rL([rW("mintAddress"),rR("debtAmount"),rR("claimedAmount")]),oF.CLAIMED_NUM,"tokenInfo"),rq(rR(),4,"padding")]),oF.DEFAULT_POOL_ID=["58oQChx4yWmvKdwLLZzBi4ChoCc2fqCUWBkwMihLYQo2","6UmmUiYoBjSrhakAobJw8BvkmJtDVxaeBtbt7rxWo1mg","AVs9TA4nWDzfPJE9gGVNJMVhcQy3V9PGazuz33BfG2RA","DVa7Qmb5ct9RCpaU7UTpSaf3GVMYz17vNVU67XpdCRut","7XawhbbxtsRcQA8KTkHT9f9nc6d69UwqCDh6U5EEbEmX","6a1CsrpeZubDjEJE9s1CMVheB6HWM5d7m1cj2jkhyXhj","EoNrn8iUhwgJySD1pHu8Qxm5gSQqLK3za4m8xzD2RuEb","AceAyRTWt4PyB2pHqf2qhDgNZDtKVNaxgL8Ru3V4aN1P","6tmFJbMk5yVHFcFy7X2K8RwHjKLr6KVFLYXpgpBNeAxB"].map(e=>new m.PublicKey(e)),oF.SEED_CONFIG={pool:{id:g.Buffer.from("pool_seed","utf8")},owner:{id:g.Buffer.from("user_claim_seed","utf8")}},oF.VERSION_PROJECT=[void 0,"Francium","Tulip","Larix"],rL([rx("instruction"),rw("amount")]);rL([rx("instruction")]);var oO={[iD.toString()]:1,[iC.toString()]:2,[iL.toString()]:3,[iq.toString()]:4},oD=g.Buffer.from("vault_auth_seed","utf8"),oC=(g.Buffer.from("global_config","utf8"),g.Buffer.from("pool","utf8")),oL=g.Buffer.from("pool_vault","utf8"),oq=(g.Buffer.from("pool_vesting","utf8"),g.Buffer.from("platform_config","utf8"));function oU(e){return iw([oD],e)}function o_(e){return iw([g.Buffer.from("__event_authority","utf8")],e)}var oG={initialize:g.Buffer.from([175,175,109,31,13,152,155,237]),buyExactIn:g.Buffer.from([250,234,13,123,213,156,19,236]),buyExactOut:g.Buffer.from([24,211,116,40,105,3,153,56]),sellExactIn:g.Buffer.from([149,39,222,155,211,124,152,26]),sellExactOut:g.Buffer.from([95,200,71,34,8,9,11,166]),createVestingAccount:g.Buffer.from([129,178,2,13,217,172,230,218]),claimVestedToken:g.Buffer.from([49,33,104,30,189,157,79,35]),createPlatformConfig:g.Buffer.from([176,90,196,175,253,113,220,20]),claimPlatformFee:g.Buffer.from([156,39,208,135,76,237,61,72]),updatePlaformConfig:g.Buffer.from([195,60,76,129,146,45,67,143])};function oV(e,t,i,r,n,o,a,s,u,l,c,d,p,h,b,A,y,w){let S=rL([rR("amountB"),rR("minAmountA"),rR("shareFeeRate")]),k=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:o_(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];w&&k.push({pubkey:w,isSigner:!1,isWritable:!0}),console.log({amountB:b.toString(),minAmountA:A.toString()});let T=g.Buffer.alloc(S.span);return S.encode({amountB:b,minAmountA:A,shareFeeRate:null!=y?y:new f.default(0)},T),new m.TransactionInstruction({keys:k,programId:e,data:g.Buffer.from([...oG.buyExactIn,...T])})}function oz(e,t,i,r,n,o,a,s,u,l,c,d,p,h,b,A,y,w){let S=rL([rR("amountA"),rR("minAmountB"),rR("shareFeeRate")]),k=[{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!1},{pubkey:o_(e).publicKey,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1}];w&&k.push({pubkey:w,isSigner:!1,isWritable:!0});let T=g.Buffer.alloc(S.span);return S.encode({amountA:b,minAmountB:A,shareFeeRate:null!=y?y:new f.default(0)},T),new m.TransactionInstruction({keys:k,programId:e,data:g.Buffer.from([...oG.sellExactIn,...T])})}var oX=rL([rR(),rR("epoch"),rx("curveType"),rA("index"),rR("migrateFee"),rR("tradeFeeRate"),rR("maxShareFeeRate"),rR("minSupplyA"),rR("maxLockRate"),rR("minSellRateA"),rR("minMigrateRateA"),rR("minFundRaisingB"),rW("mintB"),rW("protocolFeeOwner"),rW("migrateFeeOwner"),rW("migrateToAmmWallet"),rW("migrateToCpmmWallet"),rq(rR(),16)]),oj=rL([rR("totalLockedAmount"),rR("cliffPeriod"),rR("unlockPeriod"),rR("startTime"),rR("totalAllocatedShare")]),oH=rL([rR(),rR("epoch"),rx("bump"),rx("status"),rx("mintDecimalsA"),rx("mintDecimalsB"),rx("migrateType"),rR("supply"),rR("totalSellA"),rR("virtualA"),rR("virtualB"),rR("realA"),rR("realB"),rR("totalFundRaisingB"),rR("protocolFee"),rR("platformFee"),rR("migrateFee"),oj.replicate("vestingSchedule"),rW("configId"),rW("platformId"),rW("mintA"),rW("mintB"),rW("vaultA"),rW("vaultB"),rW("creator"),rq(rR(),8)]),oQ=(rL([rR(),rR("epoch"),rW("poolId"),rW("beneficiary"),rR("claimedAmount"),rR("tokenShareAmount"),rq(rR(),8)]),rL([rR(),rR("epoch"),rW("platformClaimFeeWallet"),rW("platformLockNftWallet"),rR("platformScale"),rR("creatorScale"),rR("burnScale"),rR("feeRate"),rq(rx(),64,"name"),rq(rx(),256,"web"),rq(rx(),256,"img"),rq(rx(),256)])),oZ=class{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:r}){throw Error()}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:r,migrateFee:n,decimalA:o,decimalB:a}){throw Error()}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){throw Error()}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:r,migrateFee:n}){throw Error()}static buyExactIn({poolInfo:e,amount:t}){throw Error()}static buyExactOut({poolInfo:e,amount:t}){throw Error()}static sellExactIn({poolInfo:e,amount:t}){throw Error()}static sellExactOut({poolInfo:e,amount:t}){throw Error()}},oY=class extends oZ{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){return new tM(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-i))}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:r}){return new tM(t.toString()).div(e.toString()).mul(10**(i-r))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){return new tM(e.virtualB.add(e.realB).toString()).div(e.virtualA.sub(e.realA).toString()).mul(10**(t-i))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:r,migrateFee:n,decimalA:o,decimalB:a}){return new tM(r.sub(n).toString()).div(e.sub(t).sub(i).toString()).mul(10**(o-a))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){let r=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tM(e.virtualB.add(e.realB.add(n)).toString()).div(e.virtualA.sub(e.realA.add(r)).toString()).mul(10**(t-i))}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:r,migrateFee:n}){if(e.lte(i))throw Error("supply need gt total sell");let o=e.sub(i).sub(r);if(o.lte(new f.default(0)))throw Error("supplyMinusSellLocked <= 0");let a=t.sub(n);if(a.lte(new f.default(0)))throw Error("tfMinusMf <= 0");let s=a.mul(nr).div(o),u=s.mul(i).mul(i).div(nr),l=s.mul(i).div(nr).sub(t);if(l.lt(new f.default(0)))throw Error("supply/totalSell/totalLockedAmount diff too high");let c=u.div(l),d=t.mul(t).div(l);if(c.lt(new f.default(0))||d.lt(new f.default(0)))throw Error("invalid input 0");return{a:c,b:d,c:i}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualB.add(e.realB),outputReserve:e.virtualA.sub(e.realA)})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,inputReserve:e.virtualA.sub(e.realA),outputReserve:e.virtualB.add(e.realB)})}static getAmountOut({amountIn:e,inputReserve:t,outputReserve:i}){let r=e.mul(i),n=t.add(e);return r.div(n)}static getAmountIn({amountOut:e,inputReserve:t,outputReserve:i}){return iQ(t.mul(e),i.sub(e))}},oJ=class extends oZ{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){return new tM(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-i))}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:r}){return new tM(t.toString()).div(e.toString()).mul(10**(i-r))}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){return new tM(e.virtualB.toString()).div(e.virtualA.toString()).mul(10**(t-i))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:r,migrateFee:n,decimalA:o,decimalB:a}){return new tM(r.sub(n).toString()).div(e.sub(t).sub(i).toString()).mul(10**(o-a))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){let r=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tM(e.virtualB.add(e.realB).add(n).toString()).div(e.virtualA.sub(e.realA).add(r).toString()).mul(10**(t-i))}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:r,migrateFee:n}){let o=e.sub(r);if(o.lte(new f.default(0)))throw Error("invalid input 1");let a=new f.default(2).mul(t).sub(n),s=t.mul(o).div(a);return{a:s,b:t,c:s}}static buyExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualB,initOutput:e.virtualA})}static buyExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualB,initOutput:e.virtualA})}static sellExactIn({poolInfo:e,amount:t}){return this.getAmountOut({amountIn:t,initInput:e.virtualA,initOutput:e.virtualB})}static sellExactOut({poolInfo:e,amount:t}){return this.getAmountIn({amountOut:t,initInput:e.virtualA,initOutput:e.virtualB})}static getAmountOut({amountIn:e,initInput:t,initOutput:i}){return i.mul(e).div(t)}static getAmountIn({amountOut:e,initInput:t,initOutput:i}){return iQ(t.mul(e),i)}},o$=class{static _multipler(e){return new tM(10).pow(e)}static getPrice({priceX64:e,decimalA:t,decimalB:i}){return new tM(e.toString()).div(this._Q64).mul(this._multipler(t)).div(this._multipler(i))}static getPriceX64({price:e,decimalA:t,decimalB:i}){let r=e.mul(this._multipler(i)).div(this._multipler(t));return new f.default(r.mul(this._Q64).toFixed(0))}};o$._Q64=new tM(new f.default(1).shln(64).toString());var o0=class extends oZ{static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i}){return new tM(0)}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:r}){return new tM(0)}static getPoolPrice({poolInfo:e,decimalA:t,decimalB:i}){return new tM(e.virtualA.mul(e.realA).toString()).div(o$._Q64).mul(10**(t-i))}static getPoolEndPrice({supply:e,totalSell:t,totalLockedAmount:i,totalFundRaising:r,migrateFee:n,decimalA:o,decimalB:a}){return new tM(r.sub(n).toString()).div(e.sub(t).sub(i).toString()).mul(10**(o-a))}static getPoolEndPriceReal({poolInfo:e,decimalA:t,decimalB:i}){let r=e.totalSellA.sub(e.realA),n=e.totalFundRaisingB.sub(e.realB);return new tM(e.virtualB.add(e.realB).add(n).toString()).div(e.virtualA.sub(e.realA).add(r).toString()).mul(10**(t-i))}static getInitParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:r,migrateFee:n}){let o=e.sub(r);if(o.lte(new f.default(0)))throw Error("supplyMinusLocked need gt 0");let a=t.mul(new f.default(3)).sub(n),s=t.mul(new f.default(2)).mul(o).div(a),u=s.mul(s),l=t.mul(new f.default(2)).mul(nr).div(u);if(!l.gt(new f.default(0)))throw Error("a need gt 0");if(!no.gt(l))throw Error("a need lt u64 max");return{a:l,b:new f.default(0),c:s}}static buyExactIn({poolInfo:e,amount:t}){let i=e.realB.add(t),r=new f.default(2).mul(i).mul(nr).div(e.virtualA);return new f.default(new tM(r.toString()).sqrt().toFixed(0)).sub(e.realA)}static buyExactOut({poolInfo:e,amount:t}){let i=e.realA.add(t),r=i.mul(i),{div:n,mod:o}=e.virtualA.mul(r).divmod(new f.default(2).mul(nr));return(o.isZero()?n:n.add(new f.default(1))).sub(e.realB)}static sellExactIn({poolInfo:e,amount:t}){let i=e.realA.sub(t),r=i.mul(i),{div:n,mod:o}=e.virtualA.mul(r).divmod(new f.default(2).mul(nr)),a=o.isZero()?n:n.add(new f.default(1));return e.realB.sub(a)}static sellExactOut({poolInfo:e,amount:t}){let i=e.realB.sub(t),r=new f.default(2).mul(i).mul(nr).div(e.virtualA),n=new f.default(new tM(r.toString()).sqrt().toFixed(0));return e.realA.sub(n)}},o1=class{static getPoolCurvePointByPoolInfo({curveType:e,pointCount:t,poolInfo:i}){return this.getPoolCurvePointByInit({curveType:e,pointCount:t,supply:i.supply,totalFundRaising:i.totalFundRaisingB,totalSell:i.totalSellA,totalLockedAmount:i.vestingSchedule.totalLockedAmount,migrateFee:i.migrateFee,decimalA:i.mintDecimalsA,decimalB:i.mintDecimalsB})}static getPoolCurvePointByInit({curveType:e,pointCount:t,supply:i,totalFundRaising:r,totalSell:n,totalLockedAmount:o,migrateFee:a,decimalA:s,decimalB:u}){if(t<3)throw Error("point count < 3");let l=this.getCurve(e),c=l.getInitParam({supply:i,totalFundRaising:r,totalSell:n,totalLockedAmount:o,migrateFee:a}),d=l.getPoolInitPriceByInit($(J({},c),{decimalA:s,decimalB:u})),m=r.div(new f.default(t-1)),p=new f.default(0),h=[{price:d,totalSellSupply:0}],{a:g,b:b}=c,A=p,y=p;for(let i=1;i<t;i++){let o=i!==t-1?m:r.sub(y),a=this.buyExactIn({poolInfo:{virtualA:g,virtualB:b,realA:A,realB:y,totalFundRaisingB:r,totalSellA:n},amountB:o,protocolFeeRate:p,platformFeeRate:p,curveType:e,shareFeeRate:p});A=A.add(a.amountA),y=y.add(a.amountB);let l=this.getPrice({poolInfo:{virtualA:g,virtualB:b,realA:A,realB:y},decimalA:s,decimalB:u,curveType:e});h.push({price:l,totalSellSupply:new tM(A.toString()).div(10**s).toNumber()})}return h}static getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i,curveType:r}){return this.getCurve(r).getPoolInitPriceByPool({poolInfo:e,decimalA:t,decimalB:i})}static getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:r,curveType:n}){return this.getCurve(n).getPoolInitPriceByInit({a:e,b:t,decimalA:i,decimalB:r})}static getPrice({poolInfo:e,curveType:t,decimalA:i,decimalB:r}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:i,decimalB:r})}static getEndPrice({poolInfo:e,curveType:t,decimalA:i,decimalB:r}){return this.getCurve(t).getPoolPrice({poolInfo:e,decimalA:i,decimalB:r})}static getPoolEndPriceReal({poolInfo:e,curveType:t,decimalA:i,decimalB:r}){return this.getCurve(t).getPoolEndPriceReal({poolInfo:e,decimalA:i,decimalB:r})}static checkParam({supply:e,totalFundRaising:t,totalSell:i,totalLockedAmount:r,decimals:n,config:o,migrateType:a}){if(6!==Number(n))throw Error("decimals = 6");if(e.mul(o.maxLockRate).div(i$).lt(r))throw Error("total lock amount gte max lock amount");if(e.lt(o.minSupplyA.mul(new f.default(10**n))))throw Error("supply lt min supply");let s=e.mul(o.minSellRateA).div(i$);if(i.lt(s))throw Error("invalid input");if(t.lt(o.minFundRaisingB))throw Error("total fund raising lt min fund raising");let u=e.sub(i).sub(r),l=e.mul(o.minMigrateRateA).div(i$);if(u.lt(l))throw Error("migrate lt min migrate amount");let c=e.sub(i).sub(r),d=new f.default(new tM(c.mul(t).toString()).sqrt().toFixed(0));if("amm"===a){let e=new f.default(10).pow(new f.default(n));if(d.lte(e))throw Error("check migrate lp error")}else if("cpmm"===a){let e=new f.default(100);if(d.lte(e))throw Error("check migrate lp error")}else throw Error("migrate type error")}static buyExactIn({poolInfo:e,amountB:t,protocolFeeRate:i,platformFeeRate:r,curveType:n,shareFeeRate:o}){let a=i.add(o).add(r),s=this.calculateFee({amount:t,feeRate:a}),u=t.sub(s),l=this.getCurve(n).buyExactIn({poolInfo:e,amount:u}),c=e.totalSellA.sub(e.realA),d,m,p;if(l.gt(c)){d=c;let t=e.totalFundRaisingB.sub(e.realB);p=(m=this.calculatePreFee({postFeeAmount:t,feeRate:a})).sub(t)}else d=l,m=t,p=s;return{amountA:d,amountB:m,splitFee:this.splitFee({totalFee:p,protocolFeeRate:i,platformFeeRate:r,shareFeeRate:o})}}static buyExactOut({poolInfo:e,amountA:t,protocolFeeRate:i,platformFeeRate:r,curveType:n,shareFeeRate:o}){let a=e.totalSellA.sub(e.realA),s=t,u;t.gte(a)?(s=a,u=e.totalFundRaisingB.sub(e.realB)):u=this.getCurve(n).buyExactOut({poolInfo:e,amount:t});let l=i.add(o).add(r),c=this.calculatePreFee({postFeeAmount:u,feeRate:l}),d=c.sub(u);return{amountA:s,amountB:c,splitFee:this.splitFee({totalFee:d,protocolFeeRate:i,platformFeeRate:r,shareFeeRate:o})}}static sellExactIn({poolInfo:e,amountA:t,protocolFeeRate:i,platformFeeRate:r,curveType:n,shareFeeRate:o}){let a=this.getCurve(n).sellExactIn({poolInfo:e,amount:t}),s=this.calculateFee({amount:a,feeRate:i.add(o).add(r)}),u=this.splitFee({totalFee:s,protocolFeeRate:i,platformFeeRate:r,shareFeeRate:o});return{amountA:t,amountB:a.sub(s),splitFee:u}}static sellExactOut({poolInfo:e,amountB:t,protocolFeeRate:i,platformFeeRate:r,curveType:n,shareFeeRate:o}){let a=i.add(o).add(r),s=this.calculatePreFee({postFeeAmount:t,feeRate:a});if(e.realB.lt(s))throw Error("Insufficient liquidity");let u=s.sub(t),l=o1.getCurve(n).sellExactOut({poolInfo:e,amount:t});if(l.gt(e.realA))throw Error();return{amountA:l,amountB:t,splitFee:this.splitFee({totalFee:u,protocolFeeRate:i,platformFeeRate:r,shareFeeRate:o})}}static splitFee({totalFee:e,protocolFeeRate:t,platformFeeRate:i,shareFeeRate:r}){let n=t.add(i).add(r),o=n.isZero()?new f.default(0):e.mul(i).div(n),a=n.isZero()?new f.default(0):e.mul(r).div(n),s=e.sub(o).sub(a);return{platformFee:o,shareFee:a,protocolFee:s}}static calculateFee({amount:e,feeRate:t}){return ia(e,t,i$)}static calculatePreFee({postFeeAmount:e,feeRate:t}){if(t.isZero())return e;let i=e.mul(i$),r=i$.sub(t);return i.add(r).sub(new f.default(1)).div(r)}static getCurve(e){switch(e){case 0:return oY;case 1:return oJ;case 2:return o0}throw Error("find curve error")}},o2={initPriceX64:new f.default("515752397214619"),supply:new f.default(1e15),totalSellA:new f.default(7931e11),totalFundRaisingB:new f.default(85e9),totalLockedAmount:new f.default("0"),cliffPeriod:new f.default("0"),unlockPeriod:new f.default("0"),decimals:6,virtualA:new f.default("1073471847374405"),virtualB:new f.default("30050573465"),realA:new f.default(0),realB:new f.default(0),protocolFee:new f.default(0),platformId:new m.PublicKey("2vSBJMh4zLm2tij3BjBcbvTogbfST9oAzSsk4HTFcRok"),vestingSchedule:{totalLockedAmount:new f.default(0),cliffPeriod:new f.default(0),unlockPeriod:new f.default(0),startTime:new f.default(0),totalAllocatedShare:new f.default(0)}},o6=new f.default(1e4);e.s(["Curve",()=>o1,"ZERO",()=>ne,"buyExactInInstruction",()=>oV,"getPdaLaunchpadAuth",()=>oU,"sellExactInInstruction",()=>oz],49498),e.i(465903);var o4=e.i(767924),o5=e.i(682382),o3=e.i(268804),o7=e.i(719387);let o8="LanMV9sAd7wArD4vJFi2qDdfnVhFxYSUg6eADduJ3uj",o9="2500",ae=(e,t,i)=>{let r,n,o,a,s,u,l,c,d,m,p,h,{realLiquiditySol:g,realLiquidityToken:b,initialLiquiditySol:A,initialLiquidityToken:y}=(r=new f.default(i.quoteRaiseRaw),n=new f.default(i.baseSupplyRaw),o=new f.default(i.baseSellRaw),a=new f.default(i.baseLockedRaw),s=new f.default("0"),u=n.sub(a).sub(o),l=r.sub(s),c=new f.default("1000000000000000000000"),d=l.mul(c).div(u),m=o.mul(d).div(c).sub(r),p=r.mul(r).div(m),h=d.mul(o).mul(o).div(m).div(c),{realLiquiditySol:t.sub(p),realLiquidityToken:h.sub(e),initialLiquiditySol:p,initialLiquidityToken:h});return{virtualA:y,virtualB:A,realA:b,realB:g,totalSellA:new f.default(i.baseSellRaw),totalFundRaisingB:new f.default(i.quoteRaiseRaw)}},at=async({type:e,amount:t,slippage:i,liquiditySolRaw:r,liquidityTokenRaw:n,tokenAddress:o,userAccountAddress:a,userSolAccountAddress:s,userTokenAccountAddress:u,userUsd1AccountAddress:l,protocolDetails:c,pairAddress:d,tokenDecimals:p,usdPerSol:g,rewardsData:b})=>{if(c.isUsd1){let A,y=new m.PublicKey(o8),w=oU(y).publicKey,S=ae(n,r,c);if("buy"===e){let e=o1.buyExactIn({poolInfo:S,amountB:t,protocolFeeRate:new f.default(o9),platformFeeRate:new f.default(c.platformFee),curveType:0,shareFeeRate:new f.default(0)}).amountA.mul((0,h.newSafeBN)(1e4)).div((0,h.newSafeBN)(1e4+100*i));A=oV(y,new m.PublicKey(a),w,new m.PublicKey(c.globalConfig),new m.PublicKey(c.platformConfig),new m.PublicKey(d),new m.PublicKey(u),new m.PublicKey(l),new m.PublicKey(c.baseVault),new m.PublicKey(c.quoteVault),new m.PublicKey(o),new m.PublicKey(o4.USD1_TOKEN_ADDRESS),new m.PublicKey(c.tokenProgram),new m.PublicKey(o4.TOKEN_PROGRAM_ADDRESS),t,e)}else{let e=o1.sellExactIn({poolInfo:S,amountA:t,protocolFeeRate:new f.default(o9),platformFeeRate:new f.default(c.platformFee),curveType:0,shareFeeRate:new f.default(0)}).amountB.mul((0,h.newSafeBN)(1e4-100*i)).div((0,h.newSafeBN)(1e4));A=oz(y,new m.PublicKey(a),w,new m.PublicKey(c.globalConfig),new m.PublicKey(c.platformConfig),new m.PublicKey(d),new m.PublicKey(u),new m.PublicKey(l),new m.PublicKey(c.baseVault),new m.PublicKey(c.quoteVault),new m.PublicKey(o),new m.PublicKey(o4.USD1_TOKEN_ADDRESS),new m.PublicKey(c.tokenProgram),new m.PublicKey(o4.TOKEN_PROGRAM_ADDRESS),t,e)}await ar(A.keys,d,c,o4.USD1_TOKEN_ADDRESS);let k=(0,h.newSafeBN)(10).pow((0,h.newSafeBN)(18)),T=g.toFixed(18).replace(".",""),P=(0,h.newSafeBN)(T),I=(0,h.newSafeBN)(10).pow((0,h.newSafeBN)(p)),v=r.mul(P).mul(I).mul(k),B=n.mul((0,h.newSafeBN)(1e9)).mul((0,h.newSafeBN)("1000000000000000000")),x=Number(v.div(B).toString())/Number(k.toString());return await (0,o7.buildUsdAxiomRouterInstruction)({type:e,stableCoin:"usd1",userAccountAddress:a,userWsolAccountAddress:s,userUsdAccountAddress:l,userTokenAccountAddress:u,usdPerSol:g,amountIn:t,tokenDecimals:p,priceInUsdc:x,slippage:i,steps:[{programAddress:o8,accounts:A.keys}],rewardsData:b})}let A=new m.PublicKey(o8),y=oU(A).publicKey,w=ae(n,r,c);if("buy"===e){let r=o1.buyExactIn({poolInfo:w,amountB:t,protocolFeeRate:new f.default(o9),platformFeeRate:new f.default(c.platformFee),curveType:0,shareFeeRate:new f.default(0)}).amountA,n=r.mul((0,h.newSafeBN)(1e4)).div((0,h.newSafeBN)(1e4+100*i)),l=oV(A,new m.PublicKey(a),y,new m.PublicKey(c.globalConfig),new m.PublicKey(c.platformConfig),new m.PublicKey(d),new m.PublicKey(u),new m.PublicKey(s),new m.PublicKey(c.baseVault),new m.PublicKey(c.quoteVault),new m.PublicKey(o),new m.PublicKey(o4.WSOL_TOKEN_ADDRESS),new m.PublicKey(c.tokenProgram),new m.PublicKey(o4.TOKEN_PROGRAM_ADDRESS),t,n);return await ar(l.keys,d,c,o4.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,o7.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:n,userWalletAddress:a,inputTokenAccount:s,solWrapperToken:{type:"wsol",userWrappedTokenAccount:s},steps:[{programAddress:o8,accounts:l.keys}],rewardsData:b}),expectedAmountOut:r}}{let r=o1.sellExactIn({poolInfo:w,amountA:t,protocolFeeRate:new f.default(o9),platformFeeRate:new f.default(c.platformFee),curveType:0,shareFeeRate:new f.default(0)}),n=r.amountB,l=n.mul((0,h.newSafeBN)(1e4-100*i)).div((0,h.newSafeBN)(1e4)),p=oz(A,new m.PublicKey(a),y,new m.PublicKey(c.globalConfig),new m.PublicKey(c.platformConfig),new m.PublicKey(d),new m.PublicKey(u),new m.PublicKey(s),new m.PublicKey(c.baseVault),new m.PublicKey(c.quoteVault),new m.PublicKey(o),new m.PublicKey(o4.WSOL_TOKEN_ADDRESS),new m.PublicKey(c.tokenProgram),new m.PublicKey(o4.TOKEN_PROGRAM_ADDRESS),r.amountA.lt(t)?r.amountA:t,l,new f.default(0));return await ar(p.keys,d,c,o4.WSOL_TOKEN_ADDRESS),{swapInstruction:(0,o7.buildAxiomRouterInstruction)({type:e,amountIn:t,minAmountOut:l,userWalletAddress:a,inputTokenAccount:u,solWrapperToken:{type:"wsol",userWrappedTokenAccount:s},steps:[{programAddress:o8,accounts:p.keys}],rewardsData:b}),expectedAmountOut:n}}},ai=async({type:e,amount:t,liquiditySolRaw:i,liquidityTokenRaw:r,tokenAddress:n,userTokenAccountAddress:o,protocolDetails:a,blockhash:s,wallet:u,pairAddress:l,swapSettings:c,nonceInstruction:d,providers:m,rewardsData:f,tokenDecimals:g,usdPerSol:b,liquidityToken:A})=>{let y=[],w=await (0,p.addTokenAccountInstructions)({userWalletAddress:u.publicKey,tokenAddress:n,tokenProgramAddress:a.tokenProgram,instructions:y,userTokenAccountAddress:o,wsolAmount:"buy"===e?t:(0,h.newSafeBN)(0),usd1:a.isUsd1});"buy"===e&&(t=t.sub((0,p.calculateAxiomFee)(t)));let{swapInstruction:S,expectedAmountOut:k}=await at({type:e,amount:t,slippage:c.slippage,liquiditySolRaw:i,liquidityTokenRaw:r,tokenAddress:n,userAccountAddress:u.publicKey,userTokenAccountAddress:w.userTokenAccountAddress,userSolAccountAddress:w.userWsolAccountAddress,userUsd1AccountAddress:w.userUsd1AccountAddress,protocolDetails:a,pairAddress:l,tokenDecimals:g,liquidityToken:A,usdPerSol:b,rewardsData:f});return y.push(S),a.isUsd1&&(0,p.isVanishSigner)(u)&&(0,p.addTokenAccountCloseInstruction)(u.publicKey,w.userUsd1AccountAddress,y),await (0,p.handleMassSwapTxCreation)({instructions:y,wallet:u,swapSettings:c,blockhash:s,nonceInstruction:d,providers:m,computeUnits:(0,p.calculateComputeUnits)({baseComputeUnits:2e5,isUsd1:a.isUsd1,isVanish:(0,p.isVanishSigner)(u)}),lookupTables:p.AXIOM_ADDRESS_LOOKUP_TABLES_V2,rewardsPercentage:f.userRewardsPercentage,swapInfo:{amount:t,expectedAmountOut:k,tokenDecimals:g,sourceTokenAddress:"buy"===e?o5.NATIVE_SOL_TOKEN_ADDRESS:n,targetTokenAddress:"buy"===e?n:o5.NATIVE_SOL_TOKEN_ADDRESS,loanExtraLamports:(0,p.calculateVanishLoanExtraLamports)({type:e,isWsol:!0,isUsdc:!1,isUsd1:a.isUsd1??!1,amount:t,expectedAmountOut:k,tokenDecimals:g})}})};async function ar(e,t,i,r){let[n]=m.PublicKey.findProgramAddressSync([new m.PublicKey(i.platformConfig).toBuffer(),new m.PublicKey(r).toBuffer()],new m.PublicKey(o8));i.creator||(i.creator=(await o3.axiomApi.post("/launchlab-creator",{pool:t})).creator);let[o]=m.PublicKey.findProgramAddressSync([new m.PublicKey(i.creator).toBuffer(),new m.PublicKey(r).toBuffer()],new m.PublicKey(o8));e.push({pubkey:new m.PublicKey(o4.SYSTEM_PROGRAM_ADDRESS),isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0})}e.s(["LAUNCHLAB_MIGRATE_FEE_RAW",0,"0","LAUNCHLAB_PROTOCOL_FEE_RATE",0,o9,"getLaunchLabPoolInfo",0,ae,"swapLaunchLab",0,ai],290705)},542251,e=>{"use strict";e.i(465903);var t=e.i(767924),i=e.i(447800),r=e.i(290705),n=e.i(626914),o=e.i(973444);let a="1073000000000000",s="793100000000000",u="1045000000000000",l="780000000000000";function c(e,t,i){let r=e*t;return r===BigInt(0)?BigInt(0):(i*(t-e)+r/BigInt(2))/r}e.s(["calculateBondingCurve",0,e=>{let{liquidityToken:t,liquiditySol:n,tokenDecimals:d,protocol:m,protocolDetails:p,usdPerSol:f}=e;if("Pump V1"===m)return Number(((Number(a)/10**d-t)/(Number(s)/10**d)*100).toFixed(2));if("Sugar"===m)return Number(((Number(u)/10**d-t)/(Number(l)/10**d)*100).toFixed(2));if("Moonshot"===m){if(!p||p?.helioFee)return 0;let e=p?.curveType;if(3===e)return Math.min(100,Number(((n-30)/(Number(p?.collateralCollected)/1e9)*100).toFixed(2)));if(1!==e)return 0;{let e=Number(p.amount)/10**p.decimals;return Math.min(100,Number(((e-t)/(.8*e)*100).toFixed(2)))}}if("LaunchLab"===m){let e,n;if(!p)return 0;let o=Number(p.baseSupplyRaw)/10**d,a=Number(p.baseLockedRaw)/10**d,s=Number(p.baseSellRaw)/10**d;if(p.isUsd1){let t=f||i.FALLBACK_USD_PER_SOL;e=Number(p.quoteRaiseRaw)/1e6/t,n=Number(r.LAUNCHLAB_MIGRATE_FEE_RAW)/1e6/t}else e=Number(p.quoteRaiseRaw)/1e9,n=Number(r.LAUNCHLAB_MIGRATE_FEE_RAW)/1e9;let u=(e-n)/(o-a-s);return Number(((u*s*s/(u*s-e)-t)/s*100).toFixed(2))}if("Virtual Curve"===m){if(!p)return 0;let e=p.isUsdc||p.isUsd1?6:9,i=BigInt((0,o.newSafeBN)(0xffffffffffffffff*Math.sqrt(t/10**d*10**e)).toString());return Math.min(100,Number((Number(function(e,t,i){let r=BigInt(0);for(let n=0;n<i.length;n++){let o=0===n?e:BigInt(i[n-1].sqrt_price);if(BigInt(i[n].sqrt_price)>t){r+=c(o,t,BigInt(i[n].liquidity));break}r+=c(o,BigInt(i[n].sqrt_price),BigInt(i[n].liquidity))}return r}(BigInt(p.sqrt_start_price),BigInt(i),p.curve))/Number(p.swap_base_amount)*100).toFixed(2)))}else return"Boop"===m?Math.min(100,Number(((n-30)/86*100).toFixed(2))):"Heaven"!==m?0:Math.min(99.99,Number((n/t*1e9*(f??i.FALLBACK_USD_PER_SOL)/1e5*100).toFixed(2)))},"calculateMigrationPrice",0,e=>{let{tokenDecimals:i,protocol:o,protocolDetails:c,ammConstant:d,usdPerSol:m}=e;if("Pump V1"===o||"Sugar"===o){let e="Sugar"===o?u:a,t="Sugar"===o?l:s,r=Number(e)/10**i-Number(t)/10**i;return(d??0)/r/r}if("Moonshot"===o){if(!c||c?.helioFee)return 0;let e=c?.curveType;if(1===e){let e=Number(c.amount)/10**c.decimals*.19999999999999996;return(0,n.default)({protocol:o,liquidityToken:e,liquidityNative:(d??0)/e,protocolDetails:c})}if(3===e){let e=Number(c?.collateralCollected)/1e9;return(0,n.default)({protocol:o,liquidityToken:-1,liquidityNative:e+30,protocolDetails:c})}}else if("LaunchLab"===o){let e,t=Number(c.baseSupplyRaw)/10**i,n=Number(c.baseLockedRaw)/10**i,o=Number(c.baseSellRaw)/10**i;return c.isUsd1?((e=Number(c.quoteRaiseRaw)/1e6)-Number(r.LAUNCHLAB_MIGRATE_FEE_RAW)/1e6)/(t-n-o)/m:((e=Number(c.quoteRaiseRaw)/1e9)-Number(r.LAUNCHLAB_MIGRATE_FEE_RAW)/1e9)/(t-n-o)}else if("Virtual Curve"===o){if(!c)return 0;let e=BigInt(2)**BigInt(64),t=Number(c.migration_sqrt_price)/Number(e),r=c.isUsdc||c.isUsd1?m:1,n=c.isUsdc||c.isUsd1?6:9;return t*t/(10**(i-n)*r)}else if("Boop"===o)return(0,n.default)({protocol:o,liquidityToken:(d??0)/116,liquidityNative:116,protocolDetails:c});else if(o===t.PROTOCOL_HEAVEN)return c?.migrated?0:1e5/m/1e9;return 0}])},256709,582273,737620,431826,e=>{"use strict";function t(){let e=[];return{enqueue(t){e.push(t)},drain(){let t=e;return e=[],t},clear(){e.length=0},length:()=>e.length}}e.s(["createQueue",()=>t],256709);var i=e.i(639372);let r=()=>{let e,t;return{promise:new Promise((i,r)=>{e=i,t=r}),resolve:e,reject:t}};e.s(["createAtomPromise",0,(e=null)=>{let t=(0,i.atom)(e),n=(0,i.atom)(r());return{atom:(0,i.atom)(e=>e(t),(e,i,r)=>{let o=e(t),a="function"==typeof r?r(o):r;i(t,a),null!=a&&e(n).resolve(a)}),promiseAtom:(0,i.atom)(e=>{let i=e(t);return null!=i?Promise.resolve(i):e(n).promise}),promiseStateAtom:n}},"createPromiseState",0,r],582273);var n=e.i(672464),o=e.i(271645);let a=(0,i.atom)(!1),s=(0,i.atom)(null),u=(0,i.atom)({}),l=(0,i.atom)(!1),c=(0,i.atom)(!1),d=(0,i.atom)(!1),m=(0,i.atom)(null),p=(0,i.atom)(!1),f=(0,i.atom)(""),h=(0,i.atom)(!1);e.s(["funderAddressSearchAtom",0,m,"initializedHolderDataAtom",0,l,"initializedTopTradersAtom",0,c,"isTrackedHolderDataLoadedAtom",0,d,"isTrackedWalletsSelectedAtom",0,a,"loadingTransactionsAtom",0,h,"makerAddressAtom",0,f,"pairChartLastBarAtom",0,u,"pauseTransactionsFeedAtom",0,p,"selectedBarAtom",0,s,"useSelectBarCallback",0,()=>{let e=(0,n.useSetAtom)(s),t=(0,n.useSetAtom)(a);return(0,o.useCallback)(i=>{i?(e({startTime:1e3*i.startTime,endTime:1e3*i.endTime}),t(!1)):e(null)},[e,t])}],737620);let g=(0,i.atom)(!1),b=(0,i.atom)("");e.s(["isScannerOpenAtom",0,g,"scannerWalletAddressAtom",0,b],431826)},800473,569692,392335,e=>{"use strict";var t=e.i(639372),i=e.i(741124),r=e.i(265172),n=e.i(758219);let o=(0,t.atom)(!1),a=(0,t.atom)(null),s=(0,t.atom)(null),u=(0,t.atom)(e=>{let t=e(s);return t?.userId??null}),l=(0,t.atom)(null),c=(0,t.atom)(null),d=(0,t.atom)(new Map),m=(0,t.atom)(new Map),p=(0,t.atom)(new Map),f=(0,t.atom)(new Map),h=(0,t.atom)(new Map),g=(0,t.atom)(new Map),b=(0,t.atom)(new Map),A=(0,t.atom)(!1),y=(0,t.atom)(null),w=(0,r.atomWithStorage)("showFriendBanners",!1,void 0,{getOnInit:!0}),S=(0,r.atomWithStorage)("sharedPnlStyle","User",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),k=(0,r.atomWithStorage)("lobbyPnlTextColor","#EAEDFF",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),T=(0,r.atomWithStorage)("lobbyPnlPositiveColor","#2FE3AC",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),P=(0,r.atomWithStorage)("lobbyPnlNegativeColor","#EC397A",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),I=(0,r.atomWithStorage)("lobbyPnlShowRectangle",!0,(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),v=(0,r.atomWithStorage)("lobbyPnlRectangleTextColor","#020307",(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),B=(0,r.atomWithStorage)("lobbyPnlUseBoldFont",!1,(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0}),x=(0,r.atomWithStorage)("lobbyPnlUseTextShadows",!0,(0,n.safeSSRNoSyncStorage)(),{getOnInit:!0});e.s(["SHARED_PNL_STYLES",0,["User","Chart","MVP","Podium"],"SHARED_PNL_STYLES_ICONS",0,{User:"ri-user-star-line",Chart:"ri-stock-line",MVP:"ri-trophy-line",Podium:"ri-bar-chart-horizontal-line"},"addFriendModalInitialTabAtom",0,y,"addFriendModalOpenAtom",0,A,"blockedFriendListAtom",0,f,"friendListAtom",0,d,"friendListInitializedAtom",0,o,"friendProfileDataAtom",0,a,"incomingFriendListAtom",0,m,"lobbyPnlNegativeColorAtom",0,P,"lobbyPnlPositiveColorAtom",0,T,"lobbyPnlRectangleTextColorAtom",0,v,"lobbyPnlShowRectangleAtom",0,I,"lobbyPnlTextColorAtom",0,k,"lobbyPnlUseBoldFontAtom",0,B,"lobbyPnlUseTextShadowsAtom",0,x,"relationshipToFriendAtom",0,h,"sentFriendListAtom",0,p,"sharedPnlStyleAtom",0,S,"sharedPresetsAtom",0,l,"sharedThemeAtom",0,c,"showFriendBannersAtom",0,w,"userIdToDataAtom",0,b,"userProfileAtom",0,s,"userProfileIdAtom",0,u,"usernameToDataAtom",0,g],569692);let E=(0,t.atom)(null),R=(0,t.atom)(new Map),N=(0,t.atom)(new Map),K=(0,t.atom)(new Map),M=(0,t.atom)(new Map),W=(0,t.atom)(null),F=(0,t.atom)(!1),O=(0,t.atom)([]),D=(0,r.atomWithStorage)("sharedSolWallets",null),C=(0,r.atomWithStorage)("sharedBnbWallets",null),L=(0,t.atom)(e=>{let t=e(D),i=e(C);return t&&i?new Set([...t,...i]):null}),q=(0,t.atom)(!1);e.s(["followedLobbyUserAtom",0,W,"followerIdsAtom",0,O,"friendLobbyDataAtom",0,M,"isLobbyPositionsDropdownOpenAtom",0,q,"lobbyInvitesAtom",0,N,"lobbyRequestsAtom",0,K,"lobbyUserMapAtom",0,R,"myLobbyInfoAtom",0,E,"pauseFollowedLobbyUserAtom",0,F,"sharedBnbWalletsAtom",0,C,"sharedSolWalletsAtom",0,D,"sharedWalletsAtom",0,L],392335);let U=(0,t.atom)(new Map),_=(0,t.atom)(new Map),G=(0,t.atom)(e=>{let t=e(U),i=e(_),r=new Map;for(let[e,i]of t.entries())r.set(e,i);for(let[e,t]of i.entries())r.set(e,t);return r}),V=(0,t.atom)(new Map),z=(0,t.atom)(new Map),X=(0,t.atom)(e=>"sol"===e(i.currentChainAtom)?e(V):e(z)),j=(0,t.atom)([]),H=(0,t.atom)(new Map),Q=(0,t.atom)(new Map),Z=(0,t.atom)(e=>{let t=e(d),i=e(R),r=new Map;for(let[e,i]of t.entries())"meme"===i.currentPage&&i.currentChain&&i.currentSubpage&&"pairAddress"in i.currentSubpage&&r.set(i.currentSubpage.pairAddress,{chain:i.currentChain,pairAddress:i.currentSubpage.pairAddress});for(let[e,t]of i.entries())"meme"===t.currentPage&&t.currentChain&&t.currentSubpage&&"pairAddress"in t.currentSubpage&&r.set(t.currentSubpage.pairAddress,{chain:t.currentChain,pairAddress:t.currentSubpage.pairAddress});return r}),Y=(0,t.atom)(new Map);e.s(["alertPriceByPairAtom",0,(e,t)=>(0,r.selectAtom)(H,i=>i.get(e)?.get(t)??{price:0,ATH:0},(e,t)=>e.price===t.price&&e.ATH===t.ATH),"alertsMigratedAtom",0,Q,"friendLastActivityPairPriceAtom",0,Y,"isTokenMigratedAtom",0,(e,t,i)=>(0,r.selectAtom)(Q,r=>r.get(e)??{isMigrated:t,pairAddress:i},(e,t)=>e.isMigrated===t.isMigrated&&e.pairAddress===t.pairAddress),"lastActivityPairPriceAtom",0,(e,t)=>(0,r.selectAtom)(Y,i=>e?i.get(e)??t:t,(e,t)=>e===t),"lobbyAlertsAtom",0,j,"lobbyAlertsCurrentPriceAtom",0,H,"lobbyTransactionsAtom",0,X,"lobbyTransactionsAtomBnb",0,z,"lobbyTransactionsAtomSol",0,V,"lobbyWalletsAtomBnb",0,_,"lobbyWalletsAtomSol",0,U,"lobbyWalletsChainAgnosticAtom",0,G,"userLastActivityPairsAtom",0,Z],800473)},877710,860655,645612,e=>{"use strict";e.s(["accountUpdatesQueueBnb",()=>eb,"allWatchedTraderTransactionsAtomBnb",()=>eP,"chartTransactionsQueueBnb",()=>ew,"devFundingAtomBnb",()=>ee,"devTokensDataAtomBnb",()=>eB,"fastTransactionsQueueBnb",()=>ey,"graphPriceBnbTriggerAtom",()=>eE,"kolTransactionsAtomBnb",()=>el,"lastTransactionAtomBnb",()=>ei,"memePositionsAtomBnb",()=>es,"memePositionsQueueBnb",()=>eA,"memeWarningModalAtomBnb",()=>eK,"oneMinuteStatsAtomBnb",()=>en,"pairAtomBnb",()=>Y,"pairPromiseAtomBnb",()=>J,"panelPriceBnbTriggerAtom",()=>ex,"socialBubblesAtomBnb",()=>eu,"supplementalDataAtomBnb",()=>et,"tokenAnalysisAtomBnb",()=>eR,"tokenInfoAtomBnb",()=>eo,"topTradersAtomBnb",()=>ea,"trackedTransactionsAtomBnb",()=>eI,"trackedWalletDisplayMapAtomBnb",()=>eM,"traderTransactionsMapBnb",()=>eT,"traderTxCountFamilyBnb",()=>em,"traderWalletFundingFamilyBnb",()=>ep,"transactionsFeedAtomBnb",()=>er,"useCleanupPairAtomsBnb",()=>eN,"useSetTraderTxCountBnb",()=>eh,"useSetTraderWalletFundingBnb",()=>eg,"userPairTransactionsAtomBnb",()=>ev,"watchedTradersAtomBnb",()=>eS,"watchedTradersTransactionsAtomBnb",()=>ek],877710);var t=e.i(639372),i=e.i(672464),r=e.i(265172),n=e.i(750214),o=e.i(271645),a=e.i(667710),s=e.i(256709),u=e.i(582273);e.i(318383);var l=e.i(104686),c=e.i(737620),d=e.i(431826),m=e.i(800473);e.s(["filteredHolderDataAtomSol",()=>z,"fundingDataByWalletBnb",()=>Z,"fundingDataByWalletSol",()=>Q,"holderDataAtomBnb",()=>U,"holderDataAtomSol",()=>L,"holderDataChainAwareAtom",()=>G,"trackedHolderDataAtomBnb",()=>_,"trackedHolderDataAtomSol",()=>q],645612);var p=e.i(758219);let f=(0,r.atomWithStorage)("activeTab","positions",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,r.atomWithStorage)("activeMobileTab","trade",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0});let h=(0,r.atomWithStorage)("showOnlyActiveOrders",!1,(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),g=(0,r.atomWithStorage)("showOnlyCurrentTokenOrders",!1,(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),b=(0,r.atomWithStorage)("pairStatsTimeFrame","5m",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),A=(0,r.atomWithStorage)("tableHeight",640,(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),y=(0,r.atomWithStorage)("transactionsFeedDirection","DESC",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),w=(0,r.atomWithStorage)("amountType","percentage",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),S=(0,r.atomWithStorage)("filterMinAmount","",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),k=(0,r.atomWithStorage)("filterMaxAmount","",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),T=(0,r.atomWithStorage)("filterAmountCurrency","usd",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,r.atomWithStorage)("didUserChooseTradesPosition","",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0});let P=(0,r.atomWithStorage)("tradesPanelPosition","bottom",(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),I=(0,r.atomWithStorage)("onlyTrackedWallets",!1,(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),v=(0,r.atomWithStorage)("showFilterMakerInTransactionsPanel",!1,(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0}),B=(0,r.atomWithStorage)("tokenInfoExpanded",!0),x=(0,r.atomWithStorage)("isTradingPanelOrdersCollapsed",!1,(0,p.safeSSRNoSyncStorage)()),E=(0,r.atomWithStorage)("isSidebarOpen",!0,(0,p.safeSSRNoSyncStorage)()),R=(0,r.atomWithStorage)("showBagsInfo",!0,(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0});(0,r.atomWithStorage)("devAnalysisExpanded",!0,(0,p.safeSSRNoSyncStorage)());let N=(0,r.atomWithStorage)("similarTokensExpanded",!0,(0,p.safeSSRNoSyncStorage)()),K=(0,r.atomWithStorage)("similarTokensType","MC",(0,p.safeSSRNoSyncStorage)()),M=(0,r.atomWithStorage)("reusedImageTokensExpanded",!1,(0,p.safeSSRNoSyncStorage)()),W=(0,r.atomWithStorage)("instantTradeModalOpen",!1,(0,p.safeSSRNoSyncStorage)()),F=(0,r.atomWithStorage)("instantTradeModalPosition",{x:window.innerWidth/2-174,y:window.innerHeight/2-136},(0,p.safeSSRNoSyncStorage)()),O=(0,r.atomWithStorage)("instantTradeModalSize",{width:348,height:264},(0,p.safeSSRNoSyncStorage)(),{getOnInit:!0});e.s(["activeTabAtom",0,f,"amountTypeAtom",0,w,"filterAmountCurrencyAtom",0,T,"filterMaxAmountAtom",0,k,"filterMinAmountAtom",0,S,"instantTradeModalOpenAtom",0,W,"instantTradeModalPositionAtom",0,F,"instantTradeModalSizeAtom",0,O,"isSidebarOpenAtom",0,E,"isTradingPanelOrdersCollapsedAtom",0,x,"onlyTrackedWalletsAtom",0,I,"pairStatsTimeFrameAtom",0,b,"reusedImageTokensExpandedAtom",0,M,"showBagsInfoAtom",0,R,"showFilterMakerInTransactionsPanelAtom",0,v,"showOnlyActiveOrdersAtom",0,h,"showOnlyCurrentTokenOrdersAtom",0,g,"similarTokensExpandedAtom",0,N,"similarTokensTypeAtom",0,K,"tableHeightAtom",0,A,"tokenInfoExpandedAtom",0,B,"tradesPanelPositionAtom",0,P,"transactionsFeedDirectionAtom",0,y],860655);var D=e.i(741124),C=e.i(564012);let L=(0,t.atom)(null),q=(0,t.atom)(null),U=(0,t.atom)(null),_=(0,t.atom)(null),G=(0,t.atom)(e=>{let t=e(D.currentChainAtom);switch(t){case"sol":return e(L);case"bnb":return e(U);default:(0,C.assertUnreachable)(t)}},(e,t,i)=>{let r=e(D.currentChainAtom);switch(r){case"sol":t(L,i);break;case"bnb":t(U,i);break;default:(0,C.assertUnreachable)(r)}});(0,t.atom)(e=>{let t=e(D.currentChainAtom);switch(t){case"sol":return e(q);case"bnb":return e(_);default:(0,C.assertUnreachable)(t)}},(e,t,i)=>{let r=e(D.currentChainAtom);switch(r){case"sol":t(q,i);break;case"bnb":t(_,i);break;default:(0,C.assertUnreachable)(r)}});let V="39azUYFWPz3VHgKCf3VChUwbpURdCHRxjWVowf5jUJjg",z=(0,t.atom)(e=>{let t=e(I),i=e(c.funderAddressSearchAtom),r=e(t?q:L);return null==r?null:r.filter(e=>e.walletAddress!==V&&(!i||e.walletFunding?.fundingWalletAddress===i))});(0,t.atom)(e=>{let t=e(I),i=e(c.funderAddressSearchAtom),r=e(t?_:U);return null==r?null:r.filter(e=>!i||e.walletFunding?.fundingWalletAddress===i)});let X=(0,t.atom)(e=>{let t=e(I),i=e(c.funderAddressSearchAtom),r=e(L),n=e(q),o=((t?n:r)??[]).filter(e=>e.walletAddress!==V&&(!i||e.walletFunding?.fundingWalletAddress===i)),a=new Map;for(let e of o){if(!e.walletFunding)continue;let t=e.walletFunding.fundingWalletAddress,i=e.walletFunding.amountSol??0;if(a.has(t)){let e=a.get(t);e&&(e.walletCount+=1,e.amountSol+=i)}else a.set(t,{walletCount:1,amountSol:i})}return a}),j=(0,t.atom)(e=>{let t=e(I),i=e(c.funderAddressSearchAtom),r=e(U),n=e(_),o=((t?n:r)??[]).filter(e=>!i||e.walletFunding?.fundingWalletAddress===i),a=new Map;for(let e of o){if(!e.walletFunding)continue;let t=e.walletFunding.fundingWalletAddress,i=e.walletFunding.amountNative??0;if(a.has(t)){let e=a.get(t);e&&(e.walletCount+=1,e.amountSol+=i)}else a.set(t,{walletCount:1,amountSol:i})}return a}),H=(e,t)=>e===t||null!==e&&null!==t&&e.walletCount===t.walletCount&&e.amountSol===t.amountSol,Q=e=>(0,r.selectAtom)(X,t=>e?t.get(e)??null:null,H),Z=e=>(0,r.selectAtom)(j,t=>e?t.get(e)??null:null,H),{atom:Y,promiseAtom:J,promiseStateAtom:$}=(0,u.createAtomPromise)(),ee=(0,t.atom)(null),et=(0,t.atom)(null),ei=(0,t.atom)(null),er=(0,t.atom)(null),en=(0,t.atom)(null),eo=(0,t.atom)(null),ea=(0,t.atom)(null),es=(0,t.atom)(null),eu=(0,t.atom)(null),el=(0,t.atom)(null),ec=(0,r.atomFamily)(()=>(0,t.atom)(null)),ed=(0,r.atomFamily)(()=>(0,t.atom)(null)),em=(0,r.atomFamily)(e=>(0,t.atom)(t=>t(ec(e)))),ep=(0,r.atomFamily)(e=>(0,t.atom)(t=>t(ed(e)))),ef=(0,t.atom)(new Set),eh=()=>{let e=(0,i.useSetAtom)(ef);return(0,n.useAtomCallback)((0,o.useCallback)((t,i,r,n)=>{i(ec(r),n),e(e=>{if(e.has(r))return e;let t=new Set(e);return t.add(r),t})},[e]))},eg=()=>{let e=(0,i.useSetAtom)(ef);return(0,n.useAtomCallback)((0,o.useCallback)((t,i,r,n)=>{i(ed(r),n),e(e=>{if(e.has(r))return e;let t=new Set(e);return t.add(r),t})},[e]))},eb=(0,s.createQueue)(),eA=(0,s.createQueue)(),ey=(0,s.createQueue)(),ew=(0,s.createQueue)(),eS=(0,t.atom)(new Map),ek=(0,t.atom)([]),eT=new Map,eP=(0,t.atom)([]),eI=(0,t.atom)([]),ev=(0,t.atom)([]),eB=(0,t.atom)(null),ex=(0,t.atom)(null),eE=(0,t.atom)(null),eR=(0,t.atom)(null),eN=()=>{let e=(0,i.useSetAtom)(et),t=(0,i.useSetAtom)(Y),r=(0,i.useSetAtom)($),a=(0,i.useSetAtom)(eo),s=(0,i.useSetAtom)(ea),p=(0,i.useSetAtom)(ei),f=(0,i.useSetAtom)(er),h=(0,i.useSetAtom)(ek),g=(0,i.useSetAtom)(eP),b=(0,i.useSetAtom)(ev),A=(0,i.useSetAtom)(eu),y=(0,i.useSetAtom)(el),w=(0,i.useSetAtom)(es),S=(0,i.useSetAtom)(U),k=(0,i.useSetAtom)(c.loadingTransactionsAtom),T=(0,i.useSetAtom)(c.makerAddressAtom),P=(0,i.useSetAtom)(ex),I=(0,i.useSetAtom)(eE),v=(0,i.useSetAtom)(en),B=(0,i.useSetAtom)(l.pairDeployerAddressAtom),x=(0,i.useSetAtom)(d.isScannerOpenAtom),E=(0,i.useSetAtom)(d.scannerWalletAddressAtom),R=(0,i.useSetAtom)(c.pairChartLastBarAtom),N=(0,i.useSetAtom)(eB),K=(0,i.useSetAtom)(eS),M=(0,i.useSetAtom)(c.pauseTransactionsFeedAtom),W=(0,i.useSetAtom)(eR),F=(0,i.useSetAtom)(l.devMigrationCountAtom),O=(0,i.useSetAtom)(_),D=(0,i.useSetAtom)(c.isTrackedHolderDataLoadedAtom),C=(0,i.useSetAtom)(ee),L=(0,i.useSetAtom)(c.initializedHolderDataAtom),q=(0,i.useSetAtom)(c.initializedTopTradersAtom),G=(0,i.useSetAtom)(c.funderAddressSearchAtom),V=(0,i.useSetAtom)(eK),z=(0,n.useAtomCallback)((0,o.useCallback)(e=>e(ef),[])),X=(0,i.useSetAtom)(ef),j=(0,i.useSetAtom)(eI),H=(0,i.useSetAtom)(m.lobbyTransactionsAtomBnb);return(0,o.useCallback)(()=>{for(let i of(t(null),r((0,u.createPromiseState)()),e(null),p(null),f(null),a(null),s(null),eb.clear(),eA.clear(),ey.clear(),ew.clear(),h([]),g([]),j([]),b([]),A(null),y(null),w(null),S(null),O(null),k(!1),T(""),P(null),I(null),v(null),B(null),x(!1),E(""),R({}),D(!1),L(!1),q(!1),G(null),V({isOpen:!1,warnings:[],onProceed:null}),z().keys()))ec.remove(i),ed.remove(i);X(new Set),eT.clear(),N(null),K(new Map),M(!1),W(null),F(null),C(null),H(new Map)},[z,C,F,N,I,S,x,p,k,T,w,v,t,R,B,r,P,M,E,W,a,s,f,b,K,h,g,e,O,D,L,q,G,X,A,y,V,j])},eK=(0,t.atom)({isOpen:!1,warnings:[],onProceed:null}),eM=(0,t.atom)(e=>{let t=e(a.trackedWalletsAtomBnb),i=new Map;for(let e of t){let t=e.emoji?`${e.emoji} ${e.name||e.trackedWalletAddress}`:e.name||e.trackedWalletAddress;i.set(e.trackedWalletAddress,t)}return i})},104686,110059,782080,125250,e=>{"use strict";e.s(["devFundingChainAwareAtom",()=>a,"devMigrationCountAtom",()=>l,"pairDeployerAddressAtom",()=>u,"tokenAnalysisChainAwareAtom",()=>s],104686);var t=e.i(639372),i=e.i(741124),r=e.i(564012),n=e.i(877710),o=e.i(472660);let a=(0,t.atom)(e=>{let t=e(i.currentChainAtom);switch(t){case"sol":return e(o.devFundingAtomSol);case"bnb":return e(n.devFundingAtomBnb);default:(0,r.assertUnreachable)(t)}},(e,t,a)=>{let s=e(i.currentChainAtom);switch(s){case"sol":t(o.devFundingAtomSol,a);break;case"bnb":t(n.devFundingAtomBnb,a);break;default:(0,r.assertUnreachable)(s)}}),s=(0,t.atom)(e=>{let t=e(i.currentChainAtom);switch(t){case"sol":return e(o.tokenAnalysisAtomSol);case"bnb":return e(n.tokenAnalysisAtomBnb);default:(0,r.assertUnreachable)(t)}},(e,t,a)=>{let s=e(i.currentChainAtom);switch(s){case"sol":t(o.tokenAnalysisAtomSol,a);break;case"bnb":t(n.tokenAnalysisAtomBnb,a);break;default:(0,r.assertUnreachable)(s)}}),u=(0,t.atom)(null),l=(0,t.atom)(null);e.s(["devTokensDataChainAwareAtom",()=>c],110059);let c=(0,t.atom)(e=>{let t=e(i.currentChainAtom);switch(t){case"sol":return e(o.devTokensDataAtomSol);case"bnb":return e(n.devTokensDataAtomBnb);default:(0,r.assertUnreachable)(t)}},(e,t,a)=>{let s=e(i.currentChainAtom);switch(s){case"sol":t(o.devTokensDataAtomSol,a);break;case"bnb":t(n.devTokensDataAtomBnb,a);break;default:(0,r.assertUnreachable)(s)}});e.s(["topTradersChainAwareAtom",()=>m,"topTradersFundingDataByWallet",()=>h],782080);var d=e.i(265172);let m=(0,t.atom)(e=>{let t=e(i.currentChainAtom);switch(t){case"sol":return e(o.topTradersAtomSol);case"bnb":return e(n.topTradersAtomBnb);default:(0,r.assertUnreachable)(t)}},(e,t,a)=>{let s=e(i.currentChainAtom);switch(s){case"sol":t(o.topTradersAtomSol,a);break;case"bnb":t(n.topTradersAtomBnb,a);break;default:(0,r.assertUnreachable)(s)}}),p=(0,t.atom)(e=>{let t=e(m),i=new Map;for(let e of t||[]){if(!e.walletFunding)continue;let t=e.walletFunding.fundingWalletAddress,r="amountSol"in e.walletFunding?e.walletFunding.amountSol:e.walletFunding.amountNative;if(i.has(t)){let e=i.get(t);e&&(e.walletCount+=1,e.amountSol+=r)}else i.set(t,{walletCount:1,amountSol:r})}return i}),f=(e,t)=>e===t||null!==e&&null!==t&&e.walletCount===t.walletCount&&e.amountSol===t.amountSol,h=e=>(0,d.selectAtom)(p,t=>e?t.get(e)??null:null,f);e.s(["trackedWalletDisplayMapChainAwareAtom",()=>g],125250);let g=(0,t.atom)(e=>{let t=e(i.currentChainAtom);switch(t){case"sol":return e(o.trackedWalletDisplayMapAtomSol);case"bnb":return e(n.trackedWalletDisplayMapAtomBnb);default:(0,r.assertUnreachable)(t)}})},994293,e=>{"use strict";e.s(["currentMarketCapAtomSol",()=>P,"currentPriceAtomSol",()=>T,"lastTransactionLoadedAtomSol",()=>c,"pairBondingCurveCompleteAtomSol",()=>k,"pairDevAddressAtomSol",()=>g,"pairExtraAtomSol",()=>y,"pairIsLaunchpadAtomSol",()=>w,"pairLoadedAtomSol",()=>l,"pairProtocolAtomSol",()=>A,"pairProtocolDetailsAtomSol",()=>b,"pairSupplyAsNumberAtomSol",()=>h,"pairTokenAddressAtomSol",()=>d,"pairTokenBalanceAtomSol",()=>v,"pairTokenDecimalsAtomSol",()=>f,"pairTokenImageAtomSol",()=>p,"pairTokenTickerAtomSol",()=>m,"pairTotalTokenBalanceAtomSol",()=>B,"pairWithUpdatedLiquidityAtomSol",()=>I]);var t=e.i(639372),i=e.i(233324),r=e.i(542251),n=e.i(472660),o=e.i(43351),a=e.i(626914),s=e.i(767924);e.i(255730);var u=e.i(754825);let l=(0,t.atom)(e=>null!==e(n.pairAtomSol)),c=(0,t.atom)(e=>null!==e(n.lastTransactionAtomSol));(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.pairAddress??""});let d=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.tokenAddress??""}),m=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.tokenTicker??""}),p=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.tokenImage??""}),f=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.tokenDecimals??0});(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.supply??0});let h=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return"string"==typeof t?.supply?Number.parseFloat(t.supply):t?.supply??0}),g=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return(0,i.getDevAddress)(t)}),b=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.protocolDetails??null}),A=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.protocol??""}),y=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return t?.extra??null}),w=(0,t.atom)(e=>{let t=e(n.pairAtomSol);return s.LAUNCHPAD_PROTOCOLS.includes(t?.protocol??"")}),S=(0,t.atom)(e=>{let t=e(n.pairAtomSol),i=e(n.lastTransactionAtomSol),a=e(o.usdPerSolAtom);return i&&t?(0,r.calculateBondingCurve)({liquidityToken:i.liquidityToken,liquiditySol:i.liquiditySol,tokenDecimals:t.tokenDecimals,protocol:t.protocol??"",protocolDetails:t.protocolDetails,usdPerSol:a}):0}),k=(0,t.atom)(e=>100===e(S)),T=(0,t.atom)(e=>{let t=e(n.pairAtomSol),i=e(n.lastTransactionAtomSol),r=e(o.usdPerSolAtom);return i&&t?(0,a.default)({protocol:t.protocol??"",liquidityNative:i.liquiditySol,liquidityToken:i.liquidityToken,protocolDetails:t.protocolDetails,usdPerNative:r}):null}),P=(0,t.atom)(e=>{let t=e(T),i=e(h),r=e(o.usdPerSolAtom);return t&&i&&r?t*i*r:null}),I=(0,t.atom)(e=>{let t=e(n.pairAtomSol),i=e(n.lastTransactionAtomSol);return i&&t?{...t,liquiditySol:i.liquiditySol,liquidityToken:i.liquidityToken}:null}),v=(0,t.atom)(e=>{let t=e(n.pairAtomSol);if(!t)return 0;let i=new Set(e(u.selectedSolWalletsAtom)),r=e(u.monitoredSolWalletsAtom).filter(e=>i.has(e.publicKey)),o=e(u.tokenAccountsAtom);return r.reduce((e,i)=>e+(0,u.findTokenBalance)(o,i.publicKey,t.tokenAddress,t.tokenDecimals),0)}),B=(0,t.atom)(e=>{let t=e(n.pairAtomSol);if(!t)return 0;let i=e(u.tokenAccountsAtom);return e(u.monitoredSolWalletsAtom).reduce((e,r)=>e+(0,u.findTokenBalance)(i,r.publicKey,t.tokenAddress,t.tokenDecimals),0)})},887106,e=>{"use strict";var t=e.i(828073),i=e.i(375116);function r({protocol:e,liquidityToken:r}){return("Fourmeme V2"===e||"Binance"===e)&&r&&"0"!==r?Math.max(0,Math.min(100,Number((0,t.default)(100).minus((0,t.default)(r).minus(i.FOURMEME_T0).plus(i.FOURMEME_SALE_AMOUNT).div(i.FOURMEME_SALE_AMOUNT).times(100).toFixed(2))))):0}e.s(["default",()=>r])},318383,205733,609187,790936,66687,366652,586646,369238,141401,710842,e=>{"use strict";e.s([],318383),e.i(104686),e.i(110059),e.i(782080),e.i(125250),e.i(645612);var t,i,r,n,o,a,s=e.i(737620);e.s(["isPairLoadedChainAwareAtom",()=>F,"lastTransactionChainAwareAtom",()=>W,"lastTransactionLoadedChainAwareAtom",()=>O,"pairAndLastTransactionChainAwareAtom",()=>D,"pairChainAwareAtom",()=>M,"refinePairAndLastTransactionBnb",()=>C,"refinePairAndLastTransactionSol",()=>L,"supplementalDataChainAwareAtom",()=>q],609187);var u=e.i(639372),l=e.i(741124),c=e.i(564012),d=e.i(877710),m=e.i(472660),p=e.i(994293);e.s(["lastTransactionLoadedAtomBnb",()=>A,"pairBondingCurveCompleteAtomBnb",()=>E,"pairDevAddressAtomBnb",()=>P,"pairExtraAtomBnb",()=>B,"pairLoadedAtomBnb",()=>b,"pairProtocolAtomBnb",()=>v,"pairProtocolDetailsAtomBnb",()=>I,"pairSupplyAtomBnb",()=>T,"pairTokenAddressAtomBnb",()=>y,"pairTokenBalanceAtomBnb",()=>N,"pairTokenDecimalsAtomBnb",()=>k,"pairTokenImageAtomBnb",()=>S,"pairTokenTickerAtomBnb",()=>w,"pairTotalTokenBalanceAtomBnb",()=>K,"pairWithUpdatedLiquidityAtomBnb",()=>R],205733);var f=e.i(233324),h=e.i(887106);e.i(255730);var g=e.i(885438);let b=(0,u.atom)(e=>null!==e(d.pairAtomBnb)),A=(0,u.atom)(e=>null!==e(d.lastTransactionAtomBnb));(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.pairAddress??""});let y=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.tokenAddress??""}),w=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.tokenTicker??""}),S=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.tokenImage??""}),k=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.decimals??0}),T=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return Number(t?.supply??"0")}),P=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return(0,f.getDevAddress)(t)}),I=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.protocolDetails??null}),v=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.protocol??""}),B=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.extra??null});(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.token0??""}),(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.token1??""}),(0,u.atom)(e=>{let t=e(d.pairAtomBnb);return t?.fee??0});let x=(0,u.atom)(e=>{let t=e(d.pairAtomBnb),i=e(d.lastTransactionAtomBnb);return i&&t?(0,h.default)({liquidityToken:Number(i.liquidityToken),protocol:t.protocol??""}):0}),E=(0,u.atom)(e=>100===e(x)),R=(0,u.atom)(e=>{let t=e(d.pairAtomBnb),i=e(d.lastTransactionAtomBnb);return i&&t?{...t,liquidityBnb:i.liquidityBnb,liquidityToken:i.liquidityToken}:null}),N=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);if(!t)return 0;let i=new Set(e(g.selectedEvmWalletsAtom)),r=e(g.monitoredEvmWalletsAtom).filter(e=>i.has(e.publicKey)),n=e(g.evmTokenAccountsAtom);return r.reduce((e,i)=>e+(0,g.findEvmTokenBalance)(n,i.publicKey,t.tokenAddress,t.decimals),0)}),K=(0,u.atom)(e=>{let t=e(d.pairAtomBnb);if(!t)return 0;let i=e(g.evmTokenAccountsAtom);return e(g.monitoredEvmWalletsAtom).reduce((e,r)=>e+(0,g.findEvmTokenBalance)(i,r.publicKey,t.tokenAddress,t.decimals),0)}),M=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.pairAtomSol);case"bnb":return e(d.pairAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom),n=e(M),o="function"==typeof i?i(n):i;switch(r){case"sol":t(m.pairAtomSol,o);break;case"bnb":t(d.pairAtomBnb,o);break;default:(0,c.assertUnreachable)(r)}}),W=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.lastTransactionAtomSol);case"bnb":return e(d.lastTransactionAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.lastTransactionAtomSol,i);break;case"bnb":t(d.lastTransactionAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}}),F=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(p.pairLoadedAtomSol);case"bnb":return e(b);default:(0,c.assertUnreachable)(t)}}),O=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(p.lastTransactionLoadedAtomSol);case"bnb":return e(A);default:(0,c.assertUnreachable)(t)}}),D=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return{pair:e(m.pairAtomSol),lastTransaction:e(m.lastTransactionAtomSol)};case"bnb":return{pair:e(d.pairAtomBnb),lastTransaction:e(d.lastTransactionAtomBnb)};default:(0,c.assertUnreachable)(t)}});function C(e){return!!(e.lastTransaction&&"liquidityBnb"in e.lastTransaction)}function L(e){return!!(e.lastTransaction&&"liquiditySol"in e.lastTransaction)}let q=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.supplementalDataAtomSol);case"bnb":return e(d.supplementalDataAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.supplementalDataAtomSol,i);break;case"bnb":t(d.supplementalDataAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}});(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.memePositionsAtomSol);case"bnb":return e(d.memePositionsAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.memePositionsAtomSol,i);break;case"bnb":t(d.memePositionsAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}}),e.i(431826),e.s(["kolTransactionsChainAwareAtom",()=>_,"socialBubblesChainAwareAtom",()=>U],790936);let U=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.socialBubblesAtomSol);case"bnb":return e(d.socialBubblesAtomBnb);default:(0,c.assertUnreachable)(t)}}),_=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.kolTransactionsAtomSol);case"bnb":return e(d.kolTransactionsAtomBnb);default:(0,c.assertUnreachable)(t)}});e.s(["oneMinuteStatsChainAwareAtom",()=>G],66687),(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.panelPriceTriggerAtomSol);case"bnb":return e(d.panelPriceBnbTriggerAtom);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.panelPriceTriggerAtomSol,i);break;case"bnb":t(d.panelPriceBnbTriggerAtom,i);break;default:(0,c.assertUnreachable)(r)}}),(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.graphPriceTriggerAtomSol);case"bnb":return e(d.graphPriceBnbTriggerAtom);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.graphPriceTriggerAtomSol,i);break;case"bnb":t(d.graphPriceBnbTriggerAtom,i);break;default:(0,c.assertUnreachable)(r)}});let G=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.oneMinuteStatsAtomSol);case"bnb":return e(d.oneMinuteStatsAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.oneMinuteStatsAtomSol,i);break;case"bnb":t(d.oneMinuteStatsAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}});e.s(["bundlersHoldColorAtom",()=>et,"bundlersHoldPercentAtom",()=>ee,"devHoldsColorAtom",()=>Q,"devHoldsPercentAtom",()=>H,"dexPaidAtom",()=>ea,"dexPaidColorAtom",()=>es,"dexPaidTimeAtom",()=>eu,"hasTokenInfoAtom",()=>ed,"insidersHoldColorAtom",()=>$,"insidersHoldPercentAtom",()=>J,"isBagsPairAtom",()=>ep,"lpBurnedColorAtom",()=>er,"lpBurnedPercentAtom",()=>ei,"numBotUsersAtom",()=>eo,"numHoldersAtom",()=>en,"pairAddressAtom",()=>ec,"shouldShowWarningAtom",()=>em,"snipersHoldColorAtom",()=>Y,"snipersHoldPercentAtom",()=>Z,"tokenAddressAtom",()=>el,"tokenInfoChainAwareAtom",()=>z,"top10HoldersColorAtom",()=>j,"top10HoldersPercentAtom",()=>X],366652);var V=e.i(759694);let z=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.tokenInfoAtomSol);case"bnb":return e(d.tokenInfoAtomBnb);default:(0,c.assertUnreachable)(t)}}),X=(0,u.atom)(e=>{let t=e(z);return Math.round((t?.top10HoldersPercent??0)*100)/100}),j=(0,u.atom)(e=>{let t=e(z);return(t?.top10HoldersPercent??0)<15?"text-primaryGreen":"text-primaryRed"}),H=(0,u.atom)(e=>{let t=e(z);return Math.round((t?.devHoldsPercent??0)*100)/100}),Q=(0,u.atom)(e=>{let t=e(z);return(t?.devHoldsPercent??0)<25?"text-primaryGreen":"text-primaryRed"}),Z=(0,u.atom)(e=>{let t=e(z);return Math.round((t?.snipersHoldPercent??0)*100)/100}),Y=(0,u.atom)(e=>{let t=e(z);return(t?.snipersHoldPercent??0)<5?"text-primaryGreen":"text-primaryRed"}),J=(0,u.atom)(e=>{let t=e(z);return Math.round((t?.insidersHoldPercent??0)*100)/100}),$=(0,u.atom)(e=>{let t=e(z);return(t?.insidersHoldPercent??0)<5?"text-primaryGreen":"text-primaryRed"}),ee=(0,u.atom)(e=>{let t=e(z);return Math.round((t?.bundlersHoldPercent??0)*100)/100}),et=(0,u.atom)(e=>{let t=e(z);return(t?.bundlersHoldPercent??0)<10?"text-primaryGreen":"text-primaryRed"}),ei=(0,u.atom)(e=>{let t=e(M);return t?.lpBurned===void 0||t?.lpBurned===null?null:Math.round(100*("string"==typeof t.lpBurned?parseFloat(t.lpBurned):t.lpBurned))/100}),er=(0,u.atom)(e=>{let t=e(M);return t?.lpBurned===void 0||t?.lpBurned===null?"text-primaryRed":("string"==typeof t.lpBurned?parseFloat(t.lpBurned):t.lpBurned)>95?"text-primaryGreen":"text-primaryRed"}),en=(0,u.atom)(e=>{let t=e(z);return t?.numHolders??0}),eo=(0,u.atom)(e=>{let t=e(z);return t?.numBotUsers??0}),ea=(0,u.atom)(e=>{let t=e(z);return t?.dexPaid??!1}),es=(0,u.atom)(e=>e(ea)?"text-primaryGreen":"text-primaryRed"),eu=(0,u.atom)(e=>{if("sol"===e(l.currentChainAtom)){let t=e(m.tokenInfoAtomSol);return t?.dexPaidTime??null}return null}),el=(0,u.atom)(e=>{let t=e(M);return t?.tokenAddress??null}),ec=(0,u.atom)(e=>{let t=e(M);return t?.pairAddress??null}),ed=(0,u.atom)(e=>null!=e(z)),em=(0,u.atom)(e=>{let t=e(M),i=new Date("2025-01-10"),r=t&&("createdAt"in t?t.createdAt:t.pairCreatedAt);return!!(r&&new Date(r)<i)}),ep=(0,u.atom)(e=>{let t=e(M);return!!t&&(0,V.isBags)(t.protocol,t.extra,t.protocolDetails)});e.s(["isTransactionsFiltersOpenAtom",()=>eI,"isTransactionsLoadingAtom",()=>eT,"isTransactionsMarketCapAtom",()=>ev,"isTransactionsPausedAtom",()=>eB,"nativeTokenSymbolAtom",()=>eP,"transactionsFeedChainAwareAtom",()=>ey,"transactionsToRenderChainAwareAtom",()=>eS,"transactionsToRenderSizeAtom",()=>ek,"userPairTransactionsChainAwareAtom",()=>eA],369238),(t={})[t.TRADER_ADDRESS=0]="TRADER_ADDRESS",t[t.TRANSACTION_COUNT=1]="TRANSACTION_COUNT",t[t.FUNDED_AT=2]="FUNDED_AT",t[t.FUNDED_BNB=3]="FUNDED_BNB",(i={})[i.NOT_INSIDER=1]="NOT_INSIDER",i[i.NOT_INSIDER_BUT_WAS_INSIDER=2]="NOT_INSIDER_BUT_WAS_INSIDER",i[i.INSIDER=3]="INSIDER",i[i.INSIDER_BUT_WAS_NON_INSIDER=4]="INSIDER_BUT_WAS_NON_INSIDER",(r={})[r.NOT_BUNDLED=1]="NOT_BUNDLED",r[r.NOT_BUNDLED_BUT_WAS_BUNDLED=2]="NOT_BUNDLED_BUT_WAS_BUNDLED",r[r.BUNDLED=3]="BUNDLED",r[r.BUNDLED_BUT_WAS_NON_BUNDLED=4]="BUNDLED_BUT_WAS_NON_BUNDLED";var ef=((n={})[n.NOT_PRO_USER=0]="NOT_PRO_USER",n[n.PRO_USER=1]="PRO_USER",n);(o={})[o.OLD_TRADER=0]="OLD_TRADER",o[o.NEW_TRADER=1]="NEW_TRADER";var eh=((a={})[a.TRADER_ADDRESS=0]="TRADER_ADDRESS",a[a.CURRENT_BALANCE_RAW=1]="CURRENT_BALANCE_RAW",a[a.DELTA_BALANCE_RAW=2]="DELTA_BALANCE_RAW",a[a.PRO_USER_STATUS=3]="PRO_USER_STATUS",a[a.CREATED_BLOCK=4]="CREATED_BLOCK",a[a.WEI_BALANCE=5]="WEI_BALANCE",a[a.CURRENT_BLOCK=6]="CURRENT_BLOCK",a);let eg=e=>({signature:e.signature,txHash:e.txHash,logIndex:e.log_index,blockNumber:e.block_number,pairAddress:e.pair_address,makerAddress:e.maker_address,type:e.type,totalBnb:e.total_bnb,totalUsd:e.total_usd,totalQuote:e.total_quote,tokenAmount:e.tokenAmount||e.token_amount,liquidityBnb:e.liquidity_bnb,liquidityUsd:e.liquidity_usd,liquidityQuote:e.liquidity_quote,liquidityToken:e.liquidity_token,priceBnb:e.price_bnb,priceUsd:e.price_usd,finalizedAt:new Date(e.created_at)});e.s(["AccountUpdateIndex",()=>eh,"ProUserStatus",()=>ef,"convertWebsocketTransactionBnbToTransactionBnb",0,eg],586646);var eb=e.i(860655);(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.trackedTransactionsAtomSol);case"bnb":return e(d.trackedTransactionsAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.trackedTransactionsAtomSol,i);break;case"bnb":t(d.trackedTransactionsAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}});let eA=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return[...e(m.userPairTransactionsAtomSol),...e(m.vanishTransactionsAtomSol)];case"bnb":return e(d.userPairTransactionsAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.userPairTransactionsAtomSol,i);break;case"bnb":t(d.userPairTransactionsAtomBnb,i.map(eg));break;default:(0,c.assertUnreachable)(r)}}),ey=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.transactionsFeedWithVanishAtomSol);case"bnb":return e(d.transactionsFeedAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.transactionsFeedAtomSol,i);break;case"bnb":t(d.transactionsFeedAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}}),ew=(0,u.atom)(e=>{let t=e(l.currentChainAtom),i=e(eb.transactionsFeedDirectionAtom);return"sol"===t?e(m.allWatchedTraderTransactionsAtomSol).filter(e=>"Dev"!==e.trader.name&&"You"!==e.trader.name).map(t=>{let i=t.transaction,r=e((0,m.traderTxCountFamilySol)(i.makerAddress));return{...i,txnCount:r??null}}).sort((e,t)=>{let r=e.createdAt.getTime(),n=t.createdAt.getTime();return"ASC"===i?r-n:n-r}):e(d.allWatchedTraderTransactionsAtomBnb).filter(e=>"Dev"!==e.trader.name&&"You"!==e.trader.name).map(t=>{let i=t.transaction,r=e((0,d.traderTxCountFamilyBnb)(i.makerAddress));return{...i,txnCount:r??null}}).sort((e,t)=>{let r=e.finalizedAt.getTime(),n=t.finalizedAt.getTime();return"ASC"===i?r-n:n-r})}),eS=(0,u.atom)(e=>e(s.isTrackedWalletsSelectedAtom)?e(ew):e(ey)),ek=(0,u.atom)(e=>{let t=e(eS);return t?.length??0}),eT=(0,u.atom)(e=>{let t=e(s.loadingTransactionsAtom),i=e(F),r=e(ey);return t||!i||!r}),eP=(0,u.atom)(e=>"sol"===e(l.currentChainAtom)?"SOL":"BNB"),eI=(0,u.atom)(!1),ev=(0,u.atom)(!0),eB=(0,u.atom)(!1);e.s(["memeWarningModalChainAwareAtom",()=>ex],141401);let ex=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.memeWarningModalAtomSol);case"bnb":return e(d.memeWarningModalAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.memeWarningModalAtomSol,i);break;case"bnb":t(d.memeWarningModalAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}});e.s(["watchedTradersTransactionsChainAwareAtom",()=>eE],710842),(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.watchedTradersAtomSol);case"bnb":return e(d.watchedTradersAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.watchedTradersAtomSol,i);break;case"bnb":t(d.watchedTradersAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}});let eE=(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.watchedTradersTransactionsAtomSol);case"bnb":return e(d.watchedTradersTransactionsAtomBnb);default:(0,c.assertUnreachable)(t)}},(e,t,i)=>{let r=e(l.currentChainAtom);switch(r){case"sol":t(m.watchedTradersTransactionsAtomSol,i);break;case"bnb":t(d.watchedTradersTransactionsAtomBnb,i);break;default:(0,c.assertUnreachable)(r)}});(0,u.atom)(e=>{let t=e(l.currentChainAtom);switch(t){case"sol":return e(m.allWatchedTraderTransactionsAtomSol);case"bnb":return e(d.allWatchedTraderTransactionsAtomBnb);default:(0,c.assertUnreachable)(t)}})},472660,e=>{"use strict";e.s(["accountUpdatesQueueSol",()=>M,"allWatchedTraderTransactionsAtomSol",()=>U,"chartTransactionsQueueSol",()=>D,"devFundingAtomSol",()=>h,"devTokensDataAtomSol",()=>H,"fastTransactionsQueueSol",()=>O,"graphPriceTriggerAtomSol",()=>Z,"kolTransactionsAtomSol",()=>I,"lastTransactionAtomSol",()=>b,"memePositionsAtomSol",()=>k,"memePositionsQueueSol",()=>W,"memeWarningModalAtomSol",()=>$,"oneMinuteStatsAtomSol",()=>y,"pairAtomSol",()=>f,"panelPriceTriggerAtomSol",()=>Q,"socialBubblesAtomSol",()=>P,"supplementalDataAtomSol",()=>g,"tokenAnalysisAtomSol",()=>Y,"tokenInfoAtomSol",()=>w,"topTradersAtomSol",()=>S,"trackedTransactionsAtomSol",()=>_,"trackedWalletDisplayMapAtomSol",()=>ee,"traderTransactionsMapSol",()=>q,"traderTxCountFamilySol",()=>x,"traderWalletFundingFamilySol",()=>E,"transactionsFeedAtomSol",()=>A,"transactionsFeedWithVanishAtomSol",()=>X,"transactionsQueueSol",()=>F,"useCleanupPairAtomsSol",()=>J,"useSetTraderTxCountSol",()=>N,"useSetTraderWalletFundingSol",()=>K,"userPairTransactionsAtomSol",()=>G,"userPairTransactionsWithVanishAtomSol",()=>j,"vanishPositionsAtomSol",()=>T,"vanishTransactionSignaturesAtomSol",()=>V,"vanishTransactionsAtomSol",()=>z,"watchedTradersAtomSol",()=>C,"watchedTradersTransactionsAtomSol",()=>L]);var t=e.i(639372),i=e.i(672464),r=e.i(265172),n=e.i(750214),o=e.i(271645),a=e.i(667710),s=e.i(256709);e.i(318383);var u=e.i(104686),l=e.i(737620),c=e.i(431826),d=e.i(645612),m=e.i(682382),p=e.i(800473);let f=(0,t.atom)(null),h=(0,t.atom)(null),g=(0,t.atom)(null),b=(0,t.atom)(null),A=(0,t.atom)(null),y=(0,t.atom)(null),w=(0,t.atom)(null),S=(0,t.atom)(null),k=(0,t.atom)(null),T=(0,t.atom)(null),P=(0,t.atom)(null),I=(0,t.atom)(null),v=(0,r.atomFamily)(()=>(0,t.atom)(null)),B=(0,r.atomFamily)(()=>(0,t.atom)(null)),x=(0,r.atomFamily)(e=>(0,t.atom)(t=>t(v(e)))),E=(0,r.atomFamily)(e=>(0,t.atom)(t=>t(B(e)))),R=(0,t.atom)(new Set),N=()=>{let e=(0,i.useSetAtom)(R);return(0,n.useAtomCallback)((0,o.useCallback)((t,i,r,n)=>{i(v(r),n),e(e=>{if(e.has(r))return e;let t=new Set(e);return t.add(r),t})},[e]))},K=()=>{let e=(0,i.useSetAtom)(R);return(0,n.useAtomCallback)((0,o.useCallback)((t,i,r,n)=>{i(B(r),n),e(e=>{if(e.has(r))return e;let t=new Set(e);return t.add(r),t})},[e]))},M=(0,s.createQueue)(),W=(0,s.createQueue)(),F=(0,s.createQueue)(),O=(0,s.createQueue)(),D=(0,s.createQueue)(),C=(0,t.atom)(new Map),L=(0,t.atom)([]),q=new Map,U=(0,t.atom)([]),_=(0,t.atom)([]),G=(0,t.atom)([]),V=(0,t.atom)(new Set),z=(0,t.atom)([]),X=(0,t.atom)(e=>{let t=e(A),i=e(z),r=e(l.makerAddressAtom).split(",").includes(m.VANISH_WALLET_ADDRESS);return t?0!==i.length&&r?[...t,...i.map(e=>({signature:e.signature,pairAddress:e.pair_address,type:e.type,createdAt:new Date(e.created_at),liquiditySol:e.liquidity_sol,liquidityToken:e.liquidity_token,makerAddress:m.VANISH_WALLET_ADDRESS,priceSol:e.price_sol,priceUsd:e.price_usd,tokenAmount:e.token_amount,totalSol:e.total_sol,totalUsd:e.total_usd,innerIndex:e.innerIndex??null,outerIndex:e.outerIndex??null,isProUser:!0,isInsider:!1,isSniper:!1,isBundler:e.isBundler??!1,isNewHolder:e.isNewHolder??!1,isTopHolder:!1,isDev:!1,createdSlot:0,txnCount:null}))].sort((e,t)=>{let i=new Date(e.createdAt).getTime();return new Date(t.createdAt).getTime()-i}):t:null}),j=(0,t.atom)(e=>[...e(G),...e(z)].sort((e,t)=>{let i=new Date(e.created_at).getTime();return new Date(t.created_at).getTime()-i})),H=(0,t.atom)(null),Q=(0,t.atom)(null),Z=(0,t.atom)(null),Y=(0,t.atom)(null),J=()=>{let e=(0,i.useSetAtom)(g),t=(0,i.useSetAtom)(f),r=(0,i.useSetAtom)(w),a=(0,i.useSetAtom)(S),s=(0,i.useSetAtom)(b),m=(0,i.useSetAtom)(A),T=(0,i.useSetAtom)(L),x=(0,i.useSetAtom)(G),E=(0,i.useSetAtom)(V),N=(0,i.useSetAtom)(z),K=(0,i.useSetAtom)(P),X=(0,i.useSetAtom)(I),j=(0,i.useSetAtom)(k),J=(0,i.useSetAtom)(d.holderDataAtomSol),ee=(0,i.useSetAtom)(l.loadingTransactionsAtom),et=(0,i.useSetAtom)(l.makerAddressAtom),ei=(0,i.useSetAtom)(Q),er=(0,i.useSetAtom)(Z),en=(0,i.useSetAtom)(y),eo=(0,i.useSetAtom)(u.pairDeployerAddressAtom),ea=(0,i.useSetAtom)(c.isScannerOpenAtom),es=(0,i.useSetAtom)(c.scannerWalletAddressAtom),eu=(0,i.useSetAtom)(l.pairChartLastBarAtom),el=(0,i.useSetAtom)(H),ec=(0,i.useSetAtom)(C),ed=(0,i.useSetAtom)(l.pauseTransactionsFeedAtom),em=(0,i.useSetAtom)(Y),ep=(0,i.useSetAtom)(u.devMigrationCountAtom),ef=(0,i.useSetAtom)(d.trackedHolderDataAtomSol),eh=(0,i.useSetAtom)(l.isTrackedHolderDataLoadedAtom),eg=(0,i.useSetAtom)(h),eb=(0,i.useSetAtom)(l.initializedHolderDataAtom),eA=(0,i.useSetAtom)(l.initializedTopTradersAtom),ey=(0,i.useSetAtom)(l.funderAddressSearchAtom),ew=(0,i.useSetAtom)(U),eS=(0,i.useSetAtom)($),ek=(0,n.useAtomCallback)((0,o.useCallback)(e=>e(R),[])),eT=(0,i.useSetAtom)(R),eP=(0,i.useSetAtom)(_),eI=(0,i.useSetAtom)(p.lobbyTransactionsAtomSol);return(0,o.useCallback)(()=>{for(let i of(t(null),e(null),s(null),m(null),r(null),a(null),M.clear(),W.clear(),F.clear(),O.clear(),D.clear(),T([]),ew([]),eP([]),x([]),E(new Set),N([]),K(null),X(null),j(null),J(null),ef(null),ee(!1),et(""),ei(null),er(null),en(null),eo(null),ea(!1),es(""),eu({}),eh(!1),eb(!1),eA(!1),ey(null),eS({isOpen:!1,warnings:[],onProceed:null}),eI(new Map),ek().keys()))v.remove(i),B.remove(i);eT(new Set),q.clear(),el(null),ec(new Map),ed(!1),em(null),ep(null),eg(null)},[ek,ew,eg,ep,el,er,J,ea,s,ee,et,j,en,t,eu,eo,ei,ed,es,em,r,a,m,x,ec,T,e,ef,eh,eb,eA,ey,eT,E,N,X,K,eS,eP,eI])},$=(0,t.atom)({isOpen:!1,warnings:[],onProceed:null}),ee=(0,t.atom)(e=>{let t=e(a.trackedWalletsAtomSol),i=new Map;for(let e of t){let t=e.emoji?`${e.emoji} ${e.name||e.trackedWalletAddress}`:e.name||e.trackedWalletAddress;i.set(e.trackedWalletAddress,t)}return i})}]);

//# debugId=7b7b8d73-4902-4e72-7e77-5a8c576239ab
//# sourceMappingURL=4d2494c8de0b9adf.js.map